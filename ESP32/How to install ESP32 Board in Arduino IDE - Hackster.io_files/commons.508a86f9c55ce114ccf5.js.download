(globalThis["webpackChunkHacksterIO"]=globalThis["webpackChunkHacksterIO"]||[]).push([[351],{99769:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var freezeWidth=function freezeWidth(PassedComponent){var FreezeWidth=function(_Component){_inherits(FreezeWidth,_Component);var _super=_createSuper(FreezeWidth);function FreezeWidth(props){var _this;_classCallCheck(this,FreezeWidth);_this=_super.call(this,props);_this.state={style:{}};_this._wrapper;return _this;}
_createClass(FreezeWidth,[{key:"componentDidMount",value:function componentDidMount(){if(this._wrapper){this.setState({style:{width:Math.ceil(this._wrapper.getBoundingClientRect().width)}});}}},{key:"render",value:function render(){var _this2=this;var style=this.props.hasOwnProperty(style)?Object.assign({},this.props.style,this.state.style):this.state.style;var newProps=Object.assign({},this.props,{style:style});return _react["default"].createElement("span",{ref:function ref(el){return _this2._wrapper=el;}},_react["default"].createElement(PassedComponent,newProps));}}]);return FreezeWidth;}(_react.Component);FreezeWidth.propTypes=PassedComponent.propTypes;FreezeWidth.defaultProps=PassedComponent.defaultProps;return FreezeWidth;};var _default=freezeWidth;exports["default"]=_default;}),5233:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));var _anchor=_interopRequireDefault(__webpack_require__(41159));var _icon=_interopRequireDefault(__webpack_require__(44509));var _formatAddress=_interopRequireDefault(__webpack_require__(45903));var _country=__webpack_require__(80763);var _types=__webpack_require__(88742);var _layout=_interopRequireDefault(__webpack_require__(42721));var _styles=_interopRequireDefault(__webpack_require__(53916));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
var Address=function Address(props){var address=props.address,selected=props.selected;var keys=address.extra_fields?Object.keys(address.extra_fields):[];var extraFields=keys.map(function(key){return "".concat(key.toUpperCase(),": ").concat(address.extra_fields[key]);});var formatted=(0,_formatAddress["default"])(address);var country=(0,_country.getCountry)(address);var lines=[address.full_name,address.company].concat(_toConsumableArray(formatted),[country.name,"Phone: ".concat(address.phone)],_toConsumableArray(extraFields)).filter(function(line){return line&&line.length>0;});var _getShipButton=function _getShipButton(props){return!(0,_types.isBlank)(props.shipTo)?_react["default"].createElement("div",{className:_layout["default"].marginBottom10},_react["default"].createElement(_anchor["default"],{colorStyle:"tertiary",disabled:props.redirecting,onClick:function onClick(){return props.ship(address.id);}},"Ship to this address")):null;};return _react["default"].createElement("div",{className:_styles["default"].addressContainer},_react["default"].createElement("div",{className:_styles["default"].address},selected?_react["default"].createElement("div",{className:"".concat(_typography["default"].success," ").concat(_typography["default"].bold)},_react["default"].createElement(_icon["default"],{name:"checkmark"})," Selected"):_getShipButton(props),props.selectable?_react["default"].createElement("div",{className:_layout["default"].marginBottom10},_react["default"].createElement(_anchor["default"],{colorStyle:"tertiary",disabled:props.redirecting,onClick:function onClick(){return props.selectAddress(address);}},"Use this address")):null,lines.map(function(line,idx){return _react["default"].createElement("span",{key:idx},line,_react["default"].createElement("br",null));}),address["default"]?_react["default"].createElement("small",null,_react["default"].createElement("strong",null,"Default")):_react["default"].createElement(_anchor["default"],{colorStyle:"cancel",size:"sm",onClick:function onClick(e){return props["default"](address.id);}},"Make default"),_react["default"].createElement(_anchor["default"],{colorStyle:"cancel",size:"sm",onClick:function onClick(e){return props.remove(address.id);}},"Remove"),_react["default"].createElement(_anchor["default"],{colorStyle:"cancel",size:"sm",onClick:function onClick(e){return props.edit(address);}},"Edit")));};Address.propTypes={address:_propTypes["default"].object.isRequired,"default":_propTypes["default"].func.isRequired,edit:_propTypes["default"].func.isRequired,redirecting:_propTypes["default"].bool.isRequired,remove:_propTypes["default"].func.isRequired,selectAddress:_propTypes["default"].func,selectable:_propTypes["default"].bool,selected:_propTypes["default"].bool,ship:_propTypes["default"].func.isRequired,shipTo:_propTypes["default"].object};Address.defaultProps={selectAddress:function selectAddress(){},selectable:false,selected:false,shipTo:{}};var _default=Address;exports["default"]=_default;}),84329:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactTransitionGroup=__webpack_require__(72165);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ErrorMessage=function(_Component){_inherits(ErrorMessage,_Component);var _super=_createSuper(ErrorMessage);function ErrorMessage(props){var _this;_classCallCheck(this,ErrorMessage);_this=_super.call(this,props);_this.handleDismiss=_this.handleDismiss.bind(_assertThisInitialized(_this));return _this;}
_createClass(ErrorMessage,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;if(window){this.timeout=setTimeout(function(){_this2.handleDismiss();},5000);}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(window){clearTimeout(this.timeout);}}},{key:"handleDismiss",value:function handleDismiss(){this.props.dismiss();}},{key:"render",value:function render(){var _this$props$state=this.props.state,msg=_this$props$state.msg,type=_this$props$state.type;return _react["default"].createElement(_reactTransitionGroup.CSSTransition,{classNames:"error-message",appear:true,timeout:{enter:500,exit:300}},_react["default"].createElement("div",{key:msg,className:"react-editor-error-message"},_react["default"].createElement("div",{className:type==='success'?'alert-success':'alert-danger'},_react["default"].createElement("div",{className:"error-message-body"},_react["default"].createElement("span",null,msg),_react["default"].createElement("button",{className:"error-message-close-button",onClick:this.handleDismiss},"\xD7")))));}}]);return ErrorMessage;}(_react.Component);exports["default"]=ErrorMessage;ErrorMessage.propTypes={dismiss:_propTypes["default"].func.isRequired,state:_propTypes["default"].object.isRequired};}),69110:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _superagent=_interopRequireDefault(__webpack_require__(80569));var _oauth=_interopRequireDefault(__webpack_require__(97523));var _Address=_interopRequireDefault(__webpack_require__(5233));var _anchor=_interopRequireDefault(__webpack_require__(41159));var _app=_interopRequireDefault(__webpack_require__(84826));var _Dialog=_interopRequireDefault(__webpack_require__(27408));var _Messenger=_interopRequireDefault(__webpack_require__(84329));var _styles=_interopRequireDefault(__webpack_require__(53916));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AddressBook=function(_Component){_inherits(AddressBook,_Component);var _super=_createSuper(AddressBook);function AddressBook(props){var _this;_classCallCheck(this,AddressBook);_this=_super.call(this,props);_this.addAddressToBook=_this.addAddressToBook.bind(_assertThisInitialized(_this));_this.editAddress=_this.editAddress.bind(_assertThisInitialized(_this));_this.makeDefault=_this.makeDefault.bind(_assertThisInitialized(_this));_this.shipToAddress=_this.shipToAddress.bind(_assertThisInitialized(_this));_this.removeAddress=_this.removeAddress.bind(_assertThisInitialized(_this));_this.updateAddressInBook=_this.updateAddressInBook.bind(_assertThisInitialized(_this));var sorted=props.addresses.sort(function(a,b){if(a["default"]&&!b["default"]){return-1;}else if(!a["default"]&&b["default"]){return 1;}else{return 0;}});_this.state={addresses:sorted,addressToEdit:{},messenger:{type:'',msg:''},openDialog:false,redirecting:false,showMessage:false};return _this;}
_createClass(AddressBook,[{key:"_deleteAddress",value:function _deleteAddress(id){return _oauth["default"].apiRequest(_superagent["default"].del("".concat(_oauth["default"].getApiPath(),"/private/addresses/").concat(id)),true);}},{key:"_patchAddress",value:function _patchAddress(id){return _oauth["default"].apiRequest(_superagent["default"].patch("".concat(_oauth["default"].getApiPath(),"/private/addresses/").concat(id)).send({"default":true}),true).then(function(body){return Promise.resolve(body.address);})["catch"](function(err){return Promise.reject(err);});}},{key:"_patchShippingAddress",value:function _patchShippingAddress(id){var _this$props$shipTo=this.props.shipTo,path=_this$props$shipTo.path,key=_this$props$shipTo.key;return _oauth["default"].apiRequest(_superagent["default"].patch("".concat(_oauth["default"].getApiPath()).concat(path)).send(_defineProperty({},key,{address_id:id})),true,false);}},{key:"addAddressToBook",value:function addAddressToBook(address){var updatedAddresses=this.state.addresses.concat([address]);if(this.props.updateAddresses){this.props.updateAddresses(updatedAddresses,address);}else{this.setState({addressToEdit:{},addresses:updatedAddresses,openDialog:false});}}},{key:"updateAddressInBook",value:function updateAddressInBook(address){var updatedAddresses=this.state.addresses.map(function(addr){return addr.id===address.id?address:addr;});if(this.props.updateAddresses){this.props.updateAddresses(updatedAddresses,address);}else{this.setState({addressToEdit:{},addresses:updatedAddresses,openDialog:false});}}},{key:"editAddress",value:function editAddress(address){this.setState({addressToEdit:address,openDialog:true});}},{key:"makeDefault",value:function makeDefault(id){var _this2=this;return this._patchAddress(id).then(function(updatedAddress){var updatedAddresses=_this2.state.addresses.map(function(address){if(address["default"]&&address.id!==updatedAddress.id){address["default"]=null;}else if(address.id===updatedAddress.id&&updatedAddress["default"]){address["default"]=true;}
return address;});if(_this2.props.updateAddresses)_this2.props.updateAddresses(updatedAddresses);_this2.setState({addresses:updatedAddresses});})["catch"](function(err){return console.error('Default Patch Error',err);});}},{key:"shipToAddress",value:function shipToAddress(id){var redirect=this.props.shipTo.redirect;if(redirect&&redirect.length){this.setState({redirecting:true});}
return this._patchShippingAddress(id).then(function(res){if(window)window.location=redirect;})["catch"](function(err){return console.error('Shipping Address Patch Error: ',err);});}},{key:"removeAddress",value:function removeAddress(id){var _this3=this;var confirmed=window?window.confirm('Are you sure?'):false;if(confirmed){return this._deleteAddress(id).then(function(bool){var updatedAddresses=_this3.state.addresses.filter(function(address){return address.id!==id;});if(_this3.props.updateAddresses)_this3.props.updateAddresses(updatedAddresses);_this3.setState({addresses:updatedAddresses});})["catch"](function(err){return console.error('Address Delete Error: ',err);});}}},{key:"render",value:function render(){var _this4=this;var _this$props=this.props,addressId=_this$props.addressId,selectable=_this$props.selectable,selectAddress=_this$props.selectAddress,shipTo=_this$props.shipTo,returnTo=_this$props.returnTo,urlParams=_this$props.urlParams;return _react["default"].createElement("div",null,_react["default"].createElement("div",{className:"row ".concat(_styles["default"].table)},this.state.addresses.length?this.state.addresses.map(function(address,index){return _react["default"].createElement(_Address["default"],{key:index,address:address,"default":_this4.makeDefault,edit:_this4.editAddress,selectable:selectable,selectAddress:selectAddress,selected:addressId&&addressId===address.id,ship:_this4.shipToAddress,shipTo:shipTo,redirecting:_this4.state.redirecting,remove:_this4.removeAddress});}):null,_react["default"].createElement(_Dialog["default"],{dismiss:function dismiss(){return _this4.setState({openDialog:false,addressToEdit:{}});},open:this.state.openDialog,nestedDialogLevel:0},_react["default"].createElement(_app["default"],{addAddressToBook:this.addAddressToBook,defaultAddress:this.state.addressToEdit,dismissForm:function dismissForm(){return _this4.setState({openDialog:false,addressToEdit:{}});},error:function error(msg){return _this4.setState({openDialog:false,addressToEdit:{},showMessage:true,messenger:{type:'error',msg:msg}});},hiddenFields:urlParams,updateAddressInBook:this.updateAddressInBook})),this.state.showMessage?_react["default"].createElement(_Messenger["default"],{dismiss:function dismiss(){return _this4.setState({showMessage:false,messenger:{}});},state:this.state.messenger}):null),_react["default"].createElement("div",null,_react["default"].createElement(_anchor["default"],{onClick:function onClick(e){return _this4.setState({openDialog:true});}},"Add a new address"),Object.keys(returnTo).length?_react["default"].createElement(_anchor["default"],{colorStyle:"cancel",href:returnTo.path},returnTo.text):null));}}]);return AddressBook;}(_react.Component);AddressBook.propTypes={addressId:_propTypes["default"].number,addresses:_propTypes["default"].array,returnTo:_propTypes["default"].shape({path:_propTypes["default"].string,text:_propTypes["default"].string}),selectAddress:_propTypes["default"].func,selectable:_propTypes["default"].bool,shipTo:_propTypes["default"].shape({key:_propTypes["default"].string,path:_propTypes["default"].string,redirect:_propTypes["default"].string}),updateAddresses:_propTypes["default"].oneOfType([_propTypes["default"].func,_propTypes["default"].bool]),urlParams:_propTypes["default"].object};AddressBook.defaultProps={addressId:null,addresses:[],returnTo:{},selectable:false,selectAddress:function selectAddress(){},shipTo:{},updateAddresses:false,urlParams:{}};var _default=AddressBook;exports["default"]=_default;}),66806:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _validator=__webpack_require__(48966);var _immutable=__webpack_require__(43393);var _Input=_interopRequireDefault(__webpack_require__(69690));var _PhoneInput=_interopRequireDefault(__webpack_require__(86978));var _address_form=_interopRequireDefault(__webpack_require__(40372));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Field=function(_Component){_inherits(Field,_Component);var _super=_createSuper(Field);function Field(props){var _this;_classCallCheck(this,Field);_this=_super.call(this,props);_this.validate=_this.validate.bind(_assertThisInitialized(_this));return _this;}
_createClass(Field,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.field.get('name')===this.props.field.get('name')&&prevProps.field.get('value')!==this.props.field.get('value')){var errors=this.validate();this.props.updateField(errors.uuid,'errors',errors.errors,this.props.field.get('name'));}}},{key:"_humanizeTitle",value:function _humanizeTitle(title){var stateTitle={'Australia':'State','Canada':'Province','China':'Province','Malaysia':'Province','Mexico':'State','United States':'State'};if(title==='state'&&stateTitle[this.props.field.get('country')]){return stateTitle[this.props.field.get('country')];}
var seperated=title.split('_').join(' ');return seperated.slice(0,1).toUpperCase()+seperated.slice(1);}},{key:"validate",value:function validate(){var field=this.props.field;var name=field.get('name');var value=this.props.field.get('value')||'';var errors=this.props.field.get('errors')||{};if(name==='email'){errors=this._handleEmail(value,errors);}
if(name==='phone'){errors=this._handlePhone(value,errors);}
if(field.has('limit')){errors=this._handleLimit(value,errors);}
if(field.get('isRequired')){errors=this._handleRequired(value,errors);}
errors=this._sanitize(value,errors);return{uuid:field.get('uuid'),errors:errors};}},{key:"_handleEmail",value:function _handleEmail(value,errors){if(value.length>0&&!(0,_validator.isEmail)(value.trim())){errors['email']=' Sorry, that\'s not a valid email!';}else if(errors.hasOwnProperty('email')){delete errors['email'];}
return errors;}},{key:"_handlePhone",value:function _handlePhone(value,errors){if(!/^(?=.*\d)[\d ]+$/.test(value)){errors['phone']=' Numbers only please!';}else if(errors.hasOwnProperty('phone')){delete errors['phone'];}
return errors;}},{key:"_handleLimit",value:function _handleLimit(value,errors){var limit=this.props.field.get('limit');var min=limit.get('min')||0;var max=limit.get('max');if(value.length<min){errors['min']=" Requires more than ".concat(min," characters.");}else if(errors.hasOwnProperty('min')){delete errors['min'];}
if(max&&value.length>max){errors['max']=" Requires less than ".concat(max," characters.");}else if(errors.hasOwnProperty('max')){delete errors['max'];}
return errors;}},{key:"_handleRequired",value:function _handleRequired(value,errors){if(!value.length){errors['required']=' This field is required!';}else if(errors.hasOwnProperty('required')){delete errors['required'];}
return errors;}},{key:"_sanitize",value:function _sanitize(value,errors){if(/[<>]/.test(value)){errors['sanitize']=' Contains illegal characters!';}else if(errors.hasOwnProperty('sanitize')){delete errors['sanitize'];}
return errors;}},{key:"_buildErrorMsg",value:function _buildErrorMsg(errors){var keys=Object.keys(errors);return keys.reduce(function(acc,key){acc+=errors[key];return acc;},'');}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,country=_this$props.country,countryCodes=_this$props.countryCodes,field=_this$props.field;var title=field.has('label')?field.get('label'):this._humanizeTitle(field.get('name'));var errorMsg=field.has('errors')&&Object.keys(field.get('errors')).length?this._buildErrorMsg(field.get('errors')):'';return _react["default"].createElement("div",{className:"".concat(_address_form["default"].addressField," form-group ").concat(errorMsg.length?'has-error':'')},_react["default"].createElement("div",{className:_address_form["default"].labelContainer},_react["default"].createElement("label",{htmlFor:field.get('uuid')},field.get('isRequired')?_react["default"].createElement("abbr",{style:{marginRight:5},title:"required"},"*"):null,field.get('type')!=='checkbox'?title:'')),_react["default"].createElement("div",{className:_address_form["default"].inputContainer},field.get('type')==='checkbox'&&field.has('inputValue')?_react["default"].createElement("label",{htmlFor:field.get('uuid')},_react["default"].createElement(_Input["default"],{id:field.get('uuid'),country:country,onChange:function onChange(e){return _this2.props.updateField(field.get('uuid'),'value',e.target.value,field.get('name'));},name:field.get('name'),type:field.get('type'),value:field.get('value')}),_react["default"].createElement("span",{style:{marginLeft:10}},field.get('inputValue'))):field.get('name')==='phone'?_react["default"].createElement(_PhoneInput["default"],{id:field.get('uuid'),countryCode:field.get('countryCode'),countryCodes:countryCodes,name:field.get('name'),onChange:function onChange(e){return _this2.props.updateField(field.get('uuid'),'value',e.target.value,field.get('name'));},setCountryCode:function setCountryCode(code){return _this2.props.updateField(field.get('uuid'),'countryCode',code,field.get('name'));},value:field.get('value')}):_react["default"].createElement(_Input["default"],{id:field.get('uuid'),country:country,fetchAddresses:this.props.fetchAddresses,name:field.get('name'),onChange:function onChange(e){return _this2.props.updateField(field.get('uuid'),'value',e.target.value,field.get('name'));},options:field.has('options')?field.get('options').toJS():[],resetOptions:function resetOptions(){return _this2.props.updateField(field.get('uuid','options',(0,_immutable.List)(),field.get('name')));},setSelection:this.props.setSelection,type:field.get('type'),value:field.get('value')}),errorMsg.length?_react["default"].createElement("span",{className:_address_form["default"].reactFormFieldError},errorMsg):null,field.has('help')&&!errorMsg.length?_react["default"].createElement("span",{className:"help-block"},field.get('help')):null));}}]);return Field;}(_react.Component);Field.propTypes={country:_propTypes["default"].string.isRequired,fetchAddresses:_propTypes["default"].func.isRequired,field:_propTypes["default"].object.isRequired,setSelection:_propTypes["default"].func.isRequired,updateField:_propTypes["default"].func.isRequired};var _default=Field;exports["default"]=_default;}),69690:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _Menu=_interopRequireDefault(__webpack_require__(65709));var _address_form=_interopRequireDefault(__webpack_require__(40372));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Input=function(_Component){_inherits(Input,_Component);var _super=_createSuper(Input);function Input(props){var _this;_classCallCheck(this,Input);_this=_super.call(this,props);_this.handleInputKeyDown=_this.handleInputKeyDown.bind(_assertThisInitialized(_this));_this.handleOptionSelect=_this.handleOptionSelect.bind(_assertThisInitialized(_this));_this.delayedBlur=_this.delayedBlur.bind(_assertThisInitialized(_this));_this.state={searchable:false};return _this;}
_createClass(Input,[{key:"componentWillUnmount",value:function componentWillUnmount(){if(window&&this._delayedBlur){clearTimeout(this._delayedBlur);}}},{key:"handleInputKeyDown",value:function handleInputKeyDown(e){}},{key:"handleOptionSelect",value:function handleOptionSelect(option){}},{key:"delayedBlur",value:function delayedBlur(){var _this2=this;if(this.props.type==='searchable'&&this.state.searchable){this._delayedBlur=setTimeout(function(){_this2.setState({searchable:false});},100);}}},{key:"render",value:function render(){if(this.props.type==='searchable'){return this._composeSearchableSelect();}
return this.props.type==='select'?this._composeSelect():this._composeInput();}},{key:"_composeInput",value:function _composeInput(){var _this3=this;var _this$props=this.props,id=_this$props.id,name=_this$props.name,onChange=_this$props.onChange,type=_this$props.type,value=_this$props.value;return _react["default"].createElement("input",{id:id,className:type==='text'||type==='searchable'?'form-control':'',name:name,onChange:onChange,onKeyDown:this.handleInputKeyDown,ref:function ref(el){return _this3.input=el;},type:type,value:value});}},{key:"_composeSelect",value:function _composeSelect(){var _this4=this;var _this$props2=this.props,id=_this$props2.id,name=_this$props2.name,onChange=_this$props2.onChange,options=_this$props2.options,value=_this$props2.value;return _react["default"].createElement("select",{className:"form-control",id:id,name:name,onChange:onChange,ref:function ref(el){return _this4.input=el;},value:value},_react["default"].createElement("option",{value:""}),options.map(function(opt,index){return _react["default"].createElement("option",{key:index,value:typeof opt==='string'?opt:opt.name},typeof opt==='string'?opt:opt.name);}));}},{key:"_composeSearchableSelect",value:function _composeSearchableSelect(){var _this5=this;var _this$props3=this.props,id=_this$props3.id,name=_this$props3.name,onChange=_this$props3.onChange,options=_this$props3.options,type=_this$props3.type,value=_this$props3.value;return _react["default"].createElement("div",null,_react["default"].createElement("input",{className:options.length&&this.state.searchable?"form-control ".concat(_address_form["default"].inputMenuOpen):'form-control',id:id,name:name,onBlur:this.delayedBlur,onChange:onChange,onKeyDown:this.handleInputKeyDown,ref:function ref(el){return _this5.input=el;},type:type,value:value}),options.length&&this.state.searchable?_react["default"].createElement(_Menu["default"],{ref:function ref(el){return _this5.menu=el;},onClick:this.handleOptionSelect,options:options,input:this.input}):null);}},{key:"_composeOption",value:function _composeOption(option){return _react["default"].createElement("span",null,option.value);}}]);return Input;}(_react.Component);Input.propTypes={country:_propTypes["default"].string.isRequired,fetchAddresses:_propTypes["default"].func,id:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func.isRequired,options:_propTypes["default"].array,resetOptions:_propTypes["default"].func,setSelection:_propTypes["default"].func,type:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].string.isRequired,_propTypes["default"].bool.isRequired])};Input.defaultProps={fetchAddresses:function fetchAddresses(){},options:[],resetOptions:function resetOptions(){},setSelection:function setSelection(){},type:'text',value:''};var _default=Input;exports["default"]=_default;}),65709:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _address_form=_interopRequireDefault(__webpack_require__(40372));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Menu=function(_Component){_inherits(Menu,_Component);var _super=_createSuper(Menu);function Menu(props){var _this;_classCallCheck(this,Menu);_this=_super.call(this,props);_this.focusNext=_this._focusNext.bind(_assertThisInitialized(_this));_this.focusPrev=_this._focusPrev.bind(_assertThisInitialized(_this));_this.getOption=_this._getOption.bind(_assertThisInitialized(_this));_this.state={focused:0,hovered:false};return _this;}
_createClass(Menu,[{key:"_focusNext",value:function _focusNext(){var focused=this.state.focused;this.setState({focused:focused===this.props.options.length-1?focused:focused+1});}},{key:"_focusPrev",value:function _focusPrev(){var focused=this.state.focused;this.setState({focused:focused===0?focused:focused-1});}},{key:"_getOption",value:function _getOption(){return this.props.options[this.state.focused];}},{key:"render",value:function render(){var _this2=this;return _react["default"].createElement("div",{className:_address_form["default"].reactFormMenu,style:{width:this.props.input.offsetWidth}},this.props.options.map(function(option,index){return _react["default"].createElement("span",{key:index,className:_address_form["default"].reactFormOption,style:{backgroundColor:_this2.state.focused===index||_this2.state.hovered===index?'lightgrey':'white'},onClick:function onClick(){return _this2.props.onClick(option);},onMouseOver:function onMouseOver(){return _this2.setState({hovered:index});},onMouseLeave:function onMouseLeave(){return _this2.setState({hovered:false});}},option.children?_react["default"].Children.toArray(option.children):option.text);}));}}]);return Menu;}(_react.Component);Menu.propTypes={input:_propTypes["default"].object.isRequired,onClick:_propTypes["default"].func.isRequired,options:_propTypes["default"].array.isRequired};var _default=Menu;exports["default"]=_default;}),86978:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));var _address_form=_interopRequireDefault(__webpack_require__(40372));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var PhoneInput=function PhoneInput(props){var countryCode=props.countryCode,countryCodes=props.countryCodes,id=props.id,name=props.name,onChange=props.onChange,setCountryCode=props.setCountryCode,value=props.value;return _react["default"].createElement("span",{className:_address_form["default"].addressFormPhoneWrapper},countryCodes.length>1?_react["default"].createElement("select",{className:_address_form["default"].callingCode,onChange:function onChange(e){return setCountryCode(e.target.value);},type:"select"},countryCodes.map(function(code,index){return _react["default"].createElement("option",{key:index,value:code},code);})):_react["default"].createElement("span",{className:_address_form["default"].callingCode},countryCode),_react["default"].createElement("input",{id:id,className:"form-control ".concat(_address_form["default"].phoneInput),name:name,onChange:onChange,type:"text",value:value}));};PhoneInput.propTypes={countryCode:_propTypes["default"].string.isRequired,countryCodes:_propTypes["default"].array.isRequired,id:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func.isRequired,setCountryCode:_propTypes["default"].func.isRequired,value:_propTypes["default"].string.isRequired};PhoneInput.defaultProps={countryCode:''};var _default=PhoneInput;exports["default"]=_default;}),84826:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _immutable=__webpack_require__(43393);var _countryData=__webpack_require__(3023);var _superagent=_interopRequireDefault(__webpack_require__(80569));var _oauth=_interopRequireDefault(__webpack_require__(97523));var _generateRandomKey=_interopRequireDefault(__webpack_require__(89950));var _generateDefaultFields=_interopRequireDefault(__webpack_require__(57126));var _composeAddressFromAddress=_interopRequireDefault(__webpack_require__(95193));var _composeAddressFromFields=_interopRequireDefault(__webpack_require__(93171));var _buildAddressFromFields=_interopRequireDefault(__webpack_require__(70781));var _smartStreets=__webpack_require__(65909);var _country=__webpack_require__(80763);var _Countries=__webpack_require__(72224);var _Field=_interopRequireDefault(__webpack_require__(66806));var _Dialog=_interopRequireDefault(__webpack_require__(27408));var _address_form=_interopRequireDefault(__webpack_require__(40372));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _typography=_interopRequireDefault(__webpack_require__(68163));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var SMARTY_STREET_AUTH_ID="auth-id=".concat({"ALGOLIA_PLACES_APP_ID":"plZ09KG466NO","ALGOLIA_PLACES_API_KEY":"ef2fc9c578c4dc2099196acb774f01ae","MAPBOX_API_KEY":"pk.eyJ1IjoiaGFja3N0ZXJpbyIsImEiOiJjbDJ1dHhzOXkwNWhwM2RrNjVpbmFhbmE2In0.62anh05T9ONQ0MXk1RYSKA","SMARTY_STREET_WEBSITE_KEY":"15000391262539876","STRIPE_PUBLIC_KEY":"pk_live_2th69SGowWOr2R6GNfhrpxGJ"}.SMARTY_STREET_WEBSITE_KEY);var US_ADDRESS_API='https://api.smartystreets.com/street-address?'+SMARTY_STREET_AUTH_ID;var INTL_API='https://international-street.api.smartystreets.com/verify?'+SMARTY_STREET_AUTH_ID;var STATES_MAP={'Australia':_Countries.Australia,'Canada':_Countries.Canada,'China':_Countries.China,'Mexico':_Countries.Mexico,'United States':_Countries.States};var AddressForm=function(_Component){_inherits(AddressForm,_Component);var _super=_createSuper(AddressForm);function AddressForm(props){var _this;_classCallCheck(this,AddressForm);_this=_super.call(this,props);_this.fetchAddresses=_this.fetchAddresses.bind(_assertThisInitialized(_this));_this.handleSelection=_this.handleSelection.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.updateField=_this.updateField.bind(_assertThisInitialized(_this));_this._fields=[];var hasDefaultAddress=Object.keys(props.defaultAddress).length;var countryObj=hasDefaultAddress?(0,_country.getCountry)(props.defaultAddress):{countryCallingCodes:[],name:''};_this.state={addressToVerify:{primary:{},secondary:{},verified:null},country:countryObj.name,countryCodes:countryObj.countryCallingCodes,fields:hasDefaultAddress?(0,_immutable.fromJS)((0,_composeAddressFromAddress["default"])(props.defaultAddress,STATES_MAP)):props.fields.length?(0,_immutable.fromJS)((0,_composeAddressFromFields["default"])(props.fields)):(0,_immutable.fromJS)((0,_composeAddressFromFields["default"])((0,_generateDefaultFields["default"])())),openDialog:false,submitting:false};return _this;}
_createClass(AddressForm,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._fields=[];}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.state.country!==prevState.country){this._handleCountrySpecificInputs(prevState.country,this.state.country);}}},{key:"_getCurrentCountry",value:function _getCurrentCountry(){var country=this.state.fields.find(function(field){return field.get('name')==='country';});return(0,_country.getCountry)(country.get('value'));}},{key:"_handleCountrySpecificInputs",value:function _handleCountrySpecificInputs(prev,curr){var map={'Brazil':{extra_field:true,isRequired:true,name:'cpf',uuid:(0,_generateRandomKey["default"])(),value:''}};if(!map[prev]&&!map[curr])return;this.setState({fields:map[prev]&&!map[curr]?this.state.fields.filter(function(field){return field.get('name')!==map[prev].name;}):map[prev]&&map[curr]?this.state.fields.filter(function(field){return field.get('name')!==map[prev].name;}).reduce(function(acc,field){return field.get('name')==='zip'?acc.concat([field,(0,_immutable.fromJS)(map[curr])]):acc.push(field);},(0,_immutable.List)()):this.state.fields.reduce(function(acc,field){return field.get('name')==='zip'?acc.concat([field,(0,_immutable.fromJS)(map[curr])]):acc.push(field);},(0,_immutable.List)())});}},{key:"updateField",value:function updateField(uuid,key,value,name){if(key!=='errors'&&name==='country'){var countryObj=_countryData.lookup.countries({name:value})[0];this.setState({country:value,countryCodes:countryObj&&countryObj.countryCallingCodes&&countryObj.countryCallingCodes.length?countryObj.countryCallingCodes:[],fields:this._updateStateField(value).map(function(field){if(field.get('name')==='phone'&&countryObj&&countryObj.countryCallingCodes&&countryObj.countryCallingCodes.length){return field.set('countryCode',countryObj.countryCallingCodes[0]);}
return field.get('uuid')===uuid?field.set(key,value):field;})});}else{this.setState({fields:this.state.fields.map(function(field){return field.get('uuid')===uuid?field.set(key,value):field;})});}}},{key:"_updateStateField",value:function _updateStateField(country){var fields=this.state.fields;var currentCountry=fields.find(function(field){return field.get('name')==='country';});if(country===currentCountry.get('value'))return fields;var state=fields.find(function(field){return field.get('name')==='state';});if(state.has('country')&&state.get('country')===country)return fields;return STATES_MAP[country]?fields.map(function(field){if(field.get('name')==='state'){return field.merge({type:'select','options':(0,_immutable.fromJS)(STATES_MAP[country]),value:'',country:country,isRequired:true});}
return field;}):fields.map(function(field){if(field.get('name')==='state'){return(0,_immutable.Map)({name:'state',value:'',country:country,isRequired:false,uuid:(0,_generateRandomKey["default"])()});}
return field;});}},{key:"fetchAddresses",value:function fetchAddresses(val,uuid,name){}},{key:"_parseAutocomplete",value:function _parseAutocomplete(hits){}},{key:"handleSelection",value:function handleSelection(option){}},{key:"_fetchZipCode",value:function _fetchZipCode(_ref){var address_line1=_ref.address_line1,city=_ref.city,country=_ref.country,state=_ref.state;return country.alpha3&&country.alpha3==='USA'?new Promise(function(resolve,reject){(0,_superagent["default"])("".concat(US_ADDRESS_API,"&street=").concat(address_line1,"&city=").concat(city,"&state=").concat(state)).end(function(err,res){err?reject(err):resolve(res.body);});}):Promise.resolve([]);}},{key:"handleSubmit",value:function handleSubmit(e){var _this2=this;e.preventDefault();var currentFields=this.state.fields;var errors=this._fields.filter(function(field){return field!==null;}).reduce(function(acc,field){var err=field.validate();if(Object.keys(err.errors).length)acc.count+=1;acc[err.uuid]=err.errors;return acc;},{count:0});if(errors.count>0){this.setState({fields:currentFields.map(function(field){return field.set('errors',errors[field.get('uuid')]);})});return;}
var country=this._getCurrentCountry();return this._verifyAddress(country).then(function(verification){var verified=(0,_smartStreets.getBestSmartyMatch)(verification);if(verified&&country.alpha3==='USA'){_this2._handleUSAddress(verified);}else if(verified&&verified.components&&verified.components.country_iso_3!=='USA'){_this2._handleINTLAddress(verified);}else{_this2.setState({openDialog:true,addressToVerify:{primary:(0,_buildAddressFromFields["default"])(currentFields,STATES_MAP,true),secondary:{}}});}})["catch"](function(err){if(err&&(err.status!=='422'||err.status!=='502')){console.error('Verification Error: ',err);}
_this2.setState({openDialog:true,addressToVerify:{primary:(0,_buildAddressFromFields["default"])(currentFields,STATES_MAP,true),secondary:{}}});});}},{key:"_verifyAddress",value:function _verifyAddress(country){var _this3=this;return new Promise(function(resolve,reject){var address=(0,_smartStreets.buildAddressQuery)(_this3.state.fields,country);var query=country.alpha2.toUpperCase()==='US'?"".concat(US_ADDRESS_API).concat(address):"".concat(INTL_API).concat(address);(0,_superagent["default"])(query).end(function(err,res){err?reject(err):resolve(res.body);});});}},{key:"_handleUSAddress",value:function _handleUSAddress(verified){var primary=(0,_buildAddressFromFields["default"])(this.state.fields,STATES_MAP,true);if((0,_smartStreets.addressesDiffer)(verified,primary.fields,true,STATES_MAP)){var secondary=(0,_smartStreets.buildVerificationAddress)(verified,primary.fields.fullName.join(' '),primary.fields.company,'US',primary.fields.phone,primary.fields.extra_field,STATES_MAP);this.setState({openDialog:true,addressToVerify:{primary:primary,secondary:secondary,verified:verified}});}else{this._submitForm(true);}}},{key:"_handleINTLAddress",value:function _handleINTLAddress(verified){var verificationStatus=verified.analysis.verification_status;var primary=(0,_buildAddressFromFields["default"])(this.state.fields,STATES_MAP,false);if(verificationStatus!=='Verified'||(0,_smartStreets.addressesDiffer)(verified,primary.fields,false,STATES_MAP)){if((0,_smartStreets.addressesDiffer)(verified,primary.fields,false,STATES_MAP)){var country=_countryData.lookup.countries({alpha3:verified.components.country_iso_3})[0];var secondary=verificationStatus!=='None'||verified.components.postal_code?(0,_smartStreets.buildVerificationAddress)(verified,primary.fields.fullName.join(' '),primary.fields.company,country.alpha2,primary.fields.phone,primary.fields.extra_field,STATES_MAP):[];this.setState({openDialog:true,addressToVerify:{primary:primary,secondary:secondary,verified:verified}});}else{this.setState({openDialog:true,addressToVerify:{primary:primary,secondary:{},verified:{}}});}}else{this._submitForm(true);}}},{key:"_buildForm",value:function _buildForm(verified){var _this4=this;var keys=Object.keys(this.props.hiddenFields);var hiddenFields=keys.reduce(function(acc,key){if(_this4.props.hiddenFields[key]&&_this4.props.hiddenFields[key].length){acc[key]=_this4.props.hiddenFields[key];}
return acc;},{});var country=this._getCurrentCountry();return this.state.fields.toJS().reduce(function(acc,field){if(field.name==='country'&&country&&country.alpha2){acc["address[country_iso2]"]=country.alpha2;}else if(field.name==='state'&&STATES_MAP[country.name]){var state=STATES_MAP[country.name].find(function(state){return state.name===field.value;});acc["address[".concat(field.name,"]")]=state?state["short"]:field.value;}else if(field.name==='phone'){acc["address[".concat(field.name,"]")]=field.countryCode+field.value;}else if(field.extra_field){acc["address[extra_fields[".concat(field.name,"]]")]=field.value;}else{acc["address[".concat(field.name,"]")]=field.value||'';}
return acc;},Object.assign({'address[verified]':verified},hiddenFields));}},{key:"_postAddress",value:function _postAddress(form){return _oauth["default"].apiRequest(_superagent["default"].post("".concat(_oauth["default"].getApiPath(),"/private/addresses")).type('form').send(form),true).then(function(body){return Promise.resolve(body.address);})["catch"](function(err){return Promise.reject(err);});}},{key:"_updateAddress",value:function _updateAddress(form){return _oauth["default"].apiRequest(_superagent["default"].patch("".concat(_oauth["default"].getApiPath(),"/private/addresses/").concat(this.props.defaultAddress.id)).type('form').send(form),true).then(function(body){return Promise.resolve(body.address);})["catch"](function(err){return Promise.reject(err);});}},{key:"_submitForm",value:function _submitForm(isVerified){var _this5=this;if(this.state.openDialog){this.setState({submitting:true});}
var promise=Object.keys(this.props.defaultAddress).length?this._updateAddress(this._buildForm(isVerified)):this._postAddress(this._buildForm(isVerified));return promise.then(function(address){_this5.setState({openDialog:false});if(_this5.props.redirectTo&&_this5.props.redirectTo!=='javascript:void(0);'){window.location=_this5.props.redirectTo;}else{Object.keys(_this5.props.defaultAddress).length?_this5.props.updateAddressInBook(address):_this5.props.addAddressToBook(address);}})["catch"](function(err){if(_this5.state.submitting){_this5.setState({submitting:false,openDialog:false});}
console.error('Submit Form Error ',err);});}},{key:"_useVerifiedForSubmission",value:function _useVerifiedForSubmission(){var _this6=this;var verified=this.state.addressToVerify.verified;var components=verified.components;var country=this._getCurrentCountry();var isUSA=!components.country_iso_3&&country.alpha3==='USA';var map=isUSA?{'address_line1':'delivery_line_1','address_line2':'delivery_line_2'}:{'address_line1':'address1','address_line2':'address2'};var componentsMap=isUSA?{'city':'city_name','state':'state_abbreviation','zip':'zipcode'}:{'city':'locality','zip':'postal_code','state':'administrative_area','country':'country_iso_3'};var fields=this.state.fields;var shouldCreateStateField=STATES_MAP[country.name]!==undefined;var doesAddressLine2RepeatAddressLine3=!isUSA?"".concat(components[componentsMap['zip']]," ").concat(components[componentsMap['city']])===verified[map['address_line2']]:false;var updatedFields=fields.reduce(function(acc,field){var name=field.get('name');if(name==='address_line2'&&doesAddressLine2RepeatAddressLine3){return acc.push(field.set('value',''));}else if(name==='address_line2'&&!verified[map[name]]){return acc.push(field.set('value',''));}
if(shouldCreateStateField&&name==='city'){acc=acc.concat([field,(0,_immutable.Map)({name:'state',isRequired:true,type:'select',options:(0,_immutable.List)([]),value:components[componentsMap['state']],uuid:(0,_generateRandomKey["default"])()})]);}else if(name==='state'&&!shouldCreateStateField){return acc;}
if(map[name]&&verified[map[name]]&&verified[map[name]].length){acc=acc.push(field.set('value',verified[map[name]]));}else if(componentsMap[name]&&components[componentsMap[name]]&&components[componentsMap[name]].length){acc=acc.push(field.set('value',components[componentsMap[name]]));}else{acc=acc.push(field);}
return acc;},(0,_immutable.List)());this.setState({fields:updatedFields},function(){_this6._submitForm(true);});}},{key:"render",value:function render(){var _this7=this;var redirectTo=this.props.redirectTo;return _react["default"].createElement("form",{ref:function ref(el){return _this7._form=el;}},this.state.fields.map(function(field,index){return _react["default"].createElement(_Field["default"],{ref:function ref(el){return _this7._fields[index]=el;},key:index,country:_this7.state.country,countryCodes:_this7.state.countryCodes,fetchAddresses:_this7.fetchAddresses,field:field,setSelection:_this7.handleSelection,updateField:_this7.updateField});}),_react["default"].createElement("div",{className:_address_form["default"].addressField},_react["default"].createElement("div",{className:_address_form["default"].labelContainer}),_react["default"].createElement("div",{className:_address_form["default"].submitContainer},_react["default"].createElement("button",{className:"btn btn-primary",onClick:this.handleSubmit},"Save Address"),_react["default"].createElement("a",{className:"btn btn-link",href:redirectTo,onClick:function onClick(e){if(_this7.props.dismissForm){e.preventDefault();_this7.props.dismissForm();}}},"Cancel"))),_react["default"].createElement(_Dialog["default"],{open:this.state.openDialog,dismiss:function dismiss(){return _this7.setState({openDialog:false,addressToVerify:{primary:{},secondary:{},verified:null}});},nestedDialogLevel:1},_react["default"].createElement("div",{className:_address_form["default"].addressVerification},_react["default"].createElement("h3",null,"Sorry, we couldn't verify your address!"),_react["default"].createElement("h4",null,"Please confirm or edit your address."),_react["default"].createElement("div",{className:_address_form["default"].addressWrapper},_react["default"].createElement("div",{className:_address_form["default"].reactFormAddress},_react["default"].createElement("h4",null,"You entered:"),this.state.addressToVerify.primary&&this.state.addressToVerify.primary.address?this.state.addressToVerify.primary.address.filter(function(line){return line.length;}).map(function(line,index){return _react["default"].createElement("p",{key:index},line);}):null,_react["default"].createElement("div",{className:_address_form["default"].verificationButtonGroup},_react["default"].createElement("button",{className:"".concat(_buttons["default"].blank," ").concat(_typography["default"].link," ").concat(_address_form["default"].shortBtn),onClick:function onClick(){return _this7.setState({openDialog:false,addressToVerify:{primary:{},secondary:{},verified:null}});}},"Edit this address"),_react["default"].createElement("button",{className:"".concat(_buttons["default"].sm," ").concat(_address_form["default"].shortBtn),disabled:this.state.submitting,onClick:function onClick(e){e.preventDefault();_this7._submitForm(false);}},this.state.submitting?'Submitting':'Use this address'))),this.state.addressToVerify.secondary.address&&this.state.addressToVerify.secondary.address.length?_react["default"].createElement("div",{className:_address_form["default"].reactFormAddress},_react["default"].createElement("h4",null,this.state.addressToVerify.secondary.verified?'Verified:':'Partially Verified:'),_react["default"].createElement("div",null,this.state.addressToVerify.secondary.address.filter(function(line){return line.length;}).map(function(line,index){return _react["default"].createElement("p",{key:index},line);})),_react["default"].createElement("div",{className:_address_form["default"].verificationButtonGroup},_react["default"].createElement("button",{className:"".concat(_buttons["default"].sm," ").concat(_address_form["default"].shortBtn),disabled:this.state.submitting,onClick:function onClick(e){e.preventDefault();_this7._useVerifiedForSubmission();}},this.state.submitting?'Submitting':'Use this address'))):null))));}}]);return AddressForm;}(_react.Component);AddressForm.propTypes={addAddressToBook:_propTypes["default"].func,defaultAddress:_propTypes["default"].object,dismissForm:_propTypes["default"].func,error:_propTypes["default"].func,fields:_propTypes["default"].array,hiddenFields:_propTypes["default"].object,redirectTo:_propTypes["default"].string,updateAddressInBook:_propTypes["default"].func};AddressForm.defaultProps={addAddressToBook:function addAddressToBook(){},defaultAddress:{},dismissForm:null,error:function error(){},fields:[],hiddenFields:{},redirectTo:'javascript:void(0);',updateAddressInBook:function updateAddressInBook(){}};var _default=AddressForm;exports["default"]=_default;}),70781:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=buildAddressFromFields;var _country=__webpack_require__(80763);var _formatAddress=_interopRequireDefault(__webpack_require__(45903));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function buildAddressFromFields(fields,states,isUSA){var fieldCountry=fields.find(function(field){return field.get('name')==='country';});var country=(0,_country.getCountry)(fieldCountry.get('value'));var address=fields.reduce(function(acc,field){var name=field.get('name');var value=field.get('value');if(name==='first_name'){acc.fullName.unshift(value);}
if(name==='last_name'){acc.fullName.push(value);}
if(name==='company'){acc.company=value;}
if(name==='address_line1'){acc.address_line1=value;}
if(name==='address_line2'&&value.length){acc.address_line2=value;}
if(name==='city'){acc.city=value;}
if(name==='state'){var state=states[country.name]?states[country.name].find(function(state){return state.name===value;}):value;var stateShort=typeof state==='string'?state:state["short"];acc.state=stateShort;}
if(name==='zip'){acc.zip=value;}
if(name==='country_iso2'||name==='country'){acc.country_iso2=value;}
if(name==='phone'){acc.phone="".concat(field.get('countryCode')," ").concat(value);}
if(field.get('extra_field')){acc.extra_field="".concat(name.toUpperCase(),": ").concat(value);}
return acc;},{fullName:[],company:'',address_line1:'',address_line2:'',city:'',state:'',zip:'',country_iso2:'',phone:'',extra_field:''});var formatted=(0,_formatAddress["default"])(address);return{address:[address.fullName.join(' '),address.company].concat(_toConsumableArray(formatted),[country.alpha2?country.alpha2:address.country_iso2,address.phone,address.extra_field]),fields:address};}}),95193:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=composeAddressFromAddress;var _generateDefaultFields=_interopRequireDefault(__webpack_require__(57126));var _generateRandomKey=_interopRequireDefault(__webpack_require__(89950));var _country=__webpack_require__(80763);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function composeAddressFromAddress(address,statesMap){var keys=address.extra_fields!==null&&address.extra_fields!==undefined?Object.keys(address.extra_fields):[];var extraFields=keys.length?keys.map(function(key){return{name:key,value:address.extra_fields[key],isRequired:true,uuid:(0,_generateRandomKey["default"])()};}):[];var countryObj=(0,_country.getCountry)(address);var country=countryObj.name||'';var countryCode=countryObj.countryCallingCodes&&countryObj.countryCallingCodes.length?countryObj.countryCallingCodes[0]:'';var doesAddressLine2RepeatAddressLine3=countryObj.alpha3!=='USA'?"".concat(address.zip," ").concat(address.city)===address.address_line2:false;var fields=(0,_generateDefaultFields["default"])(address.state,country).filter(function(field){return field.name!=='default';});var optionalFields=['address_line2','state'];return fields.reduce(function(acc,field){if(address[field.name]||optionalFields.indexOf(field.name)>-1){field.value=address[field.name]||'';field.uuid=(0,_generateRandomKey["default"])();acc.push(field);if(field.name==='address_line2'&&doesAddressLine2RepeatAddressLine3){field.value='';}
if(field.name==='country'){field.value=country;}
if(field.name==='state'&&address.state&&statesMap[country]){var shortOrNameKey=address['state'].length===2?'short':'name';var state=statesMap[country].find(function(state){return state[shortOrNameKey]===address['state'];});field.value=state?state.name:'';field.options=statesMap[country];field.type='select';}else if(field.name==='state'){field.isRequired=false;field.type='text';field.value='';}
if(field.name==='zip'&&extraFields.length){acc=acc.concat(extraFields);}
if(field.name==='phone'&&countryCode.length){field.countryCode=countryCode;if(countryObj&&countryObj.countryCallingCodes){var phonenum=address[field.name];field.value=countryObj.countryCallingCodes.reduce(function(acc,code){var r=new RegExp('\\'+code);return r.test(phonenum)?phonenum.replace(r,''):acc;},'');}}}
return acc;},[]);}}),93171:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=composeAddressFromFields;var _generateRandomKey=_interopRequireDefault(__webpack_require__(89950));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function composeAddressFromFields(fields){return fields.reduce(function(acc,field){if(!field.name)return acc;field.value=field.value||'';field.uuid=(0,_generateRandomKey["default"])();acc.push(field);return acc;},[]);}}),57126:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=generateDefaultFields;var _countryData=__webpack_require__(3023);var _Countries=__webpack_require__(72224);var STATES_MAP={'Australia':_Countries.Australia,'Canada':_Countries.Canada,'China':_Countries.China,'Mexico':_Countries.Mexico,'United States':_Countries.States};function generateDefaultFields(state,country){state=state||null;country=country&&country.length?country:null;var stateField=state&&STATES_MAP[country]?{isRequired:true,name:'state',type:'select',options:STATES_MAP[country],country:country,value:state}:STATES_MAP[country]?{isRequired:true,name:'state',type:'select',options:STATES_MAP[country],country:country,value:''}:{name:'state',value:state||''};return[{isRequired:true,name:'first_name',limit:{max:50}},{isRequired:true,name:'last_name',limit:{max:50}},{name:'company',limit:{max:50}},{isRequired:true,type:'select',name:'country',options:_countryData.countries.all.filter(function(country){return country.status==='assigned';}).map(function(country){return country.name;}).sort()},{isRequired:true,name:'address_line1',label:'Address line 1',limit:{max:50},options:[]},{name:'address_line2',label:'Address line 2',limit:{max:50}},{isRequired:true,name:'city'},stateField,{isRequired:true,name:'zip'},{isRequired:true,help:'So the shipping company can call you if they have a problem.',name:'phone',countryCode:''},{type:'checkbox',inputValue:'Make this my default address',name:'default'}];}}),65909:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.buildAddressQuery=buildAddressQuery;exports.buildVerificationAddress=buildVerificationAddress;exports.addressesDiffer=addressesDiffer;exports.getBestSmartyMatch=getBestSmartyMatch;var _country=__webpack_require__(80763);var _formatAddress=_interopRequireDefault(__webpack_require__(45903));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function buildAddressQuery(fields,country){country=Array.isArray(country)?country[0]:country;var isUSA=country.alpha3==='USA';var map=isUSA?{address_line1:'street',address_line2:'street2',city:'city',state:'state',zip:'zipcode'}:{address_line1:'address1',address_line2:'address2',city:'locality',state:'administrative_area',zip:'postal_code'};var address=fields.reduce(function(acc,field,index,list){var name=field.get('name');var value=field.get('value');if(map[name]&&value.length){acc+=map[name]+'='+value.split(' ').join('+');if(index!==list.length-1){acc+='&';}}
return acc;},'');address=address.slice(-1)==='&'?address.slice(0,address.length-1).replace('#','%23'):address.replace('#','%23');return isUSA?"&".concat(address):"&".concat(address,"&country=").concat(country.alpha3);}
function buildVerificationAddress(address,fullName,company,countryISO2,phone,extra_field,statesMap){var components=address.components;var isUSA=countryISO2==='US';var address1=isUSA?address.delivery_line_1:address.address1;var address2=isUSA?address.delivery_line_2||'':"".concat(components.premise||''," ").concat(components.thoroughfare||'');var country=(0,_country.getCountry)(countryISO2);var INTLState=!isUSA&&statesMap[country.name]?components.administrative_area:'';var map={address_line1:address1,address_line2:address1.trim()!==address2.trim()?address2:'',city:isUSA?components.city_name:components.locality,state:isUSA?components.state_abbreviation:INTLState,zip:isUSA?components.zipcode:components.postal_code,country_iso2:countryISO2};var formatted=(0,_formatAddress["default"])(map);return{address:[fullName,company].concat(_toConsumableArray(formatted),[countryISO2,phone,extra_field||'']),verified:isUSA||address.analysis&&address.analysis.verification_status==='Verified'};}
function addressesDiffer(verified,unverified,isUSA,statesMap){var components=verified.components;var map=isUSA?{'address_line1':'delivery_line_1','address_line2':'delivery_line_2'}:{'address_line1':'address1','address_line2':'address2'};var componentsMap=isUSA?{'city':'city_name','zip':'zipcode','state':'state_abbreviation','country':'country_iso_3'}:{'city':'locality','zip':'postal_code','state':'administrative_area','country':'country_iso_3'};var keys=['address_line1','city','state','country','zip'];return keys.reduce(function(acc,key){if(acc)return acc;if(map[key]){var verifiedValue=verified[map[key]];var unverifiedValue=unverified[key];if(!verifiedValue||!unverifiedValue){acc=true;}else if(verifiedValue.toLowerCase()!==unverifiedValue.toLowerCase()){acc=true;}}else if(componentsMap[key]){var _verifiedValue=components[componentsMap[key]];var _unverifiedValue=unverified[key];if(key==='state'&&_verifiedValue&&isUSA){var stateObj=statesMap['United States'];var verifiedKey=_verifiedValue.length===2?'short':'name';var unverifiedKey=_unverifiedValue.length===2?'short':'name';var verifiedState=stateObj.find(function(state){return state[verifiedKey]===_verifiedValue;})||{name:'a'};var unverifiedState=stateObj.find(function(state){return state[unverifiedKey]===_unverifiedValue;})||{name:'b'};acc=verifiedState.name.toLowerCase()!==unverifiedState.name.toLowerCase();}else if(key==='state'&&_verifiedValue&&_unverifiedValue&&!isUSA){acc=_verifiedValue.toLowerCase()!==_unverifiedValue.toLowerCase();}else if(key==='country'){var verifiedCountry=isUSA?(0,_country.getCountry)('US'):(0,_country.getCountry)(_verifiedValue);var unverifiedCountry=(0,_country.getCountry)(_unverifiedValue);acc=verifiedCountry.name!==unverifiedCountry.name;}else if(_verifiedValue&&_unverifiedValue){acc=_verifiedValue!==_unverifiedValue;}}
return acc;},false);}
function getBestSmartyMatch(matches){if(!matches)return null;if(matches.length===1)return matches[0];var verified=matches.find(function(match){return match.analysis&&match.analysis.verification_status==='Verified';});if(verified)return verified;var postalCode=matches.find(function(match){return match.components&&match.components.postal_code;});if(postalCode)return postalCode;return null;}}),80763:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.buildLocation=buildLocation;exports.getCountry=getCountry;exports.getCountryISO2=getCountryISO2;var _countryData=__webpack_require__(3023);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function camelCaseAddress(address){return address.split(' ').map(function(section){return section.slice(0,1).toUpperCase()+section.slice(1).toLowerCase();}).join(' ');}
function getCountryFromAddress(address){if(address.country&&typeof address.country==='string'&&(address.country.length===2||address.country.length===3)){return address.country;}
return address.country_iso2&&address.country_iso2.length?address.country_iso2:address.country_iso3&&address.country_iso3.length?address.country_iso3:camelCaseAddress(address.country);}
function buildLocation(){var city=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var state=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var country_iso2=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var countryField=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'name';var country=getCountry(country_iso2);var countryAttr=country&&country.hasOwnProperty(countryField)?country[countryField]:'';return[city,state,countryAttr].filter(function(string){return string&&string.length>0;}).join(', ');}
function getCountry(addressOrCountry){var country=typeof addressOrCountry==='string'?addressOrCountry:getCountryFromAddress(addressOrCountry);var countryKey=country.length===2?'alpha2':country.length===3?'alpha3':'name';return _countryData.lookup.countries(_defineProperty({},countryKey,country))[0];}
function getCountryISO2(country){return _countryData.lookup.countries({name:country}).length?_countryData.lookup.countries({name:country})[0].alpha2:'';}}),45903:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=formatAddress;var _country=__webpack_require__(80763);function cityZip(address){var address_line1=address.address_line1,address_line2=address.address_line2,city=address.city,zip=address.zip;var doLinesRepeat="".concat(city," ").concat(zip)===address_line2;return[address_line1,doLinesRepeat?'':address_line2,"".concat(city," ").concat(zip)].filter(function(line){return line&&line.length;}).map(function(line){return line.trim();});}
function cityStateZip(address){var address_line1=address.address_line1,address_line2=address.address_line2,city=address.city,state=address.state,zip=address.zip;return[address_line1,address_line2,"".concat(city," ").concat(state," ").concat(zip)].filter(function(line){return line&&line.length;}).map(function(line){return line.trim();});}
function zipCityState(address){var address_line1=address.address_line1,address_line2=address.address_line2,city=address.city,state=address.state,zip=address.zip;var doLinesRepeat="".concat(zip," ").concat(city)===address_line2;return[address_line1,doLinesRepeat?'':address_line2,"".concat(zip," ").concat(city," ").concat(state||'')].filter(function(line){return line&&line.length;}).map(function(line){return line.trim();});}
function formatAddress(address){var country=(0,_country.getCountry)(address);switch(country.name){case 'Bermuda':return cityZip(address);case 'Canada':return cityStateZip(address);case 'United States':return cityStateZip(address);default:return zipCityState(address);}}}),13262:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=exports.PORTAL_ID=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _adAnalyticsTracker=_interopRequireDefault(__webpack_require__(57406));var _simple_ad=_interopRequireWildcard(__webpack_require__(35316));var _GenericPortal=_interopRequireDefault(__webpack_require__(14909));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));var _article_page_simple_ad=_interopRequireDefault(__webpack_require__(56287));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var PORTAL_ID='article_page_simple_ad_portal';exports.PORTAL_ID=PORTAL_ID;var getAdView=function getAdView(_ref){var ad=_ref.ad,initialized=_ref.initialized,onClick=_ref.onClick;if(!initialized||ad===null)return(0,_simple_ad.getPlaceholderView)();return _react["default"].createElement(_simple_ad["default"],{ad:ad,initialized:initialized,onClick:onClick});};var getDivider=function getDivider(){return _react["default"].createElement("div",{className:"".concat(_article_page_simple_ad["default"].divider," ").concat(_util["default"].borderTop)});};var ArticlePageSimpleAd=function ArticlePageSimpleAd(props){return _react["default"].createElement("div",{ref:props.forwardedRef},_react["default"].createElement("div",{className:_layout["default"].hiddenMedDown},getAdView(props)),_react["default"].createElement(_GenericPortal["default"],{id:PORTAL_ID},_react["default"].createElement("div",{className:"".concat(_layout["default"].hiddenMedUp," ").concat(_layout["default"].flexColumn," ").concat(_layout["default"].flexCenterItems," ").concat(_layout["default"].marginTop30)},getDivider(),_react["default"].createElement("div",{className:"".concat(_layout["default"].paddingTop30," ").concat(_layout["default"].paddingBottom30)},getAdView(props)),getDivider())));};ArticlePageSimpleAd.displayName='ArticlePageSimpleAd';ArticlePageSimpleAd.propTypes={ad:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,cover_image:_propTypes["default"].shape({url:_propTypes["default"].string.isRequired}).isRequired,link:_propTypes["default"].string.isRequired,text:_propTypes["default"].string.isRequired}),forwardedRef:_propTypes["default"].oneOfType([_propTypes["default"].func,_propTypes["default"].shape({current:_propTypes["default"].any})]).isRequired,initialized:_propTypes["default"].bool.isRequired,onClick:_propTypes["default"].func.isRequired};ArticlePageSimpleAd.defaultTypes={ad:null};var _default=(0,_adAnalyticsTracker["default"])(ArticlePageSimpleAd);exports["default"]=_default;}),34278:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=exports.ContentPageAdPlaceholderView=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _adAnalyticsTracker=_interopRequireDefault(__webpack_require__(57406));var _image=_interopRequireDefault(__webpack_require__(70794));var _GenericPortal=_interopRequireDefault(__webpack_require__(14909));var _links=__webpack_require__(22463);var _article_page_simple_ad=_interopRequireDefault(__webpack_require__(56287));var _layout=_interopRequireDefault(__webpack_require__(42721));var _project_page=_interopRequireDefault(__webpack_require__(65140));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _content_page_ad=_interopRequireDefault(__webpack_require__(25513));var _ArticlePageSimpleAd=__webpack_require__(13262);var _ProjectPageSimpleAd=__webpack_require__(73522);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _isArticlePage=function _isArticlePage(pageType){return pageType==='article_page';};var AdView=function AdView(_ref){var ad=_ref.ad,forwardedRef=_ref.forwardedRef,_onClick=_ref.onClick,onImageLoad=_ref.onImageLoad,pageType=_ref.pageType,initialized=_ref.initialized;if(!initialized)return ContentPageAdPlaceholderView(pageType);if(initialized&&ad===null)return null;return _react["default"].createElement("div",{ref:forwardedRef,className:_layout["default"].marginBottom15},_react["default"].createElement("div",null,_react["default"].createElement("a",{href:ad.link,onClick:function onClick(){return _onClick(ad);},rel:"noopener",target:"_blank"},_react["default"].createElement(_image["default"],{className:_util["default"].borderRadius,lazy:true,onLoad:function onLoad(){return onImageLoad(ad);},ratio:"4:3",setStyle:false,src:ad.cover_image.url,width:_isArticlePage(pageType)?280:270}))),_react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifyEnd)},_react["default"].createElement("a",{className:"".concat(_typography["default"].bodyS),href:_links.adFAQLink,rel:"noopener",target:"_blank"},"Ad")));};var ContentPageAdPlaceholderView=function ContentPageAdPlaceholderView(pageType){return _react["default"].createElement("div",{className:"".concat(_layout["default"].marginBottom30," ").concat(_util["default"].bgFog," ").concat(_util["default"].borderRadius," ").concat(_isArticlePage(pageType)?_content_page_ad["default"].articlePlaceholder:_content_page_ad["default"].projectPlaceholder)});};exports.ContentPageAdPlaceholderView=ContentPageAdPlaceholderView;var DefaultView=function DefaultView(props){if(!props.initialized)return ContentPageAdPlaceholderView(props.pageType);if(props.initialized&&props.ad===null)return null;var isArticlePage=_isArticlePage(props.pageType);return _react["default"].createElement("div",null,_react["default"].createElement("div",{className:_layout["default"].hiddenMedDown},AdView(props)),_react["default"].createElement(_GenericPortal["default"],{id:isArticlePage?_ArticlePageSimpleAd.PORTAL_ID:_ProjectPageSimpleAd.PORTAL_ID},_react["default"].createElement("div",{className:"".concat(_layout["default"].hiddenMedUp," ").concat(_layout["default"].flexCenterItems," ").concat(_layout["default"].flexColumn," ").concat(isArticlePage&&_layout["default"].marginTop30)},isArticlePage&&DividerView(),_react["default"].createElement("div",{className:"".concat(_layout["default"].fullWidth," ").concat(isArticlePage?_content_page_ad["default"].articleWrapper:_content_page_ad["default"].projectWrapper)},AdView(props)),isArticlePage&&DividerView()),!isArticlePage&&_react["default"].createElement("div",{className:"project-section-break ".concat(_project_page["default"].portal)})));};var DividerView=function DividerView(){return _react["default"].createElement("div",{className:"".concat(_article_page_simple_ad["default"].divider," ").concat(_util["default"].borderTop)});};var NewsHomePageView=function NewsHomePageView(props){return _react["default"].createElement("div",{className:_layout["default"].flex1},_react["default"].createElement("div",{className:_layout["default"].hiddenMedDown},AdView(props)),_react["default"].createElement("div",{className:"".concat(_layout["default"].hiddenMedUp," ").concat(_layout["default"].flexCenterItems," ").concat(_layout["default"].flexColumn)},_react["default"].createElement("div",{className:_content_page_ad["default"].projectWrapper},AdView(props))));};var ContentPageAd=function ContentPageAd(props){return props.pageType==='news_home_page'?NewsHomePageView(props):DefaultView(props);};ContentPageAd.propTypes={ad:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,ad_type:_propTypes["default"].string.isRequired,cover_image:_propTypes["default"].shape({url:_propTypes["default"].string.isRequired}).isRequired,link:_propTypes["default"].string.isRequired}),forwardedRef:_propTypes["default"].oneOfType([_propTypes["default"].func,_propTypes["default"].shape({current:_propTypes["default"].any})]).isRequired,initialized:_propTypes["default"].bool.isRequired,onClick:_propTypes["default"].func.isRequired,onImageLoad:_propTypes["default"].func.isRequired,pageType:_propTypes["default"].oneOf(['article_page','news_home_page','project_page']).isRequired};ContentPageAd.defaultProps={ad:null};var _default=(0,_adAnalyticsTracker["default"])(ContentPageAd);exports["default"]=_default;}),77320:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _adAnalyticsTracker=_interopRequireDefault(__webpack_require__(57406));var _links=__webpack_require__(22463);var _image=_interopRequireDefault(__webpack_require__(70794));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _home_page_banner_ad=_interopRequireDefault(__webpack_require__(25908));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var HomePageBannerAd=function HomePageBannerAd(_ref){var ad=_ref.ad,forwardedRef=_ref.forwardedRef,_onClick=_ref.onClick,onImageLoad=_ref.onImageLoad;return _react["default"].createElement("div",{ref:forwardedRef,style:{paddingTop:50}},_react["default"].createElement("div",{className:_home_page_banner_ad["default"].imageContainer},_react["default"].createElement("a",{href:ad.link,onClick:function onClick(){return _onClick(ad);},rel:"noopener",target:"_blank"},_react["default"].createElement(_image["default"],{className:_util["default"].borderRadius,lazy:true,onLoad:function onLoad(){return onImageLoad(ad);},ratio:"364:45",setStyle:false,src:ad.cover_image.url,width:1170}))),_react["default"].createElement("div",{className:_layout["default"].flexJustifyEnd},_react["default"].createElement("a",{className:_typography["default"].bodyS,href:_links.adFAQLink,rel:"noopener",target:"_blank"},"Ad")));};HomePageBannerAd.propTypes={ad:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,ad_type:_propTypes["default"].string.isRequired,cover_image:_propTypes["default"].shape({url:_propTypes["default"].string.isRequired}).isRequired,link:_propTypes["default"].string.isRequired}),forwardedRef:_propTypes["default"].oneOfType([_propTypes["default"].func,_propTypes["default"].shape({current:_propTypes["default"].any})]).isRequired,onClick:_propTypes["default"].func.isRequired,onImageLoad:_propTypes["default"].func.isRequired};HomePageBannerAd.defaultProps={ad:null};var _default=(0,_adAnalyticsTracker["default"])(HomePageBannerAd);exports["default"]=_default;}),66546:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _ArticlePageSimpleAd=_interopRequireDefault(__webpack_require__(13262));var _ContentPageAd=_interopRequireWildcard(__webpack_require__(34278));var _ProjectPageSimpleAd=_interopRequireDefault(__webpack_require__(73522));var _ads=_interopRequireDefault(__webpack_require__(28949));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _enums=__webpack_require__(72973);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ModularAd=function(_Component){_inherits(ModularAd,_Component);var _super=_createSuper(ModularAd);function ModularAd(props){var _this;_classCallCheck(this,ModularAd);_this=_super.call(this,props);_this.state={ad:null,initialized:false};_this.adsService=new _ads["default"](_enums.CONTENT_PAGE,props.relations);return _this;}
_createClass(ModularAd,[{key:"componentDidMount",value:function componentDidMount(){this._fetchAd();}},{key:"_fetchAd",value:function _fetchAd(){var _this2=this;return this.adsService.getAdForPage('content').then(function(ad){return _this2.setState({ad:ad,initialized:true});})["catch"](function(err){_this2.setState({initialized:true});(0,_error_handler["default"])("ModularAd _fetchAds: ".concat(err));});}},{key:"_getAdView",value:function _getAdView(){return this.state.ad.ad_type===_enums.CONTENT_PAGE?this._getContentPageView():this._getBetaAdView();}},{key:"_getBetaAdView",value:function _getBetaAdView(){return this.props.page_type==='article_page'?this._getBetaArticlePageView():this._getBetaProjectPageView();}},{key:"_getBetaArticlePageView",value:function _getBetaArticlePageView(){return _react["default"].createElement(_ArticlePageSimpleAd["default"],{ad:this.state.ad,initialized:this.state.initialized});}},{key:"_getBetaProjectPageView",value:function _getBetaProjectPageView(){return _react["default"].createElement(_ProjectPageSimpleAd["default"],{ad:this.state.ad,initialized:this.state.initialized});}},{key:"_getContentPageView",value:function _getContentPageView(){return _react["default"].createElement(_ContentPageAd["default"],{ad:this.state.ad,initialized:this.state.initialized,pageType:this.props.page_type});}},{key:"_getContentPagePlaceholderView",value:function _getContentPagePlaceholderView(){if(this.state.initialzed)return null;return(0,_ContentPageAd.ContentPageAdPlaceholderView)(this.props.page_type);}},{key:"render",value:function render(){if(!this.state.initialized&&!this.state.ad)return this._getContentPagePlaceholderView();if(this.state.initialized&&!this.state.ad)return null;return this._getAdView();}}]);return ModularAd;}(_react.Component);ModularAd.propTypes={page_type:_propTypes["default"].oneOf(['article_page','project_page']).isRequired,relations:_propTypes["default"].shape({platform_ids:_propTypes["default"].arrayOf(_propTypes["default"].number),tag_ids:_propTypes["default"].arrayOf(_propTypes["default"].number)})};ModularAd.defaultProps={relations:{platform_ids:[],tag_ids:[]}};var _default=ModularAd;exports["default"]=_default;}),73522:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=exports.PORTAL_ID=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _adAnalyticsTracker=_interopRequireDefault(__webpack_require__(57406));var _simple_ad=_interopRequireWildcard(__webpack_require__(35316));var _GenericPortal=_interopRequireDefault(__webpack_require__(14909));var _project_page=_interopRequireDefault(__webpack_require__(65140));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var PORTAL_ID='project_page_simple_ad_portal';exports.PORTAL_ID=PORTAL_ID;var getSimpleAd=function getSimpleAd(_ref){var ad=_ref.ad,initialized=_ref.initialized,isPortal=_ref.isPortal,onClick=_ref.onClick;return _react["default"].createElement(_simple_ad["default"],{ad:ad,classList:{root:isPortal?_project_page["default"].portal:''},initialized:initialized,onClick:onClick});};var ProjectPageSimpleAd=function ProjectPageSimpleAd(_ref2){var ad=_ref2.ad,forwardedRef=_ref2.forwardedRef,initialized=_ref2.initialized,onClick=_ref2.onClick;var view=function view(){var isPortal=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return initialized&&ad!==null?getSimpleAd({ad:ad,initialized:initialized,isPortal:isPortal,onClick:onClick}):(0,_simple_ad.getPlaceholderView)();};return _react["default"].createElement("div",{ref:forwardedRef},view(),_react["default"].createElement(_GenericPortal["default"],{id:PORTAL_ID},view(true),_react["default"].createElement("div",{className:"project-section-break ".concat(_project_page["default"].portal)})));};ProjectPageSimpleAd.displayName='ProjectPageSimpleAd';ProjectPageSimpleAd.propTypes={ad:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,cover_image:_propTypes["default"].shape({url:_propTypes["default"].string.isRequired}).isRequired,link:_propTypes["default"].string.isRequired,text:_propTypes["default"].string.isRequired}),forwardedRef:_propTypes["default"].oneOfType([_propTypes["default"].func,_propTypes["default"].shape({current:_propTypes["default"].any})]).isRequired,initialized:_propTypes["default"].bool.isRequired,onClick:_propTypes["default"].func.isRequired};ProjectPageSimpleAd.defaultTypes={ad:null};var _default=(0,_adAnalyticsTracker["default"])(ProjectPageSimpleAd);exports["default"]=_default;}),35316:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=exports.getPlaceholderView=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _image=_interopRequireDefault(__webpack_require__(70794));var _links=__webpack_require__(22463);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _simple_ad=_interopRequireDefault(__webpack_require__(92404));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var getPlaceholderView=function getPlaceholderView(){return _react["default"].createElement("div",{className:_simple_ad["default"].root});};exports.getPlaceholderView=getPlaceholderView;var SimpleAd=function SimpleAd(_ref){var ad=_ref.ad,classList=_ref.classList,initialized=_ref.initialized,_onClick=_ref.onClick;if(!initialized)return getPlaceholderView();var cover_image=ad.cover_image,id=ad.id,link=ad.link,text=ad.text;return _react["default"].createElement("div",{className:"".concat(_simple_ad["default"].root," ").concat(classList.root)},_react["default"].createElement("div",{className:_simple_ad["default"].wrapper},_react["default"].createElement("a",{href:link,onClick:function onClick(e){return _onClick(e,{id:id});},rel:"noopener",target:"_blank"},_react["default"].createElement(_image["default"],{className:_simple_ad["default"].image,lazy:true,ratio:"4:3",src:cover_image.url,width:125})),_react["default"].createElement("div",{className:_simple_ad["default"].textWrapper},_react["default"].createElement("a",{className:"".concat(_simple_ad["default"].text," ").concat(_typography["default"].bodyS," ").concat(_typography["default"].link," ").concat(_typography["default"].whitespacePre," ").concat(_typography["default"].anchorNoUnderlineOnHover),href:link,onClick:function onClick(e){return _onClick(e,{id:id});},rel:"noopener",target:"_blank"},text),_react["default"].createElement("div",{className:"".concat(_simple_ad["default"].disclaimerWrapper," ").concat(_layout["default"].marginTop10)},_react["default"].createElement("a",{className:"".concat(_simple_ad["default"].adFAQLink," ").concat(_typography["default"].uppercase," ").concat(_typography["default"].bold," ").concat(_typography["default"].anchorNoUnderlineOnHover),href:_links.adFAQLink,rel:"noopener",target:"_blank"},"Advertisement")))));};SimpleAd.propTypes={ad:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,cover_image:_propTypes["default"].shape({url:_propTypes["default"].string.isRequired}).isRequired,link:_propTypes["default"].string.isRequired,text:_propTypes["default"].string.isRequired}),classList:_propTypes["default"].shape({root:_propTypes["default"].string}),initialized:_propTypes["default"].bool.isRequired,onClick:_propTypes["default"].func.isRequired};SimpleAd.defaultProps={classList:{root:''}};var _default=SimpleAd;exports["default"]=_default;}),57406:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _ad_analytics=_interopRequireDefault(__webpack_require__(30651));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var adAnalyticsTracker=function adAnalyticsTracker(ChildComponent){var AdsAnalyticsWrapper=function(_Component){_inherits(AdsAnalyticsWrapper,_Component);var _super=_createSuper(AdsAnalyticsWrapper);function AdsAnalyticsWrapper(props){var _this;_classCallCheck(this,AdsAnalyticsWrapper);_this=_super.call(this,props);_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.handleImageLoad=_this.handleImageLoad.bind(_assertThisInitialized(_this));_this._adRootRef=_react["default"].createRef();return _this;}
_createClass(AdsAnalyticsWrapper,[{key:"handleClick",value:function handleClick(){_ad_analytics["default"].reportClick(this.props.ad);}},{key:"handleImageLoad",value:function handleImageLoad(){this._reportEventAsViewed();}},{key:"_reportEventAsViewed",value:function _reportEventAsViewed(){var _this2=this;setTimeout(function(){var wrapper=_this2._adRootRef.current;var nodeAndChildrenExists=wrapper&&wrapper.children&&wrapper.children.length>0;if(nodeAndChildrenExists){var styles=window.getComputedStyle(wrapper.firstChild);var blockedProp=styles.display&&styles.display==='none'?{blocked:true}:{};_ad_analytics["default"].reportView(_this2.props.ad,Object.assign({},blockedProp));}else{_ad_analytics["default"].reportView(_this2.props.ad,{blocked:true});}},500);}},{key:"render",value:function render(){return _react["default"].createElement(ChildComponent,_extends({},this.props,{forwardedRef:this._adRootRef,onClick:this.handleClick,onImageLoad:this.handleImageLoad}));}}]);return AdsAnalyticsWrapper;}(_react.Component);return function(props){return _react["default"].createElement(AdsAnalyticsWrapper,props);};};var _default=adAnalyticsTracker;exports["default"]=_default;}),38260:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _select=_interopRequireDefault(__webpack_require__(79463));var _accessors=__webpack_require__(4887);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AlgoliaAsyncSelect=function(_Component){_inherits(AlgoliaAsyncSelect,_Component);var _super=_createSuper(AlgoliaAsyncSelect);function AlgoliaAsyncSelect(props){var _this;_classCallCheck(this,AlgoliaAsyncSelect);_this=_super.call(this,props);_this.state={projectsCountByIds:null};_this.fetchOptions=_this.fetchOptions.bind(_assertThisInitialized(_this));_this._isMounted;return _this;}
_createClass(AlgoliaAsyncSelect,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;}},{key:"fetchOptions",value:function fetchOptions(queryString){var _this2=this;var _this$props$algoliaPa=this.props.algoliaParameters,hitsPerPage=_this$props$algoliaPa.hitsPerPage,initFacet=_this$props$algoliaPa.initFacet;return new Promise(function(resolve,reject){return Promise.all([_this2._fetchProjectsCountByFacetKey(),_this2.props.algoliaService.searchWithQueryString(queryString,{hitsPerPage:hitsPerPage},initFacet)]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),projectsCountById=_ref2[0],algoliaServiceQuery=_ref2[1];_this2.props.propagateCurrentQuery(algoliaServiceQuery);resolve({options:_this2.props.algoliaRecordsToOptions(algoliaServiceQuery.hits,projectsCountById)});})["catch"](function(err){return reject(err);});});}},{key:"_fetchProjectsCountByFacetKey",value:function _fetchProjectsCountByFacetKey(){var _this3=this;return new Promise(function(resolve,reject){if(_this3.state.projectsCountByIds)return resolve(_this3.state.projectsCountByIds);var facetKey=_this3.props.algoliaParameters.projectsServiceFacetKey;return _this3.props.algoliaProjectsService.searchWithNoEffects({facets:[facetKey],hitsPerPage:0,sort:'popular'},[]).then(function(query){if(_this3._isMounted){var projectsCountByIds=(0,_accessors.getInObj)(['facets',facetKey],query);_this3.setState({projectsCountByIds:projectsCountByIds});return resolve(projectsCountByIds);}
return resolve({});})["catch"](function(err){return reject(err);});});}},{key:"render",value:function render(){return _react["default"].createElement(_select["default"],{asyncOpts:{initOnMount:true,request:this.fetchOptions},hasErrors:this.props.errors&&this.props.errors.length>0,maxWidth:this.props.maxWidth,onSelectedChange:this.props.onSelect,placeholder:this.props.placeholder,value:this.props.value});}}]);return AlgoliaAsyncSelect;}(_react.Component);AlgoliaAsyncSelect.propTypes={algoliaParameters:_propTypes["default"].shape({hitsPerPage:_propTypes["default"].number,initFacet:_propTypes["default"].array,projectsServiceFacetKey:_propTypes["default"].string}),algoliaProjectsService:_propTypes["default"].object.isRequired,algoliaRecordsToOptions:_propTypes["default"].func.isRequired,algoliaService:_propTypes["default"].object.isRequired,errors:_propTypes["default"].array,maxWidth:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),onSelect:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].string,propagateCurrentQuery:_propTypes["default"].func,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number,_propTypes["default"].bool]).isRequired};AlgoliaAsyncSelect.defaultProps={algoliaParameters:{hitsPerPage:100,initFacet:[],projectsServiceFacetKey:'*'},maxWidth:'100%',placeholder:'Select an option from the dropdown or type to search',propagateCurrentQuery:function propagateCurrentQuery(){}};var _default=AlgoliaAsyncSelect;exports["default"]=_default;}),16205:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _form_select=_interopRequireDefault(__webpack_require__(70154));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AlgoliaMultiSelect=function(_Component){_inherits(AlgoliaMultiSelect,_Component);var _super=_createSuper(AlgoliaMultiSelect);function AlgoliaMultiSelect(props){var _this;_classCallCheck(this,AlgoliaMultiSelect);_this=_super.call(this,props);_this.fetchOptions=_this.fetchOptions.bind(_assertThisInitialized(_this));_this._isMounted;return _this;}
_createClass(AlgoliaMultiSelect,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;}},{key:"fetchOptions",value:function fetchOptions(queryString){var _this2=this;var _this$props$algoliaPa=this.props.algoliaParameters,hitsPerPage=_this$props$algoliaPa.hitsPerPage,initFacet=_this$props$algoliaPa.initFacet;return new Promise(function(resolve,reject){return _this2.props.algoliaService.searchWithQueryString(queryString,{hitsPerPage:hitsPerPage},initFacet).then(function(algoliaServiceQuery){_this2.props.propagateCurrentQuery(algoliaServiceQuery);resolve({options:_this2.props.algoliaRecordsToOptions(algoliaServiceQuery.hits)});})["catch"](function(err){return reject(err);});});}},{key:"_getErrors",value:function _getErrors(errors){if(!errors||errors&&errors.length===0)return null;if(Array.isArray(errors))return errors.join(', ');return errors;}},{key:"render",value:function render(){return _react["default"].createElement(_form_select["default"],{asyncOpts:{initOnMount:true,request:this.fetchOptions},errors:this._getErrors(this.props.errors),helperText:this.props.helperText,label:this.props.label,maxWidth:this.props.maxWidth,onSelectedChange:this.props.onSelect,placeholder:this.props.placeholder,type:"multi",searchOpts:{multiLimit:this.props.selectionLimit,rule:'default'},value:this.props.value});}}]);return AlgoliaMultiSelect;}(_react.Component);AlgoliaMultiSelect.propTypes={algoliaParameters:_propTypes["default"].shape({hitsPerPage:_propTypes["default"].number,initFacet:_propTypes["default"].array}),algoliaRecordsToOptions:_propTypes["default"].func.isRequired,algoliaService:_propTypes["default"].object.isRequired,errors:_propTypes["default"].oneOfType([_propTypes["default"].array,_propTypes["default"].string]),helperText:_propTypes["default"].string,label:_propTypes["default"].string,maxWidth:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),onSelect:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].string,propagateCurrentQuery:_propTypes["default"].func,selectionLimit:_propTypes["default"].number,value:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].any}))};AlgoliaMultiSelect.defaultProps={algoliaParameters:{hitsPerPage:100,initFacet:[]},errors:null,helperText:'',label:'',maxWidth:'100%',placeholder:'Select an option from the dropdown or type to search',propagateCurrentQuery:function propagateCurrentQuery(){},selectionLimit:3,value:[]};var _default=AlgoliaMultiSelect;exports["default"]=_default;}),58415:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DummyCard=_interopRequireDefault(__webpack_require__(6405));var _EmptyViewAll=_interopRequireDefault(__webpack_require__(1985));var _horizontal_scroll=_interopRequireDefault(__webpack_require__(26759));var _project_card=_interopRequireDefault(__webpack_require__(12680));var _view_all=_interopRequireDefault(__webpack_require__(85749));var _helpers=__webpack_require__(88017);var _promises=__webpack_require__(25426);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _view_all2=_interopRequireDefault(__webpack_require__(10076));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AlgoliaPinnedItemViewAllList=function(_Component){_inherits(AlgoliaPinnedItemViewAllList,_Component);var _super=_createSuper(AlgoliaPinnedItemViewAllList);function AlgoliaPinnedItemViewAllList(props){var _this;_classCallCheck(this,AlgoliaPinnedItemViewAllList);_this=_super.call(this,props);_this.state={currentPinnedItemQuery:{},currentProjectsQuery:{},initialized:false,isFetching:true,projects:[],viewAllLinks:{}};_this.fetchMoreProjects=_this.fetchMoreProjects.bind(_assertThisInitialized(_this));_this._isMounted;return _this;}
_createClass(AlgoliaPinnedItemViewAllList,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._initialize();}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;}},{key:"_initialize",value:function _initialize(){var _this2=this;return Promise.all([this._fetchItem(),this._fetchInitProjects()]).then(function(results){return(0,_promises.setTimeoutPromise)(250,null,null,results);}).then(function(_ref){var _ref2=_slicedToArray(_ref,2),currentPinnedItemQuery=_ref2[0],currentProjectsQuery=_ref2[1];if(!_this2._isMounted)return;var item=currentPinnedItemQuery.hits[0];_this2.setState({currentPinnedItemQuery:currentPinnedItemQuery,currentProjectsQuery:currentProjectsQuery,initialized:true,isFetching:false,projects:currentProjectsQuery.hits,viewAllLinks:item&&Object.keys(item).length?_this2.props.viewAllLinksComposer(item):{external:'',internal:''}});_this2.props.reportProjectsCount(currentProjectsQuery.hits.length,_this2.props.index);})["catch"](function(err){return(0,_error_handler["default"])('AlgoliaPinnedItemViewAllList _initialize',err);});}},{key:"_fetchItem",value:function _fetchItem(){return this.props.algoliaPinnedItemService.searchWithNoEffects({},this.props.initPinnedItemFacet);}},{key:"_fetchInitProjects",value:function _fetchInitProjects(){return this.props.algoliaProjectsService.searchWithNoEffects(this.props.queryMap,this.props.initProjectsFacet);}},{key:"_shouldRender",value:function _shouldRender(){return this.state.initialized&&this.state.currentPinnedItemQuery.hits&&this.state.currentPinnedItemQuery.hits.length>0&&this.state.currentProjectsQuery&&this.state.currentProjectsQuery.hits.length>0;}},{key:"_shouldRenderLoader",value:function _shouldRenderLoader(){return!this.state.initialized&&this.state.isFetching;}},{key:"fetchMoreProjects",value:function fetchMoreProjects(){var _this3=this;var query=(0,_helpers.buildPaginatedQuery)({queryMap:this.props.queryMap,pagination:this.props.pagination,currentQuery:this.state.currentProjectsQuery});return this.props.algoliaProjectsService.searchWithNoEffects(query,this.props.initProjectsFacet).then(function(currentProjectsQuery){if(!_this3._isMounted)return;var projects=_this3.state.projects.concat(currentProjectsQuery.hits);_this3.setState({currentProjectsQuery:currentProjectsQuery,projects:projects});_this3.props.reportProjectsCount(projects.length,_this3.props.index);})["catch"](function(err){return(0,_error_handler["default"])(err);});}},{key:"_getLoaderView",value:function _getLoaderView(){return _react["default"].createElement(_view_all["default"],{links:this.state.viewAllLinks,onClick:this.props.transition,title:this.props.title},_react["default"].createElement(_DummyCard["default"],{cardBorder:true,classList:{card:_view_all2["default"].dummyCard,wrapper:_view_all2["default"].scrollerItemProject}}));}},{key:"_getNoHitsView",value:function _getNoHitsView(){return this.props.userCanManage?this._managerView():null;}},{key:"_getPinnedCardComponent",value:function _getPinnedCardComponent(){var _this4=this;return _react["default"].createElement("div",{className:_view_all2["default"].scrollerItemProject},this.props.pinnedCardTemplateFn({item:this.state.currentPinnedItemQuery.hits?this.state.currentPinnedItemQuery.hits[0]:null,onClick:function onClick(e){return _this4.props.transition(e,_this4.state.viewAllLinks,{type:'pinned_card'});}}));}},{key:"_managerView",value:function _managerView(){return _react["default"].createElement(_EmptyViewAll["default"],{title:this.props.title});}},{key:"render",value:function render(){var _this5=this;if(this._shouldRenderLoader())return this._getLoaderView();if(!this._shouldRender())return this._getNoHitsView();return _react["default"].createElement(_view_all["default"],{links:this.state.viewAllLinks,onClick:this.props.transition,title:this.props.title},_react["default"].createElement(_horizontal_scroll["default"],{fetchMore:this.fetchMoreProjects,recordsCount:this.state.projects.length,scrollDistance:this.props.scrollDistance,totalRecordsCount:Math.min(parseInt(this.state.currentProjectsQuery.nbHits)||0,this.props.pagination.maxCardCount-1)},this._getPinnedCardComponent(),this.state.projects.map(function(project,i){return _react["default"].createElement(_project_card["default"],{key:project.hid||project.id,classList:{wrapper:_view_all2["default"].scrollerItemProject},imageProps:{captureScroll:true},itemIndex:i,cardBorder:true,overrideTracking:_this5.props.transition,project:project,usePortal:true});})));}}]);return AlgoliaPinnedItemViewAllList;}(_react.Component);AlgoliaPinnedItemViewAllList.propTypes={algoliaPinnedItemService:_propTypes["default"].object.isRequired,algoliaProjectsService:_propTypes["default"].object.isRequired,index:_propTypes["default"].number.isRequired,initPinnedItemFacet:_propTypes["default"].array,initProjectsFacet:_propTypes["default"].array,pagination:_propTypes["default"].shape({maxCardCount:_propTypes["default"].number,type:_propTypes["default"].string,length:_propTypes["default"].number}).isRequired,pinnedCardTemplateFn:_propTypes["default"].func.isRequired,queryMap:_propTypes["default"].object,reportProjectsCount:_propTypes["default"].func.isRequired,scrollDistance:_propTypes["default"].number,title:_propTypes["default"].string.isRequired,transition:_propTypes["default"].func,userCanManage:_propTypes["default"].bool,viewAllLinksComposer:_propTypes["default"].func.isRequired};AlgoliaPinnedItemViewAllList.defaultProps={queryMap:{},scrollDistance:540,transition:function transition(){},userCanManage:null};var _default=AlgoliaPinnedItemViewAllList;exports["default"]=_default;}),64356:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _EmptyViewAll=_interopRequireDefault(__webpack_require__(1985));var _view_all=_interopRequireDefault(__webpack_require__(85749));var _ViewAllList=_interopRequireDefault(__webpack_require__(76271));var _helpers=__webpack_require__(88017);var _promises=__webpack_require__(25426);var _error_handler=_interopRequireDefault(__webpack_require__(84616));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AlgoliaViewAllList=function(_Component){_inherits(AlgoliaViewAllList,_Component);var _super=_createSuper(AlgoliaViewAllList);function AlgoliaViewAllList(props){var _this;_classCallCheck(this,AlgoliaViewAllList);_this=_super.call(this,props);_this.state={currentQuery:{},initialized:false,isFetching:true,records:[]};_this.fetchMore=_this.fetchMore.bind(_assertThisInitialized(_this));_this._isMounted;return _this;}
_createClass(AlgoliaViewAllList,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._initialize();}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;}},{key:"_initialize",value:function _initialize(){var _this2=this;return this.props.algoliaService.searchWithNoEffects(this.props.queryMap,this.props.initFacet).then(function(currentQuery){return(0,_promises.setTimeoutPromise)(250,null,null,currentQuery);}).then(function(currentQuery){if(!_this2._isMounted)return;_this2.setState({currentQuery:currentQuery,initialized:true,isFetching:false,records:_this2._orderRecordsBy(_this2.props.section,currentQuery.hits)});_this2.props.reportProjectsCount(currentQuery.hits.length,_this2.props.index);})["catch"](function(err){return(0,_error_handler["default"])('AlgoliaViewAllList _initialize',err);});}},{key:"_orderRecordsBy",value:function _orderRecordsBy(section,hits){switch(section.key){case 'video':return this._orderVideoHitsBySection(section,hits);default:return hits;}}},{key:"_orderVideoHitsBySection",value:function _orderVideoHitsBySection(section,hits){var ids=section.meta.content;return ids.map(function(id){return hits.find(function(hit){return hit.id===id;});}).filter(function(hit){return hit;});}},{key:"_shouldRender",value:function _shouldRender(){return this.state.initialized&&this.state.currentQuery.hits&&this.state.currentQuery.hits.length>0;}},{key:"_shouldRenderLoader",value:function _shouldRenderLoader(){return!this.state.initialized&&this.state.isFetching;}},{key:"fetchMore",value:function fetchMore(){var _this3=this;var query=(0,_helpers.buildPaginatedQuery)({queryMap:this.props.queryMap,pagination:this.props.pagination,currentQuery:this.state.currentQuery});return this.props.algoliaService.searchWithNoEffects(query,this.props.initFacet,this.state.records.length).then(function(currentQuery){if(!_this3._isMounted)return;var records=_this3.state.records.concat(currentQuery.hits);_this3.setState({currentQuery:currentQuery,records:records});_this3.props.reportProjectsCount(records.length,_this3.props.index);})["catch"](function(err){return(0,_error_handler["default"])('AlgoliaViewAllList fetchMore',err);});}},{key:"_getLoaderView",value:function _getLoaderView(){return _react["default"].createElement(_view_all["default"],{links:this.props.viewAllLinksComposer(),onClick:this.props.transition,title:this.props.title},this.props.loaderCardFn());}},{key:"_getNoHitsView",value:function _getNoHitsView(){return this.props.userCanManage?this._managerView():null;}},{key:"_managerView",value:function _managerView(){return _react["default"].createElement(_EmptyViewAll["default"],{title:this.props.title});}},{key:"render",value:function render(){if(this._shouldRenderLoader())return this._getLoaderView();if(!this._shouldRender())return this._getNoHitsView();return _react["default"].createElement(_ViewAllList["default"],{cardTemplateFn:this.props.cardTemplateFn,fetchMore:this.fetchMore,links:this.props.viewAllLinksComposer(),onClick:this.props.transition,records:this.state.records,scrollDistance:this.props.scrollDistance,sectionIndex:this.props.sectionIndex,title:this.props.title,totalRecordsCount:Math.min(this.state.currentQuery.nbHits||0,this.props.pagination.maxCardCount)});}}]);return AlgoliaViewAllList;}(_react.Component);AlgoliaViewAllList.propTypes={algoliaService:_propTypes["default"].object.isRequired,cardTemplateFn:_propTypes["default"].func.isRequired,index:_propTypes["default"].number.isRequired,initFacet:_propTypes["default"].array,loaderCardFn:_propTypes["default"].func,pagination:_propTypes["default"].shape({maxCardCount:_propTypes["default"].number,type:_propTypes["default"].string,length:_propTypes["default"].number}).isRequired,queryMap:_propTypes["default"].object,reportProjectsCount:_propTypes["default"].func.isRequired,scrollDistance:_propTypes["default"].number,section:_propTypes["default"].object.isRequired,sectionIndex:_propTypes["default"].number,title:_propTypes["default"].string.isRequired,transition:_propTypes["default"].func,userCanManage:_propTypes["default"].bool,viewAllLinksComposer:_propTypes["default"].func.isRequired};AlgoliaViewAllList.defaultProps={initFacet:[],queryMap:{},loaderCardFn:function loaderCardFn(){return _react["default"].createElement("div",null);},scrollDistance:540,sectionIndex:null,transition:function transition(){},userCanManage:null};var _default=AlgoliaViewAllList;exports["default"]=_default;}),16555:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.PROJECT_LOCK_SCREEN=exports.DEFAULT=void 0;var DEFAULT='DEFAULT';exports.DEFAULT=DEFAULT;var PROJECT_LOCK_SCREEN='PROJECT_LOCK_SCREEN';exports.PROJECT_LOCK_SCREEN=PROJECT_LOCK_SCREEN;}),83989:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _uuid=__webpack_require__(21614);var _panel=_interopRequireDefault(__webpack_require__(32876));var _Dialog=_interopRequireDefault(__webpack_require__(27408));var _constants=__webpack_require__(16555);var _window=__webpack_require__(33852);var _auth_dialog=_interopRequireDefault(__webpack_require__(73840));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var TRACKING_FORM_NAME='signin_dialog';var whitelistedStates=['currentPanel','simplified'];var legacyPanelMap={login:'login',signin:'login',signup:'signup'};var AuthDialog=function(_Component){_inherits(AuthDialog,_Component);var _super=_createSuper(AuthDialog);function AuthDialog(props){var _this;_classCallCheck(this,AuthDialog);_this=_super.call(this,props);_this.state={currentPanel:legacyPanelMap[props.initialPanel],eventDetails:{},open:false,simplified:false,uuid:null};_this.closeDialog=_this.closeDialog.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.openDialog=_this.openDialog.bind(_assertThisInitialized(_this));return _this;}
_createClass(AuthDialog,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener(this.props.openEvent,this.openDialog);}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener(this.props.openEvent,this.openDialog);}},{key:"closeDialog",value:function closeDialog(){this.setState({eventDetails:{},open:false});}},{key:"handleSubmit",value:function handleSubmit(){var res=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(typeof this.state.eventDetails.callback==='function'){this.state.eventDetails.callback(res.user?res.user.id:res.id);}}},{key:"openDialog",value:function openDialog(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this.props.whitelabelLogin){(0,_window.windowLocationRedirect)(this.props.whitelabelLogin);return;}
var newState=e.detail&&e.detail.state?Object.keys(e.detail.state).reduce(function(acc,key){return whitelistedStates.includes(key)?Object.assign({},acc,_defineProperty({},key,e.detail.state[key])):acc;},{}):{};var currentPanel=legacyPanelMap[newState.currentPanel]||this.state.currentPanel;this.setState(Object.assign({},newState,{currentPanel:currentPanel,eventDetails:e.detail?e.detail:{},open:true,uuid:(0,_uuid.v4)()}));}},{key:"render",value:function render(){var _this$state=this.state,currentPanel=_this$state.currentPanel,eventDetails=_this$state.eventDetails,open=_this$state.open,simplified=_this$state.simplified,uuid=_this$state.uuid;var source=eventDetails.source||this.props.source;return _react["default"].createElement(_Dialog["default"],{dismiss:this.closeDialog,open:open,wrapperClassName:_auth_dialog["default"].wrapper},open&&_react["default"].createElement(_panel["default"],{key:uuid,analytics:this.props.analytics,confirmationPath:this.props.confirmationPath,ctaImgUrls:this.props.ctaImgUrls,ctaVersion:this.props.ctaVersion,currentPanel:currentPanel,forgotPasswordUrl:this.props.forgotPasswordUrl,formActions:this.props.formActions,location:TRACKING_FORM_NAME,omniauthUrls:this.props.omniauthUrls,onSubmit:this.handleSubmit,pathHelpers:this.props.pathHelpers,recaptchaSiteKey:this.props.recaptchaSiteKey,redirectPaths:this.props.redirectPaths,setCurrentPanel:this.setCurrentPanel,simplified:simplified,source:source,whitelabelName:this.props.whitelabelName}));}}]);return AuthDialog;}(_react.Component);AuthDialog.propTypes={analytics:_propTypes["default"].shape({page_type:_propTypes["default"].string.isRequired,path:_propTypes["default"].string.isRequired,site:_propTypes["default"].string.isRequired}).isRequired,confirmationPath:_propTypes["default"].string.isRequired,ctaImgUrls:_propTypes["default"].shape({'1x':_propTypes["default"].string.isRequired,'2x':_propTypes["default"].string.isRequired}).isRequired,ctaVersion:_propTypes["default"].string,forgotPasswordUrl:_propTypes["default"].string.isRequired,formActions:_propTypes["default"].shape({login:_propTypes["default"].string,signup:_propTypes["default"].string}).isRequired,id:_propTypes["default"].string,initialPanel:_propTypes["default"].string,omniauthUrls:_propTypes["default"].shape({facebook:_propTypes["default"].string,github:_propTypes["default"].string,google_oauth2:_propTypes["default"].string,twitter:_propTypes["default"].string,windowslive:_propTypes["default"].string}).isRequired,openEvent:_propTypes["default"].string.isRequired,pathHelpers:_propTypes["default"].shape({rootPath:_propTypes["default"].string.isRequired}).isRequired,recaptchaSiteKey:_propTypes["default"].string.isRequired,redirectPaths:_propTypes["default"].shape({login:_propTypes["default"].string.isRequired,signup:_propTypes["default"].string.isRequired}).isRequired,showCTAConfig:_propTypes["default"].shape({login:_propTypes["default"].bool,signup:_propTypes["default"].bool}),source:_propTypes["default"].string,whitelabelLogin:_propTypes["default"].string,whitelabelName:_propTypes["default"].string};AuthDialog.defaultProps={ctaVersion:_constants.DEFAULT,initialPanel:'login',source:'',showCTAConfig:{login:false,signup:true},whitelabelLogin:null,whitelabelName:null};var _default=AuthDialog;exports["default"]=_default;}),61464:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var EMAIL_EXISTS_MSG='Looks like that email is registered. Please log in below if you’re already a member.';var SIMPLIFIED_SIGNUP_MSG='Please join to continue';var _getHeader=function _getHeader(props){var message=_getMessage(props);if(message)return _react["default"].createElement("span",{className:_typography["default"].bodyM},message);if(props.blankHeader||props.showCTA)return null;return _react["default"].createElement("h2",{className:_typography["default"].h2},_getHeaderCopy(props));};var _getHeaderCopy=function _getHeaderCopy(_ref){var currentPanel=_ref.currentPanel,whitelabelName=_ref.whitelabelName;if(currentPanel==='login')return 'Welcome back';return whitelabelName?"Welcome to ".concat(whitelabelName,", powered by Hackster"):'Welcome to Hackster';};var _getMessage=function _getMessage(_ref2){var currentPanel=_ref2.currentPanel,showEmailMsg=_ref2.showEmailMsg,simplified=_ref2.simplified;if(showEmailMsg&&currentPanel==='login')return EMAIL_EXISTS_MSG;if(simplified&&currentPanel==='signup')return SIMPLIFIED_SIGNUP_MSG;return null;};var AuthPanelHeader=function AuthPanelHeader(props){var header=_getHeader(props);if(!header)return null;return _react["default"].createElement("div",{className:"".concat(_layout["default"].marginBottom30," ").concat(_typography["default"].textCenter)},header);};AuthPanelHeader.propTypes={blankHeader:_propTypes["default"].bool.isRequired,currentPanel:_propTypes["default"].oneOf(['login','signup']).isRequired,showCTA:_propTypes["default"].bool.isRequired,showEmailMsg:_propTypes["default"].bool.isRequired,simplified:_propTypes["default"].bool.isRequired,whitelabelName:_propTypes["default"].string};AuthPanelHeader.defaultProps={whitelabelName:null};var _default=AuthPanelHeader;exports["default"]=_default;}),40236:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _urls=__webpack_require__(13380);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var appendToRootPath=function appendToRootPath(rootPath,path){return "/".concat((0,_urls.cleanPreAndPostSlashes)("".concat(rootPath,"/").concat(path)));};var SignupTOS=function SignupTOS(_ref){var rootPath=_ref.rootPath;return _react["default"].createElement("div",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].pebble," ").concat(_layout["default"].marginBottom10)},'By signing up, you agree to our ',_react["default"].createElement("a",{href:appendToRootPath(rootPath,'terms'),target:"_blank"},"Terms"),', ',_react["default"].createElement("a",{href:appendToRootPath(rootPath,'privacy'),target:"_blank"},"Privacy Policy"),', and ',_react["default"].createElement("a",{href:appendToRootPath(rootPath,'cookies'),target:"_blank"},"Cookie Policy"),".");};SignupTOS.propTypes={rootPath:_propTypes["default"].string.isRequired};var _default=SignupTOS;exports["default"]=_default;}),97810:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _base=_interopRequireDefault(__webpack_require__(6094));var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var config={login:{body:'Don’t have an account yet? ',link:'Join here.',goTo:'signup',wrapperClass:"".concat(_layout["default"].marginTop30," ").concat(_typography["default"].textCenter)},signup:{body:'Already have an account? ',link:'Log in.',goTo:'login',wrapperClass:"".concat(_layout["default"].marginTop30," ").concat(_typography["default"].textCenter)},email:{body:null,link:'Create an account here.',goTo:'signup',wrapperClass:_inputs["default"].help}};var Switcher=function Switcher(_ref){var currentConfig=_ref.currentConfig,disabled=_ref.disabled,_onClick=_ref.onClick;var _config$currentConfig=config[currentConfig],body=_config$currentConfig.body,link=_config$currentConfig.link,goTo=_config$currentConfig.goTo,wrapperClass=_config$currentConfig.wrapperClass;return _react["default"].createElement("div",{className:wrapperClass},body,_react["default"].createElement(_base["default"],{colorStyle:"blank",disabled:disabled,onClick:function onClick(){return _onClick(goTo);}},_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].linkBlue," ").concat(disabled?_typography["default"].linkDisabled:'')},link)));};Switcher.propTypes={currentConfig:_propTypes["default"].oneOf(['email','login','signup']).isRequired,onClick:_propTypes["default"].func};Switcher.defaultProps={onClick:function onClick(){}};var _default=Switcher;exports["default"]=_default;}),6927:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _project_thumbs=_interopRequireDefault(__webpack_require__(1156));var _constants=__webpack_require__(16555);var _storageHelpers=__webpack_require__(19589);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _cta=_interopRequireDefault(__webpack_require__(44926));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var text={DEFAULT:{body:'Create your account to explore thousands of projects, build your skills, and discover new products and technologies.',title:'Join the world’s best hardware engineers.'},PROJECT_LOCK_SCREEN:{body:"You've reached the end of your Hackster preview. Sign up to continue reading this project and join the world's largest hardware engineering community.",title:'Join Hackster to view unlimited everything.'}};var _getCTAStyles=function _getCTAStyles(ctaVersion){return _shouldShowProjectThumbs(ctaVersion)?_cta["default"].ctaLockedProject:_cta["default"].cta;};function _shouldShowProjectThumbs(ctaVersion){return ctaVersion===_constants.PROJECT_LOCK_SCREEN;};var _getCTA=function _getCTA(_ref){var ctaVersion=_ref.ctaVersion,imgUrls=_ref.imgUrls,whitelabelName=_ref.whitelabelName;return _react["default"].createElement("div",{className:_getCTAStyles(ctaVersion)},_shouldShowProjectThumbs(ctaVersion)&&_getProjectThumbs(),_react["default"].createElement("h1",{className:_cta["default"].ctaHeader},text[ctaVersion].title),whitelabelName&&_react["default"].createElement("h2",{className:_cta["default"].ctaSubHeader},"".concat(whitelabelName," is powered by Hackster")),_react["default"].createElement("p",{className:_typography["default"].bodyL},text[ctaVersion].body),_react["default"].createElement("img",{className:_cta["default"].ctaImg,src:imgUrls['1x'],srcSet:"".concat(imgUrls['1x']," 1x, ").concat(imgUrls['2x']," 2x")}));};var _getProjectThumbs=function _getProjectThumbs(){return _react["default"].createElement("div",{className:_layout["default"].marginBottom15},_react["default"].createElement(_project_thumbs["default"],(0,_storageHelpers.getViewedProjects)()));};var CTA=function CTA(props){return _getCTA(props);};CTA.propTypes={ctaVersion:_propTypes["default"].string,imgUrls:_propTypes["default"].shape({'1x':_propTypes["default"].string.isRequired,'2x':_propTypes["default"].string.isRequired}).isRequired,whitelabelName:_propTypes["default"].string};CTA.defaultProps={ctaVersion:_constants.DEFAULT,whitelabelName:null};var _default=CTA;exports["default"]=_default;}),32876:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _actionable=_interopRequireDefault(__webpack_require__(29362));var _AuthPanelHeader=_interopRequireDefault(__webpack_require__(61464));var _basic_form_input=_interopRequireDefault(__webpack_require__(54392));var _checkbox_group=_interopRequireDefault(__webpack_require__(42148));var _cta=_interopRequireDefault(__webpack_require__(6927));var _recaptcha=_interopRequireDefault(__webpack_require__(34444));var _SignupTOS=_interopRequireDefault(__webpack_require__(40236));var _social=_interopRequireDefault(__webpack_require__(78513));var _Switcher=_interopRequireDefault(__webpack_require__(97810));var _isMobileBrowser=_interopRequireDefault(__webpack_require__(63458));var _main=_interopRequireDefault(__webpack_require__(85061));var _authentication=__webpack_require__(12291);var _filters=__webpack_require__(58429);var _forms=__webpack_require__(49448);var _templates=__webpack_require__(32797);var _accessors=__webpack_require__(4887);var _types=__webpack_require__(88742);var _validators=__webpack_require__(73235);var _converters=__webpack_require__(39719);var _window=__webpack_require__(33852);var _constants=__webpack_require__(16555);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _auth_panel=_interopRequireDefault(__webpack_require__(31));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var EMAIL_EXISTS_MSG='has already been taken';var EMAIL_INVALID_MSG='is not allowed';var GENERAL_ERROR='Something went wrong. Please try again.';var GENERAL_ERROR_COUNT_LIMIT=3;var FIELDS_TEMPLATE={email:{customRequired:function customRequired(val){return(0,_validators.isRequired)(val,'Please enter an email address.');},validate:function validate(val){return(0,_validators.isEmail)(val,'Please enter a valid email address');},value:''},name:{customRequired:function customRequired(val){return(0,_validators.isRequired)(val,'Please enter your name or nickname.');},validate:function validate(val){return(0,_validators.minLength)(3,val);},value:''},newsletter:{notRequired:true,validate:function validate(){return null;},value:[],formatOut:function formatOut(vals){return vals.includes('newsletter');}},password:{customRequired:function customRequired(val){return(0,_validators.isRequired)(val,'Please enter a password.');},validate:function validate(val){return(0,_validators.minLength)(8,val)||(0,_validators.maxLength)(64,val);},value:''}};var NO_VALIDATION={notRequired:true,validate:function validate(){return null;}};var ONCHANGE_STATE_SPREAD={formError:''};var PANEL_FIELD_KEYS={login:['email','password'],signup:['name','email','newsletter']};var PANEL_RESET_STATE={errors:{},formError:'',recaptchaPending:false};var SERVER_ERROR_MAP={EMAIL_NOT_REGISTERED:'This email is not registered',PASSWORD_INVALID:'Invalid password'};var translateError=function translateError(error){var errString=(0,_accessors.getFirstString)(error);return SERVER_ERROR_MAP[errString]||errString;};var AuthPanel=function(_PureComponent){_inherits(AuthPanel,_PureComponent);var _super=_createSuper(AuthPanel);function AuthPanel(props){var _this;_classCallCheck(this,AuthPanel);_this=_super.call(this,props);_this.state=Object.assign({},PANEL_RESET_STATE,{currentPanel:props.currentPanel,fields:(0,_forms.initFields)(FIELDS_TEMPLATE),generalErrorCount:0,isBusy:false,recaptchaReady:false,showEmailMsg:false});_this.handleEmailExists=_this.handleEmailExists.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.recaptchaCallback=_this.recaptchaCallback.bind(_assertThisInitialized(_this));_this.setCurrentPanel=_this.setCurrentPanel.bind(_assertThisInitialized(_this));_this.getErrorForField=_forms.getErrorForField.bind(_assertThisInitialized(_this));_this.getFieldValuesAsObject=_forms.getFieldValuesAsObject.bind(_assertThisInitialized(_this));_this.setIsBusy=_forms.setIsBusy.bind(_assertThisInitialized(_this));_this.setStateOrError=_forms.setStateOrError.bind(_assertThisInitialized(_this));_this.validate=_forms.validateFields.bind(_assertThisInitialized(_this));_this._recaptcha;return _this;}
_createClass(AuthPanel,[{key:"componentDidMount",value:function componentDidMount(){if(!this.props.analyticsEventOnMount)return;var _this$props$analytics=this.props.analyticsEventOnMount,eventName=_this$props$analytics.eventName,customProps=_this$props$analytics.customProps;_main["default"].reportEvent({eventName:eventName},customProps);}},{key:"handleEmailExists",value:function handleEmailExists(){this.setState(Object.assign({},PANEL_RESET_STATE,{currentPanel:'login',isBusy:false,showEmailMsg:true}));}},{key:"handleSubmit",value:function handleSubmit(e){e.preventDefault();if(this.state.isBusy)return;var validationOverrideMap=this._isSignupPanel()?{password:NO_VALIDATION}:{name:NO_VALIDATION};var valid=this.validate({doScroll:false,validationOverrideMap:validationOverrideMap});this.setState({formError:'',isBusy:valid});if(!valid)return;this.submitWithRecaptcha();}},{key:"recaptchaCallback",value:function recaptchaCallback(recaptchaResponse){if(this.state.recaptchaPending&&recaptchaResponse){this.setState({recaptchaPending:false});this.submitForm(recaptchaResponse);}else{this.setState({formError:this._getGeneralError(),generalErrorCount:this.state.generalErrorCount+1,recaptchaPending:false,isBusy:false});}
if(this._recaptcha&&this._recaptcha.reset)this._recaptcha.reset();}},{key:"setCurrentPanel",value:function setCurrentPanel(currentPanel){this.setState(Object.assign({},PANEL_RESET_STATE,{currentPanel:currentPanel,showEmailMsg:false}));}},{key:"submitForm",value:function submitForm(recaptchaResponse){var _this2=this;var url=this.props.formActions[this.state.currentPanel];var currentValues=(0,_filters.filterObject)(this.getFieldValuesAsObject(),null,PANEL_FIELD_KEYS[this.state.currentPanel]);var newsletter=this._isSignupPanel()?{newsletter:currentValues.newsletter}:{};delete currentValues.newsletter;var params=Object.assign({'g-recaptcha-response':recaptchaResponse,analytics:this.props.analytics,location:this.props.location,source:this.props.source,user:currentValues},newsletter);return(0,_authentication.authRequest)(url,params).then(function(res){_this2.props.onSubmit(res);(0,_window.windowLocationRedirect)(_this2._getRedirectUrl());})["catch"](function(err){return _this2._processServerErrors(err);});}},{key:"submitWithRecaptcha",value:function submitWithRecaptcha(){var _this3=this;if(this._recaptcha&&this.state.recaptchaReady){this.setState({recaptchaPending:true},function(){return _this3._recaptcha.execute();});}else{this.setState({formError:this._getGeneralError(),generalErrorCount:this.state.generalErrorCount+1,isBusy:false});}}},{key:"_extractServerErrors",value:function _extractServerErrors(err){var errors=(0,_accessors.getInObj)(['response','body','errors'],err)||{};var formError=(0,_accessors.getInObj)(['response','body','error'],err)||'';if(formError==='PASSWORD_INVALID'){return{errors:Object.assign({},errors,{password:formError}),formError:''};}
return{errors:errors,formError:formError==='PASSWORD_NOT_CREATED'?this._getNoPasswordMsg():formError};}},{key:"_getFormError",value:function _getFormError(isGeneralError,errors,formError){if(isGeneralError){return this._getGeneralError();}else if(errors.email&&errors.email.includes(EMAIL_INVALID_MSG)){return this._getMailgunInvalidMsg();}else{return formError||'';}}},{key:"_getRedirectUrl",value:function _getRedirectUrl(){return this.props.redirectPaths[this.state.currentPanel];}},{key:"_isSignupPanel",value:function _isSignupPanel(){return this.state.currentPanel==='signup';}},{key:"_processOmniauthUrl",value:function _processOmniauthUrl(url){var urlParts=url.split('?');var queryMap=(0,_converters.mapifyStringQuery)(urlParts[1]);queryMap.location=this.props.location;queryMap.source=this.props.source||queryMap.source;queryMap.redirect_to=this.props.redirectPaths.login;var query=(0,_converters.mapToStringQuery)(queryMap);return "".concat(urlParts[0]).concat(query.length?"?".concat(query):'');}},{key:"_processOmniauthUrls",value:function _processOmniauthUrls(){var _this4=this;return(0,_converters.transformObjValues)(this.props.omniauthUrls,function(url){return _this4._processOmniauthUrl(url);});}},{key:"_processServerErrors",value:function _processServerErrors(err){var _this$_extractServerE=this._extractServerErrors(err),errors=_this$_extractServerE.errors,formError=_this$_extractServerE.formError;if(this._isSignupPanel()&&errors.email&&errors.email.includes(EMAIL_EXISTS_MSG)){this.handleEmailExists();}else{var isGeneralError=!formError&&(0,_types.isBlank)(errors);this.setState({errors:Object.assign({},this.state.errors,errors),formError:this._getFormError(isGeneralError,errors,formError),generalErrorCount:isGeneralError?this.state.generalErrorCount+1:this.state.generalErrorCount,isBusy:false});}}},{key:"_shouldAutoFocus",value:function _shouldAutoFocus(isFirst){return isFirst&&this.props.autoFocus&&!(0,_isMobileBrowser["default"])();}},{key:"_shouldShowCTA",value:function _shouldShowCTA(){return this.props.showCTAConfig[this.state.currentPanel];}},{key:"_getDivider",value:function _getDivider(){return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexCenterItems," ").concat(_layout["default"].marginBottom5)},_react["default"].createElement("div",{className:"".concat(_layout["default"].flex1," ").concat(_util["default"].borderTop)}),_react["default"].createElement("div",{className:"".concat(_layout["default"].padding5)},"or"),_react["default"].createElement("div",{className:"".concat(_layout["default"].flex1," ").concat(_util["default"].borderTop)}));}},{key:"_getGeneralError",value:function _getGeneralError(){if(this.state.generalErrorCount<GENERAL_ERROR_COUNT_LIMIT)return GENERAL_ERROR;return "We are having trouble ".concat(this._isSignupPanel()?'signing you up':'logging you in',". Please email us at help@hackster.io to resolve the issue.");}},{key:"_getMailgunInvalidMsg",value:function _getMailgunInvalidMsg(){return _react["default"].createElement(_react.Fragment,null,'We are having trouble verifying your email address. ',_react["default"].createElement("a",{href:'https://help.hackster.io/en/articles/5983103-why-can-t-my-email-be-verified',className:_typography["default"].link},"Read more"),".");}},{key:"_getNoPasswordMsg",value:function _getNoPasswordMsg(){return _react["default"].createElement(_react.Fragment,null,"You haven't created a password yet! To do so, click the link in the email we've sent you. No email? ",_react["default"].createElement("a",{href:"".concat(this.props.confirmationPath,"?user[email]=").concat(this.state.fields.email.value),className:_typography["default"].link},"Resend password email"),".");}},{key:"_getEmailHelperText",value:function _getEmailHelperText(error){if(this._isSignupPanel())return 'We will never share your email with others.';if(error===SERVER_ERROR_MAP.EMAIL_NOT_REGISTERED)return _react["default"].createElement(_Switcher["default"],{currentConfig:"email",disabled:this.state.isBusy,onClick:this.setCurrentPanel});return null;}},{key:"_getEmailField",value:function _getEmailField(){var _this5=this;var isFirst=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var errors=this.state.errors.email;return _react["default"].createElement(_basic_form_input["default"],{autoFocus:this._shouldAutoFocus(isFirst),classList:{root:_layout["default"].marginBottom15},disabled:this.state.isBusy,errors:translateError(errors),helperText:this._getEmailHelperText(errors),label:"Email address",name:"email",onChange:function onChange(e){return _this5.setStateOrError(null,'email',e.target.value,ONCHANGE_STATE_SPREAD);},placeholder:"you@example.com",type:"email",value:this.state.fields.email.value});}},{key:"_getNameField",value:function _getNameField(){var _this6=this;var isFirst=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return _react["default"].createElement(_basic_form_input["default"],{autoFocus:this._shouldAutoFocus(isFirst),classList:{root:_layout["default"].marginBottom15},disabled:this.state.isBusy,errors:translateError(this.state.errors.name),label:"Full name or nickname",name:"name",onChange:function onChange(e){return _this6.setStateOrError(null,'name',e.target.value,ONCHANGE_STATE_SPREAD);},placeholder:"First and last name",value:this.state.fields.name.value});}},{key:"_getNewsletterField",value:function _getNewsletterField(){var _this7=this;return _react["default"].createElement(_checkbox_group["default"],{onChange:function onChange(values){return _this7.setStateOrError(null,'newsletter',values,ONCHANGE_STATE_SPREAD);},options:[{label:_react["default"].createElement("strong",null,"Sign up for the Hackster Newsletter"),value:'newsletter'}],values:this.state.fields.newsletter.value});}},{key:"_getPasswordField",value:function _getPasswordField(){var _this8=this;return _react["default"].createElement(_basic_form_input["default"],{classList:{root:_layout["default"].marginBottom15},disabled:this.state.isBusy,errors:translateError(this.state.errors.password),helperText:_react["default"].createElement("a",{className:_typography["default"].linkBlue,href:this.props.forgotPasswordUrl},"Forgot password?"),label:"Password",name:"password",onChange:function onChange(e){return _this8.setStateOrError(null,'password',e.target.value,ONCHANGE_STATE_SPREAD);},placeholder:"Enter your password",type:"password",value:this.state.fields.password.value});}},{key:"_getLoginFields",value:function _getLoginFields(){return _react["default"].Children.toArray([this._getEmailField(true),this._getPasswordField()]);}},{key:"_getSignupFields",value:function _getSignupFields(){return _react["default"].Children.toArray([this._getNameField(true),this._getEmailField(false),this._getNewsletterField()]);}},{key:"render",value:function render(){var _this9=this;var _this$state=this.state,currentPanel=_this$state.currentPanel,formError=_this$state.formError,isBusy=_this$state.isBusy;var isSignupPanel=this._isSignupPanel();var showCTA=this._shouldShowCTA();return _react["default"].createElement("div",{className:"".concat(_typography["default"].bodyM," ").concat(showCTA?_auth_panel["default"].panelWithCTA:'')},showCTA&&_react["default"].createElement(_cta["default"],{ctaVersion:this.props.ctaVersion,imgUrls:this.props.ctaImgUrls,whitelabelName:this.props.whitelabelName}),_react["default"].createElement("div",{className:_auth_panel["default"].formPanelWrapper},_react["default"].createElement("div",{className:_auth_panel["default"].formPanel},_react["default"].createElement(_AuthPanelHeader["default"],{blankHeader:this.props.blankHeader,currentPanel:this.state.currentPanel,showCTA:showCTA,showEmailMsg:this.state.showEmailMsg,simplified:this.props.simplified,whitelabelName:this.props.whitelabelName}),_react["default"].createElement(_social["default"],{currentPanel:this.state.currentPanel,omniauthUrls:this._processOmniauthUrls()}),this._getDivider(),_react["default"].createElement("form",{action:"#",method:"post",noValidate:true,onSubmit:this.handleSubmit},isSignupPanel?this._getSignupFields():this._getLoginFields(),(0,_templates.getFormErrorView)(formError),isSignupPanel&&_react["default"].createElement(_SignupTOS["default"],{rootPath:this.props.pathHelpers.rootPath}),_react["default"].createElement(_actionable["default"],{buttonType:"submit",isBusy:isBusy,size:"lg",text:isSignupPanel?'Join Hackster':'Log in',type:"fullWidth"})),_react["default"].createElement(_recaptcha["default"],{ref:function ref(c){return _this9._recaptcha=c;},className:_layout["default"].marginTop30,onLoad:function onLoad(){return _this9.setState({recaptchaReady:true});},callback:this.recaptchaCallback,recaptchaSiteKey:this.props.recaptchaSiteKey}),_react["default"].createElement(_Switcher["default"],{currentConfig:currentPanel,disabled:isBusy,onClick:this.setCurrentPanel}))));}}]);return AuthPanel;}(_react.PureComponent);AuthPanel.propTypes={analytics:_propTypes["default"].shape({page_type:_propTypes["default"].string.isRequired,path:_propTypes["default"].string.isRequired,site:_propTypes["default"].string.isRequired}).isRequired,autoFocus:_propTypes["default"].bool,blankHeader:_propTypes["default"].bool,confirmationPath:_propTypes["default"].string.isRequired,ctaImgUrls:_propTypes["default"].shape({'1x':_propTypes["default"].string.isRequired,'2x':_propTypes["default"].string.isRequired}).isRequired,ctaVersion:_propTypes["default"].string,currentPanel:_propTypes["default"].oneOf(['login','signup']),forgotPasswordUrl:_propTypes["default"].string.isRequired,formActions:_propTypes["default"].shape({login:_propTypes["default"].string,signup:_propTypes["default"].string}).isRequired,location:_propTypes["default"].string,omniauthUrls:_propTypes["default"].shape({facebook:_propTypes["default"].string,github:_propTypes["default"].string,google_oauth2:_propTypes["default"].string,twitter:_propTypes["default"].string,windowslive:_propTypes["default"].string}).isRequired,onSubmit:_propTypes["default"].func,pathHelpers:_propTypes["default"].shape({rootPath:_propTypes["default"].string.isRequired}).isRequired,recaptchaSiteKey:_propTypes["default"].string.isRequired,redirectPaths:_propTypes["default"].shape({login:_propTypes["default"].string.isRequired,signup:_propTypes["default"].string.isRequired}).isRequired,showCTAConfig:_propTypes["default"].shape({login:_propTypes["default"].bool,signup:_propTypes["default"].bool}),simplified:_propTypes["default"].bool,source:_propTypes["default"].string,whitelabelName:_propTypes["default"].string};AuthPanel.defaultProps={autoFocus:true,blankHeader:false,ctaVersion:_constants.DEFAULT,currentPanel:'signup',location:'signin_dialog',onSubmit:function onSubmit(){},showCTAConfig:{login:false,signup:true},simplified:false,source:'',whitelabelName:null};var _default=AuthPanel;exports["default"]=_default;}),78513:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _cta_button=_interopRequireDefault(__webpack_require__(35801));var _icon_button=_interopRequireDefault(__webpack_require__(50032));var _layout=_interopRequireDefault(__webpack_require__(42721));var _social=_interopRequireDefault(__webpack_require__(74603));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var secondaryBtns=['arduino','github','twitter','windowslive'];var SocialAuth=function(_Component){_inherits(SocialAuth,_Component);var _super=_createSuper(SocialAuth);function SocialAuth(props){var _this;_classCallCheck(this,SocialAuth);_this=_super.call(this,props);_this.state={showSecondary:false};_this.toggleSecondary=_this.toggleSecondary.bind(_assertThisInitialized(_this));return _this;}
_createClass(SocialAuth,[{key:"_getVerb",value:function _getVerb(){return this.props.currentPanel==='login'?'Log in':'Sign up';}},{key:"toggleSecondary",value:function toggleSecondary(e){e.preventDefault();this.setState({showSecondary:!this.state.showSecondary});}},{key:"_renderPrimary",value:function _renderPrimary(omniauthUrls){return _react["default"].createElement("div",null,_react["default"].createElement(_cta_button["default"],{service:"google",href:omniauthUrls.google_oauth2,action:this._getVerb()}),_react["default"].createElement(_cta_button["default"],{service:"facebook",href:omniauthUrls.facebook,action:this._getVerb()}),_react["default"].createElement("a",{className:_social["default"].centerLink,href:"javascript:void(0)",onClick:this.toggleSecondary},_react["default"].createElement("span",{className:_layout["default"].marginRight10},"More options"),_react["default"].createElement(_icon["default"],{name:"arrow-right",size:"12"})));}},{key:"_renderSecondary",value:function _renderSecondary(omniauthUrls){return _react["default"].createElement("div",null,_react["default"].createElement("div",{className:_social["default"].secondaryBtns},secondaryBtns.map(function(service){return _react["default"].createElement(_icon_button["default"],{key:service,service:service,className:_social["default"].secondaryBtn,href:omniauthUrls[service]});})),_react["default"].createElement("a",{className:_social["default"].centerLink,href:"javascript:void(0)",onClick:this.toggleSecondary},_react["default"].createElement(_icon["default"],{name:"arrow-left",size:"12"}),_react["default"].createElement("span",{className:_layout["default"].marginLeft10},"Back to Google and Facebook")));}},{key:"render",value:function render(){var omniauthUrls=this.props.omniauthUrls;return this.state.showSecondary?this._renderSecondary(omniauthUrls):this._renderPrimary(omniauthUrls);}}]);return SocialAuth;}(_react.Component);SocialAuth.propTypes={currentPanel:_propTypes["default"].string,omniauthUrls:_propTypes["default"].shape({facebook:_propTypes["default"].string.isRequired,github:_propTypes["default"].string.isRequired,google_oauth2:_propTypes["default"].string.isRequired,twitter:_propTypes["default"].string.isRequired,windowslive:_propTypes["default"].string.isRequired}).isRequired};SocialAuth.defaultProps={currentPanel:'signup'};var _default=SocialAuth;exports["default"]=_default;}),34444:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _generateRandomKey=_interopRequireDefault(__webpack_require__(89950));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var BASE_SCRIPT_URL='https://www.google.com/recaptcha/api.js';var GLOBAL_OBJ_NAME='grecaptcha';var ReCAPTCHA=function(_Component){_inherits(ReCAPTCHA,_Component);var _super=_createSuper(ReCAPTCHA);function ReCAPTCHA(props){var _this;_classCallCheck(this,ReCAPTCHA);_this=_super.call(this,props);_this.onScriptReady=_this.onScriptReady.bind(_assertThisInitialized(_this));_this.widgetID;_this.globalCBName="recaptchaReady".concat((0,_generateRandomKey["default"])());_this._root;return _this;}
_createClass(ReCAPTCHA,[{key:"componentDidMount",value:function componentDidMount(){if(this.getGlobalObject()){this.onScriptReady();}else{this.loadScript();}}},{key:"execute",value:function execute(){return this.getGlobalObject().execute(this.widgetID);}},{key:"getResponse",value:function getResponse(){return this.getGlobalObject().getResponse(this.widgetID);}},{key:"reset",value:function reset(){return this.getGlobalObject().reset(this.widgetID);}},{key:"getGlobalObject",value:function getGlobalObject(){return window[GLOBAL_OBJ_NAME];}},{key:"loadScript",value:function loadScript(){window[this.globalCBName]=this.onScriptReady;var url="".concat(BASE_SCRIPT_URL,"?onload=").concat(this.globalCBName,"&render=explicit");var script=document.createElement('script');script.src=url;script.async=1;script.deferred=1;script.error=function(err){return(0,_error_handler["default"])(err||new Error('problem loading ReCAPTCHA script'));};document.body.appendChild(script);}},{key:"onScriptReady",value:function onScriptReady(){this.renderWidget();this.props.onLoad();window[this.globalCBName]=undefined;}},{key:"renderWidget",value:function renderWidget(){if(this.getGlobalObject()&&this._root){this.widgetID=this.getGlobalObject().render(this._root,{badge:this.props.badgePos,callback:this.props.callback,'error-callback':this.props.callback,'expired-callback':this.props.callback,sitekey:this.props.recaptchaSiteKey,size:'invisible'});}}},{key:"render",value:function render(){var _this2=this;return _react["default"].createElement("div",{ref:function ref(el){return _this2._root=el;},className:this.props.className});}}]);return ReCAPTCHA;}(_react.Component);ReCAPTCHA.propTypes={badgePos:_propTypes["default"].string,callback:_propTypes["default"].func,onLoad:_propTypes["default"].func,recaptchaSiteKey:_propTypes["default"].string.isRequired};ReCAPTCHA.defaultProps={badgePos:'bottomright',callback:function callback(){},onLoad:function onLoad(){}};var _default=ReCAPTCHA;exports["default"]=_default;}),42124:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _basic_form_input=_interopRequireDefault(__webpack_require__(54392));var _base=_interopRequireDefault(__webpack_require__(6094));var _freeze_width_button=_interopRequireDefault(__webpack_require__(88233));var _ring=_interopRequireDefault(__webpack_require__(49737));var _templates=__webpack_require__(32797);var _graphql=__webpack_require__(2740);var _main=_interopRequireDefault(__webpack_require__(85061));var _eventTypeTemplates=__webpack_require__(10853);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _forms=__webpack_require__(49448);var _predicates=__webpack_require__(20918);var _validators=__webpack_require__(73235);var _alerts=__webpack_require__(49020);var _keyCodes=__webpack_require__(23789);var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var modeConfig={create:{mutation:'create_bookmark_list'},update:{mutation:'update_bookmark_list'}};var fieldTemplate={id:{validate:function validate(){return null;},value:null,notRequired:true},name:{validate:function validate(val){return(0,_validators.maxLength)(60,val,'Too long');},value:'',customIsRequired:function customIsRequired(val){return(0,_validators.isRequired)(val,'Required field');}},"private":{validate:function validate(){return null;},value:true},project_id:{validate:function validate(){return null;},value:null,notRequired:true}};var BookmarkListForm=function(_Component){_inherits(BookmarkListForm,_Component);var _super=_createSuper(BookmarkListForm);function BookmarkListForm(props){var _this;_classCallCheck(this,BookmarkListForm);_this=_super.call(this,props);_this.state={errors:{},fields:(0,_forms.initFields)(fieldTemplate,props.initValues),formError:'',isBusy:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleKeyDown=_this.handleKeyDown.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.getErrorForField=_forms.getErrorForField.bind(_assertThisInitialized(_this));_this.getFieldValuesAsObject=_forms.getFieldValuesAsObject.bind(_assertThisInitialized(_this));_this.setStateOrError=_forms.setStateOrError.bind(_assertThisInitialized(_this));_this.validateFields=_forms.validateFields.bind(_assertThisInitialized(_this));return _this;}
_createClass(BookmarkListForm,[{key:"handleChange",value:function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;this.setStateOrError(null,name,value);this.setState({formError:''});}},{key:"handleKeyDown",value:function handleKeyDown(e){if(e.keyCode===_keyCodes.ENTER)this.handleSubmit(e);}},{key:"handleSubmit",value:function handleSubmit(){var validated=this.validateFields({doScroll:false});if(validated){return this._submitForm();}}},{key:"_handleCreateListAnalytics",value:function _handleCreateListAnalytics(list){_main["default"].reportEventWithObj((0,_eventTypeTemplates.getCreateBookmarkListArgs)(Object.assign({id:list.id},this.props.analytics)));if((0,_predicates.objHasPropertyWithValue)(list,'bookmark_id')){_main["default"].reportEventWithObj((0,_eventTypeTemplates.getCreateBookmarkArgs)(Object.assign({id:list.bookmark_id},this.props.analytics)));}}},{key:"_resetForm",value:function _resetForm(clearValues){this.state={errors:{},fields:clearValues?(0,_forms.initFields)(fieldTemplate,{}):this.state.fields,formError:'',isBusy:false};}},{key:"_submitForm",value:function _submitForm(){var _this2=this;var values=this.getFieldValuesAsObject();var mutation=modeConfig[this.props.mode].mutation;this.setState({isBusy:true});return(0,_graphql.graphMutate)({t:mutation},values).then(function(_ref){var list=_ref.list;_this2._resetForm(_this2.props.clearOnSubmit);_this2.props.onSubmit(Object.assign({},values,list));_this2._handleCreateListAnalytics(list);})["catch"](function(err){_this2.setState({formError:_alerts.GENERIC_ERROR,isBusy:false});(0,_error_handler["default"])('BookmarksListForm handleSubmit',err);});}},{key:"_getCreateButton",value:function _getCreateButton(){return _react["default"].createElement(_base["default"],{key:"bfs",className:_layout["default"].fullWidth,colorStyle:"secondary",disabled:this.state.isBusy,onClick:this.handleSubmit,size:this.props.componentSize,type:"submit"},this.state.isBusy?_react["default"].createElement(_ring["default"],{size:16}):'Create list');}},{key:"_getUpdateButtons",value:function _getUpdateButtons(){return _react["default"].createElement("div",null,_react["default"].createElement(_freeze_width_button["default"],{disabled:this.state.isBusy,onClick:this.handleSubmit,size:this.props.componentSize,type:"submit"},this.state.isBusy?_react["default"].createElement(_ring["default"],{size:16}):'Save'),_react["default"].createElement(_base["default"],{className:_layout["default"].marginLeft10,colorStyle:"danger",disabled:this.state.isBusy,onClick:this.props.onDeleteClick,size:this.props.componentSize},"Delete"),_react["default"].createElement(_base["default"],{colorStyle:"cancel",disabled:this.state.isBusy,onClick:this.props.onCancelClick,size:this.props.componentSize},"Cancel"));}},{key:"render",value:function render(){var _this$state=this.state,formError=_this$state.formError,fields=_this$state.fields;return _react["default"].createElement("div",null,_react["default"].createElement("div",{onKeyDown:this.handleKeyDown},_react["default"].createElement(_basic_form_input["default"],{autoFocus:true,charCount:fields.name.value.length,classList:{input:_inputs["default"][this.props.componentSize]},errors:this.getErrorForField('name'),label:"Name",maxVal:60,name:"name",onChange:this.handleChange,value:fields.name.value})),(0,_templates.getFormErrorView)(formError),this.props.mode==='update'?this._getUpdateButtons():this._getCreateButton());}}]);return BookmarkListForm;}(_react.Component);BookmarkListForm.propTypes={analytics:_propTypes["default"].shape({widget_src:_propTypes["default"].string.isRequired}).isRequired,clearOnSubmit:_propTypes["default"].bool,componentSize:_propTypes["default"].string,initValues:_propTypes["default"].shape({name:_propTypes["default"].string,"private":_propTypes["default"].bool}),mode:_propTypes["default"].oneOf(['create','update']),onCancelClick:_propTypes["default"].func,onDeleteClick:_propTypes["default"].func,onSubmit:_propTypes["default"].func};BookmarkListForm.defaultProps={clearOnSubmit:true,componentSize:'md',initValues:{},mode:'create',onCancelClick:null,onDeleteClick:null,onSubmit:function onSubmit(){}};var _default=BookmarkListForm;exports["default"]=_default;}),24008:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _async=_interopRequireDefault(__webpack_require__(52899));var _typography=_interopRequireDefault(__webpack_require__(68163));var _bookmarks=_interopRequireDefault(__webpack_require__(86821));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var BookmarkListToggles=function BookmarkListToggles(_ref){var handleCheckboxChange=_ref.handleCheckboxChange,currentListId=_ref.currentListId,lists=_ref.lists,projectId=_ref.projectId;return _react["default"].createElement("ul",{className:_bookmarks["default"].listToggles},lists.map(function(list){return _react["default"].createElement("li",{key:list.id,className:_bookmarks["default"].listToggle},_react["default"].createElement(_async["default"],{classList:{label:"".concat(_typography["default"].bold," ").concat(list.id===currentListId?_typography["default"].asphalt:'')},checkboxPosition:"left",disabled:list.id===currentListId,initChecked:list.project_ids.includes(projectId),label:list.name,request:handleCheckboxChange,requestArgs:function requestArgs(checked){return{addOrRemoveBool:checked,list:list};}}));}));};BookmarkListToggles.propTypes={currentListId:_propTypes["default"].number,handleCheckboxChange:_propTypes["default"].func.isRequired,lists:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,"private":_propTypes["default"].bool.isRequired,project_ids:_propTypes["default"].arrayOf(_propTypes["default"].number).isRequired})),projectId:_propTypes["default"].number.isRequired};BookmarkListToggles.defaultProps={currentListId:null,lists:[]};var _default=BookmarkListToggles;exports["default"]=_default;}),77309:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _bookmark_list_form=_interopRequireDefault(__webpack_require__(42124));var _bookmark_list_toggles=_interopRequireDefault(__webpack_require__(24008));var _base=_interopRequireDefault(__webpack_require__(6094));var _dismiss_button=_interopRequireDefault(__webpack_require__(10283));var _bookmark_store=_interopRequireDefault(__webpack_require__(38596));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _helpers=__webpack_require__(61064);var _mainServiceOperators=__webpack_require__(90375);var _dispatchers=__webpack_require__(10912);var _alerts=__webpack_require__(49020);var _bookmarks=_interopRequireDefault(__webpack_require__(86821));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var _stopImmediatePropagation=function _stopImmediatePropagation(e){return e.nativeEvent.stopImmediatePropagation();};var BookmarksWidget=function(_Component){_inherits(BookmarksWidget,_Component);var _super=_createSuper(BookmarksWidget);function BookmarksWidget(props){var _this;_classCallCheck(this,BookmarksWidget);_this=_super.call(this,props);_this.state={initialized:false,lists:[],showForm:false};_this.handleCheckboxChange=_this.handleCheckboxChange.bind(_assertThisInitialized(_this));_this.handleNewList=_this.handleNewList.bind(_assertThisInitialized(_this));_this.summonForm=_this.summonForm.bind(_assertThisInitialized(_this));return _this;}
_createClass(BookmarksWidget,[{key:"componentDidMount",value:function componentDidMount(){this._init();}},{key:"_init",value:function _init(){var _this2=this;return _bookmark_store["default"].initialize().then(function(){return _this2.setState({initialized:true,lists:_bookmark_store["default"].getLists()});})["catch"](function(err){return(0,_error_handler["default"])(err);});}},{key:"handleCheckboxChange",value:function handleCheckboxChange(_ref){var _this3=this;var addOrRemoveBool=_ref.addOrRemoveBool,list=_ref.list;return(0,_helpers.addOrRemoveBookmark)({addOrRemoveBool:addOrRemoveBool,list:list,projectId:this.props.projectId},this.props.analytics).then(function(lists){_this3.setState({lists:lists});(0,_dispatchers.summonGlobalMessenger)({msg:(0,_helpers.buildBookmarkMessage)(addOrRemoveBool,list.name)});})["catch"](function(err){_this3._handleError(err);return Promise.reject(err);});}},{key:"handleNewList",value:function handleNewList(list){(0,_dispatchers.summonGlobalMessenger)({msg:(0,_helpers.buildBookmarkMessage)(true,list.name,true)});this.setState({lists:_bookmark_store["default"].addList(list,this.props.projectId),showForm:false});}},{key:"summonForm",value:function summonForm(){this.setState({showForm:true});}},{key:"_handleError",value:function _handleError(err){(0,_error_handler["default"])(err);(0,_dispatchers.summonGlobalMessenger)({msg:_alerts.GENERIC_ERROR,type:'error'});}},{key:"_handleMyBookmarksLinkClick",value:function _handleMyBookmarksLinkClick(e){var url=(0,_helpers.getDashboardBookmarksURL)();(0,_mainServiceOperators.fireClickedLinkAnalyticsWithRedirect)({href:url,entity_id:this.props.projectId,location:'My bookmarks',value:this.props.analytics.widget_src},url,e);}},{key:"render",value:function render(){var _this4=this;if(!this.state.initialized)return null;return _react["default"].createElement("div",{className:"".concat(_bookmarks["default"].dropdown," ").concat(_util["default"].bgWhite," ").concat(_util["default"].boxShadow2),onClick:_stopImmediatePropagation},_react["default"].createElement("div",{className:_bookmarks["default"].widgetHeader},_react["default"].createElement("a",{className:"".concat(_typography["default"].linkPebble," ").concat(_typography["default"].h5),href:(0,_helpers.getDashboardBookmarksURL)(),onClick:function onClick(e){return _this4._handleMyBookmarksLinkClick(e);}},"My bookmarks"),_react["default"].createElement(_dismiss_button["default"],{autoFocus:true,onClick:this.props.dismiss,style:{right:'5px',top:'5px'}})),_react["default"].createElement("div",{className:"".concat(_layout["default"].padding15," ").concat(_util["default"].borderTop)},_react["default"].createElement(_bookmark_list_toggles["default"],{currentListId:this.props.currentListId,handleCheckboxChange:this.handleCheckboxChange,lists:this.state.lists,projectId:this.props.projectId}),!this.state.showForm&&_react["default"].createElement(_base["default"],{className:"".concat(_layout["default"].fullWidth," ").concat(_layout["default"].marginTop15),colorStyle:"secondary",disabled:this.state.isBusy,onClick:this.summonForm,size:"sm"},"Create new list")),this.state.showForm&&_react["default"].createElement("div",{className:"".concat(_layout["default"].padding15," ").concat(_util["default"].borderTop)},_react["default"].createElement("h5",{className:"".concat(_typography["default"].h5," ").concat(_layout["default"].marginBottom10)},"Create new list"),_react["default"].createElement(_bookmark_list_form["default"],{analytics:this.props.analytics,componentSize:"sm",onSubmit:this.handleNewList,initValues:{project_id:this.props.projectId}})));}}]);return BookmarksWidget;}(_react.Component);BookmarksWidget.propTypes={analytics:_propTypes["default"].shape({widget_src:_propTypes["default"].string.isRequired}).isRequired,currentListId:_propTypes["default"].number,dismiss:_propTypes["default"].func,onChange:_propTypes["default"].func,projectId:_propTypes["default"].number.isRequired};BookmarksWidget.defaultProps={currentListId:null,dismiss:function dismiss(){},onChange:function onChange(){}};var _default=BookmarksWidget;exports["default"]=_default;}),61064:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.addOrRemoveBookmark=addOrRemoveBookmark;exports.buildBookmarkMessage=buildBookmarkMessage;exports.getDashboardBookmarksURL=getDashboardBookmarksURL;exports.getProjectsCount=getProjectsCount;exports.getPortalWidgetDropdown=getPortalWidgetDropdown;exports.getWidgetDropdown=getWidgetDropdown;exports.outOfBoundsLeft=outOfBoundsLeft;exports.showDropdownOrSummonDialog=showDropdownOrSummonDialog;var _react=_interopRequireDefault(__webpack_require__(67294));var _bookmarks_widget=_interopRequireDefault(__webpack_require__(77309));var _dropdown=_interopRequireDefault(__webpack_require__(87327));var _global_portal_positioner=_interopRequireDefault(__webpack_require__(78960));var _main=_interopRequireDefault(__webpack_require__(85061));var _eventTypeTemplates=__webpack_require__(10853);var _bookmark_store=_interopRequireDefault(__webpack_require__(38596));var _url_service=_interopRequireDefault(__webpack_require__(78379));var _formatters=__webpack_require__(88231);var _graphql=__webpack_require__(2740);var _dispatchers=__webpack_require__(10912);var _window=__webpack_require__(33852);var _bookmarks=_interopRequireDefault(__webpack_require__(86821));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var CREATE_BOOKMARK_MUTATION='create_bookmark';var DELETE_BOOKMARK_MUTATION='delete_bookmark';var MED_WIDTH=768;var WIDGET_WIDTH=270;function addOrRemoveBookmark(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},addOrRemoveBool=_ref.addOrRemoveBool,list=_ref.list,projectId=_ref.projectId;var analytics=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return new Promise(function(resolve,reject){var mutation=addOrRemoveBool?CREATE_BOOKMARK_MUTATION:DELETE_BOOKMARK_MUTATION;return(0,_graphql.graphMutate)({t:mutation},{list_id:list.id,project_id:projectId}).then(function(_ref2){var bookmark=_ref2.bookmark;var updateFn=addOrRemoveBool?'addProjectToList':'removeProjectFromList';var analyticsFn=addOrRemoveBool?_eventTypeTemplates.getCreateBookmarkArgs:_eventTypeTemplates.getDeleteBookmarkArgs;_main["default"].reportEventWithObj(analyticsFn(Object.assign({id:bookmark.id},analytics)));return resolve(_bookmark_store["default"][updateFn](projectId,list.id));})["catch"](function(err){return reject(err);});});}
function buildBookmarkMessage(addOrRemoveBool,listName){var isNew=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return "".concat(addOrRemoveBool?'Saved to':'Removed from').concat(isNew?' new list':''," '").concat(listName,".'");}
function getDashboardBookmarksURL(){return _url_service["default"].url('/dashboard/bookmarks');}
function getProjectsCount(count){return "".concat((0,_formatters.formatNumberWithCommas)(count)," ").concat((0,_formatters.pluralize)('project',count));}
function getPortalWidgetDropdown(_ref3){var analytics=_ref3.analytics,currentListId=_ref3.currentListId,dismiss=_ref3.dismiss,getTarget=_ref3.getTarget,projectId=_ref3.projectId;return _react["default"].createElement(_global_portal_positioner["default"],{getTarget:getTarget,width:WIDGET_WIDTH},getWidgetDropdown({analytics:analytics,currentListId:currentListId,dismiss:dismiss,projectId:projectId}));}
function getWidgetDropdown(_ref4){var analytics=_ref4.analytics,currentListId=_ref4.currentListId,dismiss=_ref4.dismiss,_ref4$getTarget=_ref4.getTarget,getTarget=_ref4$getTarget===void 0?null:_ref4$getTarget,projectId=_ref4.projectId;return _react["default"].createElement(_dropdown["default"],{className:_bookmarks["default"].widgetDropdown,dismiss:dismiss,style:_getDropdownStyle(getTarget)},_getWidgetBody({analytics:analytics,currentListId:currentListId,dismiss:dismiss,projectId:projectId}));}
function outOfBoundsLeft(target,offsetLeft){return target.left-offsetLeft+(0,_window.windowPageXOffset)()<=0;}
function showDropdownOrSummonDialog(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if((0,_window.windowInnerWidth)()>MED_WIDTH)return true;_summonDialog(props);return false;}
function _getDropdownStyle(getTarget){if(!getTarget)return null;var rect=getTarget().getBoundingClientRect();var top=rect.height/2;var left=outOfBoundsLeft(rect,WIDGET_WIDTH)?rect.width:WIDGET_WIDTH*-1;return{left:left,top:top};}
function _getWidgetBody(_ref5){var analytics=_ref5.analytics,currentListId=_ref5.currentListId,dismiss=_ref5.dismiss,projectId=_ref5.projectId;return _react["default"].createElement(_bookmarks_widget["default"],{analytics:analytics,dismiss:dismiss,currentListId:currentListId,projectId:projectId});}
function _summonDialog(_ref6){var currentListId=_ref6.currentListId,projectId=_ref6.projectId;(0,_dispatchers.summonGlobalDialog)({dialogProps:{enableCloseButton:false,wrapperClassName:_layout["default"].padding0},getChildren:function getChildren(dismiss){return _getWidgetBody({currentListId:currentListId,dismiss:dismiss,projectId:projectId});}});}}),29362:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _base=_interopRequireDefault(__webpack_require__(6094));var _freeze_width_button=_interopRequireDefault(__webpack_require__(88233));var _ring=_interopRequireDefault(__webpack_require__(49737));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var getDefaultView=function getDefaultView(_ref){var buttonType=_ref.buttonType,color=_ref.color,disabled=_ref.disabled,isBusy=_ref.isBusy,onClick=_ref.onClick,size=_ref.size,text=_ref.text;return _react["default"].createElement(_freeze_width_button["default"],{colorStyle:color,disabled:disabled||isBusy,onClick:onClick,size:size,type:buttonType},isBusy?_react["default"].createElement(_ring["default"],{size:size==='lg'?20:16}):text);};var getFullWidthView=function getFullWidthView(_ref2){var buttonType=_ref2.buttonType,color=_ref2.color,disabled=_ref2.disabled,isBusy=_ref2.isBusy,onClick=_ref2.onClick,size=_ref2.size,text=_ref2.text;return _react["default"].createElement(_base["default"],{className:_layout["default"].fullWidth,colorStyle:color,disabled:disabled||isBusy,onClick:onClick,size:size,type:buttonType},isBusy?_react["default"].createElement(_ring["default"],{size:size==='lg'?20:16}):text);};var getComponentForType=function getComponentForType(props){switch(props.type){case 'fullWidth':return getFullWidthView(props);default:return getDefaultView(props);}};var ActionableButton=function ActionableButton(props){return getComponentForType(props);};ActionableButton.propTypes={buttonType:_propTypes["default"].oneOf(['button','submit']),color:_propTypes["default"].string,disabled:_propTypes["default"].bool,isBusy:_propTypes["default"].bool,onClick:_propTypes["default"].func,size:_propTypes["default"].string,text:_propTypes["default"].string.isRequired,type:_propTypes["default"].oneOf(['default','fullWidth'])};ActionableButton.defaultProps={buttonType:'button',color:'',disabled:false,isBusy:false,onClick:null,size:'md',type:'default'};var _default=ActionableButton;exports["default"]=_default;}),41159:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _buttons=_interopRequireDefault(__webpack_require__(9010));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var AnchorButton=function AnchorButton(_ref){var children=_ref.children,className=_ref.className,colorStyle=_ref.colorStyle,disabled=_ref.disabled,external=_ref.external,href=_ref.href,onClick=_ref.onClick,size=_ref.size,style=_ref.style,buttonProps=_ref.buttonProps;var classNames="".concat(_buttons["default"][size]," ").concat(_buttons["default"][colorStyle]," ").concat(className);var externalProps=external?{target:'_blank',rel:'noopener noreferrer'}:{};return _react["default"].createElement("a",_extends({className:classNames,disabled:disabled,href:href,onClick:onClick,style:style},externalProps,buttonProps),children);};AnchorButton.propTypes={buttonProps:_propTypes["default"].object,className:_propTypes["default"].string,colorStyle:_propTypes["default"].oneOf(['','secondary','tertiary','outline','blank','cancel']),disabled:_propTypes["default"].bool,external:_propTypes["default"].bool,href:_propTypes["default"].string,onClick:_propTypes["default"].func,size:_propTypes["default"].oneOf(['sm','md','lg','jumbo']),style:_propTypes["default"].object};AnchorButton.defaultProps={buttonProps:{},className:'',colorStyle:'',disabled:false,external:false,href:'javascript:void(0);',onClick:function onClick(){},size:'md',style:{}};var _default=AnchorButton;exports["default"]=_default;}),6094:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _buttons=_interopRequireDefault(__webpack_require__(9010));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var Button=function Button(_ref){var children=_ref.children,className=_ref.className,colorStyle=_ref.colorStyle,disabled=_ref.disabled,onClick=_ref.onClick,onKeyDown=_ref.onKeyDown,size=_ref.size,style=_ref.style,type=_ref.type,buttonProps=_ref.buttonProps;var classNames="".concat(_buttons["default"][size]," ").concat(_buttons["default"][colorStyle]," ").concat(className);return _react["default"].createElement("button",_extends({className:classNames,disabled:disabled,onClick:onClick,onKeyDown:onKeyDown,style:style,type:type},buttonProps),children);};Button.propTypes={buttonProps:_propTypes["default"].object,className:_propTypes["default"].string,colorStyle:_propTypes["default"].oneOf(['','secondary','tertiary','outline','outlineBlack','outlineBlue','blank','cancel','danger']),disabled:_propTypes["default"].bool,onClick:_propTypes["default"].func,onKeyDown:_propTypes["default"].func,size:_propTypes["default"].oneOf(['sm','md','lg','jumbo']),style:_propTypes["default"].object,type:_propTypes["default"].oneOf(['button','submit','reset'])};Button.defaultProps={buttonProps:{},className:'',colorStyle:'',disabled:false,onKeyDown:function onKeyDown(){},onClick:function onClick(){},size:'md',style:{},type:'button'};var _default=Button;exports["default"]=_default;}),53121:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _bookmark_store=_interopRequireDefault(__webpack_require__(38596));var _current_user=_interopRequireDefault(__webpack_require__(94691));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _helpers=__webpack_require__(61064);var _dispatchers=__webpack_require__(10912);var _main=_interopRequireDefault(__webpack_require__(85061));var _eventTypeTemplates=__webpack_require__(10853);var _keyCodes=__webpack_require__(23789);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var BookmarkButton=function(_Component){_inherits(BookmarkButton,_Component);var _super=_createSuper(BookmarkButton);function BookmarkButton(props){var _this;_classCallCheck(this,BookmarkButton);_this=_super.call(this,props);_this.state={currentUserId:null,showDropdown:false,initialized:false,isBookmarked:false};_this.getTarget=_this.getTarget.bind(_assertThisInitialized(_this));_this.handleBookmarkChange=_this.handleBookmarkChange.bind(_assertThisInitialized(_this));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.handleDismiss=_this.handleDismiss.bind(_assertThisInitialized(_this));_this.handleKeyDown=_this.handleKeyDown.bind(_assertThisInitialized(_this));_this._analyticsSrc=_this._parseSourceForAnalytics(props.source);_this._button;_this._isMounted;_this._updateSub;return _this;}
_createClass(BookmarkButton,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._updateSub=_bookmark_store["default"].getChannel().subscribe('bookmark.changed',this.handleBookmarkChange);this._init();}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this._updateSub)this._updateSub.unsubscribe();this._isMounted=false;}},{key:"_init",value:function _init(){var _this2=this;return Promise.all([_current_user["default"].getAsync('id'),_bookmark_store["default"].initialize()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),currentUserId=_ref2[0],isBookmarked=_ref2[1];if(_this2._isMounted){_this2.setState({currentUserId:currentUserId,initialized:true,isBookmarked:_this2._getIsBookmarked()});}})["catch"](function(err){return(0,_error_handler["default"])('BookmarkButton _init',err);});}},{key:"_parseSourceForAnalytics",value:function _parseSourceForAnalytics(source){return{widget_src:source.split('_').filter(function(w){return w!=='bookmark';}).join('_')};}},{key:"getTarget",value:function getTarget(){return this._button;}},{key:"handleBookmarkChange",value:function handleBookmarkChange(_ref3){var projectId=_ref3.projectId,addOrRemoveBool=_ref3.addOrRemoveBool;if(projectId!==this.props.projectId)return;if(addOrRemoveBool&&!this.state.isBookmarked)return this.setState({isBookmarked:true});if(!addOrRemoveBool)return this.setState({isBookmarked:this._getIsBookmarked()});}},{key:"handleClick",value:function handleClick(e){if(this.state.showDropdown)return this.handleDismiss();if(this.state.currentUserId===null){(0,_dispatchers.summonLoginPanel)({detail:{state:{currentPanel:'signup'},source:this.props.source}});}else{this._summonWidget(e);}}},{key:"handleDismiss",value:function handleDismiss(){this.setState({showDropdown:false});}},{key:"handleKeyDown",value:function handleKeyDown(e){if(e.keyCode===_keyCodes.ESC&&this.state.showDropdown)this.handleDismiss();}},{key:"_getIsBookmarked",value:function _getIsBookmarked(){var _this3=this;var lists=_bookmark_store["default"].getLists();return lists.some(function(list){return list.project_ids.includes(_this3.props.projectId);});}},{key:"_handleOpenMenuAnalytics",value:function _handleOpenMenuAnalytics(){_main["default"].reportEventWithObj((0,_eventTypeTemplates.getOpenedBookmarkMenuArgs)(Object.assign({project_id:this.props.projectId},this._analyticsSrc)));}},{key:"_summonWidget",value:function _summonWidget(){var showDropdown=(0,_helpers.showDropdownOrSummonDialog)({projectId:this.props.projectId});this._handleOpenMenuAnalytics();this.setState({showDropdown:showDropdown});}},{key:"_getDropdown",value:function _getDropdown(){var params={analytics:this._analyticsSrc,dismiss:this.handleDismiss,projectId:this.props.projectId,getTarget:this.getTarget};return this.props.usePortal?(0,_helpers.getPortalWidgetDropdown)(params):(0,_helpers.getWidgetDropdown)(params);}},{key:"render",value:function render(){var _this4=this;var showDropdown=this.state.showDropdown;return _react["default"].createElement("div",{className:_util["default"].posRelative,onKeyDown:this.handleKeyDown},_react["default"].createElement("button",{ref:function ref(el){return _this4._button=el;},className:"".concat(_buttons["default"].icon," ").concat(_buttons["default"][this.props.size]," ").concat(_buttons["default"].outlineBlack),disabled:!this.state.initialized,onClick:this.handleClick},_react["default"].createElement(_icon["default"],{name:this.state.isBookmarked?'bookmark-filled':'bookmark'})),showDropdown&&this._getDropdown());}}]);return BookmarkButton;}(_react.Component);BookmarkButton.propTypes={projectId:_propTypes["default"].number.isRequired,size:_propTypes["default"].oneOf(['sm','md']),source:_propTypes["default"].string,usePortal:_propTypes["default"].bool};BookmarkButton.defaultProps={size:'sm',source:'project_card_bookmark',usePortal:false};var _default=BookmarkButton;exports["default"]=_default;}),32067:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _dropdown=_interopRequireDefault(__webpack_require__(87327));var _icon=_interopRequireDefault(__webpack_require__(44509));var _keyCodes=__webpack_require__(23789);var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ButtonDropdown=function(_PureComponent){_inherits(ButtonDropdown,_PureComponent);var _super=_createSuper(ButtonDropdown);function ButtonDropdown(props){var _this;_classCallCheck(this,ButtonDropdown);_this=_super.call(this,props);_this.state={open:false};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.handleKeyDown=_this.handleKeyDown.bind(_assertThisInitialized(_this));return _this;}
_createClass(ButtonDropdown,[{key:"__toggleDropdownHook",value:function __toggleDropdownHook(){var open=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this._toggleDropdown(open);}},{key:"handleClick",value:function handleClick(e){this._toggleDropdown(!this.state.open);}},{key:"handleKeyDown",value:function handleKeyDown(e){if(this.state.open&&e.keyCode===_keyCodes.ESC){this._toggleDropdown(false);}}},{key:"_toggleDropdown",value:function _toggleDropdown(open){this.setState({open:open});this.props.handleToggle(open);}},{key:"render",value:function render(){var open=this.state.open;var _this$props=this.props,classList=_this$props.classList,disabled=_this$props.disabled,targetWillUnmount=_this$props.targetWillUnmount;var label=open&&this.props.labelOpen?this.props.labelOpen:this.props.label;return _react["default"].createElement("div",{className:"".concat(_util["default"].posRelative," ").concat(classList.wrapper),onKeyDown:this.handleKeyDown},_react["default"].createElement("button",{className:classList.button,"aria-haspopup":"true","aria-expanded":open,disabled:disabled,onClick:this.handleClick,type:"button"},label),open&&_react["default"].createElement(_dropdown["default"],{className:classList.dropdown,alignRight:this.props.alignRight,alignTop:this.props.alignTop,dismiss:this.handleClick,elevation:this.props.elevation,onClick:this.props.closeOnSelect?this.handleClick:null,targetWillUnmount:targetWillUnmount},this.props.children));}}]);return ButtonDropdown;}(_react.PureComponent);ButtonDropdown.propTypes={alignRight:_propTypes["default"].bool,alignTop:_propTypes["default"].bool,classList:_propTypes["default"].shape({button:_propTypes["default"].string,dropdown:_propTypes["default"].string,wrapper:_propTypes["default"].string}),closeOnSelect:_propTypes["default"].bool,elevation:_propTypes["default"].oneOf([0,1,2]),handleToggle:_propTypes["default"].func,label:_propTypes["default"].node,labelOpen:_propTypes["default"].node,targetWillUnmount:_propTypes["default"].bool};ButtonDropdown.defaultProps={alignRight:false,alignTop:false,classList:{button:'',dropdown:'',wrapper:''},closeOnSelect:false,elevation:1,handleToggle:function handleToggle(){},label:_react["default"].createElement(_icon["default"],{name:"arrow-down"}),labelOpen:null,targetWillUnmount:false};var _default=ButtonDropdown;exports["default"]=_default;}),17898:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _base=_interopRequireDefault(__webpack_require__(6094));var _ContestEmail=_interopRequireDefault(__webpack_require__(93119));var _Dialog=_interopRequireDefault(__webpack_require__(27408));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DialogAction=function(_Component){_inherits(DialogAction,_Component);var _super=_createSuper(DialogAction);function DialogAction(props){var _this;_classCallCheck(this,DialogAction);_this=_super.call(this,props);_this.state={open:false};return _this;}
_createClass(DialogAction,[{key:"_getActionable",value:function _getActionable(){if(this.props.actionEl)return this.props.actionEl;switch(this.props.actionableType){default:return this._getButtonView();}}},{key:"_getButtonView",value:function _getButtonView(){var _this2=this;var props=this.props.actionableConfig.props||{};return _react["default"].createElement(_base["default"],_extends({},props,{onClick:function onClick(){return _this2.setState({open:true});}}),this.props.actionableConfig.text);}},{key:"_getDialogBody",value:function _getDialogBody(){if(this.props.dialogRenderType==='custom')return this._getCustomDialogBodyComponent();switch(this.props.dialogRenderType){default:return this.props.children||null;}}},{key:"_getCustomDialogBodyComponent",value:function _getCustomDialogBodyComponent(){switch(this.props.customDialogBodyComponent){case 'ContestEmail':var email=this.props.dialogProps.email;return _react["default"].createElement(_ContestEmail["default"],{body:email[1],subject:email[0]});default:null;}}},{key:"render",value:function render(){var fullScreen=this.props.dialogConfig.fullScreen;return _react["default"].createElement(_react.Fragment,null,this._getActionable(),_react["default"].createElement(_Dialog["default"],{fullScreen:fullScreen||false,open:this.state.open},this._getDialogBody()));}}]);return DialogAction;}(_react.Component);DialogAction.propTypes={actionEl:_propTypes["default"].element,actionableConfig:_propTypes["default"].shape({props:_propTypes["default"].object,text:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].element])}),actionableType:_propTypes["default"].oneOf(['button']),customDialogBodyComponent:_propTypes["default"].string,dialogConfig:_propTypes["default"].shape({fullScreen:_propTypes["default"].bool,minWidth:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]),width:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number])}),dialogProps:_propTypes["default"].shape({}),dialogRenderType:_propTypes["default"].oneOf(['children','custom','element','html','iframe'])};DialogAction.defaultProps={actionEl:null,actionableConfig:{props:{},text:'Open'},actionableType:'button',customDialogBodyComponent:null,dialogConfig:{fullScreen:false,minWidth:null,width:null},dialogProps:{},dialogRenderType:'children'};var _default=DialogAction;exports["default"]=_default;}),10283:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _dismiss_button=_interopRequireDefault(__webpack_require__(54677));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DismissButton=function DismissButton(_ref){var autoFocus=_ref.autoFocus,className=_ref.className,fullScreen=_ref.fullScreen,onClick=_ref.onClick,style=_ref.style;return _react["default"].createElement("button",{className:"".concat(fullScreen?_dismiss_button["default"].fixed:_dismiss_button["default"].absolute," ").concat(className),autoFocus:autoFocus,onClick:onClick,style:style,type:"button"},_react["default"].createElement(_icon["default"],{name:"close",size:"16"}));};DismissButton.propTypes={className:_propTypes["default"].string,fullScreen:_propTypes["default"].bool,onClick:_propTypes["default"].func,style:_propTypes["default"].object};DismissButton.defaultProps={className:'',fullScreen:false,onClick:function onClick(){},style:{}};var _default=DismissButton;exports["default"]=_default;}),81322:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _ring=_interopRequireDefault(__webpack_require__(49737));var _flags=__webpack_require__(87360);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _simple_select=_interopRequireDefault(__webpack_require__(27464));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var FlagButton=function(_Component){_inherits(FlagButton,_Component);var _super=_createSuper(FlagButton);function FlagButton(props){var _this;_classCallCheck(this,FlagButton);_this=_super.call(this,props);_this.state={flagged:false,isLoading:false};_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));return _this;}
_createClass(FlagButton,[{key:"onClick",value:function onClick(){if(!this.state.isLoading&&!this.state.flagged){this.setState({isLoading:true});this._createFlag();}}},{key:"_createFlag",value:function _createFlag(){var _this2=this;return(0,_flags.flagContent)(this.props.flaggable,this.props.currentUserId).then(function(res){return _this2.setState({isLoading:false,flagged:true});})["catch"](function(err){return(0,_error_handler["default"])('FlagButton createFlag ',err);});}},{key:"_getLoader",value:function _getLoader(){return _react["default"].createElement(_ring["default"],{size:"16"});}},{key:"_getText",value:function _getText(){return this.state.flagged?'Report sent':'Report';}},{key:"render",value:function render(){return _react["default"].createElement("span",{className:"flag-btn ".concat(this.state.flagged?_simple_select["default"].optionDisabled:''),onClick:this.onClick},this.state.isLoading?this._getLoader():this._getText());}}]);return FlagButton;}(_react.Component);FlagButton.propTypes={currentUserId:_propTypes["default"].number.isRequired,flaggable:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,type:_propTypes["default"].string.isRequired}).isRequired};var _default=FlagButton;exports["default"]=_default;}),88233:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _base=_interopRequireDefault(__webpack_require__(6094));var _freezeWidth=_interopRequireDefault(__webpack_require__(99769));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var FreezeWidthButton=(0,_freezeWidth["default"])(_base["default"]);FreezeWidthButton.propTypes=_base["default"].propTypes;FreezeWidthButton.defaultProps=_base["default"].defaultProps;var _default=FreezeWidthButton;exports["default"]=_default;}),60922:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _ring=_interopRequireDefault(__webpack_require__(49737));var _flags=__webpack_require__(87360);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _simple_select=_interopRequireDefault(__webpack_require__(27464));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var MarkSpamButton=function(_Component){_inherits(MarkSpamButton,_Component);var _super=_createSuper(MarkSpamButton);function MarkSpamButton(props){var _this;_classCallCheck(this,MarkSpamButton);_this=_super.call(this,props);_this.state={flagged:false,isLoading:false};_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));return _this;}
_createClass(MarkSpamButton,[{key:"onClick",value:function onClick(){if(!this.state.isLoading&&!this.state.flagged&&this._confirm()){this.setState({isLoading:true});this._createFlag();}}},{key:"_confirm",value:function _confirm(){var message=this.props.confirmMessage||"Warning! This will also delete the ".concat(this.props.flaggable.type.toLowerCase(),". This action is irreversible. Are you sure?");return this.props.shouldConfirm?window.confirm(message):true;}},{key:"_createFlag",value:function _createFlag(){var _this2=this;return(0,_flags.markAsSpam)(this.props.flaggable).then(function(){return _this2.setState({isLoading:false,flagged:true});})["catch"](function(err){return(0,_error_handler["default"])('MarkSpamButton _createFlag: ',err);});}},{key:"_getLoader",value:function _getLoader(){return _react["default"].createElement(_ring["default"],{size:"16"});}},{key:"_getText",value:function _getText(){return this.state.flagged?'Marked as spam':'Mark as spam';}},{key:"render",value:function render(){return _react["default"].createElement("span",{className:"flag-btn ".concat(this.state.flagged?_simple_select["default"].optionDisabled:''),onClick:this.onClick},this.state.isLoading?this._getLoader():this._getText());}}]);return MarkSpamButton;}(_react.Component);MarkSpamButton.propTypes={confirmMessage:_propTypes["default"].string,flaggable:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,type:_propTypes["default"].string.isRequired}).isRequired,shouldConfirm:_propTypes["default"].bool};MarkSpamButton.defaultProps={confirmMessage:null,shouldConfirm:false};var _default=MarkSpamButton;exports["default"]=_default;}),51591:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var PlayButton=function PlayButton(_ref){var className=_ref.className,_ref$fill=_ref.fill,fill=_ref$fill===void 0?"#FFFFFF":_ref$fill,_ref$height=_ref.height,height=_ref$height===void 0?56:_ref$height,_ref$width=_ref.width,width=_ref$width===void 0?56:_ref$width;return _react["default"].createElement("svg",{viewBox:"0 0 42 42",className:className,height:height,width:width,fill:fill,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("g",{fillRule:"nonzero"},_react["default"].createElement("circle",{cx:"21",cy:"21",r:"20",fill:"none"}),_react["default"].createElement("path",{d:"M21 41.17c-11.6 0-21-9.22-21-20.58C0 9.22 9.4 0 21 0s21 9.22 21 20.59c0 11.36-9.4 20.58-21 20.58zm0-1.95c10.5 0 19-8.34 19-18.63 0-10.3-8.5-18.64-19-18.64S2 10.3 2 20.6c0 10.29 8.5 18.63 19 18.63z"}),_react["default"].createElement("path",{d:"M29.52 21.5l-12.08 5.92a1 1 0 0 1-1.44-.9V14.67a1 1 0 0 1 1.44-.9l12.08 5.93a1 1 0 0 1 0 1.8z"})));};var _default=PlayButton;exports["default"]=_default;}),9782:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _relation_button=_interopRequireDefault(__webpack_require__(87164));var _icon=_interopRequireDefault(__webpack_require__(44509));var _formatters=__webpack_require__(88231);var _enum=__webpack_require__(96463);var _themes=_interopRequireDefault(__webpack_require__(47847));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var getTypeForButton=function getTypeForButton(type){return "respected_".concat((0,_enum.respectableTypeEnumToLabel)(type));};var RespectButton=function(_Component){_inherits(RespectButton,_Component);var _super=_createSuper(RespectButton);function RespectButton(props){var _this;_classCallCheck(this,RespectButton);_this=_super.call(this,props);_this.state={respects:props.respects};_this.setRespects=_this.setRespects.bind(_assertThisInitialized(_this));return _this;}
_createClass(RespectButton,[{key:"setRespects",value:function setRespects(createOrDeleteBool){if(!this.props.controlled){var respects=createOrDeleteBool?this.state.respects+1:this.state.respects-1;this.setState({respects:respects});}
this.props.onClick(createOrDeleteBool);}},{key:"_getStyles",value:function _getStyles(){return _themes["default"][this.props.theme];}},{key:"_getRespectCount",value:function _getRespectCount(){return this.props.controlled?this.props.respects:this.state.respects;}},{key:"_getLabel",value:function _getLabel(icon,styles){var respects=this._getRespectCount();return _react["default"].createElement("span",{className:styles.wrapper},_react["default"].createElement(_icon["default"],{name:icon}),respects>0&&_react["default"].createElement("span",{className:_layout["default"].marginLeft5},(0,_formatters.formatNumberLimit4Chars)(respects)));}},{key:"render",value:function render(){var _this$props=this.props,disabled=_this$props.disabled,id=_this$props.id,type=_this$props.type;var styles=this._getStyles();return _react["default"].createElement(_relation_button["default"],{additionalRequestArgs:{respectable_type:type},config:{className:[styles.respectButton,styles.respectedButton],label:[this._getLabel('thumbs-up',styles),this._getLabel('thumbs-up-filled',styles)]},disableCompletely:disabled,id:id,onClick:this.setRespects,type:getTypeForButton(type)});}}]);return RespectButton;}(_react.Component);RespectButton.propTypes={controlled:_propTypes["default"].bool,disabled:_propTypes["default"].bool,id:_propTypes["default"].number.isRequired,onClick:_propTypes["default"].func,respects:_propTypes["default"].number,theme:_propTypes["default"].string,type:_propTypes["default"].oneOf([_enum.COMMENT,_enum.FEED_POST,_enum.NEWS_ARTICLE,_enum.PROJECT])};RespectButton.defaultProps={controlled:false,disabled:false,onClick:function onClick(){},respects:0,theme:'default',type:_enum.PROJECT};var _default=RespectButton;exports["default"]=_default;}),47847:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _default2=_interopRequireDefault(__webpack_require__(95595));var _project_page=_interopRequireDefault(__webpack_require__(87990));var _sticky_actions=_interopRequireDefault(__webpack_require__(6773));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var buttonBase="".concat(_buttons["default"].icon," ").concat(_buttons["default"].outlineBlue);var articleBottomButton="".concat(buttonBase," ").concat(_buttons["default"].md);var articleSideButton="".concat(buttonBase," ").concat(_buttons["default"].md," ").concat(_sticky_actions["default"].stickyButton);var postCardButton="".concat(buttonBase," ").concat(_buttons["default"].sm," ").concat(_layout["default"].padding10);var postCardCommentButton="".concat(_buttons["default"].blank," ").concat(_typography["default"].hackster," ").concat(_typography["default"].bodyS);var projectCardButton="".concat(buttonBase," ").concat(_buttons["default"].sm," ").concat(_layout["default"].marginRight10);var defaultTheme={respectButton:buttonBase,respectedButton:buttonBase,wrapper:_default2["default"].wrapper};var themeOverrides={articleBottom:{respectButton:articleBottomButton,respectedButton:articleBottomButton},articleSide:{respectButton:articleSideButton,respectedButton:articleSideButton},postCard:{respectButton:postCardButton,respectedButton:postCardButton},postCardComment:{respectButton:postCardCommentButton,respectedButton:postCardCommentButton},project_card:{respectButton:projectCardButton,respectedButton:projectCardButton},project_page:{respectButton:"".concat(buttonBase," ").concat(_buttons["default"].md," ").concat(_project_page["default"].respectButton),respectedButton:"".concat(buttonBase," ").concat(_buttons["default"].md," ").concat(_project_page["default"].respectedButton)}};var themes=Object.keys(themeOverrides).reduce(function(acc,key){return Object.assign({},acc,_defineProperty({},key,Object.assign({},defaultTheme,themeOverrides[key])));},{"default":defaultTheme});var _default=themes;exports["default"]=_default;}),35801:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _custom=_interopRequireDefault(__webpack_require__(79953));var _formatters=__webpack_require__(88231);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _cta_button=_interopRequireDefault(__webpack_require__(68476));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var icons={facebook:_react["default"].createElement("i",{className:"fa fa-facebook"}),google:_react["default"].createElement(_custom["default"],{name:"google"})};var SocialCTAButton=function SocialCTAButton(_ref){var action=_ref.action,href=_ref.href,service=_ref.service,onClick=_ref.onClick;return _react["default"].createElement("a",{className:"".concat(_buttons["default"].lg," ").concat(_cta_button["default"]["".concat(service,"Btn")]),href:href,onClick:onClick},_react["default"].createElement("div",{className:_cta_button["default"]["".concat(service,"Icon")]},icons[service]),_react["default"].createElement("div",null,"".concat(action," with ").concat((0,_formatters.firstCharUpperCase)(service))));};SocialCTAButton.propTypes={action:_propTypes["default"].string,href:_propTypes["default"].string,onClick:_propTypes["default"].func,service:_propTypes["default"].oneOf(['facebook','google'])};SocialCTAButton.defaultProps={action:'Connect',href:'javascript:void(0)',onClick:function onClick(){},service:'facebook'};var _default=SocialCTAButton;exports["default"]=_default;}),50032:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _custom=_interopRequireDefault(__webpack_require__(79953));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _icon_button=_interopRequireDefault(__webpack_require__(7417));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var icons={arduino:{btnClass:"".concat(_icon_button["default"].btn," ").concat(_icon_button["default"].arduino),iconClass:'arduino',iconType:'custom'},github:{btnClass:"".concat(_icon_button["default"].btn," ").concat(_icon_button["default"].github),iconClass:'fa-github',iconType:'fa'},twitter:{btnClass:_icon_button["default"].btn,iconClass:'fa-twitter',iconType:'fa'},windowslive:{btnClass:_icon_button["default"].btn,iconClass:'fa-windows',iconType:'fa'}};var SocialIconButton=function SocialIconButton(_ref){var className=_ref.className,href=_ref.href,service=_ref.service,onClick=_ref.onClick;var _icons$service=icons[service],btnClass=_icons$service.btnClass,iconClass=_icons$service.iconClass,iconType=_icons$service.iconType;return _react["default"].createElement("a",{className:"".concat(_buttons["default"].md," ").concat(btnClass," ").concat(className),href:href,onClick:onClick},iconType==='fa'?_react["default"].createElement("i",{className:"fa ".concat(iconClass)}):_react["default"].createElement(_custom["default"],{className:className,name:iconClass,size:25}));};SocialIconButton.propTypes={href:_propTypes["default"].string,onClick:_propTypes["default"].func,service:_propTypes["default"].oneOf(['arduino','github','twitter','windowslive']).isRequired};SocialIconButton.defaultProps={href:'javascript:void(0)',onClick:function onClick(){}};var _default=SocialIconButton;exports["default"]=_default;}),90104:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _templates=__webpack_require__(67133);var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DummyBaseCardText=function DummyBaseCardText(_ref){var _ref$className=_ref.className,className=_ref$className===void 0?'':_ref$className,_ref$size=_ref.size,size=_ref$size===void 0?'M':_ref$size;return _react["default"].createElement("div",{className:"".concat(className," ").concat(_layout["default"].fullWidth)},_react["default"].createElement(_templates.TextPlaceholder,{height:size==="M"?16:18,width:"95%"}),_react["default"].createElement(_templates.TextPlaceholder,{height:size==="M"?14:16,marginTop:10,width:"40%"}),_react["default"].createElement(_templates.TextPlaceholder,{height:size==="M"?14:16,marginTop:10,width:"60%"}));};var _default=DummyBaseCardText;exports["default"]=_default;}),80332:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.paddingClassForRatio=void 0;var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var PADDING_CLASSES={'3:2':_util["default"].aspectRatioPadding3_2,'4:3':_util["default"].aspectRatioPadding4_3,'16:9':_util["default"].aspectRatioPadding16_9};var paddingClassForRatio=function paddingClassForRatio(ratio){return PADDING_CLASSES[ratio]||_util["default"].aspectRatioPadding4_3;};exports.paddingClassForRatio=paddingClassForRatio;}),50961:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DummyBaseCardText=_interopRequireDefault(__webpack_require__(90104));var _baseCardHelpers=__webpack_require__(80332);var _layout=_interopRequireDefault(__webpack_require__(42721));var _animation=_interopRequireDefault(__webpack_require__(61461));var _util=_interopRequireDefault(__webpack_require__(48161));var _base_card_vertical=_interopRequireDefault(__webpack_require__(88301));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DummyBaseCardVertical=function DummyBaseCardVertical(_ref){var className=_ref.className,imageAspectRatio=_ref.imageAspectRatio,responsive=_ref.responsive;return _react["default"].createElement("div",{className:"".concat(responsive?_base_card_vertical["default"].cardResponsive:''," ").concat(_layout["default"].flexColumn," ").concat(_layout["default"].fullWidth," ").concat(className)},_react["default"].createElement("div",{className:"".concat(responsive?_base_card_vertical["default"].imageResponsive:''," ").concat(_layout["default"].fullWidth," ").concat(_util["default"].absolutePlaceholderParent," ").concat((0,_baseCardHelpers.paddingClassForRatio)(imageAspectRatio))},_react["default"].createElement("div",{className:"".concat(_animation["default"].loader," ").concat(_util["default"].absolutePlaceholderChild," ").concat(_util["default"].borderRadius)})),_react["default"].createElement("div",{className:"".concat(responsive?_base_card_vertical["default"].textResponsive:''," ").concat(_layout["default"].marginTop22)},_react["default"].createElement(_DummyBaseCardText["default"],null)));};DummyBaseCardVertical.propTypes={className:_propTypes["default"].string,imageAspectRatio:_propTypes["default"].string,responsive:_propTypes["default"].bool};DummyBaseCardVertical.defaultProps={className:'',imageAspectRatio:'4:3',responsive:false};var _default=DummyBaseCardVertical;exports["default"]=_default;}),50776:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _relation_button=_interopRequireDefault(__webpack_require__(87164));var _config=__webpack_require__(34140);var _accessors=__webpack_require__(4887);var _formatters=__webpack_require__(88231);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _cards=_interopRequireDefault(__webpack_require__(28246));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _getLabelForItem=function _getLabelForItem(item){switch(item.type){case 'Community':case 'Platform':return(0,_config.labelOverride)("Join ".concat(item.type));case 'TopicChannel':return(0,_config.labelOverride)('Follow Topic');default:return(0,_config.labelOverride)('Join Community');}};var _getNewBadge=function _getNewBadge(item){if((0,_accessors.getInObj)(['is_new'],item)!==true)return null;return _react["default"].createElement("div",{className:_cards["default"].newBadgeContainer},_react["default"].createElement("p",{className:_cards["default"].newBadge1},"NEW"),_react["default"].createElement("p",{className:_cards["default"].newBadge2},"to Hackster"));};var ChannelCard=function ChannelCard(_ref){var classList=_ref.classList,item=_ref.item,onClick=_ref.onClick,showBorder=_ref.showBorder;return _react["default"].createElement("div",{className:classList.wrapper||_cards["default"].wrapper},_react["default"].createElement("div",{className:"".concat(_cards["default"].card," ").concat(showBorder&&_util["default"].border," ").concat(_cards["default"].cardBody)},_react["default"].createElement("div",{className:_layout["default"].flexJustifySpaceBetween},(item.avatar_url||item.logo_url)&&_react["default"].createElement("div",{className:_cards["default"].icon},_react["default"].createElement("a",{href:item.url,onClick:onClick},_react["default"].createElement(_LazyImage["default"],{alt:item.name,captureScroll:true,className:_cards["default"].lazyImage,fit:"fill",ratio:"1:1",queryParams:{bg:'ffffff'},src:item.avatar_url||item.logo_url||'',width:75}))),_getNewBadge(item)),_react["default"].createElement("a",{className:"".concat(_cards["default"].title," ").concat(_typography["default"].bodyM," ").concat(_typography["default"].linkCharcoal," ").concat(_layout["default"].marginTop15," ").concat(_layout["default"].marginBottom10),href:item.url,onClick:onClick},item.name),_react["default"].createElement("section",{className:_typography["default"].bodyS},item.pitch),_react["default"].createElement("div",{className:_cards["default"].spacer}),_react["default"].createElement("div",{className:"".concat(_cards["default"].stats," ").concat(_typography["default"].bodyXS)},_react["default"].createElement("span",{className:_cards["default"].stat},"".concat((0,_formatters.formatNumberWithCommas)(item.members_count)," Members")),_react["default"].createElement("span",{className:_cards["default"].stat},"".concat((0,_formatters.formatNumberWithCommas)(item.projects_count)," Projects"))),_react["default"].createElement(_relation_button["default"],{config:{label:_getLabelForItem(item)},id:item.id,type:"channel_sm"})));};ChannelCard.propTypes={classList:_propTypes["default"].shape({wrapper:_propTypes["default"].string}),item:_propTypes["default"].shape({avatar_url:_propTypes["default"].string,id:_propTypes["default"].number,is_new:_propTypes["default"].bool,logo_url:_propTypes["default"].string,members_count:_propTypes["default"].number,name:_propTypes["default"].string,pitch:_propTypes["default"].string,projects_count:_propTypes["default"].number,type:_propTypes["default"].string}).isRequired,onClick:_propTypes["default"].func,showBorder:_propTypes["default"].bool};ChannelCard.defaultProps={classList:{},onClick:function onClick(){},showBorder:true};var _default=ChannelCard;exports["default"]=_default;}),10842:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _UsersMenu=_interopRequireDefault(__webpack_require__(91545));var _arrayToSentence=_interopRequireDefault(__webpack_require__(7020));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var SponsorsMenuView=function SponsorsMenuView(_ref){var classList=_ref.classList,sponsors=_ref.sponsors,sponsorsConfig=_ref.sponsorsConfig;return _react["default"].createElement("div",{className:"".concat(classList.typography," ").concat(_layout["default"].flex)},_react["default"].createElement("span",{style:{marginRight:5}},'With'),_react["default"].createElement(_UsersMenu["default"],_extends({classList:{label:_typography["default"].linkBlue},teamName:"Sponsors",users:sponsors},sponsorsConfig.menuPos)));};var SponsorLinkView=function SponsorLinkView(sponsor){return _react["default"].createElement("a",{className:_typography["default"].linkBlue,href:sponsor.url},sponsor.name);};var ContestSponsorsList=function ContestSponsorsList(_ref2){var classList=_ref2.classList,sponsors=_ref2.sponsors,sponsorsConfig=_ref2.sponsorsConfig;if(!sponsors.length)return null;if(sponsors.length>sponsorsConfig.limit){return _react["default"].createElement(SponsorsMenuView,{classList:classList,sponsors:sponsors,sponsorsConfig:sponsorsConfig});}
return _react["default"].createElement("div",{className:"".concat(classList.root," ").concat(classList.typography)},_react["default"].createElement("span",null,'With '),_react["default"].createElement("span",null,(0,_arrayToSentence["default"])(sponsors.map(SponsorLinkView))));};ContestSponsorsList.propTypes={classList:_propTypes["default"].shape({root:_propTypes["default"].string,typography:_propTypes["default"].string}),sponsors:_propTypes["default"].arrayOf(_propTypes["default"].shape({name:_propTypes["default"].string,url:_propTypes["default"].string})).isRequired,sponsorsConfig:_propTypes["default"].shape({limit:_propTypes["default"].number,menuPos:_propTypes["default"].shape({alignRight:_propTypes["default"].bool,alignTop:_propTypes["default"].bool})})};ContestSponsorsList.defaultProps={classList:{root:'',typography:_typography["default"].bodyS},sponsorsConfig:{limit:5,menuPos:{alignRight:false,alignTop:true}}};var _default=ContestSponsorsList;exports["default"]=_default;}),54555:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _anchor=_interopRequireDefault(__webpack_require__(41159));var _ContestSponsorsList=_interopRequireDefault(__webpack_require__(10842));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _accessors=__webpack_require__(4887);var _cards=_interopRequireDefault(__webpack_require__(28246));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _contest_card=_interopRequireDefault(__webpack_require__(89223));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _getButtonProps=function _getButtonProps(_ref){var status=_ref.status,url=_ref.url;switch(status){case 'in_progress':case 'IN_PROGRESS':return{href:url,label:'Participate'};case 'judging':case 'JUDGING':return{href:"".concat(url,"/submissions"),label:'View submissions'};case 'judged':case 'JUDGED':return{href:"".concat(url,"#winners"),label:'View winners'};default:return{href:url,label:'View contest'};}};var ButtonView=function ButtonView(_ref2){var config=_ref2.config,item=_ref2.item,onClick=_ref2.onClick;var _getButtonProps2=_getButtonProps(item),href=_getButtonProps2.href,label=_getButtonProps2.label;return _react["default"].createElement(_anchor["default"],{href:href,size:config.btnSize||'md',onClick:onClick},label);};var ContestCard=function ContestCard(_ref3){var classList=_ref3.classList,config=_ref3.config,item=_ref3.item,onClick=_ref3.onClick,sponsorsConfig=_ref3.sponsorsConfig;return _react["default"].createElement("div",{className:"".concat(_cards["default"].wrapper," ").concat(classList.wrapper)},_react["default"].createElement("div",{className:_cards["default"].cardWithBorder},_react["default"].createElement("a",{href:item.url,onClick:onClick},_react["default"].createElement(_LazyImage["default"],{alt:item.name,className:_contest_card["default"].lazyImage,fit:"crop",ratio:"2:1",setStyle:config.hasOwnProperty('imageSetStyle')?config.imageSetStyle:true,src:(0,_accessors.getInObj)(['alternate_cover_image_url'],item)||(0,_accessors.getInObj)(['cover_image_url'],item)||(0,_accessors.getInObj)(['cover_image','url'],item),width:270})),_react["default"].createElement("div",{className:_contest_card["default"].contestBody},_react["default"].createElement("a",{className:"".concat(_cards["default"].title," ").concat(_typography["default"].bodyM," ").concat(_typography["default"].linkCharcoal," ").concat(_layout["default"].marginTop15," ").concat(_layout["default"].marginBottom10),href:item.url,onClick:onClick},item.name),_react["default"].createElement(_ContestSponsorsList["default"],{sponsors:item.sponsors,sponsorsConfig:sponsorsConfig}),_react["default"].createElement("div",{className:"".concat(_cards["default"].spacer," ").concat(classList.spacer)}),_react["default"].createElement(ButtonView,{config:config,item:item,onClick:onClick}))));};ContestCard.propTypes={classList:_propTypes["default"].shape({spacer:_propTypes["default"].string,wrapper:_propTypes["default"].string}),config:_propTypes["default"].shape({btnSize:_propTypes["default"].string,imageSetStyle:_propTypes["default"].bool}),item:_propTypes["default"].shape({alternate_cover_image_url:_propTypes["default"].string,cover_image_url:_propTypes["default"].string,cover_image:_propTypes["default"].shape({url:_propTypes["default"].string}),id:_propTypes["default"].number,name:_propTypes["default"].string,sponsors:_propTypes["default"].arrayOf(_propTypes["default"].shape({name:_propTypes["default"].string,url:_propTypes["default"].string})),status:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired,onClick:_propTypes["default"].func,sponsorsConfig:_propTypes["default"].shape({limit:_propTypes["default"].number,menuPos:_propTypes["default"].shape({alignRight:_propTypes["default"].bool,alignTop:_propTypes["default"].bool})})};ContestCard.defaultProps={classList:{spacer:'',wrapper:''},config:{btnSize:'sm',imageSetStyle:true},onClick:function onClick(){},sponsorsConfig:{limit:5,menuPos:{alignRight:false,alignTop:true}}};var _default=ContestCard;exports["default"]=_default;}),48250:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _EventCardDate=_interopRequireDefault(__webpack_require__(16604));var _typography=_interopRequireDefault(__webpack_require__(68163));var _event_card=_interopRequireDefault(__webpack_require__(41219));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var classList={day:"".concat(_typography["default"].h4," ").concat(_typography["default"].lineHeight1),month:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].pebble," ").concat(_typography["default"].uppercase)};var DateRange=function DateRange(_ref){var endDate=_ref.endDate,startDate=_ref.startDate;return _react["default"].createElement("div",{className:_event_card["default"].dateWrapper},!!startDate&&_react["default"].createElement(_EventCardDate["default"],{classList:classList,dateString:startDate}),!!startDate&&!!endDate&&_react["default"].createElement("div",{className:_event_card["default"].dateDivider}),!!endDate&&_react["default"].createElement(_EventCardDate["default"],{classList:classList,dateString:endDate}));};DateRange.propTypes={endDate:_propTypes["default"].string,startDate:_propTypes["default"].string};DateRange.defaultProps={endDate:'',startDate:''};var _default=DateRange;exports["default"]=_default;}),16604:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _time=__webpack_require__(28716);var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var EventCardDate=function EventCardDate(_ref){var dateString=_ref.dateString,classList=_ref.classList;var dayOfMonth=(0,_time.timestampToPrettyDate)(dateString,'D',false,null);var month=(0,_time.timestampToPrettyDate)(dateString,'MMM',false,null);return _react["default"].createElement("div",{className:_typography["default"].textCenter},_react["default"].createElement("div",{className:classList.day},dayOfMonth||_react["default"].createElement(_icon["default"],{name:"calendar"})),_react["default"].createElement("div",{className:classList.month},month||'tba'));};EventCardDate.propTypes={classList:_propTypes["default"].shape({day:_propTypes["default"].string,month:_propTypes["default"].string}),dateString:_propTypes["default"].string};EventCardDate.defaultProps={classList:{},dateString:''};var _default=EventCardDate;exports["default"]=_default;}),67154:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _TooltipTarget=_interopRequireDefault(__webpack_require__(13164));var _country_data=__webpack_require__(90561);var _formatters=__webpack_require__(88231);var _layout=_interopRequireDefault(__webpack_require__(42721));var _tooltip_target=_interopRequireDefault(__webpack_require__(71018));var _typography=_interopRequireDefault(__webpack_require__(68163));var _event_card=_interopRequireDefault(__webpack_require__(41219));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ICON_MAP={'CONFERENCE':'channels','HACKATHON':'wip','MEETUP':'location','WEBINAR':'web','WORKSHOP':'showcase'};var _getIconName=function _getIconName(type){return ICON_MAP[type.toUpperCase()]||'';};var EventTypeOrLocation=function EventTypeOrLocation(_ref){var item=_ref.item;var city=item.city,country_iso2=item.country_iso2,state=item.state,event_type=item.event_type;return _react["default"].createElement("span",null,country_iso2?(0,_country_data.getFormattedLocation)({city:city,country_iso2:country_iso2,state:state}):'Virtual',_react["default"].createElement(_TooltipTarget["default"],{classList:{wrapper:"".concat(_layout["default"].marginLeft10," ").concat(_event_card["default"].tooltipTarget," ").concat(_tooltip_target["default"].tooltipV2)},tooltip:(0,_formatters.capitalize)(event_type)},_react["default"].createElement(_icon["default"],{className:_typography["default"].iconBaselineFix,name:_getIconName(event_type)})));};EventTypeOrLocation.propTypes={item:_propTypes["default"].shape({city:_propTypes["default"].string,country_iso2:_propTypes["default"].string,event_type:_propTypes["default"].string.isRequired,state:_propTypes["default"].string}).isRequired};EventTypeOrLocation.defaultProps={city:null,country_iso2:null,state:null};var _default=EventTypeOrLocation;exports["default"]=_default;}),34138:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _SponsorTooltip=_interopRequireDefault(__webpack_require__(34039));var _converters=__webpack_require__(39719);var _types=__webpack_require__(88742);var _predicates=__webpack_require__(20918);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var MAX_CHARS=25;var _concatSponsors=function _concatSponsors(sponsors){return _react["default"].Children.toArray(sponsors.reduce(function(acc,sponsor,i){return i===sponsors.length-1?acc.concat([_getSponsor(sponsor)]):acc.concat([_getSponsor(sponsor),', ']);},[]));};var _getNameLength=function _getNameLength(sponsor){return _isPlatform(sponsor)?sponsor.name.length:sponsor.length;};var _getPlatformLink=function _getPlatformLink(platform){return _react["default"].createElement("a",{className:_typography["default"].linkBlue,href:platform.url},platform.name);};var _getSponsor=function _getSponsor(sponsor){return _isPlatform(sponsor)?_getPlatformLink(sponsor):sponsor;};var _isPlatform=function _isPlatform(sponsor){return(0,_predicates.objHasPropertyOfLength)(sponsor,'name');};var _splitSponsors=function _splitSponsors(allSponsors){if(allSponsors.length===1)return{visibleSponsors:allSponsors,tooltipSponsors:[]};var _allSponsors$reduce=allSponsors.reduce(function(acc,sponsor){var remainingChars=acc.remainingChars-_getNameLength(sponsor);return Object.assign({},acc,{count:remainingChars<0?acc.count:acc.count+1,remainingChars:remainingChars});},{remainingChars:MAX_CHARS,count:0}),count=_allSponsors$reduce.count;return{visibleSponsors:allSponsors.slice(0,count),tooltipSponsors:allSponsors.slice(count)};};var _getTooltipTarget=function _getTooltipTarget(tooltip){return _react["default"].createElement(_SponsorTooltip["default"],{tooltip:tooltip});};var _getSponsorsView=function _getSponsorsView(visibleSponsors,tooltipSponsors){if(tooltipSponsors.length){var tooltipTarget=_getTooltipTarget(_concatSponsors(tooltipSponsors));return _concatSponsors(visibleSponsors.concat([tooltipTarget]));}
return _concatSponsors(visibleSponsors);};var SponsorList=function SponsorList(_ref){var className=_ref.className,item=_ref.item,prependSlash=_ref.prependSlash;var platforms=item.platforms,custom_sponsors=item.custom_sponsors,event_type=item.event_type;if((0,_types.isBlank)(platforms)&&(0,_types.isBlank)(custom_sponsors))return null;var allSponsors=(0,_converters.flatten)([item.platforms,item.custom_sponsors].filter(Array.isArray));var _splitSponsors2=_splitSponsors(allSponsors),visibleSponsors=_splitSponsors2.visibleSponsors,tooltipSponsors=_splitSponsors2.tooltipSponsors;return _react["default"].createElement("span",{className:className},prependSlash&&_react["default"].createElement("span",{className:"".concat(_layout["default"].marginLeft5," ").concat(_layout["default"].marginRight5)},"/"),event_type==="Community"?'featuring ':'presented by ',_getSponsorsView(visibleSponsors,tooltipSponsors));};SponsorList.propTypes={className:_propTypes["default"].string,item:_propTypes["default"].shape({city:_propTypes["default"].string,country_iso2:_propTypes["default"].string,custom_sponsors:_propTypes["default"].arrayOf(_propTypes["default"].string),event_type:_propTypes["default"].string,id:_propTypes["default"].number,image:_propTypes["default"].shape({url:_propTypes["default"].string}),link:_propTypes["default"].string,platforms:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number,name:_propTypes["default"].string,url:_propTypes["default"].string})),start_date:_propTypes["default"].string,state:_propTypes["default"].string,title:_propTypes["default"].string,user:_propTypes["default"].shape({id:_propTypes["default"].number,name:_propTypes["default"].string,url:_propTypes["default"].string})}).isRequired,prependSlash:_propTypes["default"].bool};SponsorList.defaultProps={className:_layout["default"].marginTop5,prependSlash:false};var _default=SponsorList;exports["default"]=_default;}),34039:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _click_outside_wrapper=_interopRequireDefault(__webpack_require__(63904));var _TooltipBody=_interopRequireDefault(__webpack_require__(58330));var _isTouchDevice=_interopRequireDefault(__webpack_require__(23915));var _links=__webpack_require__(22463);var _tooltip_target=_interopRequireDefault(__webpack_require__(71018));var _typography=_interopRequireDefault(__webpack_require__(68163));var _event_card=_interopRequireDefault(__webpack_require__(41219));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var SponsorTooltip=function(_PureComponent){_inherits(SponsorTooltip,_PureComponent);var _super=_createSuper(SponsorTooltip);function SponsorTooltip(props){var _this;_classCallCheck(this,SponsorTooltip);_this=_super.call(this,props);_this.state={open:false};_this.dismissTooltip=_this.dismissTooltip.bind(_assertThisInitialized(_this));_this.summonTooltip=_this.summonTooltip.bind(_assertThisInitialized(_this));return _this;}
_createClass(SponsorTooltip,[{key:"dismissTooltip",value:function dismissTooltip(e){this.setState({open:false});}},{key:"summonTooltip",value:function summonTooltip(e){this.setState({open:true});}},{key:"_getHoverTarget",value:function _getHoverTarget(){return _react["default"].createElement("span",{className:_event_card["default"].tooltipTarget,onMouseEnter:this.summonTooltip,onMouseLeave:this.dismissTooltip},this._getTargetBody(),this.state.open&&this._getTooltip());}},{key:"_getTargetBody",value:function _getTargetBody(){return _react["default"].createElement("a",{className:_typography["default"].link,href:_links.NOOP_HREF},"and more");}},{key:"_getTooltip",value:function _getTooltip(){return _react["default"].createElement(_TooltipBody["default"],{innerWidth:220,multiline:true,position:"top"},this.props.tooltip);}},{key:"_getTouchTarget",value:function _getTouchTarget(){return _react["default"].createElement("span",{className:_event_card["default"].tooltipTarget,onClick:this.summonTooltip},this._getTargetBody(),this.state.open&&_react["default"].createElement(_click_outside_wrapper["default"],{onClickOutside:this.dismissTooltip},this._getTooltip()));}},{key:"render",value:function render(){return _react["default"].createElement("span",{className:_tooltip_target["default"].tooltipV2},(0,_isTouchDevice["default"])()?this._getTouchTarget():this._getHoverTarget());}}]);return SponsorTooltip;}(_react.PureComponent);SponsorTooltip.propTypes={tooltip:_propTypes["default"].node};SponsorTooltip.defaultProps={tooltip:null};var _default=SponsorTooltip;exports["default"]=_default;}),88818:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getDateRangeWithYearAsText=exports.getDateRangeAsText=void 0;var _time=__webpack_require__(28716);var getDayAndMonthString=function getDayAndMonthString(timestamp){return(0,_time.timestampToPrettyDate)(timestamp,_time.EVENT_DATE_FORMAT,false,null);};var getDedupedYears=function getDedupedYears(_ref){var start_date=_ref.start_date,end_date=_ref.end_date;var years=[start_date,end_date].filter(function(d){return d;}).map(function(timestamp){return(0,_time.timestampToPrettyDate)(timestamp,_time.YEAR_ONLY_FORMAT,false,null);});return years[0]===years[1]?[years[0]]:years;};var getDateRangeAsText=function getDateRangeAsText(item){return[item.start_date?getDayAndMonthString(item.start_date):null,item.end_date?getDayAndMonthString(item.end_date):null].filter(function(d){return d;}).join(' - ');};exports.getDateRangeAsText=getDateRangeAsText;var getDateRangeWithYearAsText=function getDateRangeWithYearAsText(item){var years=getDedupedYears(item);return[item.start_date?getDayAndMonthString(item.start_date):null,years.length===2?", ".concat(years[0]):null,item.start_date&&item.end_date?' - ':null,item.end_date?getDayAndMonthString(item.end_date):null,years.length===2?", ".concat(years[1]):", ".concat(years[0])].filter(function(d){return d;}).join('');};exports.getDateRangeWithYearAsText=getDateRangeWithYearAsText;}),99259:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _LazyBackgroundImage=_interopRequireDefault(__webpack_require__(48844));var _accessors=__webpack_require__(4887);var _styleHelpers=__webpack_require__(11274);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var getSummaryPlaceholder=function getSummaryPlaceholder(){return _react["default"].createElement("div",null,_react["default"].createElement("p",{className:_typography["default"].dummyS}),_react["default"].createElement("p",{style:{width:'50%'},className:_typography["default"].dummyS}));};var NewsArticleFeaturedCardPreview=function NewsArticleFeaturedCardPreview(_ref){var article=_ref.article,isHero=_ref.isHero;return _react["default"].createElement("div",{className:(0,_styleHelpers.getRootStyles)(isHero)},_react["default"].createElement("div",{className:(0,_styleHelpers.getImgContainerStyles)(isHero)},_react["default"].createElement(_LazyBackgroundImage["default"],{classList:{root:"".concat(_util["default"].absolutePlaceholderChild," ").concat(_util["default"].borderRadius)},ratio:"16:9",setStyle:false,src:(0,_accessors.getInObj)(['image','url'],article),width:555})),_react["default"].createElement("div",{className:"".concat(_layout["default"].flexColumn," ").concat(_layout["default"].fullWidth)},_react["default"].createElement("div",{className:(0,_styleHelpers.getTitleStyles)(isHero)},article.title),article.summary&&article.summary.length>0?_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].charcoal," ").concat(_layout["default"].marginBottom10)},article.summary):getSummaryPlaceholder(),_react["default"].createElement("p",{className:"".concat(_typography["default"].charcoal," ").concat(_typography["default"].bodyM)},'by ',_react["default"].createElement("span",{className:_typography["default"].linkBlue},article.user.name))));};NewsArticleFeaturedCardPreview.propTypes={article:_propTypes["default"].shape({image:_propTypes["default"].shape({url:_propTypes["default"].string}),summary:_propTypes["default"].string,title:_propTypes["default"].string.isRequired,user:_propTypes["default"].shape({name:_propTypes["default"].string.isRequired}).isRequired}).isRequired,isHero:_propTypes["default"].bool};NewsArticleFeaturedCardPreview.defaultProps={isHero:false};var _default=NewsArticleFeaturedCardPreview;exports["default"]=_default;}),11274:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getTitleStyles=exports.getRootStyles=exports.getImgContainerStyles=void 0;var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _news_card=_interopRequireDefault(__webpack_require__(52699));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var getImgContainerStyles=function getImgContainerStyles(isHero){return isHero?"".concat(_util["default"].absolutePlaceholderParent," ").concat(_util["default"].aspectRatioPadding16_9," ").concat(_layout["default"].marginBottom22):"".concat(_layout["default"].fullWidth," ").concat(_util["default"].posRelative," ").concat(_news_card["default"].featuredImgWrapperSm);};exports.getImgContainerStyles=getImgContainerStyles;var getRootStyles=function getRootStyles(isHero){return "".concat(_news_card["default"].featuredCard," ").concat(_layout["default"].flex," ").concat(_typography["default"].overflowBreakWord," ").concat(isHero?_news_card["default"].featuredHero:_news_card["default"].featuredSm);};exports.getRootStyles=getRootStyles;var getTitleStyles=function getTitleStyles(isHero){return "".concat(_typography["default"].charcoal," ").concat(isHero?_typography["default"].h3:_typography["default"].h4);};exports.getTitleStyles=getTitleStyles;}),12378:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _accessors=__webpack_require__(4887);var _time=__webpack_require__(28716);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _base_card_vertical=_interopRequireDefault(__webpack_require__(88301));var _LazyBackgroundImage=_interopRequireDefault(__webpack_require__(48844));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var NewsArticlePreviewCard=function NewsArticlePreviewCard(_ref){var article=_ref.article,className=_ref.className;return _react["default"].createElement("div",{className:"".concat(_base_card_vertical["default"].cardResponsive," ").concat(_layout["default"].flexColumn," ").concat(_layout["default"].fullWidth," ").concat(className)},_react["default"].createElement("div",{className:"".concat(_base_card_vertical["default"].imageResponsive," ").concat(_layout["default"].fullWidth," ").concat(_util["default"].absolutePlaceholderParent," ").concat(_util["default"].aspectRatioPadding16_9)},_react["default"].createElement(_LazyBackgroundImage["default"],{classList:{root:"".concat(_util["default"].absolutePlaceholderChild," ").concat(_util["default"].borderRadius)},ratio:"16:9",setStyle:false,src:(0,_accessors.getInObj)(['image','url'],article),width:285})),_react["default"].createElement("div",{className:"".concat(_base_card_vertical["default"].textResponsive," ").concat(_layout["default"].marginTop22)},_react["default"].createElement("div",{className:"".concat(_typography["default"].breakWord," ").concat(_layout["default"].flexColumn)},_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold)},article.title),_react["default"].createElement("p",{className:_typography["default"].bodyS},_react["default"].createElement("span",{className:_typography["default"].link},article.user.name),article.published_at&&_react["default"].createElement(_react.Fragment,null,_react["default"].createElement("span",{className:"".concat(_layout["default"].marginLeft5," ").concat(_layout["default"].marginRight5)},"\u2022"),_react["default"].createElement("span",{title:(0,_time.timestampToPrettyDate)(article.published_at)},(0,_time.timeFromNow)(article.published_at)))))));};NewsArticlePreviewCard.propTypes={article:_propTypes["default"].shape({image:_propTypes["default"].shape({url:_propTypes["default"].string}),published_at:_propTypes["default"].string,title:_propTypes["default"].string.isRequired,user:_propTypes["default"].shape({name:_propTypes["default"].string.isRequired})}).isRequired};var _default=NewsArticlePreviewCard;exports["default"]=_default;}),88682:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _animation=_interopRequireDefault(__webpack_require__(61461));var _cards=_interopRequireDefault(__webpack_require__(28246));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));var _news_card=_interopRequireDefault(__webpack_require__(52699));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var NewsArticleSponsoredDummyCard=function NewsArticleSponsoredDummyCard(){return _react["default"].createElement("div",{className:_news_card["default"].sponsoredCard},_react["default"].createElement("div",{className:"".concat(_news_card["default"].sponsoredImgWrapper," ").concat(_animation["default"].loader," ").concat(_util["default"].borderRadius)}),_react["default"].createElement("div",{className:_news_card["default"].sponsoredDataWrapper},_react["default"].createElement("div",{className:"".concat(_cards["default"].dummyTextL," ").concat(_animation["default"].loader)}),_react["default"].createElement("div",{className:"".concat(_cards["default"].dummyTextS," ").concat(_animation["default"].loader," ").concat(_layout["default"].marginTop5),style:{width:'75%'}})));};var _default=NewsArticleSponsoredDummyCard;exports["default"]=_default;}),22646:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _AnalyticsLink=_interopRequireDefault(__webpack_require__(48961));var _LazyBackgroundImage=_interopRequireDefault(__webpack_require__(48844));var _linkConstants=__webpack_require__(24275);var _accessors=__webpack_require__(4887);var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _news_card=_interopRequireDefault(__webpack_require__(52699));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var NewsArticleSponsoredCard=function NewsArticleSponsoredCard(_ref){var article=_ref.article,location=_ref.location;return _react["default"].createElement("div",{className:_news_card["default"].sponsoredCard},_react["default"].createElement(_AnalyticsLink["default"],{className:_news_card["default"].sponsoredImgWrapper,item:article,linkType:_linkConstants.NEWS_ARTICLE_CARD,location:location},_react["default"].createElement(_LazyBackgroundImage["default"],{classList:{root:"".concat(_util["default"].absolutePlaceholderChild," ").concat(_util["default"].borderRadius)},ratio:(0,_accessors.getInObj)(['mobile_image','url'],article)!==null?"1:1":"16:9",setStyle:false,src:(0,_accessors.getInObj)(['mobile_image','url'],article)||(0,_accessors.getInObj)(['image','url'],article),width:158})),_react["default"].createElement("div",{className:_news_card["default"].sponsoredDataWrapper},_react["default"].createElement(_AnalyticsLink["default"],{className:_typography["default"].charcoal,item:article,linkType:_linkConstants.NEWS_ARTICLE_CARD,location:location},_react["default"].createElement("div",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold)},article.title)),_react["default"].createElement("p",{className:_typography["default"].bodyS},'Sponsored by ',_react["default"].createElement(_AnalyticsLink["default"],{className:_typography["default"].linkBlue,customAttributes:{rel:"noopener"},isExternal:true,item:{id:article.sponsor_name,url:article.sponsor_link},linkType:_linkConstants.NEWS_ARTICLE_CARD,location:location},article.sponsor_name))));};NewsArticleSponsoredCard.propTypes={article:_propTypes["default"].shape({image:_propTypes["default"].shape({url:_propTypes["default"].string.isRequired}),mobile_image:_propTypes["default"].shape({url:_propTypes["default"].string}),sponsor_link:_propTypes["default"].string.isRequired,sponsor_name:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired,location:_propTypes["default"].string};NewsArticleSponsoredCard.defaultProps={location:null};var _default=NewsArticleSponsoredCard;exports["default"]=_default;}),63849:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _LazyBackgroundImage=_interopRequireDefault(__webpack_require__(48844));var _accessors=__webpack_require__(4887);var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _news_card=_interopRequireDefault(__webpack_require__(52699));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var NewsArticleSponsoredCardPreview=function NewsArticleSponsoredCardPreview(_ref){var article=_ref.article,isResponsive=_ref.isResponsive;return _react["default"].createElement("div",{className:_news_card["default"].sponsoredCard},_react["default"].createElement("div",{className:_news_card["default"].sponsoredImgWrapper},_react["default"].createElement(_LazyBackgroundImage["default"],{classList:{root:"".concat(_util["default"].absolutePlaceholderChild," ").concat(_util["default"].borderRadius)},ratio:(0,_accessors.getInObj)(['mobile_image','url'],article)!==null?"1:1":"16:9",setStyle:false,src:(0,_accessors.getInObj)(['mobile_image','url'],article)||(0,_accessors.getInObj)(['image','url'],article),width:158})),_react["default"].createElement("div",{className:_news_card["default"].sponsoredDataWrapper},_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold," ").concat(_typography["default"].linkCharcoal)},article.title),_react["default"].createElement("p",{className:_typography["default"].bodyS},'Sponsored by ',article.sponsor_name&&article.sponsor_name.length>0&&_react["default"].createElement("span",{className:_typography["default"].linkBlue},article.sponsor_name))));};NewsArticleSponsoredCardPreview.propTypes={article:_propTypes["default"].shape({image:_propTypes["default"].shape({url:_propTypes["default"].string}),mobile_image:_propTypes["default"].shape({url:_propTypes["default"].string}),sponsor_link:_propTypes["default"].string,sponsor_name:_propTypes["default"].string,title:_propTypes["default"].string.isRequired}).isRequired,isResponsive:_propTypes["default"].bool};NewsArticleSponsoredCardPreview.defaultProps={isResponsive:true};var _default=NewsArticleSponsoredCardPreview;exports["default"]=_default;}),71959:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _LazyBackgroundImage=_interopRequireDefault(__webpack_require__(48844));var _accessors=__webpack_require__(4887);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _news_card=_interopRequireDefault(__webpack_require__(52699));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var NewsArticleSponsoredCardLargePreview=function NewsArticleSponsoredCardLargePreview(_ref){var article=_ref.article,isResponsive=_ref.isResponsive;return _react["default"].createElement("div",{className:"".concat(_news_card["default"].sponsoredCard," ").concat(_news_card["default"].sponsoredCardLg)},_react["default"].createElement("div",{className:"".concat(_news_card["default"].featuredImgWrapperSm," ").concat(_layout["default"].fullWidth," ").concat(_util["default"].posRelative),style:{margin:0}},_react["default"].createElement(_LazyBackgroundImage["default"],{classList:{image:_util["default"].borderRadius},ratio:"16:9",setStyle:false,src:(0,_accessors.getInObj)(['image','url'],article),width:555})),_react["default"].createElement("div",{className:"".concat(_news_card["default"].sponsoredDataWrapperLg," ").concat(_news_card["default"].marginLeftReset)},_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyL," ").concat(_typography["default"].bold)},article.title),_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_layout["default"].marginTop5)},'Sponsored by ',article.sponsor_name&&article.sponsor_name.length>0&&_react["default"].createElement("span",{className:_typography["default"].linkBlue},article.sponsor_name))));};NewsArticleSponsoredCardLargePreview.propTypes={article:_propTypes["default"].shape({image:_propTypes["default"].shape({url:_propTypes["default"].string}),sponsor_link:_propTypes["default"].string,sponsor_name:_propTypes["default"].string,title:_propTypes["default"].string.isRequired}).isRequired,isResponsive:_propTypes["default"].bool};NewsArticleSponsoredCardLargePreview.defaultProps={isResponsive:true};var _default=NewsArticleSponsoredCardLargePreview;exports["default"]=_default;}),95759:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _cards=_interopRequireDefault(__webpack_require__(28246));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _part_card=_interopRequireDefault(__webpack_require__(84724));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var PartCard=function PartCard(_ref){var classList=_ref.classList,onClick=_ref.onClick,part=_ref.part;return _react["default"].createElement("div",{className:classList.wrapper||_cards["default"].wrapper},_react["default"].createElement("a",{href:part.url,className:"".concat(_cards["default"].cardWithBorder," ").concat(_part_card["default"].root),onClick:onClick},_react["default"].createElement("div",{className:_part_card["default"].itemImage},_react["default"].createElement(_LazyImage["default"],{alt:part.name,className:_part_card["default"].lazyImage,fit:"fill",ratio:"3:2",queryParams:{bg:'ffffff'},setStyle:false,src:part.image_url,width:255})),_react["default"].createElement("div",{className:_part_card["default"].info},_react["default"].createElement("p",{className:"".concat(_cards["default"].title," ").concat(_typography["default"].bodyM," ").concat(_typography["default"].linkCharcoal," ").concat(_layout["default"].marginTop15," ").concat(_layout["default"].marginBottom10)},part.name),part.pitch&&_react["default"].createElement("p",{className:_part_card["default"].pitch},part.pitch),_react["default"].createElement("p",{className:_part_card["default"].action},"view product"))));};PartCard.propTypes={classList:_propTypes["default"].shape({wrapper:_propTypes["default"].string}),onClick:_propTypes["default"].func.isRequired,part:_propTypes["default"].shape({image_url:_propTypes["default"].string,name:_propTypes["default"].string,pitch:_propTypes["default"].string})};PartCard.defaultProps={classList:{},part:{image_url:'',name:'',pitch:''}};var _default=PartCard;exports["default"]=_default;}),6405:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _cards=_interopRequireDefault(__webpack_require__(28246));var _dummy_card=_interopRequireDefault(__webpack_require__(71028));var _project_card=_interopRequireDefault(__webpack_require__(10335));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DummyProjectCard=function DummyProjectCard(_ref){var cardBorder=_ref.cardBorder,classList=_ref.classList;return _react["default"].createElement("div",{className:classList.wrapper||_cards["default"].wrapper},_react["default"].createElement("div",{className:"".concat(cardBorder?_cards["default"].cardWithBorder:_cards["default"].card," ").concat(classList.card)},_react["default"].createElement("div",{className:_project_card["default"].imageContainer},_react["default"].createElement("div",{className:"".concat(_project_card["default"].itemImage," ").concat(_dummy_card["default"].itemImage)})),_react["default"].createElement("div",{className:_cards["default"].body},_react["default"].createElement("div",{className:_dummy_card["default"].contentType}),_react["default"].createElement("div",{className:_dummy_card["default"].title}),_react["default"].createElement("div",{className:_dummy_card["default"].author})),_react["default"].createElement("section",{className:_project_card["default"].moreInfo},_react["default"].createElement("div",{className:_dummy_card["default"].stats},_react["default"].createElement("div",{className:_dummy_card["default"].thumbs},_react["default"].createElement(_icon["default"],{name:"thumbs-up",size:12}),_react["default"].createElement("span",{className:_dummy_card["default"].statNumber})),_react["default"].createElement("div",{className:_dummy_card["default"].views},_react["default"].createElement(_icon["default"],{name:"eye",size:16}),_react["default"].createElement("span",{className:_dummy_card["default"].statNumber}))),_react["default"].createElement("div",{className:_dummy_card["default"].difficulty}))));};DummyProjectCard.propTypes={cardBorder:_propTypes["default"].bool,classList:_propTypes["default"].shape({card:_propTypes["default"].string,wrapper:_propTypes["default"].string})};DummyProjectCard.defaultProps={cardBorder:false,classList:{}};var _default=DummyProjectCard;exports["default"]=_default;}),44449:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _respect_button=_interopRequireDefault(__webpack_require__(9782));var _formatters=__webpack_require__(88231);var _project_card=_interopRequireDefault(__webpack_require__(10335));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ProjectCardStats=function ProjectCardStats(_ref){var className=_ref.className,controlledRespects=_ref.controlledRespects,customIcon=_ref.customIcon,project=_ref.project,toggleRespect=_ref.toggleRespect,usePortal=_ref.usePortal;if(project.published_state.toLowerCase()==='private')return null;return _react["default"].createElement("section",{className:className},_react["default"].createElement("section",{className:_project_card["default"].stats},_react["default"].createElement("span",{className:_project_card["default"].stat},_react["default"].createElement(_respect_button["default"],{controlled:controlledRespects,id:project.id,respects:project.stats.respects,onClick:function onClick(createOrDeleteBool){return toggleRespect(project.hid,createOrDeleteBool);},source:"project_card",theme:"project_card"})),_react["default"].createElement("span",{className:_project_card["default"].stat},_react["default"].createElement(_icon["default"],{name:"eye",size:16}),_react["default"].createElement("span",{className:_project_card["default"].statNumber},(0,_formatters.formatNumberLimit4Chars)(project.stats.views)))),customIcon(project,usePortal));};ProjectCardStats.propTypes={className:_propTypes["default"].string,controlledRespects:_propTypes["default"].bool,customIcon:_propTypes["default"].func,project:_propTypes["default"].shape({content_type:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].array]),cover_image_url:_propTypes["default"].string,difficulty:_propTypes["default"].string,edit_url:_propTypes["default"].string,guest_name:_propTypes["default"].string,id:_propTypes["default"].number,hid:_propTypes["default"].string,name:_propTypes["default"].string,one_liner:_propTypes["default"].string,published_state:_propTypes["default"].string,respects:_propTypes["default"].number,stats:_propTypes["default"].object,team:_propTypes["default"].object,url:_propTypes["default"].string}).isRequired,toggleRespect:_propTypes["default"].func,usePortal:_propTypes["default"].bool};ProjectCardStats.defaultProps={className:'',controlledRespects:false,customIcon:function customIcon(){return null;},toggleRespect:function toggleRespect(){},usePortal:false};var _default=ProjectCardStats;exports["default"]=_default;}),33857:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _UsersMenu=_interopRequireDefault(__webpack_require__(91545));var _url_service=_interopRequireDefault(__webpack_require__(78379));var _typography=_interopRequireDefault(__webpack_require__(68163));var _project_card=_interopRequireDefault(__webpack_require__(10335));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _getAuthorLink=function _getAuthorLink(author){return _react["default"].createElement("a",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].link," ").concat(_project_card["default"].author),href:_url_service["default"].url(author.url)},author.name);};var _getGuestName=function _getGuestName(name){return _react["default"].createElement("span",{className:"".concat(_typography["default"].bodyS," ").concat(_project_card["default"].author)},name);};var _getTeamDropdown=function _getTeamDropdown(authors,teamName){return _react["default"].createElement(_UsersMenu["default"],{teamName:teamName,users:authors});};var ProjectCardTeam=function ProjectCardTeam(_ref){var project=_ref.project;if(project.guest_name)return _getGuestName(project.guest_name);var authors=project.team.members;if(authors.length>1)return _getTeamDropdown(authors,project.team.name);if(authors.length===1)return _getAuthorLink(authors[0]);return null;};ProjectCardTeam.propTypes={project:_propTypes["default"].shape({content_type:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].array]),cover_image_url:_propTypes["default"].string,difficulty:_propTypes["default"].string,edit_url:_propTypes["default"].string,guest_name:_propTypes["default"].string,hid:_propTypes["default"].string,name:_propTypes["default"].string,one_liner:_propTypes["default"].string,published_state:_propTypes["default"].string,respects:_propTypes["default"].number,stats:_propTypes["default"].object,team:_propTypes["default"].object,url:_propTypes["default"].string}).isRequired};var _default=ProjectCardTeam;exports["default"]=_default;}),23604:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _helpers=__webpack_require__(12119);var _url_service=_interopRequireDefault(__webpack_require__(78379));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ProjectLink=function ProjectLink(_ref){var children=_ref.children,className=_ref.className,itemIndex=_ref.itemIndex,location=_ref.location,overrideTracking=_ref.overrideTracking,project=_ref.project;return _react["default"].createElement("a",{className:className,href:_url_service["default"].url((0,_helpers.getProjectLink)(project,'url')),onClick:function onClick(e){return(0,_helpers.handleMainLinkClick)(e,project,location,overrideTracking,itemIndex);}},children);};ProjectLink.propTypes={className:_propTypes["default"].string,itemIndex:_propTypes["default"].number,location:_propTypes["default"].string,overrideTracking:_propTypes["default"].func,project:_propTypes["default"].shape({content_type:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].array]),cover_image_url:_propTypes["default"].string,difficulty:_propTypes["default"].string,edit_url:_propTypes["default"].string,guest_name:_propTypes["default"].string,hid:_propTypes["default"].string,name:_propTypes["default"].string,one_liner:_propTypes["default"].string,published_state:_propTypes["default"].string,respects:_propTypes["default"].number,stats:_propTypes["default"].object,team:_propTypes["default"].object,url:_propTypes["default"].string}).isRequired};ProjectLink.defaultProps={className:'',itemIndex:null,location:null,overrideTracking:null};var _default=ProjectLink;exports["default"]=_default;}),91545:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));var _button_dropdown=_interopRequireDefault(__webpack_require__(32067));var _icon=_interopRequireDefault(__webpack_require__(44509));var _whitelabel=__webpack_require__(79645);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _project_card=_interopRequireDefault(__webpack_require__(10335));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _getLabel=function _getLabel(classList,teamName){return _react["default"].createElement("span",{className:classList.label},teamName||'Multiple Authors',_react["default"].createElement(_icon["default"],{className:"".concat(_typography["default"].iconBaselineFix," ").concat(_layout["default"].marginLeft5),name:"arrow-down",size:12}));};var _getListItems=function _getListItems(users){return users.map(function(user,i){return _react["default"].createElement("li",{key:i},_react["default"].createElement("a",{href:(0,_whitelabel.whitelabelUrlHelper)().appendToRootPath(user.url),className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].link," ").concat(_project_card["default"].author)},user.name));});};var UsersMenu=function UsersMenu(_ref){var alignRight=_ref.alignRight,alignTop=_ref.alignTop,classList=_ref.classList,teamName=_ref.teamName,users=_ref.users;return _react["default"].createElement(_button_dropdown["default"],{alignRight:alignRight,alignTop:alignTop,classList:{button:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].link," ").concat(_project_card["default"].authorButton," ").concat(_buttons["default"].blank),dropdown:_project_card["default"].authorsContainer,wrapper:_project_card["default"].dropdown},elevation:0,label:_getLabel(classList,teamName)},_react["default"].createElement("ul",{className:_project_card["default"].authorsList},_getListItems(users)));};UsersMenu.propTypes={alignRight:_propTypes["default"].bool,alignTop:_propTypes["default"].bool,classList:_propTypes["default"].shape({label:_propTypes["default"].string}),teamName:_propTypes["default"].string,users:_propTypes["default"].arrayOf(_propTypes["default"].shape({name:_propTypes["default"].string,url:_propTypes["default"].string}))};UsersMenu.defaultProps={alignRight:false,alignTop:true,classList:{label:''},teamName:null,users:[]};var _default=UsersMenu;exports["default"]=_default;}),12119:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getProjectLink=getProjectLink;exports.handleMainLinkClick=handleMainLinkClick;exports.normalizeProject=normalizeProject;exports.isEditable=void 0;var _main=_interopRequireDefault(__webpack_require__(85061));var _accessors=__webpack_require__(4887);var _links=__webpack_require__(22463);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var isEditable=function isEditable(){var project=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return true;};exports.isEditable=isEditable;function getProjectLink(project,property){if(!project.hasOwnProperty(property))return _links.NOOP_HREF;return project[property];}
function handleMainLinkClick(e,project,location,overrideTracking,itemIndex){if(typeof overrideTracking==='function'){overrideTracking(e,{external:project.url,internal:''},{id:project.id,index:itemIndex,type:'project_card'},[{eventName:'Clicked link',customProps:{href:project.url,location:location,type:'project_card',value:project.name}}]);}else{_main["default"].recordEventWithDelayedRedirect({eventName:'Clicked link'},{href:project.url,location:location,type:'project_card',value:project.name},project.url,e);}}
function normalizeProject(project){var authors=(0,_accessors.getInObj)(['team','members'],project)||project.authors||[];var teamName=(0,_accessors.getInObj)(['team','name'],project)||(authors.length>0?'Multiple Authors':'');var contentType=Array.isArray(project.content_type)?project.content_type[0]:project.content_type;var contest_winner=Array.isArray(project.content_type)?project.content_type.includes('contest_winner'):!!project.contest_winner;var respects=project.respects_count||(0,_accessors.getInObj)(['stats','respects'],project)||0;var views=project.impressions_count||(0,_accessors.getInObj)(['stats','views'],project)||0;return{cover_image_url:project.cover_image_url||'',contest_winner:contest_winner,difficulty:project.difficulty,guest_name:project.guest_name||'',hid:project.hid,id:project.id,name:project.name,one_liner:project.one_liner||project.pitch,published_state:project.published_state||'',stats:{respects:respects,views:views},team:{members:authors,name:teamName},type_label:contentType,url:project.url};}}),12680:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));var _bookmark_button=_interopRequireDefault(__webpack_require__(53121));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _ProjectCardStats=_interopRequireDefault(__webpack_require__(44449));var _ProjectCardTeam=_interopRequireDefault(__webpack_require__(33857));var _ProjectLink=_interopRequireDefault(__webpack_require__(23604));var _helpers=__webpack_require__(12119);var _cards=_interopRequireDefault(__webpack_require__(28246));var _project_card=_interopRequireDefault(__webpack_require__(10335));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var NON_BOOKMARKABLE=['PRIVATE'];var _getCustomIcon=function _getCustomIcon(project,usePortal){return NON_BOOKMARKABLE.includes(project.published_state)?null:_react["default"].createElement(_bookmark_button["default"],{projectId:project.id,usePortal:usePortal});};var ProjectCard=function ProjectCard(props){var project=(0,_helpers.normalizeProject)(props.project);var cardBorder=props.cardBorder,classList=props.classList,config=props.config,customIcon=props.customIcon,enableOverlay=props.enableOverlay,imageProps=props.imageProps,itemIndex=props.itemIndex,location=props.location,maxWidth=props.maxWidth,overrideTracking=props.overrideTracking,toggleRespect=props.toggleRespect,usePortal=props.usePortal;return _react["default"].createElement("div",{className:classList.wrapper||_cards["default"].wrapper},_react["default"].createElement("div",{className:"".concat(_project_card["default"].card," ").concat(_cards["default"].card," ").concat(cardBorder?_util["default"].border:'')},_react["default"].createElement(_ProjectLink["default"],{className:_project_card["default"].imageContainer,itemIndex:itemIndex,location:location,overrideTracking:overrideTracking,project:project},_react["default"].createElement("div",{className:_project_card["default"].itemImage},_react["default"].createElement(_LazyImage["default"],_extends({alt:project.name,className:_project_card["default"].lazyImage,ratio:'4:3',setStyle:false,src:project.cover_image_url,width:maxWidth},imageProps)),project.contest_winner&&_react["default"].createElement("div",{className:"".concat(_typography["default"].h5," ").concat(_cards["default"].corner)},"Winner")),enableOverlay&&_react["default"].createElement("div",{className:_project_card["default"].overlay},_react["default"].createElement("span",{className:_typography["default"].bodyS},project.one_liner))),_react["default"].createElement("div",{className:_cards["default"].body},_react["default"].createElement(_ProjectLink["default"],{className:"".concat(_project_card["default"].title," ").concat(_typography["default"].bodyM," ").concat(_typography["default"].linkCharcoal),itemIndex:itemIndex,location:location,overrideTracking:overrideTracking,project:project},project.name),_react["default"].createElement("div",{className:_cards["default"].spacer}),_react["default"].createElement("div",null,_react["default"].createElement(_ProjectCardTeam["default"],{project:project}))),_react["default"].createElement(_ProjectCardStats["default"],{className:_project_card["default"].moreInfo,controlledRespects:config.controlledRespects||false,customIcon:customIcon,project:project,toggleRespect:toggleRespect,usePortal:usePortal})));};ProjectCard.propTypes={cardBorder:_propTypes["default"].bool,classList:_propTypes["default"].shape({wrapper:_propTypes["default"].string}),config:_propTypes["default"].shape({controlledRespects:_propTypes["default"].bool}),customIcon:_propTypes["default"].func,enableOverlay:_propTypes["default"].bool,imageProps:_propTypes["default"].object,itemIndex:_propTypes["default"].number,location:_propTypes["default"].string,maxWidth:_propTypes["default"].number,overrideTracking:_propTypes["default"].func,project:_propTypes["default"].shape({content_type:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].array]),cover_image_url:_propTypes["default"].string,difficulty:_propTypes["default"].string,edit_url:_propTypes["default"].string,guest_name:_propTypes["default"].string,id:_propTypes["default"].number,hid:_propTypes["default"].string,name:_propTypes["default"].string,one_liner:_propTypes["default"].string,published_state:_propTypes["default"].string,respects:_propTypes["default"].number,stats:_propTypes["default"].object,team:_propTypes["default"].object,url:_propTypes["default"].string}).isRequired,toggleRespect:_propTypes["default"].func,usePortal:_propTypes["default"].bool};ProjectCard.defaultProps={cardBorder:false,classList:{},config:{controlledRespects:false},customIcon:_getCustomIcon,enableOverlay:true,imageProps:{},itemIndex:null,location:null,maxWidth:350,overrideTracking:null,toggleRespect:function toggleRespect(){},usePortal:false};var _default=ProjectCard;exports["default"]=_default;}),6039:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _simple_logo_card=_interopRequireDefault(__webpack_require__(75410));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DummyLogoCard=function DummyLogoCard(_ref){var classList=_ref.classList;return _react["default"].createElement("div",{className:classList.wrapper||_simple_logo_card["default"].wrapper},_react["default"].createElement("div",{className:_simple_logo_card["default"].card},_react["default"].createElement("div",{className:_simple_logo_card["default"].dummyImage}),_react["default"].createElement("div",{className:_simple_logo_card["default"].dummyTitle})));};DummyLogoCard.propTypes={classList:_propTypes["default"].shape({wrapper:_propTypes["default"].string})};DummyLogoCard.defaultProps={classList:{}};var _default=DummyLogoCard;exports["default"]=_default;}),11044:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _cards=_interopRequireDefault(__webpack_require__(28246));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _simple_logo_card=_interopRequireDefault(__webpack_require__(75410));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var handleClick=function handleClick(e,overrideTracking,record,i){if(overrideTracking&&typeof overrideTracking==='function'){overrideTracking(e,{external:record.url,internal:''},{id:record.id,index:i,type:'logo_card'});}};var LogoCard=function LogoCard(_ref){var classList=_ref.classList,i=_ref.i,overrideTracking=_ref.overrideTracking,record=_ref.record;return _react["default"].createElement("div",{className:classList.wrapper||_simple_logo_card["default"].wrapper},_react["default"].createElement("div",{className:_simple_logo_card["default"].card},_react["default"].createElement("div",{className:_simple_logo_card["default"].image},_react["default"].createElement("a",{href:record.url,onClick:function onClick(e){return handleClick(e,overrideTracking,record,i);}},_react["default"].createElement(_LazyImage["default"],{alt:record.name,captureScroll:true,className:_cards["default"].lazyImage,fit:"fillmax",queryParams:{bg:'fff'},ratio:"1:1",src:record.avatar_url||record.logo_url||'',width:108}))),_react["default"].createElement("a",{className:"".concat(_cards["default"].title," ").concat(_typography["default"].bodyM," ").concat(_typography["default"].linkCharcoal," ").concat(_layout["default"].marginTop5),href:record.url,onClick:function onClick(e){return handleClick(e,overrideTracking,record,i);}},record.name)));};LogoCard.propTypes={classList:_propTypes["default"].shape({wrapper:_propTypes["default"].string}),i:_propTypes["default"].number,overrideTracking:_propTypes["default"].func,record:_propTypes["default"].shape({avatar_url:_propTypes["default"].string,id:_propTypes["default"].number,logo_url:_propTypes["default"].string,name:_propTypes["default"].string}).isRequired};LogoCard.defaultProps={classList:{},i:null,overrideTracking:null};var _default=LogoCard;exports["default"]=_default;}),75066:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _dummy_card=_interopRequireDefault(__webpack_require__(71028));var _small_project_card=_interopRequireDefault(__webpack_require__(78009));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var SmallDummyProjectCard=function SmallDummyProjectCard(_ref){var cardBorder=_ref.cardBorder,classList=_ref.classList;return _react["default"].createElement("div",{className:"".concat(cardBorder?_small_project_card["default"].cardBorder:''," ").concat(classList.wrapper||_small_project_card["default"].wrapper)},_react["default"].createElement("div",{className:_small_project_card["default"].imageContainer},_react["default"].createElement("div",{className:"".concat(_small_project_card["default"].itemImage," ").concat(_dummy_card["default"].itemImage)})),_react["default"].createElement("div",{className:_dummy_card["default"].smallBody},_react["default"].createElement("div",{className:_dummy_card["default"].smallTitle}),_react["default"].createElement("div",{className:_dummy_card["default"].smallTitle})));};SmallDummyProjectCard.propTypes={cardBorder:_propTypes["default"].bool,classList:_propTypes["default"].shape({card:_propTypes["default"].string,wrapper:_propTypes["default"].string})};SmallDummyProjectCard.defaultProps={cardBorder:false,classList:{}};var _default=SmallDummyProjectCard;exports["default"]=_default;}),73265:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));var _image=_interopRequireDefault(__webpack_require__(70794));var _main=_interopRequireDefault(__webpack_require__(85061));var _small_project_card=_interopRequireDefault(__webpack_require__(78009));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function handleMainLinkClick(e,project,location){_main["default"].recordEventWithDelayedRedirect({eventName:'Clicked link'},{href:project.url,location:location,type:'project_card',value:project.name},project.url,e);}
var SmallProjectCard=function SmallProjectCard(_ref){var cardBorder=_ref.cardBorder,classList=_ref.classList,imageProps=_ref.imageProps,imgBorderRadius=_ref.imgBorderRadius,lazy=_ref.lazy,location=_ref.location,maxWidth=_ref.maxWidth,project=_ref.project;return _react["default"].createElement("div",{className:"".concat(cardBorder?_small_project_card["default"].cardBorder:''," ").concat(classList.wrapper||_small_project_card["default"].wrapper)},_react["default"].createElement("a",{className:"".concat(_small_project_card["default"].imageContainer," ").concat(imgBorderRadius?_util["default"].borderRadiusSmall:''),href:project.url,onClick:function onClick(e){return handleMainLinkClick(e,project,location);}},_react["default"].createElement("div",{className:_small_project_card["default"].itemImage},_react["default"].createElement(_image["default"],_extends({alt:project.name,className:"".concat(_small_project_card["default"].lazyImage," ").concat(imgBorderRadius?_util["default"].borderRadiusSmall:''),lazy:lazy,ratio:'4:3',setStyle:false,src:project.cover_image_url,width:maxWidth},imageProps)))),_react["default"].createElement("a",{className:"".concat(_typography["default"].link," ").concat(_typography["default"].bold," ").concat(_typography["default"].bodyS),href:project.url,onClick:function onClick(e){return handleMainLinkClick(e,project,location);}},project.name));};SmallProjectCard.propTypes={cardBorder:_propTypes["default"].bool,classList:_propTypes["default"].shape({wrapper:_propTypes["default"].string}),imageProps:_propTypes["default"].object,imgBorderRadius:_propTypes["default"].bool,lazy:_propTypes["default"].bool,location:_propTypes["default"].string,maxWidth:_propTypes["default"].number,project:_propTypes["default"].shape({cover_image_url:_propTypes["default"].string,hid:_propTypes["default"].string,name:_propTypes["default"].string,url:_propTypes["default"].string}).isRequired,projectDefaultImageUrl:_propTypes["default"].string};SmallProjectCard.defaultProps={cardBorder:false,classList:{},imageProps:{},imgBorderRadius:false,lazy:true,location:null,maxWidth:90,projectDefaultImageUrl:''};var _default=SmallProjectCard;exports["default"]=_default;}),90039:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));var _animation=_interopRequireDefault(__webpack_require__(61461));var _cards=_interopRequireDefault(__webpack_require__(28246));var _user_card=_interopRequireDefault(__webpack_require__(82610));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DummyUserCard=function DummyUserCard(_ref){var className=_ref.className,avatarBorder=_ref.avatarBorder,avatarMargin=_ref.avatarMargin,avatarSize=_ref.avatarSize,children=_ref.children,titleSize=_ref.titleSize;return _react["default"].createElement("div",{className:"".concat(className," ").concat(_layout["default"].flexCenterItems," ").concat(_layout["default"].fullWidth)},_react["default"].createElement("div",{className:"".concat(_animation["default"].loader," ").concat(_util["default"].circle," ").concat(_layout["default"]["marginRight".concat(avatarMargin)]," ").concat(avatarBorder?_util["default"].border:''),style:{height:avatarSize,width:avatarSize}}),_react["default"].createElement("div",{className:"".concat(_user_card["default"].content," ").concat(_layout["default"].fullWidth)},_react["default"].createElement("div",{className:_cards["default"]["dummyText".concat(titleSize)]}),children));};DummyUserCard.propTypes={avatarBorder:_propTypes["default"].bool,avatarMargin:_propTypes["default"].number,avatarSize:_propTypes["default"].number,className:_propTypes["default"].string,titleSize:_propTypes["default"].oneOf(['S','M','L'])};DummyUserCard.defaultProps={avatarBorder:true,avatarMargin:10,avatarSize:40,className:'',titleSize:'M'};var _default=DummyUserCard;exports["default"]=_default;}),42263:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _user_card=_interopRequireDefault(__webpack_require__(82610));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var UserCard=function UserCard(_ref){var className=_ref.className,avatarBorder=_ref.avatarBorder,avatarMargin=_ref.avatarMargin,avatarSize=_ref.avatarSize,children=_ref.children,postTitle=_ref.postTitle,preTitle=_ref.preTitle,titleColor=_ref.titleColor,titleSize=_ref.titleSize,user=_ref.user;return _react["default"].createElement("div",{className:"".concat(className," ").concat(_layout["default"].flexCenterItems)},_react["default"].createElement("a",{className:"".concat(_util["default"].circle," ").concat(_layout["default"]["marginRight".concat(avatarMargin)]," ").concat(avatarBorder?_util["default"].border:''),href:user.url},_react["default"].createElement(_LazyImage["default"],{ratio:"1:1",src:user.avatar_url,width:avatarSize})),_react["default"].createElement("div",{className:_user_card["default"].content},_react["default"].createElement("span",null,preTitle,_react["default"].createElement("a",{className:"".concat(_typography["default"]["body".concat(titleSize)]," ").concat(_typography["default"]["link".concat(titleColor)]," ").concat(_typography["default"].bold),href:user.url},user.name),postTitle),children));};UserCard.propTypes={avatarBorder:_propTypes["default"].bool,avatarMargin:_propTypes["default"].number,avatarSize:_propTypes["default"].number,postTitle:_propTypes["default"].node,preTitle:_propTypes["default"].node,titleColor:_propTypes["default"].oneOf(['','Blue','Charcoal','Graphite','Pebble','White']),titleSize:_propTypes["default"].oneOf(['S','M','L']),user:_propTypes["default"].shape({avatar_url:_propTypes["default"].string,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired};UserCard.defaultProps={avatarBorder:true,avatarMargin:10,avatarSize:40,postTitle:null,preTitle:null,titleColor:'',titleSize:'M'};var _default=UserCard;exports["default"]=_default;}),47319:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _relation_button=_interopRequireDefault(__webpack_require__(87164));var _formatters=__webpack_require__(88231);var _user_card_horizontal=_interopRequireDefault(__webpack_require__(81258));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var UserCardHorizontal=function UserCardHorizontal(_ref){var avatar_url=_ref.avatar_url,bio=_ref.bio,id=_ref.id,name=_ref.name,stats=_ref.stats,updateResource=_ref.updateResource,user_name=_ref.user_name;return _react["default"].createElement("div",{className:_user_card_horizontal["default"].root},_react["default"].createElement("div",{className:_user_card_horizontal["default"].topSection},_react["default"].createElement("a",{className:_user_card_horizontal["default"].avatarAnchor,href:"/".concat(user_name)},_react["default"].createElement(_LazyImage["default"],{captureScroll:true,className:_user_card_horizontal["default"].avatar,ratio:"1:1",src:avatar_url,width:80})),_react["default"].createElement("div",{className:_user_card_horizontal["default"].infoContainer},_react["default"].createElement("strong",null,_react["default"].createElement("a",{className:_user_card_horizontal["default"].name,href:"/".concat(user_name)},name)),_react["default"].createElement("div",{className:_user_card_horizontal["default"].stats},_react["default"].createElement("span",null,"".concat((0,_formatters.formatNumberLimit4Chars)(stats.live_projects)," ").concat((0,_formatters.pluralize)('Project',stats.live_projects))),_react["default"].createElement("span",{className:_user_card_horizontal["default"].statBreaker},"\u2022"),_react["default"].createElement("span",null,"".concat((0,_formatters.formatNumberLimit4Chars)(stats.followers)," ").concat((0,_formatters.pluralize)('Follower',stats.followers)))),_react["default"].createElement("div",null,_react["default"].createElement(_relation_button["default"],{id:id,onClick:function onClick(createOrDeleteBool){return updateResource(id,'user',['followed_users','records',['id',id]],createOrDeleteBool);},type:"followed_user_sm"})))),bio&&bio.length>0&&_react["default"].createElement("p",{className:_user_card_horizontal["default"].bio},(0,_formatters.truncateString)(bio,140)));};UserCardHorizontal.propTypes={avatar_url:_propTypes["default"].string.isRequired,bio:_propTypes["default"].string,id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,stats:_propTypes["default"].shape({followers:_propTypes["default"].number.isRequired,following:_propTypes["default"].number.isRequired,live_projects:_propTypes["default"].number.isRequired}).isRequired,updateResource:_propTypes["default"].func.isRequired,user_name:_propTypes["default"].string.isRequired};UserCardHorizontal.defaultProps={bio:null};var _default=UserCardHorizontal;exports["default"]=_default;}),39836:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _cards=_interopRequireDefault(__webpack_require__(28246));var _layout=_interopRequireDefault(__webpack_require__(42721));var _video_card=_interopRequireDefault(__webpack_require__(85756));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DummyVideoCard=function DummyVideoCard(_ref){var classList=_ref.classList;return _react["default"].createElement("div",{className:"".concat(_cards["default"].wrapper," ").concat(classList.wrapper)},_react["default"].createElement("div",{className:_cards["default"].cardWithBorder},_react["default"].createElement("div",{className:_video_card["default"].dummyImage}),_react["default"].createElement("div",{className:_cards["default"].body},_react["default"].createElement("div",{className:_video_card["default"].dummyText}),_react["default"].createElement("div",{className:_cards["default"].spacer}),_react["default"].createElement("div",{className:"".concat(_layout["default"].marginTop5," ").concat(_video_card["default"].dummyText)}))));};DummyVideoCard.propTypes={classList:_propTypes["default"].shape({wrapper:_propTypes["default"].string})};DummyVideoCard.defaultProps={classList:{}};var _default=DummyVideoCard;exports["default"]=_default;}),29695:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _play_button=_interopRequireDefault(__webpack_require__(51591));var _video_card=_interopRequireDefault(__webpack_require__(85756));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var VideoOverlay=function VideoOverlay(_ref){var className=_ref.className,onClick=_ref.onClick;return _react["default"].createElement("div",{className:"".concat(_video_card["default"].overlay," ").concat(className),onClick:onClick},_react["default"].createElement(_play_button["default"],{className:_video_card["default"].playButton}));};VideoOverlay.propTypes={className:_propTypes["default"].string,onClick:_propTypes["default"].func};VideoOverlay.defaultProps={className:'',onClick:function onClick(){}};var _default=VideoOverlay;exports["default"]=_default;}),81326:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _VideoOverlay=_interopRequireDefault(__webpack_require__(29695));var _accessors=__webpack_require__(4887);var _formatters=__webpack_require__(88231);var _time=__webpack_require__(28716);var _cards=_interopRequireDefault(__webpack_require__(28246));var _typography=_interopRequireDefault(__webpack_require__(68163));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));var _video_card=_interopRequireDefault(__webpack_require__(85756));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var StatsView=function StatsView(_ref){var item=_ref.item;if(!item.hasOwnProperty('impressions_count')&&!item.hasOwnProperty('created_at'))return null;var fromNowText=Number.isInteger(item.created_at)?(0,_time.timeFromNowUnix)(item.created_at):(0,_time.timeFromNow)(item.created_at);return _react["default"].createElement("div",{className:"".concat(_layout["default"].flex," ").concat(_layout["default"].marginTop5)},Number.isInteger(item.impressions_count)&&_react["default"].createElement("p",{className:_typography["default"].bodyXS},_react["default"].createElement("span",null,"".concat((0,_formatters.formatNumberLimit4Chars)(item.impressions_count)," views")),item.hasOwnProperty('created_at')&&_react["default"].createElement("span",{className:"".concat(_layout["default"].marginLeft5," ").concat(_layout["default"].marginRight5)},"\u2022")),_react["default"].createElement("p",{title:(0,_time.timestampToPrettyDate)(item.created_at),className:_typography["default"].bodyXS},(0,_time.fromNowNumbersOnlyFormat)(fromNowText)));};var VideoCard=function VideoCard(_ref2){var classList=_ref2.classList,config=_ref2.config,i=_ref2.i,item=_ref2.item,_onClick=_ref2.onClick,sectionIndex=_ref2.sectionIndex;var hacksterUrl="/videos/".concat(item.id);return _react["default"].createElement("div",{className:"".concat(_cards["default"].wrapper," ").concat(classList.wrapper)},_react["default"].createElement("div",{className:_cards["default"].cardWithBorder},_react["default"].createElement("a",{className:"".concat(_video_card["default"].thumbnail),href:hacksterUrl,onClick:function onClick(e){return _onClick(e,item,i,sectionIndex);}},_react["default"].createElement("div",{className:"".concat(_util["default"].absolutePlaceholderParent," ").concat(_util["default"].aspectRatioPadding16_9)},_react["default"].createElement(_LazyImage["default"],{alt:item.title,className:"".concat(_video_card["default"].radiusTop," ").concat(_util["default"].absolutePlaceholderChild," ").concat(_util["default"].overflowHidden),captureScroll:true,fit:"crop",ratio:"16:9",src:(0,_accessors.getInObj)(['image','url'],item),setStyle:false,width:282}),config.renderOverlay&&_react["default"].createElement(_VideoOverlay["default"],{className:_video_card["default"].radiusTop}))),_react["default"].createElement("div",{className:_cards["default"].body},_react["default"].createElement("a",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold," ").concat(_typography["default"].link),href:hacksterUrl,onClick:function onClick(e){return _onClick(e,item,i,sectionIndex);}},item.title),_react["default"].createElement("div",{className:_cards["default"].spacer}),_react["default"].createElement("div",{className:"".concat(_layout["default"].marginTop5," ").concat(_typography["default"].bodyS)},item.category),_react["default"].createElement(StatsView,{item:item}))));};VideoCard.propTypes={classList:_propTypes["default"].shape({wrapper:_propTypes["default"].string}),config:_propTypes["default"].shape({renderOverlay:_propTypes["default"]["boolean"]}),i:_propTypes["default"].number,item:_propTypes["default"].shape({category:_propTypes["default"].string.isRequired,created_at:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]).isRequired,id:_propTypes["default"].number.isRequired,image:_propTypes["default"].shape({url:_propTypes["default"].string.isRequired}),impressions_count:_propTypes["default"].number.isRequired,title:_propTypes["default"].string.isRequired}).isRequired,onClick:_propTypes["default"].func,sectionIndex:_propTypes["default"].number};VideoCard.defaultProps={classList:{wrapper:''},config:{renderOverlay:true},i:null,onClick:function onClick(){},sectionIndex:null};var _default=VideoCard;exports["default"]=_default;}),36145:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var FormGroup=function FormGroup(_ref){var children=_ref.children,hint=_ref.hint,label=_ref.label;return _react["default"].createElement("div",{className:"form-group"},_react["default"].createElement("div",{className:"col-sm-4"},_react["default"].createElement("label",{className:"text optional control-label",htmlFor:""},label),hint&&_react["default"].createElement("div",{className:"help-block text-right"},hint)),_react["default"].createElement("div",{className:"col-sm-8"},children));};FormGroup.propTypes={hint:_propTypes["default"].string,label:_propTypes["default"].string.isRequired};var _default=FormGroup;exports["default"]=_default;}),591:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=convertFieldToDraftsterConsumable;var _draftster=__webpack_require__(3623);function convertFieldToDraftsterConsumable(field){if(field.json&&field.json.length){return(0,_draftster.prepareModelForDraftsterInstance)(field.json);}else if(field.html&&field.html.length){return field.html;}else{return '';}}}),56674:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=createDraftsterConfig;var _draftster=__webpack_require__(3623);function createDraftsterConfig(initContent,fieldName,type,S3BucketURL,AWSAccessKeyId,_isOnCorrectTab,beenUpdated){return{className:'story-editor',editorWasUpdated:function editorWasUpdated(){beenUpdated(fieldName);},handleImageUpload:function handleImageUpload(image,callback){return(0,_draftster.uploadImageToServer)(image,S3BucketURL,AWSAccessKeyId).then(function(mergedImage){return callback(null,mergedImage);})["catch"](function(err){return callback(err,image);});},hideEditor:function hideEditor(){return!_isOnCorrectTab();},isEditorBusy:function isEditorBusy(bool){var selector="#".concat(type);[].slice.call(document.querySelectorAll("".concat(selector," .react-submit-btn"))).forEach(function(button){if(!button.getAttribute('disabled')&&bool){button.setAttribute('disabled',true);button.text='Image uploading...';}else if(button.getAttribute('disabled')&&!bool){button.removeAttribute('disabled');button.text='Save changes';}});},processImage:function processImage(image){return(0,_draftster.processRemoteImage)(image);},setInitialContent:function setInitialContent(){return initContent;},toolbar:{carousel:false,linkedImage:true}};}}),28549:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _deepEqual=_interopRequireDefault(__webpack_require__(10251));var _draftster_core=_interopRequireDefault(__webpack_require__(66220));var _FormGroup=_interopRequireDefault(__webpack_require__(36145));var _convertFieldToDraftsterConsumable=_interopRequireDefault(__webpack_require__(591));var _createDraftsterConfig=_interopRequireDefault(__webpack_require__(56674));var _draftster=__webpack_require__(3623);var _requests=__webpack_require__(51105);var _dispatchers=__webpack_require__(10912);var _error_handler=_interopRequireDefault(__webpack_require__(84616));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var FIELD_LABELS={description:{label:'The Challenge',hint:'Write your contest’s problem statement and call-to-action. '},resources:{label:'Resources',hint:'Include technical resources, information about any workshops/webinars and sample applications here.'},eligibility:{label:'Eligibility',hint:null},requirements:{label:'Requirements',hint:null},judging_criteria:{label:'Judging Criteria',hint:null},how_to_enter:{label:'How to Enter',hint:null},rules:{label:'Rules',hint:'If you are a hosting a community contest please replace the contests@hackster.io email address at the bottom of these rules with your company\'s contact email for contest support.'},judges:{label:'Judges (optional)',hint:'Write the names and/or bios of the contest judges. This section will go under the prizes.'},about_us:{label:'About Us (optional)',hint:'Your company description and/or any sponsors and logos.'}};var OVERVIEW_FIELDS=['description','judges','resources','about_us'];var RULES_FIELDS=['eligibility','requirements','judging_criteria','how_to_enter','rules'];var PE_CONTAINER_SELECTOR='.pe-container';var PE_CLICKED_EVENT_NAME='clicked:nav';var PE_SUBMIT_BTN_SELECTOR='.pe-submit';var SUBMIT_EVENT='submit:challengeForm';var ChallengeFormEditorGroup=function(_Component){_inherits(ChallengeFormEditorGroup,_Component);var _super=_createSuper(ChallengeFormEditorGroup);function ChallengeFormEditorGroup(props){var _this;_classCallCheck(this,ChallengeFormEditorGroup);_this=_super.call(this,props);_this.state={initialized:false,updatedEditors:[]};_this.editorWasUpdated=_this.editorWasUpdated.bind(_assertThisInitialized(_this));_this.handlePeClickedEvent=_this.handlePeClickedEvent.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleUnloadEvent=_this.handleUnloadEvent.bind(_assertThisInitialized(_this));_this.configs={};_this.editorSaveStates={};_this.fields=_this._getFieldsForType(props.type);_this._ignoreEditorUpdateStatus=false;return _this;}
_createClass(ChallengeFormEditorGroup,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener(PE_CLICKED_EVENT_NAME,this.handlePeClickedEvent);window.addEventListener(SUBMIT_EVENT,this.handleSubmit);window.addEventListener('beforeunload',this.handleUnloadEvent);this._init();}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener(PE_CLICKED_EVENT_NAME,this.handlePeClickedEvent);window.removeEventListener(SUBMIT_EVENT,this.handleSubmit);window.removeEventListener('beforeunload',this.handleUnloadEvent);}},{key:"_init",value:function _init(){var _this2=this;return(0,_requests.getEditorFields)(this.props.challenge.id,this.fields.join(',')).then(function(fields){_this2._initConfigs(fields);_this2._initEditorSaveStates(fields);_this2.setState({initialized:true});})["catch"](function(err){return(0,_error_handler["default"])('ChallengeFormEditorGroup _init',err);});}},{key:"_initConfigs",value:function _initConfigs(initialFields){var _this3=this;var S3BucketURL=this.props.S3BucketURL||window.jsk.s3u;var AWSAccessKeyId=this.props.AWSAccessKeyId||window.jsk.awsk;this.configs=this.fields.reduce(function(acc,field){var initContent=(0,_convertFieldToDraftsterConsumable["default"])(initialFields[field]);_this3._initEditorSaveStates(field,initContent);acc[field]=(0,_createDraftsterConfig["default"])(initContent,field,_this3.props.type,S3BucketURL,AWSAccessKeyId,_this3._isOnCorrectTab.bind(_this3),_this3.editorWasUpdated);return acc;},{});}},{key:"_initEditorSaveStates",value:function _initEditorSaveStates(field,content){this.editorSaveStates[field]=content;}},{key:"_getFieldsForType",value:function _getFieldsForType(type){switch(type){case 'overview':return OVERVIEW_FIELDS;case 'rules':return RULES_FIELDS;default:return[];}}},{key:"editorWasUpdated",value:function editorWasUpdated(fieldName){if(!this.state.updatedEditors.includes(fieldName)){this.setState({updatedEditors:this.state.updatedEditors.concat(fieldName)});}}},{key:"handlePeClickedEvent",value:function handlePeClickedEvent(e){if(!this._isOnCorrectTab())return;if(e.detail.hash==="#".concat(this.props.type)&&this._hasUnsavedChanges()){e.detail.event.preventDefault();var c=confirm("There are unsaved changes\nAre you sure you want to move away?");if(c){this._resetEditorStates();this.setState({updatedEditors:[]},function(){e.detail.event.target.click();});}}}},{key:"handleSubmit",value:function handleSubmit(){var _this4=this;if(!this._isOnCorrectTab())return;var promises=this.fields.map(function(field){return(0,_draftster.convertToJSONModel)(_this4[field].getEditorContent()).then(function(json){return Promise.resolve(_defineProperty({},field,json));})["catch"](function(err){return Promise.reject(err);});});this._toggleFormElements(true);return Promise.all(promises).then(function(fields){return Promise.all([fields,(0,_requests.postEditorFields)(_this4.props.challenge.id,_this4._createPostData(fields))]);}).then(function(_ref){var _ref2=_slicedToArray(_ref,1),fields=_ref2[0];return _this4._setEditorSavedStates(fields);}).then(function(){return _this4._onSubmitSuccess();})["catch"](function(err){_this4._onSubmitError(err);(0,_error_handler["default"])('Submission Error: ',err);});}},{key:"handleUnloadEvent",value:function handleUnloadEvent(e){if(this._isOnCorrectTab()&&this._hasUnsavedChanges()){var message="There are unsaved changes.";(e||window.event).returnValue=message;return message;}}},{key:"_createPostData",value:function _createPostData(fields){return fields.reduce(function(acc,field){var key=Object.keys(field)[0];acc["challenge[".concat(key,"_json]")]=JSON.stringify(field[key]);return acc;},{panel:this.props.type});}},{key:"_hasUnsavedChanges",value:function _hasUnsavedChanges(){if(!this.state.updatedEditors.length)return false;var warnUser=false;for(var i=0;i<=this.state.updatedEditors.length-1;i++){if(warnUser)break;var fieldName=this.state.updatedEditors[i];if(this.editorSaveStates.hasOwnProperty(fieldName)&&!(0,_deepEqual["default"])(this.editorSaveStates[fieldName],this[fieldName].getEditorContent())){warnUser=true;}}
return warnUser;}},{key:"_isOnCorrectTab",value:function _isOnCorrectTab(){return(window.location.hash||'').includes(this.props.type);}},{key:"_onSubmitError",value:function _onSubmitError(){this._triggerMessenger({msg:'There was an error saving your form.',type:'error'});this._toggleFormElements(false);}},{key:"_onSubmitSuccess",value:function _onSubmitSuccess(response){this._triggerMessenger();this._toggleFormElements(false);}},{key:"_resetEditorStates",value:function _resetEditorStates(){var _this5=this;this.state.updatedEditors.forEach(function(field,i){if(i===0)_this5[field].props.config.isEditorBusy(false);if(_this5.editorSaveStates.hasOwnProperty(field)){_this5[field].__resetEditorState(_this5.editorSaveStates[field]);}});}},{key:"_setEditorSavedStates",value:function _setEditorSavedStates(fields){var _this6=this;return new Promise(function(resolve){fields.forEach(function(field){var fieldName=Object.keys(field)[0];_this6.editorSaveStates[fieldName]=field[fieldName];});_this6.setState({updatedEditors:[]});resolve();});}},{key:"_toggleFormElements",value:function _toggleFormElements(apply){this._toggleProcessingOverlay(apply);this._toggleSubmitButton(apply);}},{key:"_toggleSubmitButton",value:function _toggleSubmitButton(apply){var panel=document.querySelector(window.location.hash);var button=panel?panel.querySelector(PE_SUBMIT_BTN_SELECTOR):null;if(button){apply?button.innerHTML='<i class="fa fa-circle-o-notch" />':button.innerHTML='Save changes';}}},{key:"_toggleProcessingOverlay",value:function _toggleProcessingOverlay(apply){var el=document.querySelector(PE_CONTAINER_SELECTOR);if(el){var className='processing';if(apply&&!el.classList.contains(className)){el.classList.add(className);}else if(!apply&&el.classList.contains(className)){el.classList.remove(className);}}}},{key:"_triggerMessenger",value:function _triggerMessenger(){var msg=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};(0,_dispatchers.summonGlobalMessenger)(msg);}},{key:"render",value:function render(){var _this7=this;if(!this.state.initialized)return null;return _react["default"].createElement("div",null,this.fields.map(function(field,index){return _react["default"].createElement(_FormGroup["default"],_extends({key:index},FIELD_LABELS[field]),_react["default"].createElement(_draftster_core["default"],{ref:function ref(el){return _this7[field]=el;},config:_this7.configs[field]}));}));}}]);return ChallengeFormEditorGroup;}(_react.Component);ChallengeFormEditorGroup.propTypes={AWSAccessKeyId:_propTypes["default"].string,S3BucketURL:_propTypes["default"].string,challenge:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired}).isRequired,type:_propTypes["default"].oneOf(['overview','rules']).isRequired};var _default=ChallengeFormEditorGroup;exports["default"]=_default;}),51105:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getEditorFields=getEditorFields;exports.postEditorFields=postEditorFields;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _getCSRFToken=_interopRequireDefault(__webpack_require__(34038));var _oauth=_interopRequireDefault(__webpack_require__(97523));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function getEditorFields(id,fields){return _oauth["default"].apiRequest((0,_superagent["default"])("".concat(_oauth["default"].getApiPath(),"/private/challenges/").concat(id,"/fields")).query({'fields':fields}));}
function postEditorFields(id,data){return _oauth["default"].apiRequest(_superagent["default"].post("/contests/".concat(id)).set('Content-Type','application/x-www-form-urlencoded; charset=UTF-8').set('X-CSRF-Token',(0,_getCSRFToken["default"])()).type('form').send(Object.assign({_method:'patch'},data)));}}),58098:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.triggerMessenger=exports.toggleSubmitButton=exports.toggleProcessingOverlay=void 0;var _dispatchers=__webpack_require__(10912);var toggleProcessingOverlay=function toggleProcessingOverlay(apply,selector){var el=document.querySelector(selector);if(el){var className='processing';if(apply&&!el.classList.contains(className)){el.classList.add(className);}else if(!apply&&el.classList.contains(className)){el.classList.remove(className);}}};exports.toggleProcessingOverlay=toggleProcessingOverlay;var toggleSubmitButton=function toggleSubmitButton(apply,selector){var panel=document.querySelector(window.location.hash);var button=panel?panel.querySelector(selector):null;if(button){apply?button.innerHTML='<i class="fa fa-circle-o-notch" />':button.innerHTML='Save changes';}};exports.toggleSubmitButton=toggleSubmitButton;var triggerMessenger=function triggerMessenger(){var msg=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};(0,_dispatchers.summonGlobalMessenger)(msg);};exports.triggerMessenger=triggerMessenger;}),90180:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _basic_form_input=_interopRequireDefault(__webpack_require__(54392));var _icon=_interopRequireDefault(__webpack_require__(44509));var _Prize=_interopRequireDefault(__webpack_require__(12154));var _RankedPrizeList=_interopRequireDefault(__webpack_require__(57666));var _predicates=__webpack_require__(20918);var _accessors=__webpack_require__(4887);var _filters=__webpack_require__(58429);var _templates=__webpack_require__(64690);var _constants=__webpack_require__(36822);var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _prize_editor=_interopRequireDefault(__webpack_require__(76146));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Category=function(_PureComponent){_inherits(Category,_PureComponent);var _super=_createSuper(Category);function Category(props){_classCallCheck(this,Category);return _super.call(this,props);}
_createClass(Category,[{key:"componentDidMount",value:function componentDidMount(){this._autoFocusNameInput();}},{key:"_autoFocusNameInput",value:function _autoFocusNameInput(){var el=document.getElementById(this._getNameId());if(el)el.focus();}},{key:"_getErrorsForAttr",value:function _getErrorsForAttr(attr){return this.props.errors&&this.props.errors.hasOwnProperty(attr)?this.props.errors[attr]:null;}},{key:"_getErrorForSingularPrize",value:function _getErrorForSingularPrize(prize){var prizeErrors=this._getErrorsForAttr('prizes');var id=(0,_accessors.getIdOrUuid)(prize);return prizeErrors&&prizeErrors.hasOwnProperty(id)?prizeErrors[id]:null;}},{key:"_getIdOrUuid",value:function _getIdOrUuid(){return this.props.id||this.props.uuid;}},{key:"_getNameId",value:function _getNameId(){return "categoryName".concat(this._getIdOrUuid());}},{key:"_hasErrors",value:function _hasErrors(){return Object.keys(this.props.errors).length>0;}},{key:"_updatePrizeInPrizes",value:function _updatePrizeInPrizes(key,value,prize){var prizes=this.props.prizes.map(function(p){return(0,_predicates.doesRecordsMatch)(prize,p)?Object.assign({},prize,_defineProperty({},key,value)):p;});this.props.updateCategoryValue('prizes',prizes,this._updatePrizeErrors(key,prize));}},{key:"_updateCategoryValue",value:function _updateCategoryValue(key,value){this.props.updateCategoryValue(key,value,this._updateCategoryErrors(key));}},{key:"_updateCategoryErrors",value:function _updateCategoryErrors(key){if(!this.props.errors||this.props.errors&&!this.props.errors.hasOwnProperty(key))return this.props.errors;return(0,_filters.removeFromObject)(this.props.errors,key);}},{key:"_updatePrizeErrors",value:function _updatePrizeErrors(key,prize){if(!this.props.errors||this.props.errors&&!this.props.errors.hasOwnProperty('prizes'))return this.props.errors;var id=(0,_accessors.getIdOrUuid)(prize);if(!this.props.errors.prizes.hasOwnProperty(id))return this.props.errors;var prizeError=(0,_filters.removeFromObject)(this.props.errors.prizes[id],key);var prizesErrors=Object.keys(prizeError).length>0?Object.assign({},this.props.errors.prizes,_defineProperty({},id,prizeError)):(0,_filters.removeFromObject)(this.props.errors.prizes,id.toString());return Object.keys(prizesErrors).length>0?Object.assign({},this.props.errors,{prizes:prizesErrors}):(0,_filters.removeFromObject)(this.props.errors,'prizes');}},{key:"_getBody",value:function _getBody(){var _this=this;if(this.props.isCollapsed)return;return _react["default"].createElement("div",null,this.props.type!==_constants.RANKED_DEFAULT&&_react["default"].createElement("div",{className:_layout["default"].marginTop30},_react["default"].createElement("div",{"data-category-name":this._getIdOrUuid()},_react["default"].createElement(_basic_form_input["default"],{errors:this._getErrorsForAttr('name'),id:this._getNameId(),label:"Category name (is required)",onChange:function onChange(e){return _this._updateCategoryValue('name',e.target.value);},value:this.props.name})),_react["default"].createElement(_basic_form_input["default"],{element:"textarea",label:"Category description (optional)",onChange:function onChange(e){return _this._updateCategoryValue('description',e.target.value);},value:this.props.description})),this._getPrizes());}},{key:"_getPrizes",value:function _getPrizes(){return this.props.prizes.length>1?this._getRankedPrizeList():this._getPrize();}},{key:"_getPrize",value:function _getPrize(){var _this2=this;var prize=this.props.prizes[0];return _react["default"].createElement(_Prize["default"],_extends({},prize,{allowQuantity:true,errors:this._getErrorForSingularPrize(prize),updateAttribute:function updateAttribute(key,value){return _this2._updatePrizeInPrizes(key,value,prize);}}));}},{key:"_getRankedPrizeList",value:function _getRankedPrizeList(){var _this3=this;return _react["default"].createElement(_RankedPrizeList["default"],{errors:this._getErrorsForAttr('prizes'),prizes:this.props.prizes,updatePrize:function updatePrize(key,value,prize){return _this3._updatePrizeInPrizes(key,value,prize);}});}},{key:"render",value:function render(){var _this4=this;return _react["default"].createElement("div",{className:_prize_editor["default"].category},_react["default"].createElement("div",{className:"".concat(_prize_editor["default"].categoryHeader," ").concat(this._hasErrors()?_prize_editor["default"].categoryHeaderError:''),"data-category-header":this._getIdOrUuid()},_react["default"].createElement("div",{className:_prize_editor["default"].categoryHeaderText,onClick:function onClick(){return _this4._updateCategoryValue('isCollapsed',!_this4.props.isCollapsed);}},_react["default"].createElement("h3",{className:"".concat(_typography["default"].h4," ").concat(this._hasErrors()?_typography["default"].error:'')},this.props.title,_react["default"].createElement("span",null," "),_react["default"].createElement("span",{className:_typography["default"].bodyS},(0,_templates.getCategoryTypeForHeader)(this.props.type,this.props.name))),this._hasErrors()&&_react["default"].createElement("span",{className:"".concat(_inputs["default"].error," ").concat(_layout["default"].marginLeft15)}," This category has errors.")),_react["default"].createElement("div",{className:_layout["default"].flex},this.props.canDelete&&_react["default"].createElement(_icon["default"],{className:_prize_editor["default"].trash,name:"delete",onClick:this.props.onDelete}),_react["default"].createElement(_icon["default"],{className:"".concat(_prize_editor["default"].arrow," ").concat(!this.props.isCollapsed?_prize_editor["default"].arrowSelected:''),name:"arrow-down",onClick:function onClick(){return _this4._updateCategoryValue('isCollapsed',!_this4.props.isCollapsed);}}))),this._getBody());}}]);return Category;}(_react.PureComponent);Category.propTypes={canDelete:_propTypes["default"].bool.isRequired,description:_propTypes["default"].string,errors:_propTypes["default"].shape({name:_propTypes["default"].string,prizes:_propTypes["default"].shape(_defineProperty({},_propTypes["default"].string,_propTypes["default"].shape(_defineProperty({},_propTypes["default"].string,_propTypes["default"].string))))}),id:_propTypes["default"].number,is_ranked:_propTypes["default"].bool.isRequired,is_runner_up:_propTypes["default"].bool.isRequired,name:_propTypes["default"].string,onDelete:_propTypes["default"].func.isRequired,prizes:_propTypes["default"].arrayOf(_propTypes["default"].shape({cash_value:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),description:_propTypes["default"].string,id:_propTypes["default"].number,image:_propTypes["default"].shape({id:_propTypes["default"].number,url:_propTypes["default"].string}),link:_propTypes["default"].string,name:_propTypes["default"].string,position:_propTypes["default"].number,quantity:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),requires_shipping:_propTypes["default"].bool,uuid:_propTypes["default"].string})).isRequired,title:_propTypes["default"].string.isRequired,type:_propTypes["default"].string.isRequired,updateCategoryValue:_propTypes["default"].func.isRequired,uuid:_propTypes["default"].string};Category.defaultProps={description:null,errors:{},id:null,name:null,uuid:null};var _default=Category;exports["default"]=_default;}),87442:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _custom=_interopRequireDefault(__webpack_require__(30294));var _accessors=__webpack_require__(4887);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _prize_editor=_interopRequireDefault(__webpack_require__(76146));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var EnterableChecklist=function EnterableChecklist(_ref){var categories=_ref.categories,updateCategory=_ref.updateCategory;if(!categories.length)return null;return _react["default"].createElement("div",{className:_prize_editor["default"].checklistContainer},_react["default"].createElement("div",{className:_prize_editor["default"].sectionHeader},_react["default"].createElement("h2",{className:"".concat(_typography["default"].h2," ").concat(_layout["default"].marginBottom10)},"Submission requirements (optional)"),_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginBottom10)},"To require users to submit their project to a specific category, check the category below.")),_react["default"].createElement("div",{className:_prize_editor["default"].checklist},categories.map(function(c){return _react["default"].createElement("div",{key:(0,_accessors.getIdOrUuid)(c),className:_prize_editor["default"].checklistCheckboxWrapper},_react["default"].createElement(_custom["default"],{label:c.name,isChecked:c.is_enterable,onChange:function onChange(checked){return updateCategory(Object.assign({},c,{is_enterable:checked}));},value:c.is_enterable}));})));};EnterableChecklist.propTypes={categories:_propTypes["default"].arrayOf(_propTypes["default"].shape({is_enterable:_propTypes["default"].bool.isRequired,name:_propTypes["default"].string})).isRequired,updateCategory:_propTypes["default"].func.isRequired};EnterableChecklist.defaultProps={};var _default=EnterableChecklist;exports["default"]=_default;}),39738:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _button_dropdown=_interopRequireDefault(__webpack_require__(32067));var _custom=_interopRequireDefault(__webpack_require__(30294));var _icon=_interopRequireDefault(__webpack_require__(44509));var _constants=__webpack_require__(36822);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _commonDropdown=_interopRequireDefault(__webpack_require__(1876));var _prize_editor=_interopRequireDefault(__webpack_require__(76146));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DEFAULT_OPTS=[{label:'Runner ups',value:_constants.RUNNER_UPS}];var CATEGORY_OPTS=[{label:'Ranked Prize',value:_constants.CATEGORY_RANKED},{label:'Unranked Prize',value:_constants.CATEGORY_CUSTOM},{label:'Runner ups',value:_constants.RUNNER_UPS}];var getOptions=function getOptions(mode,categories){return mode===_constants.RANKED_PRIZES_MODE?DEFAULT_OPTS:getCategoryOpts(categories);};var getCategoryOpts=function getCategoryOpts(categories){var hasRunnerUps=categories.findIndex(function(cat){return cat.type===_constants.RUNNER_UPS;})!==-1;return hasRunnerUps?CATEGORY_OPTS.filter(function(opt){return opt.value!==_constants.RUNNER_UPS;}):CATEGORY_OPTS;};var getLabelForDropdown=function getLabelForDropdown(){return _react["default"].createElement("span",null,_react["default"].createElement("span",null,"Create category "),_react["default"].createElement(_icon["default"],{name:"arrow-down",size:"12"}));};var onOptClick=function onOptClick(value,addCategory){if(value!==null)addCategory(value);};var shouldRenderCheckbox=function shouldRenderCheckbox(_ref){var categories=_ref.categories;return categories.length>1;};var shouldRenderDropdown=function shouldRenderDropdown(_ref2){var categories=_ref2.categories,mode=_ref2.mode;if(mode!==_constants.RANKED_PRIZES_MODE)return true;return categories.findIndex(function(cat){return cat.type===_constants.RUNNER_UPS;})===-1;};var Menu=function Menu(_ref3){var addCategory=_ref3.addCategory,categories=_ref3.categories,mode=_ref3.mode,onSortModeCheckboxChange=_ref3.onSortModeCheckboxChange,sortMode=_ref3.sortMode;return _react["default"].createElement("div",{className:_prize_editor["default"].menuContainer},shouldRenderCheckbox({categories:categories})&&_react["default"].createElement("div",null,_react["default"].createElement(_custom["default"],{label:"Sort categories",isChecked:sortMode,onChange:function onChange(checked){return onSortModeCheckboxChange(checked);},value:sortMode})),shouldRenderDropdown({categories:categories,mode:mode})&&_react["default"].createElement(_button_dropdown["default"],{alignRight:true,classList:{wrapper:_prize_editor["default"].categoryDropdown,button:"".concat(_buttons["default"].md," ").concat(_buttons["default"].tertiary)},closeOnSelect:true,label:getLabelForDropdown()},_react["default"].createElement("ul",{className:_commonDropdown["default"].list},getOptions(mode,categories).map(function(opt,i){return _react["default"].createElement("li",{key:i,className:_commonDropdown["default"].listItem,onClick:function onClick(){return onOptClick(opt.value,addCategory);}},opt.label);}))));};Menu.propTypes={addCategory:_propTypes["default"].func.isRequired,categories:_propTypes["default"].arrayOf(_propTypes["default"].shape({type:_propTypes["default"].string.isRequired})),mode:_propTypes["default"].string.isRequired,onSortModeCheckboxChange:_propTypes["default"].func.isRequired,sortMode:_propTypes["default"].bool.isRequired};var _default=Menu;exports["default"]=_default;}),12154:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _basic_form_input=_interopRequireDefault(__webpack_require__(54392));var _custom=_interopRequireDefault(__webpack_require__(30294));var _form_image_uploader=_interopRequireDefault(__webpack_require__(59272));var _accessors=__webpack_require__(4887);var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _prize_editor=_interopRequireDefault(__webpack_require__(76146));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var getErrorsForAttr=function getErrorsForAttr(errors,attr){return errors&&errors.hasOwnProperty(attr)?errors[attr]:null;};var getIdOrUuid=function getIdOrUuid(id,uuid){return id||uuid;};var Prize=function Prize(_ref){var allowQuantity=_ref.allowQuantity,cash_value=_ref.cash_value,description=_ref.description,errors=_ref.errors,id=_ref.id,image=_ref.image,label=_ref.label,link=_ref.link,name=_ref.name,quantity=_ref.quantity,requires_shipping=_ref.requires_shipping,updateAttribute=_ref.updateAttribute,uuid=_ref.uuid;var dataId=getIdOrUuid(id,uuid);return _react["default"].createElement("div",{className:_prize_editor["default"].prize,"data-prize-id":dataId},_react["default"].createElement("div",{className:_prize_editor["default"].prizeImgWrapper},_react["default"].createElement("label",{className:"".concat(_inputs["default"].label)},"Prize image"),_react["default"].createElement(_form_image_uploader["default"],{allowRemoteURL:false,classList:{previewWrapper:_prize_editor["default"].prizeImg},dimensionMins:{width:217},helperText:"This image should have a ratio of 3:2 and be 651x434px (minimum 217x145px) for the best quality.",imageData:{id:(0,_accessors.getInObj)(['id'],image),url:(0,_accessors.getInObj)(['url'],image)},imageVersion:"prize_thumb",propagateUpload:function propagateUpload(data){return updateAttribute('image',data);},ratio:3/2})),_react["default"].createElement("div",{className:_prize_editor["default"].prizeData},label&&_react["default"].createElement("h3",{className:"".concat(_typography["default"].h3," ").concat(_typography["default"].bold," ").concat(_layout["default"].marginBottom30)},label),_react["default"].createElement("div",{"data-prize-name":dataId},_react["default"].createElement(_basic_form_input["default"],{charCount:name.length,errors:getErrorsForAttr(errors,'name'),label:"Prize name (is required)",maxVal:255,onChange:function onChange(e){return updateAttribute('name',e.target.value);},value:name})),_react["default"].createElement(_basic_form_input["default"],{element:"textarea",label:"Prize description (optional)",onChange:function onChange(e){return updateAttribute('description',e.target.value);},value:description}),_react["default"].createElement(_basic_form_input["default"],{label:"Cash value",onChange:function onChange(e){return updateAttribute('cash_value',parseInt(e.target.value));},type:"number",value:cash_value}),_react["default"].createElement("div",{"data-prize-link":dataId},_react["default"].createElement(_basic_form_input["default"],{charCount:link.length,errors:getErrorsForAttr(errors,'link'),label:"Link",maxVal:255,onChange:function onChange(e){return updateAttribute('link',e.target.value);},value:link})),allowQuantity&&_react["default"].createElement("div",{"data-prize-quantity":dataId},_react["default"].createElement(_basic_form_input["default"],{errors:getErrorsForAttr(errors,'quantity'),label:"Quantity",onChange:function onChange(e){return updateAttribute('quantity',parseInt(e.target.value));},type:"number",value:quantity})),_react["default"].createElement("div",{className:_layout["default"].marginBottom30},_react["default"].createElement(_custom["default"],{classList:{label:_inputs["default"].label},isChecked:requires_shipping,label:"Requires shipping?",onChange:function onChange(checked){return updateAttribute('requires_shipping',checked);},value:requires_shipping}))));};Prize.propTypes={allowQuantity:_propTypes["default"].bool.isRequired,cash_value:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),description:_propTypes["default"].string,errors:_propTypes["default"].shape(_defineProperty({},_propTypes["default"].string,_propTypes["default"].string)),id:_propTypes["default"].number,image:_propTypes["default"].shape({id:_propTypes["default"].number,url:_propTypes["default"].string}),label:_propTypes["default"].string,link:_propTypes["default"].string,name:_propTypes["default"].string,position:_propTypes["default"].number,quantity:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),requires_shipping:_propTypes["default"].bool,updateAttribute:_propTypes["default"].func.isRequired,uuid:_propTypes["default"].string};Prize.defaultProps={errors:null,image:null,label:null};var _default=Prize;exports["default"]=_default;}),57666:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Prize=_interopRequireDefault(__webpack_require__(12154));var _accessors=__webpack_require__(4887);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var getErrorsForPrize=function getErrorsForPrize(errors,prize){var id=(0,_accessors.getIdOrUuid)(prize);return errors&&errors.hasOwnProperty(id)?errors[id]:{};};var getPrizeLabelForIndex=function getPrizeLabelForIndex(i){switch(i){case 0:return '1st Place';case 1:return '2nd Place';case 2:return '3rd Place';default:return null;}};var RankedPrizeList=function RankedPrizeList(_ref){var errors=_ref.errors,prizes=_ref.prizes,updatePrize=_ref.updatePrize;return _react["default"].createElement("div",null,prizes.map(function(prize,i){return _react["default"].createElement(_Prize["default"],_extends({},prize,{key:prize.id||prize.uuid,allowQuantity:false,errors:getErrorsForPrize(errors,prize),label:getPrizeLabelForIndex(i),updateAttribute:function updateAttribute(key,value){return updatePrize(key,value,prize);}}));}));};RankedPrizeList.propTypes={errors:_propTypes["default"].shape(_defineProperty({},_propTypes["default"].string,_propTypes["default"].shape(_defineProperty({},_propTypes["default"].string,_propTypes["default"].string)))),prizes:_propTypes["default"].arrayOf(_propTypes["default"].shape({cash_value:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),description:_propTypes["default"].string,id:_propTypes["default"].number,image_url:_propTypes["default"].string,link:_propTypes["default"].string,name:_propTypes["default"].string,position:_propTypes["default"].number,quantity:_propTypes["default"].number,requires_shipping:_propTypes["default"].bool,uuid:_propTypes["default"].string})).isRequired,updatePrize:_propTypes["default"].func.isRequired};RankedPrizeList.defaultProps={errors:null};var _default=RankedPrizeList;exports["default"]=_default;}),51657:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _templates=__webpack_require__(64690);var _typography=_interopRequireDefault(__webpack_require__(68163));var _prize_editor=_interopRequireDefault(__webpack_require__(76146));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var SortablePrizeRow=function SortablePrizeRow(_ref){var attributes=_ref.attributes,getTitleForCategory=_ref.getTitleForCategory,item=_ref.item,listeners=_ref.listeners;return _react["default"].createElement("div",{className:_prize_editor["default"].sortableCategory},_react["default"].createElement("div",{className:_prize_editor["default"].categoryHeader},_react["default"].createElement("div",{className:_prize_editor["default"].categoryHeaderText},_react["default"].createElement("h4",{className:"".concat(_typography["default"].h4)},getTitleForCategory(item),_react["default"].createElement("span",null," "),_react["default"].createElement("span",{className:_typography["default"].bodyS},(0,_templates.getCategoryTypeForHeader)(item.type,item.name)))),_react["default"].createElement("span",_extends({},attributes,listeners),_react["default"].createElement(_icon["default"],{className:_prize_editor["default"].dragIcon,name:"hamburger"}))));};SortablePrizeRow.propTypes={attributes:_propTypes["default"].object,getTitleForCategory:_propTypes["default"].func.isRequired,item:_propTypes["default"].object,listeners:_propTypes["default"].object};SortablePrizeRow.defaultProps={attributes:{},listeners:{}};var _default=SortablePrizeRow;exports["default"]=_default;}),36822:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.RUNNER_UPS=exports.RANKED_DEFAULT=exports.CATEGORY_CUSTOM=exports.CATEGORY_RANKED=exports.RANKED_PRIZES_MODE=exports.CATEGORY_PRIZES_MODE=void 0;var CATEGORY_PRIZES_MODE='category';exports.CATEGORY_PRIZES_MODE=CATEGORY_PRIZES_MODE;var RANKED_PRIZES_MODE='default';exports.RANKED_PRIZES_MODE=RANKED_PRIZES_MODE;var CATEGORY_RANKED='category_ranked';exports.CATEGORY_RANKED=CATEGORY_RANKED;var CATEGORY_CUSTOM='category_custom';exports.CATEGORY_CUSTOM=CATEGORY_CUSTOM;var RANKED_DEFAULT='ranked';exports.RANKED_DEFAULT=RANKED_DEFAULT;var RUNNER_UPS='runner_ups';exports.RUNNER_UPS=RUNNER_UPS;}),73411:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.CATEGORIES_PRIZES_MODE_SUB_COPY=exports.DEFUALT_PRIZES_RADIO_COPY=exports.CATEGORY_PRIZES_RADIO_COPY=void 0;var CATEGORY_PRIZES_RADIO_COPY="Award overall contest winners by category e.g.: Home Automation, Best in Automotive, Most Creative. Runner up field is optional.";exports.CATEGORY_PRIZES_RADIO_COPY=CATEGORY_PRIZES_RADIO_COPY;var DEFUALT_PRIZES_RADIO_COPY="Award overall contest winners by rank: 1st, 2nd, 3rd place. Runner up field is optional.";exports.DEFUALT_PRIZES_RADIO_COPY=DEFUALT_PRIZES_RADIO_COPY;var CATEGORIES_PRIZES_MODE_SUB_COPY="Choose from ranked or unranked categories. Ranked categories award 1st, 2nd, and 3rd place prizes. Unranked categories award the same prize to all winner(s).";exports.CATEGORIES_PRIZES_MODE_SUB_COPY=CATEGORIES_PRIZES_MODE_SUB_COPY;}),98610:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=scrollToFirstElement;var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _types=__webpack_require__(88742);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var CATEGORY_VALIDATION_DISPLAY_ORDER=['name','prizes'];var PRIZE_VALIDATION_DISPLAY_ORDER=['name','link','quantity'];var findFirstFieldForErrorInCategoryPrizes=function findFirstFieldForErrorInCategoryPrizes(prizesErrors){var firstPrizeKey=Object.keys(prizesErrors)[0];var firstPrizeError=prizesErrors[firstPrizeKey];var fieldName=Object.keys(firstPrizeError).reduce(function(acc,key){if(acc!==null)return acc;if(PRIZE_VALIDATION_DISPLAY_ORDER.includes(key))return key;return acc;},null);var el=document.querySelector("[data-prize-".concat(fieldName,"=\"").concat(firstPrizeKey,"\"]"));if(el)(0,_smoothScroll["default"])(el,200,null);};var findFirstFieldForErrorInCategory=function findFirstFieldForErrorInCategory(categoryKey,errors){var error=errors[categoryKey];var fieldName=Object.keys(error).reduce(function(acc,key){if(acc!==null)return acc;if(CATEGORY_VALIDATION_DISPLAY_ORDER.includes(key))return key;return acc;},null);if(fieldName==='prizes'){findFirstFieldForErrorInCategoryPrizes(error.prizes);}else{var el=document.querySelector("[data-category-".concat(fieldName,"=\"").concat(categoryKey,"\"]"));if(el)(0,_smoothScroll["default"])(el,200,null);}};function scrollToFirstElement(errors,store){var categoryKey=Object.keys(errors)[0];var category=store.find(function(c){if(!(0,_types.isBlank)(c.id))return c.id.toString()===categoryKey.toString();return c.uuid===categoryKey;});if(category.isCollapsed){var el=document.querySelector("[data-category-header=\"".concat(categoryKey,"\"]"));if(el)(0,_smoothScroll["default"])(el,200,null);}else{findFirstFieldForErrorInCategory(categoryKey,errors);}}}),64690:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.initCategoryFromProps=exports.createRankedCategory=exports.createSinglePrizeCategory=exports.createPrize=exports.getCustomTitleForHeader=exports.getDefaultIntroduction=exports.getDefaultTitleForHeader=exports.getCategoryTypeForHeader=exports.getCategoryType=void 0;var _generateRandomKey=_interopRequireDefault(__webpack_require__(89950));var _constants=__webpack_require__(36822);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var CASH_THRESHOLDS={'10':'tens','100':'hundreds','1000':'thousands','10000':'tens of thousands'};var getCategoryType=function getCategoryType(category){if(category.name===null)return _constants.RANKED_DEFAULT;if(category.is_runner_up)return _constants.RUNNER_UPS;if(category.is_ranked)return _constants.CATEGORY_RANKED;return _constants.CATEGORY_CUSTOM;};exports.getCategoryType=getCategoryType;var getCategoryTypeForHeader=function getCategoryTypeForHeader(type,name){if(!name.length)return '';switch(type){case _constants.CATEGORY_CUSTOM:return '(custom)';case _constants.CATEGORY_RANKED:return '(ranked)';case _constants.RUNNER_UPS:return '(runner ups)';default:return '';}};exports.getCategoryTypeForHeader=getCategoryTypeForHeader;var getDefaultTitleForHeader=function getDefaultTitleForHeader(type){switch(type){case _constants.RANKED_DEFAULT:return 'Ranked category';case _constants.RUNNER_UPS:return 'Runner ups';default:return '';}};exports.getDefaultTitleForHeader=getDefaultTitleForHeader;var getDefaultIntroduction=function getDefaultIntroduction(_ref){var totalCash=_ref.totalCash,totalPrizes=_ref.totalPrizes;if(totalPrizes===0)return '(empty because there are no prizes)';var cashLabel=Object.keys(CASH_THRESHOLDS).reduce(function(acc,key){return totalCash>=parseInt(key)?CASH_THRESHOLDS[key]:acc;},null);var prizesLabel=cashLabel?"".concat(cashLabel," of dollars in prizes"):'a great prize';var winnersLabel=totalPrizes===1?'project':"".concat(totalPrizes," projects");var projectsLabel=totalPrizes===1?'project':'projects';return "We are giving away ".concat(prizesLabel," to the top ").concat(winnersLabel,"! Our judges are going to pick the best qualifying ").concat(projectsLabel," based on the judging criteria outlined in the rules section.");};exports.getDefaultIntroduction=getDefaultIntroduction;var getCustomTitleForHeader=function getCustomTitleForHeader(type){switch(type){case _constants.CATEGORY_CUSTOM:return 'Custom category';case _constants.CATEGORY_RANKED:return 'Ranked category';case _constants.RUNNER_UPS:return 'Runner ups';default:return '';}};exports.getCustomTitleForHeader=getCustomTitleForHeader;var createPrize=function createPrize(i){return{cash_value:0,description:'',image:null,link:'',name:'',position:i,quantity:1,requires_shipping:false,uuid:(0,_generateRandomKey["default"])()};};exports.createPrize=createPrize;var createSinglePrizeCategory=function createSinglePrizeCategory(isRunnerUp){var position=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return{description:'',isCollapsed:false,is_enterable:false,is_ranked:false,is_runner_up:isRunnerUp,name:'',position:position,prizes:[createPrize(0)],type:isRunnerUp?_constants.RUNNER_UPS:_constants.CATEGORY_CUSTOM,uuid:(0,_generateRandomKey["default"])()};};exports.createSinglePrizeCategory=createSinglePrizeCategory;var createRankedCategory=function createRankedCategory(type){var position=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return{description:'',isCollapsed:false,is_enterable:false,is_ranked:true,is_runner_up:false,name:'',position:position,prizes:Array.from(new Array(3),function(x,i){return createPrize(i);}),type:type,uuid:(0,_generateRandomKey["default"])()};};exports.createRankedCategory=createRankedCategory;var initPrizeFromProps=function initPrizeFromProps(prize,position){return{cash_value:prize.cash_value||0,description:prize.description||'',id:prize.id,image:prize.image||null,link:prize.link||'',name:prize.name,position:position,quantity:prize.quantity||1,requires_shipping:prize.requires_shipping||false,uuid:null};};var initCategoryFromProps=function initCategoryFromProps(category){return{description:category.description||'',id:category.id,isCollapsed:true,is_enterable:category.is_enterable||false,is_ranked:category.is_ranked,is_runner_up:category.is_runner_up,name:category.name||'',position:category.position,prizes:category.prizes.map(function(p,i){return initPrizeFromProps(p,i);}),type:getCategoryType(category),uuid:null};};exports.initCategoryFromProps=initCategoryFromProps;}),35218:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=validations;var _constants=__webpack_require__(36822);var _validators=__webpack_require__(73235);var _accessors=__webpack_require__(4887);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var PRIZE_ATTR_MAP={name:[_validators.isRequired,_validators.maxLength.bind(null,255)],link:[_validators.isUrlIfDefined,_validators.maxLength.bind(null,255)],quantity:[_validators.minValue.bind(null,1)]};var PRIZE_ATTR_KEYS=Object.keys(PRIZE_ATTR_MAP);var validateCategory=function validateCategory(category){var catNameErr=category.type===_constants.RANKED_DEFAULT?null:(0,_validators.isRequired)(category.name)||(0,_validators.maxLength)(255,category.name);var name=catNameErr?{name:catNameErr}:{};var prizes=validatePrizes(category.prizes);var allErrors=Object.assign({},name,prizes);return Object.keys(allErrors).length>0?_defineProperty({},(0,_accessors.getIdOrUuid)(category),allErrors):{};};var validatePrize=function validatePrize(prize){return PRIZE_ATTR_KEYS.reduce(function(acc,attr){var msg=PRIZE_ATTR_MAP[attr].reduce(function(acc,fn){if(acc!==null)return acc;var val=fn(prize[attr]);return val?val:acc;},null);if(msg)acc[attr]=msg;return acc;},{});};var validatePrizes=function validatePrizes(prizes){var prizesErrors=prizes.reduce(function(acc,prize){var prizeErrors=validatePrize(prize);if(Object.keys(prizeErrors).length>0)acc[(0,_accessors.getIdOrUuid)(prize)]=prizeErrors;return acc;},{});return Object.keys(prizesErrors).length>0?{prizes:prizesErrors}:{};};function validations(categories){var errors=categories.reduce(function(acc,cat){var catErrors=validateCategory(cat);return Object.keys(catErrors).length>0?Object.assign({},acc,catErrors):acc;},{});var hasErrors=Object.keys(errors).length>0;return{errors:errors,hasErrors:hasErrors};}}),12258:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _deepEqual=_interopRequireDefault(__webpack_require__(10251));var _basic_form_input=_interopRequireDefault(__webpack_require__(54392));var _Category=_interopRequireDefault(__webpack_require__(90180));var _custom=_interopRequireDefault(__webpack_require__(30294));var _DragAndDropList=_interopRequireDefault(__webpack_require__(61640));var _EnterableChecklist=_interopRequireDefault(__webpack_require__(87442));var _Menu=_interopRequireDefault(__webpack_require__(39738));var _question_mark=_interopRequireDefault(__webpack_require__(61936));var _radio_group=_interopRequireDefault(__webpack_require__(85883));var _SortablePrizeRow=_interopRequireDefault(__webpack_require__(51657));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _graphql=__webpack_require__(2740);var _predicates=__webpack_require__(20918);var _types=__webpack_require__(88742);var _accessors=__webpack_require__(4887);var _filters=__webpack_require__(58429);var _scrollToFirstElement=_interopRequireDefault(__webpack_require__(98610));var _validations2=_interopRequireDefault(__webpack_require__(35218));var _constants=__webpack_require__(36822);var _copy=__webpack_require__(73411);var _templates=__webpack_require__(64690);var _helpers=__webpack_require__(58098);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _prize_editor=_interopRequireDefault(__webpack_require__(76146));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var createRadioLabel=function createRadioLabel(label,tooltip){return _react["default"].createElement("span",{className:_layout["default"].flexCenterItems,style:{lineHeight:1}},_react["default"].createElement("span",{className:_layout["default"].marginRight5},label),_react["default"].createElement("span",{className:_typography["default"].iconBaselineFix},_react["default"].createElement(_question_mark["default"],{offsetX:5,tooltip:tooltip})));};var GROUP_TYPE_RADIO_BUTTONS=[{label:createRadioLabel('Default prizes',_copy.DEFUALT_PRIZES_RADIO_COPY),value:_constants.RANKED_PRIZES_MODE},{label:createRadioLabel('Category prizes',_copy.CATEGORY_PRIZES_RADIO_COPY),value:_constants.CATEGORY_PRIZES_MODE}];var CATEGORY_LIST_ID="categoryPrizeList";var PE_CONTAINER_SELECTOR='.pe-container';var PE_CLICKED_EVENT_NAME='clicked:nav';var PE_SUBMIT_BTN_SELECTOR='.react-prizes-submit-btn';var HASH_LOCATION='#prizes';var ChallengePrizeEditor=function(_Component){_inherits(ChallengePrizeEditor,_Component);var _super=_createSuper(ChallengePrizeEditor);function ChallengePrizeEditor(props){var _store;var _this;_classCallCheck(this,ChallengePrizeEditor);_this=_super.call(this,props);var categories=_this._initCategories(props.challenge.prize_categories);var mode=_this._initMode(categories);var store=(_store={},_defineProperty(_store,_constants.CATEGORY_PRIZES_MODE,mode===_constants.CATEGORY_PRIZES_MODE&&categories.length>0?categories:[]),_defineProperty(_store,_constants.RANKED_PRIZES_MODE,mode===_constants.RANKED_PRIZES_MODE&&categories.length>0?categories:[(0,_templates.createRankedCategory)(_constants.RANKED_DEFAULT)]),_store);var intro=props.challenge.prizes_intro||'';var useCustomIntro=intro.length>0;_this.state={customIntro:intro,errors:{},lastUseCustomIntroSaveState:useCustomIntro,lastIntroSaveState:intro,lastSaveState:store,mode:mode,sortMode:false,store:store,useCustomIntro:useCustomIntro};_this.addCategory=_this.addCategory.bind(_assertThisInitialized(_this));_this.deleteCategory=_this.deleteCategory.bind(_assertThisInitialized(_this));_this.handleBeforeUnloadEvent=_this.handleBeforeUnloadEvent.bind(_assertThisInitialized(_this));_this.handlePeClickedEvent=_this.handlePeClickedEvent.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.onSortModeCheckboxChange=_this.onSortModeCheckboxChange.bind(_assertThisInitialized(_this));_this.updateCategory=_this.updateCategory.bind(_assertThisInitialized(_this));_this.updateCategoryOrder=_this.updateCategoryOrder.bind(_assertThisInitialized(_this));return _this;}
_createClass(ChallengePrizeEditor,[{key:"componentDidMount",value:function componentDidMount(){this._listenToSubmitBtn();this._listenToWindowEvents();}},{key:"_initCategories",value:function _initCategories(categories){return categories.map(function(c){return(0,_templates.initCategoryFromProps)(c);});}},{key:"_initMode",value:function _initMode(categories){if(!categories||categories&&!categories.length)return _constants.RANKED_PRIZES_MODE;if(categories.length>2)return _constants.CATEGORY_PRIZES_MODE;return categories.findIndex(function(c){return c.is_ranked&&(0,_types.isBlank)(c.name);})!==-1?_constants.RANKED_PRIZES_MODE:_constants.CATEGORY_PRIZES_MODE;}},{key:"_listenToSubmitBtn",value:function _listenToSubmitBtn(){var btn=document.querySelector(PE_SUBMIT_BTN_SELECTOR);if(btn)btn.addEventListener('click',this.handleSubmit);}},{key:"_listenToWindowEvents",value:function _listenToWindowEvents(){window.addEventListener(PE_CLICKED_EVENT_NAME,this.handlePeClickedEvent);window.addEventListener('beforeunload',this.handleBeforeUnloadEvent);}},{key:"addCategory",value:function addCategory(type){var currentBucket=this.state.store[this.state.mode];var bucket=currentBucket.concat(this._createNewCategory(type,currentBucket));this.setState({store:Object.assign({},this.state.store,_defineProperty({},this.state.mode,bucket))});}},{key:"deleteCategory",value:function deleteCategory(category){this.setState({store:this._deleteCategoryFromStore(category)});}},{key:"handleBeforeUnloadEvent",value:function handleBeforeUnloadEvent(e){if(!this._isCurrentCategoryEqualToLastSaveState()){var message="There are unsaved changes.";(e||window.event).returnValue=message;return message;}}},{key:"handlePeClickedEvent",value:function handlePeClickedEvent(e){if(e.detail.hash===HASH_LOCATION&&!this._isCurrentCategoryEqualToLastSaveState()){e.detail.event.preventDefault();var c=window.confirm("There are unsaved changes\nAre you sure you want to move away?");if(c){this.setState({customIntro:this.state.lastIntroSaveState,store:this.state.lastSaveState,useCustomIntro:this.state.lastUseCustomIntroSaveState},function(){e.detail.event.target.click();});}}}},{key:"handleSubmit",value:function handleSubmit(){var validated=this._validate();if(validated&&!this._isCurrentCategoryEqualToLastSaveState()){this._submitCurrentStore();}else if(validated){(0,_helpers.triggerMessenger)({msg:"Nothing to save. You're all caught up!"});}}},{key:"onSortModeCheckboxChange",value:function onSortModeCheckboxChange(sortMode){var _this2=this;this.setState({sortMode:sortMode},function(){return _this2._scrollToCategoryList(sortMode);});}},{key:"updateCategory",value:function updateCategory(category){var errors=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var id=(0,_accessors.getIdOrUuid)(category);var allErrors=Object.keys(errors).length>0?Object.assign({},this.state.errors,_defineProperty({},id,errors)):(0,_filters.removeFromObject)(this.state.errors,id.toString());this.setState({errors:allErrors,store:this._updateRecordInStore(category)});}},{key:"updateCategoryOrder",value:function updateCategoryOrder(categories){this.setState({store:Object.assign({},this.state.store,_defineProperty({},this.state.mode,categories.map(function(c,i){return Object.assign({},c,{position:i});})))});}},{key:"_canDeleteCategory",value:function _canDeleteCategory(category){if(category.type===_constants.RANKED_DEFAULT)return false;return true;}},{key:"_createNewCategory",value:function _createNewCategory(type,currentBucket){var position=currentBucket.length;return this.state.mode===_constants.RANKED_PRIZES_MODE?this._createNewCategoryForDefaultMode(position):this._createNewCategoryForCategoryMode(type,position);}},{key:"_createNewCategoryForCategoryMode",value:function _createNewCategoryForCategoryMode(type,position){switch(type){case _constants.RUNNER_UPS:return(0,_templates.createSinglePrizeCategory)(true,position);case _constants.CATEGORY_CUSTOM:return(0,_templates.createSinglePrizeCategory)(false,position);default:return(0,_templates.createRankedCategory)(_constants.CATEGORY_RANKED,position);}}},{key:"_createNewCategoryForDefaultMode",value:function _createNewCategoryForDefaultMode(position){return(0,_templates.createSinglePrizeCategory)(true,position);}},{key:"_deleteCategoryFromStore",value:function _deleteCategoryFromStore(category){var bucket=this.state.store[this.state.mode].filter(function(cat){return!(0,_predicates.doesRecordsMatch)(cat,category);});return Object.assign({},this.state.store,_defineProperty({},this.state.mode,bucket));}},{key:"_findRecordByPositionAndName",value:function _findRecordByPositionAndName(record,position,list){return list.find(function(item,i){return(item.hasOwnProperty('position')?item.position:i)===position&&record.name===item.name;});}},{key:"_getCurrentStore",value:function _getCurrentStore(){return this.state.store[this.state.mode];}},{key:"_getEnterableCategories",value:function _getEnterableCategories(){var typeBlacklist=[_constants.RUNNER_UPS,_constants.RANKED_DEFAULT];return this._getCurrentStore().filter(function(c){return!typeBlacklist.includes(c.type)&&!(0,_types.isBlank)(c.name);}).sort(function(a,b){if(a.name<b.name)return-1;if(a.name>b.name)return 1;return 0;});}},{key:"_getErrorsForCategory",value:function _getErrorsForCategory(category){var id=(0,_accessors.getIdOrUuid)(category);return this.state.errors&&this.state.errors.hasOwnProperty(id)?this.state.errors[id]:{};}},{key:"_getPrizeDataForIntroduction",value:function _getPrizeDataForIntroduction(){return this._getCurrentStore().reduce(function(acc,category){category.prizes.forEach(function(prize){if(prize.cash_value){acc.totalCash+=parseInt(prize.cash_value);}
acc.totalPrizes+=1;});return acc;},{totalCash:0,totalPrizes:0});}},{key:"_getTitleForCategory",value:function _getTitleForCategory(category){if(!(0,_types.isBlank)(category.name))return category.name;return this.state.mode===_constants.RANKED_PRIZES_MODE?(0,_templates.getDefaultTitleForHeader)(category.type):(0,_templates.getCustomTitleForHeader)(category.type);}},{key:"_isCurrentCategoryEqualToLastSaveState",value:function _isCurrentCategoryEqualToLastSaveState(){return this.state.useCustomIntro===this.state.lastUseCustomIntroSaveState&&this.state.customIntro===this.state.lastIntroSaveState&&(0,_deepEqual["default"])(this._getCurrentStore(),this.state.lastSaveState[this.state.mode]);}},{key:"_scrollToCategoryList",value:function _scrollToCategoryList(shouldScroll){if(shouldScroll){var el=document.getElementById(CATEGORY_LIST_ID);if(el&&el.getBoundingClientRect().top<0)(0,_smoothScroll["default"])(el,200,null);}}},{key:"_submitCurrentStore",value:function _submitCurrentStore(){var _this3=this;var intro=this.state.useCustomIntro?this.state.customIntro:null;var challenge=this._translateChallengeForPost(intro,this._getCurrentStore());this._toggleFormElements(true);return(0,_graphql.graphMutate)({t:'update_challenge_prizes'},Object.assign({},challenge)).then(function(res){var updatedStore=_this3._updateStorePostSave(res.challenge.prize_categories,_this3._getCurrentStore());var store=Object.assign({},_this3.state.store,_defineProperty({},_this3.state.mode,updatedStore));_this3.setState({lastIntroSaveState:_this3.state.customIntro,lastSaveState:store,lastUseCustomIntroSaveState:_this3.state.useCustomIntro,store:store},function(){return _this3._submitResolver();});})["catch"](function(err){_this3._submitResolver({msg:"Changes did not save. Please check for errors and try again.",type:'error'});(0,_error_handler["default"])('ChallengePrizeEditor _submitCurrentStore',err);});}},{key:"_submitResolver",value:function _submitResolver(){var msg=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._toggleFormElements(false);(0,_helpers.triggerMessenger)(msg);}},{key:"_toggleMode",value:function _toggleMode(e){var mode=e.target.value;if(![_constants.RANKED_PRIZES_MODE,_constants.CATEGORY_PRIZES_MODE].includes(mode)){return;}
this.setState({sortMode:false,mode:mode});}},{key:"_toggleFormElements",value:function _toggleFormElements(apply){(0,_helpers.toggleProcessingOverlay)(apply,PE_CONTAINER_SELECTOR);(0,_helpers.toggleSubmitButton)(apply,PE_SUBMIT_BTN_SELECTOR);}},{key:"_translateChallengeForPost",value:function _translateChallengeForPost(intro,currentStore){var _this4=this;var prizes_intro=intro&&intro.length>0?intro:null;var prize_categories=currentStore.map(function(cat){return _this4._translateCategoryForRequest(cat);});return{id:this.props.challenge.id,prizes_intro:prizes_intro,prize_categories:prize_categories};}},{key:"_translateCategoryForRequest",value:function _translateCategoryForRequest(category){var _this5=this;var CATEGORY_SUBMIT_BLACKLIST=['isCollapsed','type','uuid'];return Object.keys(category).reduce(function(acc,key){if(CATEGORY_SUBMIT_BLACKLIST.includes(key))return acc;if(key==='prizes'){acc['prizes']=category.prizes.map(function(p){return _this5._translatePrizeForRequest(p);});}else if(_this5.state.mode===_constants.RANKED_PRIZES_MODE&&key==='name'&&category.type===_constants.RANKED_DEFAULT){acc['name']=null;}else{acc[key]=category[key];}
return acc;},{});}},{key:"_translatePrizeForRequest",value:function _translatePrizeForRequest(prize){var PRIZE_SUBMIT_BLACKLIST=['uuid'];return Object.keys(prize).reduce(function(acc,key){if(PRIZE_SUBMIT_BLACKLIST.includes(key))return acc;if(key==='image'){acc['image_id']=!(0,_types.isBlank)(prize.image)&&!(0,_types.isBlank)(prize.image.id)?prize.image.id:null;}else{acc[key]=prize[key];}
return acc;},{});}},{key:"_updateRecordInStore",value:function _updateRecordInStore(category){var bucket=this.state.store[this.state.mode].map(function(cat){return(0,_predicates.doesRecordsMatch)(cat,category)?category:cat;});return Object.assign({},this.state.store,_defineProperty({},this.state.mode,bucket));}},{key:"_updateStorePostSave",value:function _updateStorePostSave(categoriesFromServer,currentStore){var _this6=this;return currentStore.map(function(category,i){if(category.hasOwnProperty('id')&&!(0,_types.isBlank)(category.id))return category;var categoryFromServer=_this6._findRecordByPositionAndName(category,i,categoriesFromServer);if(!categoryFromServer)return category;return Object.assign({},category,{id:categoryFromServer.id,prizes:category.prizes.map(function(prize){var prizeFromServer=_this6._findRecordByPositionAndName(prize,prize.position,categoryFromServer.prizes);return!prizeFromServer?prize:Object.assign({},prize,{id:prizeFromServer.id});})});});}},{key:"_validate",value:function _validate(){var _this7=this;var _validations=(0,_validations2["default"])(this._getCurrentStore()),errors=_validations.errors,hasErrors=_validations.hasErrors;if(hasErrors){this.setState({errors:errors},function(){return(0,_scrollToFirstElement["default"])(errors,_this7._getCurrentStore());});return false;}
return true;}},{key:"_getCategories",value:function _getCategories(){return this.state.sortMode?this._getCategoriesSortableView():this._getCategoryWithPrizesView();}},{key:"_getCategoryWithPrizesView",value:function _getCategoryWithPrizesView(){var _this8=this;var currentStore=this._getCurrentStore();if(!currentStore.length)return this._getEmptyCategoryListView();return currentStore.map(function(cat){return _react["default"].createElement(_Category["default"],_extends({},cat,{key:cat.id||cat.uuid,canDelete:_this8._canDeleteCategory(cat),errors:_this8._getErrorsForCategory(cat),onDelete:function onDelete(){return _this8.deleteCategory(cat);},title:_this8._getTitleForCategory(cat),updateCategoryValue:function updateCategoryValue(key,value,errors){return _this8.updateCategory(Object.assign({},cat,_defineProperty({},key,value)),errors);}}));});}},{key:"_getEmptyCategoryListView",value:function _getEmptyCategoryListView(){return _react["default"].createElement("div",{className:_prize_editor["default"].category},_react["default"].createElement("div",{className:"".concat(_prize_editor["default"].categoryHeader," ").concat(_prize_editor["default"].noBorder)},_react["default"].createElement("div",{className:_prize_editor["default"].categoryHeaderText},_react["default"].createElement("h4",{className:"".concat(_typography["default"].h4)},"Create a category using the menu below"))));}},{key:"_getCategoriesSortableView",value:function _getCategoriesSortableView(){var _this9=this;return _react["default"].createElement(_DragAndDropList["default"],{classNames:{container:_prize_editor["default"].sortableList},dragEndCallback:this.updateCategoryOrder,hasDragHandle:true,ItemComponent:_SortablePrizeRow["default"],itemProps:{getTitleForCategory:function getTitleForCategory(cat){return _this9._getTitleForCategory(cat);}},items:this._getCurrentStore()});}},{key:"_getIntroduction",value:function _getIntroduction(){return this.state.useCustomIntro?this._getCustomIntroView():this._getDefaultIntroView();}},{key:"_getCustomIntroView",value:function _getCustomIntroView(){var _this10=this;return _react["default"].createElement("div",{className:_layout["default"].marginTop15},_react["default"].createElement(_basic_form_input["default"],{element:"textarea",onChange:function onChange(e){return _this10.setState({customIntro:e.target.value});},placeholder:"Write an introduction to the prize section of your contest.",value:this.state.customIntro}));}},{key:"_getDefaultIntroView",value:function _getDefaultIntroView(){return _react["default"].createElement("div",{className:_layout["default"].marginTop15},_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginBottom5)},"Default introduction:"),_react["default"].createElement("p",{className:_typography["default"].bodyS},(0,_templates.getDefaultIntroduction)(this._getPrizeDataForIntroduction())));}},{key:"_getSubTextForCategoriesHeader",value:function _getSubTextForCategoriesHeader(){if(this.state.mode!==_constants.CATEGORY_PRIZES_MODE)return null;return _react["default"].createElement("p",{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginBottom10)},_copy.CATEGORIES_PRIZES_MODE_SUB_COPY);}},{key:"render",value:function render(){var _this11=this;return _react["default"].createElement("div",{className:_prize_editor["default"].root},_react["default"].createElement("div",{className:"".concat(_prize_editor["default"].prizesContainer)},_react["default"].createElement("div",null,_react["default"].createElement("div",{className:_prize_editor["default"].sectionHeader},_react["default"].createElement("h2",{className:"".concat(_typography["default"].h2," ").concat(_layout["default"].marginBottom10)},"Introduction"),_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginBottom10)},"This is an introduction to the prize section in your contest brief.")),_react["default"].createElement("div",{className:_layout["default"].marginBottom45},_react["default"].createElement(_custom["default"],{label:"Create a custom introduction",isChecked:this.state.useCustomIntro,onChange:function onChange(useCustomIntro){return _this11.setState({useCustomIntro:useCustomIntro});},value:this.state.useCustomIntro}),this._getIntroduction())),_react["default"].createElement("div",null,_react["default"].createElement("div",null,_react["default"].createElement("div",{className:_prize_editor["default"].sectionHeader},_react["default"].createElement("h2",{className:"".concat(_typography["default"].h2," ").concat(_layout["default"].marginBottom10)},"Group type")),_react["default"].createElement(_radio_group["default"],{buttons:GROUP_TYPE_RADIO_BUTTONS,name:"undefined",onChange:function onChange(e){return _this11._toggleMode(e);},value:this.state.mode})),_react["default"].createElement("div",{id:CATEGORY_LIST_ID},_react["default"].createElement("div",{className:"".concat(_prize_editor["default"].sectionHeader," ").concat(_layout["default"].marginBottom0)},_react["default"].createElement("h2",{className:"".concat(_typography["default"].h2," ").concat(_layout["default"].marginBottom10)},"Categories"),this._getSubTextForCategoriesHeader(),_react["default"].createElement("div",null,this.state.sortMode&&_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginBottom10)},_react["default"].createElement("span",null,"Sort mode is on. Drag and drop a category to reposition. "),_react["default"].createElement("span",{className:_typography["default"].linkBlue,onClick:function onClick(){return _this11.setState({sortMode:false});}},"Turn sort mode off.")))),this._getCategories()),_react["default"].createElement(_Menu["default"],{addCategory:this.addCategory,categories:this._getCurrentStore(),mode:this.state.mode,onSortModeCheckboxChange:this.onSortModeCheckboxChange,sortMode:this.state.sortMode}))),this.state.mode===_constants.CATEGORY_PRIZES_MODE&&_react["default"].createElement(_EnterableChecklist["default"],{categories:this._getEnterableCategories(),updateCategory:this.updateCategory}));}}]);return ChallengePrizeEditor;}(_react.Component);ChallengePrizeEditor.propTypes={challenge:_propTypes["default"].shape({prize_categories:_propTypes["default"].arrayOf(_propTypes["default"].shape({description:_propTypes["default"].string,id:_propTypes["default"].number.isRequired,is_enterable:_propTypes["default"].bool.isRequired,is_ranked:_propTypes["default"].bool,is_runner_up:_propTypes["default"].bool,name:_propTypes["default"].string,position:_propTypes["default"].number,prizes:_propTypes["default"].arrayOf(_propTypes["default"].shape({cash_value:_propTypes["default"].number,description:_propTypes["default"].string,id:_propTypes["default"].number.isRequired,image:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,url:_propTypes["default"].string.isRequired}),link:_propTypes["default"].string,name:_propTypes["default"].string.isRequired,position:_propTypes["default"].number,quantity:_propTypes["default"].number,requires_shipping:_propTypes["default"].bool}))})),id:_propTypes["default"].number.isRequired,prizes_intro:_propTypes["default"].string}).isRequired};ChallengePrizeEditor.defaultProps={challenge:null};var _default=ChallengePrizeEditor;exports["default"]=_default;}),93119:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _IFrame=_interopRequireDefault(__webpack_require__(14451));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ContestEmail=function ContestEmail(_ref){var body=_ref.body,subject=_ref.subject;return _react["default"].createElement("div",null,subject&&_react["default"].createElement("div",{className:"".concat(_layout["default"].marginBottom15," ").concat(_layout["default"].marginLeft15," ").concat(_util["default"].borderBottom)},_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold)},_react["default"].createElement("span",null,"Subject: "),_react["default"].createElement("span",null,subject))),_react["default"].createElement(_IFrame["default"],{html:body,minWidth:600}));};ContestEmail.propTypes={body:_propTypes["default"].string,subject:_propTypes["default"].string};ContestEmail.defaultProps={body:'<div>You forgot to add a body prop!</div>',subject:''};var _default=ContestEmail;exports["default"]=_default;}),12915:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactDom=_interopRequireDefault(__webpack_require__(73935));var _app=_interopRequireDefault(__webpack_require__(69110));var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _country=__webpack_require__(80763);var _formatAddress=_interopRequireDefault(__webpack_require__(45903));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AddressForm=function(_Component){_inherits(AddressForm,_Component);var _super=_createSuper(AddressForm);function AddressForm(props){var _this;_classCallCheck(this,AddressForm);_this=_super.call(this,props);_this.selectAddress=_this.selectAddress.bind(_assertThisInitialized(_this));_this.updateAddresses=_this.updateAddresses.bind(_assertThisInitialized(_this));_this.state={addresses:props.addresses||[],selectedAddress:props.knownAddress!==null&&Object.keys(props.knownAddress).length?props.knownAddress:null};return _this;}
_createClass(AddressForm,[{key:"selectAddress",value:function selectAddress(selectedAddress){this.setState({selectedAddress:selectedAddress});(0,_smoothScroll["default"])(_reactDom["default"].findDOMNode(this),300);}},{key:"updateAddresses",value:function updateAddresses(updatedAddresses,addressToSelect){this.setState({addresses:updatedAddresses,selectedAddress:addressToSelect!==undefined?addressToSelect:this.state.selectedAddress});if(addressToSelect!==undefined){(0,_smoothScroll["default"])(_reactDom["default"].findDOMNode(this),300);}}},{key:"render",value:function render(){return this.state.selectedAddress?this._buildSelected():_react["default"].createElement("div",null,_react["default"].createElement("div",{className:"form-group ".concat(this.props.errors&&this.props.errors.length?'has-error':null)},_react["default"].createElement("label",{className:"control-label"},_react["default"].createElement("span",null,"Please let us know where to ship your device if your application is selected:"),_react["default"].createElement("i",{className:"fa fa-question-circle istooltip",title:"We ask for addresses ahead of selecting winners in order to streamline our shipping process. If you are selected, you will have to build a project with the device we send you, and we want to ensure you have enough time."})),this.props.errors?this.props.errors.map(function(error,index){return _react["default"].createElement("span",{key:index,className:"help-block"},error);}):null),_react["default"].createElement(_app["default"],{addresses:this.state.addresses,selectable:true,selectAddress:this.selectAddress,updateAddresses:this.updateAddresses}));}},{key:"_buildSelected",value:function _buildSelected(){var _this2=this;var address=this.state.selectedAddress;var keys=address.extra_fields?Object.keys(address.extra_fields):[];var extraFields=keys.map(function(key){return "".concat(key.toUpperCase(),": ").concat(address.extra_fields[key]);});var formatted=(0,_formatAddress["default"])(address);var country=(0,_country.getCountry)(address);var lines=[address.full_name].concat(_toConsumableArray(formatted),[country.name,"Phone: ".concat(address.phone)],_toConsumableArray(extraFields)).filter(function(line){return line&&line.length>0;});return _react["default"].createElement("div",{className:"address-container"},_react["default"].createElement("strong",{className:"mg-10"},"Shipping To:"),_react["default"].createElement("div",{className:"address"},lines.map(function(line,idx){return _react["default"].createElement("span",{key:idx},line,_react["default"].createElement("br",null));}),_react["default"].createElement("a",{className:"btn btn-xs btn-link",href:"javascipt:void(0);",onClick:function onClick(){return _this2.setState({selectedAddress:null});}},"Choose a different address")),_react["default"].createElement("input",{type:"hidden",name:"challenge_idea[address_id]",value:address.id}));}}]);return AddressForm;}(_react.Component);AddressForm.propTypes={addresses:_propTypes["default"].array,errors:_propTypes["default"].array,knownAddress:_propTypes["default"].object};AddressForm.defaultProps={addresses:[],errors:[],knownAddress:{}};var _default=AddressForm;exports["default"]=_default;}),62993:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _links=__webpack_require__(22463);var _formatters=__webpack_require__(88231);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var getActionsForUser=function getActionsForUser(_ref){var comment=_ref.comment,createLike=_ref.createLike,currentUser=_ref.currentUser,deleteLike=_ref.deleteLike,newCommentsDisabled=_ref.newCommentsDisabled,onReplyClick=_ref.onReplyClick,parentIsDeleted=_ref.parentIsDeleted;return _react["default"].createElement(_react.Fragment,null,getLikeBtn({comment:comment,createLike:createLike,currentUser:currentUser,deleteLike:deleteLike}),getReplyBtn({comment:comment,currentUser:currentUser,newCommentsDisabled:newCommentsDisabled,onReplyClick:onReplyClick,parentIsDeleted:parentIsDeleted}),getLikesCounter({comment:comment}));};var getLikeBtn=function getLikeBtn(_ref2){var comment=_ref2.comment,createLike=_ref2.createLike,currentUser=_ref2.currentUser,deleteLike=_ref2.deleteLike;var currentUserLiked=comment.liking_user_ids.indexOf(currentUser.id)>-1;var onClick=currentUserLiked?deleteLike:createLike;return _react["default"].createElement("li",{className:"r-comment-like-button"},_react["default"].createElement("a",{href:_links.NOOP_HREF,onClick:onClick},currentUserLiked?'Thanked':'Thank'));};var getLikesCounter=function getLikesCounter(_ref3){var comment=_ref3.comment;if(!comment.liking_user_ids.length)return null;return _react["default"].createElement("li",{className:"r-comments-counter"},_react["default"].createElement("span",null,comment.liking_user_ids.length," ",(0,_formatters.pluralize)('thank',comment.liking_user_ids.length)));};var getReplyBtn=function getReplyBtn(_ref4){var comment=_ref4.comment,currentUser=_ref4.currentUser,newCommentsDisabled=_ref4.newCommentsDisabled,onReplyClick=_ref4.onReplyClick,parentIsDeleted=_ref4.parentIsDeleted;if(!currentUser.isConfirmed||newCommentsDisabled)return null;if(parentIsDeleted)return _react["default"].createElement("li",{className:"text-muted"},"(Discussion closed)");return _react["default"].createElement("li",null,_react["default"].createElement("a",{href:_links.NOOP_HREF,onClick:onReplyClick},comment.depth===0?'Reply':'Reply to conversation'));};var CommentActions=function CommentActions(_ref5){var comment=_ref5.comment,createLike=_ref5.createLike,currentUser=_ref5.currentUser,deleteLike=_ref5.deleteLike,newCommentsDisabled=_ref5.newCommentsDisabled,onReplyClick=_ref5.onReplyClick,parentIsDeleted=_ref5.parentIsDeleted;if(!currentUser&&!comment.liking_user_ids.length)return null;return _react["default"].createElement("ul",{className:"comment-actions"},currentUser?getActionsForUser({comment:comment,createLike:createLike,currentUser:currentUser,deleteLike:deleteLike,newCommentsDisabled:newCommentsDisabled,onReplyClick:onReplyClick,parentIsDeleted:parentIsDeleted}):getLikesCounter({comment:comment}));};CommentActions.propTypes={comment:_propTypes["default"].shape({liking_user_ids:_propTypes["default"].array.isRequired}).isRequired,createLike:_propTypes["default"].func.isRequired,currentUser:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,isConfirmed:_propTypes["default"].bool.isRequired}),deleteLike:_propTypes["default"].func.isRequired,newCommentsDisabled:_propTypes["default"].bool.isRequired,onReplyClick:_propTypes["default"].func.isRequired,parentIsDeleted:_propTypes["default"].bool.isRequired};CommentActions.defaultProps={currentUser:null};var _default=CommentActions;exports["default"]=_default;}),86997:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _flag_button=_interopRequireDefault(__webpack_require__(81322));var _mark_spam_button=_interopRequireDefault(__webpack_require__(60922));var _links=__webpack_require__(22463);var _simple_select=_interopRequireDefault(__webpack_require__(27464));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var CommentMenu=function CommentMenu(_ref){var comment=_ref.comment,currentUser=_ref.currentUser,onDeleteClick=_ref.onDeleteClick,onEditClick=_ref.onEditClick;if(!currentUser)return null;var isCurrentUserCommentOwner=currentUser.id===comment.user.id;var canCurrentUserManage=currentUser.isAdmin||isCurrentUserCommentOwner;return _react["default"].createElement("div",{className:"dropdown comment-manage pull-right"},_react["default"].createElement("a",{className:"dropdown-toggle btn btn-link btn-sm",href:_links.NOOP_HREF,type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},_react["default"].createElement("i",{className:"fa fa-ellipsis-v"})),_react["default"].createElement("ul",{className:"dropdown-menu"},canCurrentUserManage&&_react["default"].createElement("li",{className:_simple_select["default"].optionPaddingOnChild},_react["default"].createElement("span",{onClick:onEditClick},"Edit")),canCurrentUserManage&&_react["default"].createElement("li",{className:_simple_select["default"].optionPaddingOnChild},_react["default"].createElement("span",{onClick:onDeleteClick},"Delete")),currentUser.isAdmin&&_react["default"].createElement("li",{className:_simple_select["default"].optionPaddingOnChild},_react["default"].createElement(_mark_spam_button["default"],{flaggable:{type:"Comment",id:comment.id}})),!isCurrentUserCommentOwner&&!currentUser.isAdmin&&_react["default"].createElement("li",{className:_simple_select["default"].optionPaddingOnChild},_react["default"].createElement(_flag_button["default"],{currentUserId:currentUser.id,flaggable:{type:"Comment",id:comment.id}}))));};CommentMenu.propTypes={comment:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired}).isRequired,currentUser:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,isAdmin:_propTypes["default"].bool.isRequired}),onDeleteClick:_propTypes["default"].func.isRequired,onEditClick:_propTypes["default"].func.isRequired};CommentMenu.defaultProps={currentUser:null};var _default=CommentMenu;exports["default"]=_default;}),78173:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _CommentActions=_interopRequireDefault(__webpack_require__(62993));var _editor=_interopRequireDefault(__webpack_require__(75703));var _CommentMenu=_interopRequireDefault(__webpack_require__(86997));var _Markdown=_interopRequireDefault(__webpack_require__(6654));var _time=__webpack_require__(28716);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Comment=function(_Component){_inherits(Comment,_Component);var _super=_createSuper(Comment);function Comment(props){var _this;_classCallCheck(this,Comment);_this=_super.call(this,props);_this.state={isEditing:false};_this.handleDeleteClick=_this.handleDeleteClick.bind(_assertThisInitialized(_this));_this.handleReplyClick=_this.handleReplyClick.bind(_assertThisInitialized(_this));_this.updateComment=_this.updateComment.bind(_assertThisInitialized(_this));return _this;}
_createClass(Comment,[{key:"handleDeleteClick",value:function handleDeleteClick(e){e.preventDefault();var confirm=window.confirm('Are you sure you want to delete this comment?');if(confirm){this.props.deleteComment();}}},{key:"handleReplyClick",value:function handleReplyClick(){this.props.toggleReplyBox({id:this.props.comment.depth===0?this.props.comment.id:this.props.comment.parent_id,show:true});}},{key:"updateComment",value:function updateComment(value){if(value!==this.props.comment.md_body){this.props.updateComment(this.props.comment,value);}
this.setState({isEditing:false});}},{key:"_getBodyView",value:function _getBodyView(){return this.state.isEditing?this._getEditingBodyView():this._getDefaultBodyView();}},{key:"_getDefaultBodyView",value:function _getDefaultBodyView(){if(this.props.comment.depth===0&&this.props.comment.deleted===true){return _react["default"].createElement("div",{className:"comment-body"},"This comment has been deleted.");}
return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("div",{className:"comment-body",dangerouslySetInnerHTML:{__html:_Markdown["default"].render(this.props.comment.md_body)}}),_react["default"].createElement(_CommentActions["default"],{comment:this.props.comment,createLike:this.props.createLike,currentUser:this.props.currentUser,deleteLike:this.props.deleteLike,newCommentsDisabled:this.props.newCommentsDisabled,onReplyClick:this.handleReplyClick,parentIsDeleted:this.props.parentIsDeleted}));}},{key:"_getEditingBodyView",value:function _getEditingBodyView(){var _this2=this;return _react["default"].createElement("div",{className:"comments-form"},_react["default"].createElement(_editor["default"],{initialTextValue:this.props.comment.md_body,isEditing:this.state.isEditing,onDismiss:function onDismiss(){return _this2.setState({isEditing:false});},onPost:this.updateComment,placeholder:this.props.placeholder}));}},{key:"_getReplyBoxView",value:function _getReplyBoxView(){var _this3=this;if(!this.props.replyBox.show||this.props.replyBox.id!==this.props.comment.id)return null;var editorWrapperClass=this.props.children&&this.props.children.length>0?'comments-form reply':'comments-form';return _react["default"].createElement("div",{className:"reply-box"},_react["default"].createElement("div",{className:"reply-box-center-line"}),_react["default"].createElement("div",{className:editorWrapperClass},_react["default"].createElement(_editor["default"],{config:{scrollToOnMount:true},onDismiss:function onDismiss(){return _this3.props.toggleReplyBox({id:null,show:false});},onPost:function onPost(text){return _this3.props.postCommentReply(text,_this3.props.comment);},placeholder:this.props.placeholder})));}},{key:"_getUserAvatarView",value:function _getUserAvatarView(){var user=this.props.comment.user;return user.url?_react["default"].createElement("a",{href:user.url},_react["default"].createElement("img",{src:user.avatar_url,alt:user.name})):_react["default"].createElement("img",{src:user.avatar_url,alt:user.name});}},{key:"_getUserNameView",value:function _getUserNameView(){var user=this.props.comment.user;return user.url?_react["default"].createElement("a",{href:user.url},user.name):user.name;}},{key:"render",value:function render(){var _this4=this;var commentClassName=this.props.comment.depth===0?'comment':'comment comment-nested';return _react["default"].createElement("div",null,_react["default"].createElement("div",{className:commentClassName,id:"comment_".concat(this.props.comment.id)},_react["default"].createElement("div",{className:"comment-title"},_react["default"].createElement("div",{className:"avatar"},this._getUserAvatarView()),_react["default"].createElement("div",{className:"profile-name"},_react["default"].createElement("h4",null,_react["default"].createElement("strong",null,this._getUserNameView())),_react["default"].createElement("span",{className:"text-muted comment-date",title:(0,_time.timestampToPrettyDate)(this.props.comment.created_at)},(0,_time.timeFromNow)(this.props.comment.created_at))),!this.state.isEditing&&!this.props.comment.deleted&&_react["default"].createElement(_CommentMenu["default"],{comment:this.props.comment,currentUser:this.props.currentUser,onEditClick:function onEditClick(){return _this4.setState({isEditing:true});},onDeleteClick:this.handleDeleteClick})),this._getBodyView()),this.props.children,!this.state.isEditing&&this._getReplyBoxView());}}]);return Comment;}(_react.Component);Comment.propTypes={children:_propTypes["default"].array,comment:_propTypes["default"].shape({body_with_relations:_propTypes["default"].string,created_at:_propTypes["default"].string.isRequired,deleted:_propTypes["default"].bool.isRequired,depth:_propTypes["default"].number.isRequired,edited_at:_propTypes["default"].string,id:_propTypes["default"].number.isRequired,liking_user_ids:_propTypes["default"].arrayOf(_propTypes["default"].number),md_body:_propTypes["default"].string,parent_id:_propTypes["default"].number,user:_propTypes["default"].shape({avatar_url:_propTypes["default"].string,id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired})}).isRequired,createLike:_propTypes["default"].func.isRequired,currentUser:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,isAdmin:_propTypes["default"].bool.isRequired}),deleteComment:_propTypes["default"].func.isRequired,deleteLike:_propTypes["default"].func.isRequired,newCommentsDisabled:_propTypes["default"].bool,parentIsDeleted:_propTypes["default"].bool.isRequired,placeholder:_propTypes["default"].string,postCommentReply:_propTypes["default"].func.isRequired,replyBox:_propTypes["default"].object.isRequired,toggleReplyBox:_propTypes["default"].func.isRequired,updateComment:_propTypes["default"].func.isRequired};Comment.defaultProps={children:null,currentUser:null,newCommentsDisabled:false,placeholder:''};var _default=Comment;exports["default"]=_default;}),17020:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _index=_interopRequireDefault(__webpack_require__(79953));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var TOOL_LABELS=['bold','italic','code','bullet_list','quote'];var Toolbar=function Toolbar(props){return _react["default"].createElement("div",{className:"editor-toolbar ".concat(_layout["default"].flexCenterItems)},TOOL_LABELS.map(function(label){return _react["default"].createElement("button",{key:label,className:"".concat(_buttons["default"].md," ").concat(_layout["default"].flexCenterItems," toolbar-btn"),onClick:props.handleSelectTool,"data-label":label},_react["default"].createElement(_index["default"],{className:"",name:"".concat(label,"_editor_tool")}));}));};Toolbar.propTypes={handleSelectTool:_propTypes["default"].func.isRequired};var _default=Toolbar;exports["default"]=_default;}),49497:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.REGEX=exports.MD_SETTINGS=void 0;var MD_SETTINGS={bold:{appendedChars:'**',prependedChars:'**'},bullet_list:{appendedChars:'',prependedChars:'- ',formatBlock:true},code_fence:{appendedChars:'\n```',prependedChars:'```\n'},code_inline:{appendedChars:'`',prependedChars:'`'},italic:{appendedChars:'_',prependedChars:'_'},quote:{appendedChars:'',prependedChars:'> ',formatBlock:true}};exports.MD_SETTINGS=MD_SETTINGS;var REGEX={linebreak:/\r?\n/,nonWhitespace:/\S/,leadingWhitespace:/^\s+/,trailingWhitespace:/\s+$/};exports.REGEX=REGEX;}),37559:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=formatAdjacent;var _utils=__webpack_require__(79091);var _constants=__webpack_require__(49497);var INSIDE='INSIDE_SELECTION_RANGE';var OUTSIDE='OUTSIDE_SELECTION_RANGE';function configureFormattingData(formattingData){var adjustedSelection=_adjustSelection(formattingData);return Object.assign({},formattingData,adjustedSelection);}
function _adjustSelection(_ref){var selectedStr=_ref.selectedStr,selectionRange=_ref.selectionRange;var start=selectionRange.start,end=selectionRange.end;var isSelectionAllWs=selectedStr.match(_constants.REGEX.nonWhitespace)===null;if(isSelectionAllWs){return{selectionRange:{start:start+selectedStr.length,end:end},selectedStr:selectedStr.trim()};}else{var leadingWs=selectedStr.match(_constants.REGEX.leadingWhitespace);var trailingWs=selectedStr.match(_constants.REGEX.trailingWhitespace);var leadingWsCount=leadingWs?leadingWs[0].length:0;var trailingWsCount=trailingWs?trailingWs[0].length:0;return{selectionRange:{start:start+leadingWsCount,end:end-trailingWsCount},selectedStr:selectedStr.trim()};}}
function createFormattedString(_ref2){var textAreaValue=_ref2.textAreaValue,selectedStr=_ref2.selectedStr,selectionRange=_ref2.selectionRange,initialCaretPos=_ref2.initialCaretPos,mdSettings=_ref2.mdSettings;var caretStart=initialCaretPos.start,caretEnd=initialCaretPos.end;var appendedChars=mdSettings.appendedChars,prependedChars=mdSettings.prependedChars;var newStr=prependedChars+selectedStr+appendedChars;return{newCaretPos:{start:caretStart+prependedChars.length,end:caretEnd+prependedChars.length},newTextAreaValue:(0,_utils.insertStrAtCaretPos)(textAreaValue,selectionRange.start,selectionRange.end,newStr)};}
function findMdCharsPosition(_ref3){var textAreaValue=_ref3.textAreaValue,selectionRange=_ref3.selectionRange,mdSettings=_ref3.mdSettings;if(_areMdCharsInsideSelectionRange(textAreaValue,selectionRange,mdSettings)){return INSIDE;}else if(_areMdCharsOutsideSelectionRange(textAreaValue,selectionRange,mdSettings)){return OUTSIDE;}else{return null;}}
function _areMdCharsInsideSelectionRange(textAreaValue,selectionRange,mdSettings){var start=selectionRange.start,end=selectionRange.end;var appendedChars=mdSettings.appendedChars,prependedChars=mdSettings.prependedChars;var charsInsideLeft=textAreaValue.slice(start,start+prependedChars.length);var charsInsideRight=textAreaValue.slice(end-appendedChars.length,end);return charsInsideLeft===prependedChars&&charsInsideRight===appendedChars;}
function _areMdCharsOutsideSelectionRange(textAreaValue,selectionRange,mdSettings){var start=selectionRange.start,end=selectionRange.end;var appendedChars=mdSettings.appendedChars,prependedChars=mdSettings.prependedChars;var charsOutsideLeft=textAreaValue.slice(start-prependedChars.length,start);var charsOutsideRight=textAreaValue.slice(end,end+appendedChars.length);return charsOutsideLeft===prependedChars&&charsOutsideRight===appendedChars;}
function removeMd(mdCharsPosition,_ref4){var textAreaValue=_ref4.textAreaValue,selectedStr=_ref4.selectedStr,selectionRange=_ref4.selectionRange,initialCaretPos=_ref4.initialCaretPos,mdSettings=_ref4.mdSettings;var caretStart=initialCaretPos.start,caretEnd=initialCaretPos.end;var start=selectionRange.start,end=selectionRange.end;var appendedChars=mdSettings.appendedChars,prependedChars=mdSettings.prependedChars;if(mdCharsPosition===OUTSIDE){var mdCharsStart=start-prependedChars.length;var mdCharsEnd=end+appendedChars.length;return{newCaretPos:{start:caretStart-prependedChars.length,end:caretEnd-prependedChars.length},newTextAreaValue:(0,_utils.insertStrAtCaretPos)(textAreaValue,mdCharsStart,mdCharsEnd,selectedStr)};}else{var newStr=selectedStr.slice(prependedChars.length,selectedStr.length-appendedChars.length);return{newCaretPos:{start:caretStart-prependedChars.length,end:caretEnd-prependedChars.length},newTextAreaValue:(0,_utils.insertStrAtCaretPos)(textAreaValue,start,end,newStr)};}}
function formatAdjacent(formattingData){var adjustedData=configureFormattingData(formattingData);var mdCharsPosition=findMdCharsPosition(adjustedData);return mdCharsPosition?removeMd(mdCharsPosition,adjustedData):createFormattedString(adjustedData);}}),62106:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=formatBlock;var _utils=__webpack_require__(79091);var _constants=__webpack_require__(49497);var LINEBREAK_CHAR=String.fromCharCode(10);var REQUIRED_BREAKS=2;function createFormattedBlock(_ref){var initialCaretPos=_ref.initialCaretPos,textAreaValue=_ref.textAreaValue,selectedStr=_ref.selectedStr,selectionRange=_ref.selectionRange,toolLabel=_ref.toolLabel,mdSettings=_ref.mdSettings;var caretStart=initialCaretPos.start,caretEnd=initialCaretPos.end;var start=selectionRange.start,end=selectionRange.end;var prependedChars=mdSettings.prependedChars;var rows=selectedStr.split(_constants.REGEX.linebreak);var rowsCount=rows.length;var newStr=_insertMdToEveryRow(rows,prependedChars);var _getLinebreaks=getLinebreaks({textAreaValue:textAreaValue,start:start,end:end}),linebreaksToPrepend=_getLinebreaks.linebreaksToPrepend,linebreaksToAppend=_getLinebreaks.linebreaksToAppend;var blockStr=linebreaksToPrepend+newStr+linebreaksToAppend;var newCaretPos=rows.length>1?{start:caretStart+linebreaksToPrepend.length,end:caretEnd+linebreaksToPrepend.length+rowsCount*prependedChars.length+(rowsCount-1)}:{start:caretStart+linebreaksToPrepend.length+prependedChars.length,end:caretEnd+linebreaksToPrepend.length+prependedChars.length};return{newCaretPos:newCaretPos,newTextAreaValue:(0,_utils.insertStrAtCaretPos)(textAreaValue,start,end,blockStr)};}
function _insertMdToEveryRow(rows,prependedChars){return rows.map(function(row){return prependedChars+row;}).join(LINEBREAK_CHAR);}
function getLinebreaks(selectionData){var breaksCountToPrepend=_getBreaksCountToPrepend(selectionData);var breaksCountToAppend=_getBreaksCountToAppend(selectionData);return{linebreaksToPrepend:LINEBREAK_CHAR.repeat(breaksCountToPrepend),linebreaksToAppend:LINEBREAK_CHAR.repeat(breaksCountToAppend)};}
function _getBreaksCountToPrepend(_ref2){var textAreaValue=_ref2.textAreaValue,start=_ref2.start;if(start===0)return 0;var existingLinebreaksBefore=textAreaValue.slice(start-REQUIRED_BREAKS,start).split('').filter(function(_char){return _char===LINEBREAK_CHAR;});return REQUIRED_BREAKS-existingLinebreaksBefore.length;}
function _getBreaksCountToAppend(_ref3){var textAreaValue=_ref3.textAreaValue,end=_ref3.end;if(end===textAreaValue.length)return 0;var existingLinebreaksAfter=textAreaValue.slice(end,end+REQUIRED_BREAKS).split('').filter(function(_char2){return _char2===LINEBREAK_CHAR;});return REQUIRED_BREAKS-existingLinebreaksAfter.length;}
function shouldRemoveMdFromRows(_ref4){var textAreaValue=_ref4.textAreaValue,selectedStr=_ref4.selectedStr,selectionRange=_ref4.selectionRange,mdSettings=_ref4.mdSettings;var start=selectionRange.start,end=selectionRange.end;var prependedChars=mdSettings.prependedChars;var rows=selectedStr.split(_constants.REGEX.linebreak);if((0,_utils.isAnEntireRowSelected)(rows,textAreaValue,end)){var charsAfterSelectionStart=textAreaValue.slice(start,start+prependedChars.length);var charsBeforeSelectionStart=textAreaValue.slice(start-prependedChars.length,start);return charsAfterSelectionStart===prependedChars||charsBeforeSelectionStart===prependedChars;}else{var doesEveryRowStartWithMdChars=rows.every(function(row){var charsBefore=row.slice(0,prependedChars.length);return charsBefore===prependedChars;});return doesEveryRowStartWithMdChars;}}
function removeMdFromRows(_ref5){var textAreaValue=_ref5.textAreaValue,selectedStr=_ref5.selectedStr,selectionRange=_ref5.selectionRange,initialCaretPos=_ref5.initialCaretPos,mdSettings=_ref5.mdSettings;var caretStart=initialCaretPos.start,caretEnd=initialCaretPos.end;var start=selectionRange.start,end=selectionRange.end;var prependedChars=mdSettings.prependedChars;var rows=selectedStr.split(_constants.REGEX.linebreak);var charsBeforeSelectionStart=textAreaValue.slice(start-prependedChars.length,start);var isMdBeforeSelection=rows.length===1&&charsBeforeSelectionStart===prependedChars;if(isMdBeforeSelection){var selectedRow=rows[0];var newSelectionStart=start-prependedChars.length;return{newCaretPos:{start:caretStart-prependedChars.length,end:caretEnd-prependedChars.length},newTextAreaValue:(0,_utils.insertStrAtCaretPos)(textAreaValue,newSelectionStart,end,selectedRow)};}else{var newStr=rows.map(function(row){return row.slice(prependedChars.length);}).join(LINEBREAK_CHAR);return{newCaretPos:{start:caretStart,end:caretStart-newStr.length},newTextAreaValue:(0,_utils.insertStrAtCaretPos)(textAreaValue,start,end,newStr)};}}
function formatBlock(formattingData){return shouldRemoveMdFromRows(formattingData)?removeMdFromRows(formattingData):createFormattedBlock(formattingData);}}),3696:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=formatSelection;var _constants=__webpack_require__(49497);var _formatBlock=_interopRequireDefault(__webpack_require__(62106));var _formatAdjacent=_interopRequireDefault(__webpack_require__(37559));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getCodeLabel(_ref){var textAreaValue=_ref.textAreaValue,selectedStr=_ref.selectedStr,selectionRange=_ref.selectionRange;var rows=selectedStr.split(_constants.REGEX.linebreak);return rows.length>1?'code_fence':'code_inline';}
function formatSelection(formattingData){var toolLabel=formattingData.toolLabel==='code'?_getCodeLabel(formattingData):formattingData.toolLabel;return _constants.MD_SETTINGS[toolLabel].formatBlock?(0,_formatBlock["default"])(Object.assign({},formattingData,{toolLabel:toolLabel,mdSettings:_constants.MD_SETTINGS[toolLabel]})):(0,_formatAdjacent["default"])(Object.assign({},formattingData,{toolLabel:toolLabel,mdSettings:_constants.MD_SETTINGS[toolLabel]}));}}),79091:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.insertStrAtCaretPos=insertStrAtCaretPos;exports.isAnEntireRowSelected=isAnEntireRowSelected;function _isEndOfLine(textAreaValue,selectionEnd){return selectionEnd===textAreaValue.length||textAreaValue.slice(selectionEnd,selectionEnd+1)==='\n';}
function insertStrAtCaretPos(textAreaValue,start,end,str){return textAreaValue.slice(0,start)+str+textAreaValue.slice(end);}
function isAnEntireRowSelected(rows,textAreaValue,selectionEnd){return rows.length===1&&_isEndOfLine(textAreaValue,selectionEnd);}}),75839:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=getSelection;function shouldSelectWordAtCaret(textAreaValue,selectionStart,selectionEnd){return selectionStart===selectionEnd;}
function getWordAtCaret(textAreaValue,caretPos){var beforeCaret=textAreaValue.slice(0,caretPos).split(/\s+/).pop();var afterCaret=textAreaValue.slice(caretPos).split(/\s+/).shift();return{initialCaretPos:{start:caretPos,end:caretPos},selectionRange:{start:caretPos-beforeCaret.length,end:caretPos+afterCaret.length},selectedStr:beforeCaret+afterCaret,textAreaValue:textAreaValue};}
function getSelectedBlock(textAreaValue,selectionStart,selectionEnd){var selectedBlock=textAreaValue.slice(selectionStart,selectionEnd);return{initialCaretPos:{start:selectionStart,end:selectionEnd},selectionRange:{start:selectionStart,end:selectionEnd},selectedStr:selectedBlock,textAreaValue:textAreaValue};}
function getSelection(_ref){var textAreaValue=_ref.textAreaValue,selectionStart=_ref.selectionStart,selectionEnd=_ref.selectionEnd;return shouldSelectWordAtCaret(textAreaValue,selectionStart,selectionEnd)?getWordAtCaret(textAreaValue,selectionStart):getSelectedBlock(textAreaValue,selectionStart,selectionEnd);}}),1944:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));Object.defineProperty(exports,"getSelection",({enumerable:true,get:function get(){return _getSelection2["default"];}}));Object.defineProperty(exports,"formatSelection",({enumerable:true,get:function get(){return _formatSelection2["default"];}}));var _getSelection2=_interopRequireDefault(__webpack_require__(75839));var _formatSelection2=_interopRequireDefault(__webpack_require__(3696));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}}),75703:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _autosize_textarea=_interopRequireDefault(__webpack_require__(12626));var _base=_interopRequireDefault(__webpack_require__(6094));var _ring=_interopRequireDefault(__webpack_require__(49737));var _Toolbar=_interopRequireDefault(__webpack_require__(17020));var _helpers=__webpack_require__(1944);var _validators=__webpack_require__(73235);var _Markdown=_interopRequireDefault(__webpack_require__(6654));var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var COMMENT_MAX_LEN=1600;var CommentEditor=function(_Component){_inherits(CommentEditor,_Component);var _super=_createSuper(CommentEditor);function CommentEditor(props){var _this;_classCallCheck(this,CommentEditor);_this=_super.call(this,props);_this.state={activeTab:'write',textAreaValue:props.initialTextValue||''};_this.handleSelectTool=_this.handleSelectTool.bind(_assertThisInitialized(_this));_this.handleTextareaChange=_this.handleTextareaChange.bind(_assertThisInitialized(_this));_this.__resetStateHook=_this.__resetStateHook.bind(_assertThisInitialized(_this));_this._autosizeWrapper;_this._root;return _this;}
_createClass(CommentEditor,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.config.scrollToOnMount){this._scrollToAndFocus();}}},{key:"__resetStateHook",value:function __resetStateHook(){this.setState({activeTab:'write',textAreaValue:''});}},{key:"_scrollToAndFocus",value:function _scrollToAndFocus(){var _this2=this;if(this._root){(0,_smoothScroll["default"])(this._root.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/2,500,function(){_this2._autosizeWrapper.__focusTextAreaHook();});}}},{key:"_setActiveTab",value:function _setActiveTab(tabLabel){this.setState({activeTab:tabLabel});}},{key:"_getTabClass",value:function _getTabClass(tabLabel){return tabLabel===this.state.activeTab?'comments-form-tab active':'comments-form-tab';}},{key:"_getSelectionData",value:function _getSelectionData(){var _this$_autosizeWrappe=this._autosizeWrapper._textarea,selectionStart=_this$_autosizeWrappe.selectionStart,selectionEnd=_this$_autosizeWrappe.selectionEnd,textAreaValue=_this$_autosizeWrappe.value;return(0,_helpers.getSelection)({textAreaValue:textAreaValue,selectionStart:selectionStart,selectionEnd:selectionEnd});}},{key:"_getTextAreaErrors",value:function _getTextAreaErrors(){return(0,_validators.maxLength)(COMMENT_MAX_LEN,this.state.textAreaValue);}},{key:"handleTextareaChange",value:function handleTextareaChange(e){this.setState({textAreaValue:e.target.value});}},{key:"handleSelectTool",value:function handleSelectTool(e){var _this3=this;e.preventDefault();var toolLabel=e.currentTarget.dataset.label;var _this$_getSelectionDa=this._getSelectionData(),textAreaValue=_this$_getSelectionDa.textAreaValue,selectedStr=_this$_getSelectionDa.selectedStr,selectionRange=_this$_getSelectionDa.selectionRange,initialCaretPos=_this$_getSelectionDa.initialCaretPos;var formattingData={textAreaValue:textAreaValue,selectedStr:selectedStr,selectionRange:selectionRange,initialCaretPos:initialCaretPos,toolLabel:toolLabel};var _formatSelection=(0,_helpers.formatSelection)(formattingData),newCaretPos=_formatSelection.newCaretPos,newTextAreaValue=_formatSelection.newTextAreaValue;this.setState({textAreaValue:newTextAreaValue},function(){return _this3._autosizeWrapper.__focusTextAreaHook(newCaretPos.start,newCaretPos.end);});}},{key:"_getErrorView",value:function _getErrorView(){var errors=this._getTextAreaErrors();if(errors===null)return;return _react["default"].createElement("div",{className:"".concat(_inputs["default"].error," ").concat(_layout["default"].margin0," ").concat(_layout["default"].paddingLeft5," ").concat(_layout["default"].flex1)},errors);}},{key:"_getNavView",value:function _getNavView(){var _this4=this;return _react["default"].createElement("nav",{className:"comments-form-nav"},_react["default"].createElement("button",{disabled:this.state.activeTab==='write',href:"javascript:void(0);",className:this._getTabClass('write'),onClick:function onClick(){return _this4._setActiveTab('write');}},'Write'),_react["default"].createElement("button",{disabled:this.state.activeTab==='preview',href:"javascript:void(0);",className:this._getTabClass('preview'),onClick:function onClick(){return _this4._setActiveTab('preview');}},_react["default"].createElement("img",{src:"/assets/markdown-mark.png",className:"markdown-supported"}),'Preview'));}},{key:"_getTextAreaView",value:function _getTextAreaView(){var _this5=this;return _react["default"].createElement(_autosize_textarea["default"],{ref:function ref(el){return _this5._autosizeWrapper=el;},autoFocus:false,className:"comments-textarea",disableUndo:true,onChange:this.handleTextareaChange,placeholder:this.props.placeholder,value:this.state.textAreaValue});}},{key:"_getPreviewView",value:function _getPreviewView(){return _react["default"].createElement("div",{className:"comments-preview",dangerouslySetInnerHTML:{__html:_Markdown["default"].render(this.state.textAreaValue)}});}},{key:"_getPostButton",value:function _getPostButton(){var _this6=this;var label=this.props.isEditing?'Save changes':'Post';return _react["default"].createElement(_base["default"],{className:_buttons["default"].sm,onClick:function onClick(){if(_this6._getTextAreaErrors()===null)_this6.props.onPost(_this6.state.textAreaValue);}},this.props.isBusy?_react["default"].createElement(_ring["default"],{size:16}):label);}},{key:"_getCancelButton",value:function _getCancelButton(){if(!this.props.uiConfig.renderCancel)return null;return _react["default"].createElement("a",{href:"javascript:void(0);",className:"btn-link btn",onClick:this.props.onDismiss},"Cancel");}},{key:"render",value:function render(){var _this7=this;return _react["default"].createElement("div",{ref:function ref(el){return _this7._root=el;}},_react["default"].createElement("div",{className:_layout["default"].flex},this._getNavView(),_react["default"].createElement(_Toolbar["default"],{handleSelectTool:this.handleSelectTool})),_react["default"].createElement("div",{className:_layout["default"].flex},this.state.activeTab==='write'?this._getTextAreaView():this._getPreviewView()),_react["default"].createElement("div",{className:"comments-form-button-container"},this._getErrorView(),this._getPostButton(),this._getCancelButton()));}}]);return CommentEditor;}(_react.Component);CommentEditor.propTypes={config:_propTypes["default"].shape({scrollToOnMount:_propTypes["default"].bool}),initialTextValue:_propTypes["default"].string,isEditing:_propTypes["default"].bool,onCancel:_propTypes["default"].func,onPost:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].string,uiConfig:_propTypes["default"].shape({renderCancel:_propTypes["default"].bool})};CommentEditor.defaultProps={config:{scrollToOnMount:false},initialTextValue:'',isEditing:false,onCancel:null,placeholder:'',uiConfig:{renderCancel:true}};var _default=CommentEditor;exports["default"]=_default;}),6136:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _comment=_interopRequireDefault(__webpack_require__(78173));var _editor=_interopRequireDefault(__webpack_require__(75703));var _lazy_component=_interopRequireDefault(__webpack_require__(99171));var _graphql=__webpack_require__(2740);var _current_user=_interopRequireDefault(__webpack_require__(94691));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _main=_interopRequireDefault(__webpack_require__(85061));var _trackRelation=_interopRequireDefault(__webpack_require__(52383));var _whitelabel=__webpack_require__(79645);var _accessors=__webpack_require__(4887);var _dispatchers=__webpack_require__(10912);var _predicates=__webpack_require__(20918);var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _requests=__webpack_require__(49347);var _enum=__webpack_require__(96463);var _links=__webpack_require__(22463);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var getNoCommentCopy=function getNoCommentCopy(){var locked=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return locked?'There are no comments.':'Start the conversation!';};var ProjectComments=function(_Component){_inherits(ProjectComments,_Component);var _super=_createSuper(ProjectComments);function ProjectComments(props){var _this;_classCallCheck(this,ProjectComments);_this=_super.call(this,props);_this.state={comments:[],initialized:false,replyBox:{id:null,show:false},user:null};_this.initializeCommentsLaziley=_this.initializeCommentsLaziley.bind(_assertThisInitialized(_this));_this.createLike=_this.createLike.bind(_assertThisInitialized(_this));_this.deleteComment=_this.deleteComment.bind(_assertThisInitialized(_this));_this.deleteLike=_this.deleteLike.bind(_assertThisInitialized(_this));_this.createComment=_this.createComment.bind(_assertThisInitialized(_this));_this.updateComment=_this.updateComment.bind(_assertThisInitialized(_this));_this._commentEditor;return _this;}
_createClass(ProjectComments,[{key:"componentDidMount",value:function componentDidMount(){this._fetchCurrentUser();}},{key:"initializeCommentsLaziley",value:function initializeCommentsLaziley(){var _this2=this;var commentableWithHID={id:this.props.commentable.hid,type:this.props.commentable.type};return(0,_requests.getComments)(commentableWithHID,this.props.cacheVersion).then(function(comments){_this2.setState({comments:comments,initialized:true});})["catch"](function(err){return(0,_error_handler["default"])('ProjectComments initializeCommentsLaziley: ',err);});}},{key:"_fetchCurrentUser",value:function _fetchCurrentUser(){var _this3=this;return _current_user["default"].getStoreAsync().then(function(user){if(user&&Object.keys(user).length>0){_this3.setState({user:user});}})["catch"](function(err){return(0,_error_handler["default"])('ProjectComments _fetchCurrentUser: ',err);});}},{key:"createLike",value:function createLike(comment){var _this4=this;return(0,_graphql.graphMutate)({t:'create_respect'},{id:comment.id,respectable_type:_enum.COMMENT}).then(function(){return _this4._likeResolver(comment,'create');})["catch"](function(err){return(0,_error_handler["default"])('ProjectComments createLike',err);});}},{key:"deleteComment",value:function deleteComment(comment){var _this5=this;return(0,_graphql.graphMutate)({t:'delete_comment'},{id:comment.id}).then(function(){_this5.setState({comments:_this5._deleteCommentFromComments(comment)});})["catch"](function(err){return(0,_error_handler["default"])('ProjectComments deleteComment',err);});}},{key:"deleteLike",value:function deleteLike(comment){var _this6=this;return(0,_graphql.graphMutate)({t:'delete_respect'},{id:comment.id,respectable_type:_enum.COMMENT}).then(function(){return _this6._likeResolver(comment,'delete');})["catch"](function(err){return(0,_error_handler["default"])('ProjectComments deleteLike',err);});}},{key:"createComment",value:function createComment(md_body){var _this7=this;var parentComment=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return(0,_graphql.graphMutate)({t:'create_comment'},this._getCreateCommentArgs(parentComment,md_body)).then(function(_ref){var comment=_ref.comment;return _this7._createCommentResolver(_this7._buildCommentFromServer(comment,parentComment,md_body));})["catch"](function(err){return(0,_error_handler["default"])('ProjectComments createComment: ',err);});}},{key:"updateComment",value:function updateComment(commentFromReact,md_body){var _this8=this;return(0,_graphql.graphMutate)({t:'update_comment'},{id:commentFromReact.id,raw_body:md_body}).then(function(_ref2){var comment=_ref2.comment;_this8.setState({comments:_this8._updateCommentInComments(Object.assign({},commentFromReact,comment,{md_body:md_body}))});})["catch"](function(err){return(0,_error_handler["default"])('ProjectComments updateComment: ',err);});}},{key:"_addCommentToComments",value:function _addCommentToComments(commentToAdd){if(commentToAdd.depth===0){return this.state.comments.concat({root:commentToAdd,children:[]});}
return this.state.comments.map(function(commentGroup){if(commentGroup.root.id===commentToAdd.parent_id){commentGroup.children=commentGroup.children.concat(commentToAdd);}
return commentGroup;});}},{key:"_buildCommentFromServer",value:function _buildCommentFromServer(commentFromServer,parentComment,md_body){var parentId=(0,_accessors.getInObj)(['id'],parentComment);return Object.assign({},commentFromServer,{children:[],deleted:false,depth:parentId?1:0,edited_at:null,liking_user_ids:[],md_body:md_body,parent_id:parentId,relations:{}});}},{key:"_deleteCommentFromComments",value:function _deleteCommentFromComments(commentToRemove){return this.state.comments.reduce(function(acc,commentGroup){if(commentToRemove.depth===0&&commentToRemove.id===commentGroup.root.id){if(commentGroup.children.length>0){acc=acc.concat({root:Object.assign({},commentGroup.root,{deleted:true}),children:commentGroup.children});}}else if(commentToRemove.parent_id===commentGroup.root.id){if(commentGroup.root.deleted===false||commentGroup.root.deleted===true&&commentGroup.children.length>1){acc=acc.concat({root:commentGroup.root,children:commentGroup.children.filter(function(child){return child.id!==commentToRemove.id;})});}}else{acc=acc.concat(commentGroup);}
return acc;},[]);}},{key:"_getCreateCommentArgs",value:function _getCreateCommentArgs(parentComment,md_body){var parentIdObject=parentComment?{parent_id:parentComment.id}:{};return Object.assign({},parentIdObject,{commentable_hid:this.props.commentable.hid,commentable_id:this.props.commentable.id,commentable_type:"Project",raw_body:md_body});}},{key:"_likeResolver",value:function _likeResolver(comment,action){var _this9=this;var isCreate=action==='create';this.setState({comments:this._updateCommentInComments(Object.assign({},comment,{liking_user_ids:isCreate?comment.liking_user_ids.concat(this.state.user.id):comment.liking_user_ids.filter(function(id){return id!==_this9.state.user.id;})}))});(0,_trackRelation["default"])({key:'respected_comment_ids',createOrDeleteBool:isCreate,id:comment.id});}},{key:"_createCommentResolver",value:function _createCommentResolver(createdComment){var _this10=this;_main["default"].recordEvent({eventName:'Posted comment'},{comment_id:createdComment.id});this.setState({comments:this._addCommentToComments(createdComment),replyBox:{id:null,show:false}},function(){return _this10._createCommentResolverCallback(createdComment);});}},{key:"_createCommentResolverCallback",value:function _createCommentResolverCallback(createdComment){if(createdComment.depth===0&&this._commentEditor){this._commentEditor.__resetStateHook();}
this._scrollToComment(createdComment);}},{key:"_scrollToComment",value:function _scrollToComment(createdComment){var el=document.getElementById("comment_".concat(createdComment.id));if(el){(0,_smoothScroll["default"])(el.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/2,500);}}},{key:"_updateCommentInComments",value:function _updateCommentInComments(updatedComment){return this.state.comments.map(function(commentGroup){if(updatedComment.depth===0&&updatedComment.id===commentGroup.root.id){commentGroup.root=updatedComment;}else if(updatedComment.parent_id===commentGroup.root.id){commentGroup.children=commentGroup.children.map(function(child){return child.id===updatedComment.id?updatedComment:child;});}
return commentGroup;});}},{key:"_getEditorView",value:function _getEditorView(){if(this.props.newCommentsDisabled)return null;if((0,_predicates.objHasPropertyWithValue)(this.state.user,'id')){return this.state.user.isConfirmed?this._getCommentEditorView():this._getConfirmationView();}else{return this._getLoginView();}}},{key:"_getCommentEditorView",value:function _getCommentEditorView(){var _this11=this;return _react["default"].createElement("div",{className:"comments-form"},_react["default"].createElement(_editor["default"],{ref:function ref(el){return _this11._commentEditor=el;},onPost:this.createComment,placeholder:this.props.placeholder,uiConfig:{renderCancel:false}}));}},{key:"_getConfirmationView",value:function _getConfirmationView(){return _react["default"].createElement("div",{className:"alert alert-warning"},_react["default"].createElement("p",null,'Please confirm your email before commenting. Haven\'t received a confirmation email? ',_react["default"].createElement("a",{href:(0,_whitelabel.whitelabelUrlHelper)().appendToRootPath('/users/confirmation/new'),className:"alert-link"},'Resend'),'. Contact us at help@hackster.io for help.'));}},{key:"_summonAuth",value:function _summonAuth(action){(0,_dispatchers.summonLoginPanel)({detail:{redirect_to:window.location.href,state:{currentPanel:action,simplified:true}}});}},{key:"_getLoginView",value:function _getLoginView(){var _this12=this;return _react["default"].createElement("p",null,'Please ',_react["default"].createElement("a",{href:_links.NOOP_HREF,onClick:function onClick(){return _this12._summonAuth('login');}},'log in'),' or ',_react["default"].createElement("a",{href:_links.NOOP_HREF,onClick:function onClick(){return _this12._summonAuth('signup');}},'sign up'),' to comment.');}},{key:"_getCommentView",value:function _getCommentView(){var _this13=this;var _ref3=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},comment=_ref3.comment,_ref3$children=_ref3.children,children=_ref3$children===void 0?null:_ref3$children,_ref3$parentIsDeleted=_ref3.parentIsDeleted,parentIsDeleted=_ref3$parentIsDeleted===void 0?false:_ref3$parentIsDeleted;return _react["default"].createElement(_comment["default"],{children:children,comment:comment,createLike:function createLike(){return _this13.createLike(comment);},currentUser:this.state.user,deleteComment:function deleteComment(){return _this13.deleteComment(comment);},deleteLike:function deleteLike(){return _this13.deleteLike(comment);},newCommentsDisabled:this.props.newCommentsDisabled,parentIsDeleted:parentIsDeleted,placeholder:this.props.placeholder,postCommentReply:this.createComment,replyBox:this.state.replyBox,toggleReplyBox:function toggleReplyBox(replyBox){return _this13.setState({replyBox:replyBox});},updateComment:this.updateComment});}},{key:"_getComments",value:function _getComments(){return this.state.initialized?this._getCommentsView():this._getCommentsLoaderView();}},{key:"_getCommentsView",value:function _getCommentsView(){var _this14=this;if(!this.state.comments.length)return this._getNoCommentsView();return _react["default"].Children.toArray(this.state.comments.map(function(comment){return _this14._getCommentView({comment:comment.root,children:_this14._getCommentsViewChildren(comment)});}));}},{key:"_getCommentsViewChildren",value:function _getCommentsViewChildren(comment){var _this15=this;return _react["default"].Children.toArray(comment.children.map(function(child){return _this15._getCommentView({comment:child,parentIsDeleted:comment.root.deleted});}));}},{key:"_getNoCommentsView",value:function _getNoCommentsView(){return _react["default"].createElement("div",{className:"first-comment"},getNoCommentCopy(this.props.newCommentsDisabled));}},{key:"_getCommentsLoaderView",value:function _getCommentsLoaderView(){return _react["default"].createElement("div",{style:{marginTop:20,textAlign:'center'}},_react["default"].createElement("i",{className:"fa fa-circle-o-notch fa-2x fa-spin"}));}},{key:"render",value:function render(){var _this16=this;return _react["default"].createElement("div",{className:"r-comments"},this._getEditorView(),_react["default"].createElement(_lazy_component["default"],{onReveal:function onReveal(){return _this16.initializeCommentsLaziley();}},this._getComments()));}}]);return ProjectComments;}(_react.Component);ProjectComments.propTypes={cacheVersion:_propTypes["default"].string,commentable:_propTypes["default"].shape({hid:_propTypes["default"].string,id:_propTypes["default"].number,type:_propTypes["default"].string.isRequired}).isRequired,newCommentsDisabled:_propTypes["default"].bool,placeholder:_propTypes["default"].string.isRequired};ProjectComments.defaultProps={cacheVersion:'',newCommentsDisabled:false};var _default=ProjectComments;exports["default"]=_default;}),49347:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getComments=getComments;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _oauth=_interopRequireDefault(__webpack_require__(97523));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function getComments(commentable,cacheVersion){return _oauth["default"].apiRequest((0,_superagent["default"])("".concat(_oauth["default"].getApiPath(),"/private/projects/").concat(commentable.id,"/comments")).query(cacheVersion&&cacheVersion.length?{v:cacheVersion}:{}).query({only_path:true})).then(function(body){return Promise.resolve(body.records);})["catch"](function(err){return Promise.reject(err);});}}),80874:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactTransitionGroup=__webpack_require__(72165);var _base=_interopRequireDefault(__webpack_require__(6094));var _icon=_interopRequireDefault(__webpack_require__(44509));var _project_thumbs=_interopRequireDefault(__webpack_require__(1156));var _main=_interopRequireDefault(__webpack_require__(85061));var _storageHelpers=__webpack_require__(19589);var _dispatchers=__webpack_require__(10912);var _transitions=_interopRequireDefault(__webpack_require__(19156));var _typography=_interopRequireDefault(__webpack_require__(68163));var _project_count_banner=_interopRequireDefault(__webpack_require__(75121));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var COPY=[function(featuring){return "Hey stranger! Sign up to access unlimited projects".concat(featuring," \u2013 it's free.");},function(featuring,projectCount){return "Join Hackster to access over ".concat(projectCount," free projects").concat(featuring,".");},function(featuring){return "You're on your last one! Sign up to access unlimited projects".concat(featuring,".");}];var FEATURING_COPY=function FEATURING_COPY(category){return category?" featuring ".concat(category," and more"):'';};var ProjectCountBanner=function(_Component){_inherits(ProjectCountBanner,_Component);var _super=_createSuper(ProjectCountBanner);function ProjectCountBanner(props){var _this;_classCallCheck(this,ProjectCountBanner);_this=_super.call(this,props);_this.state={count:0,images:[],show:false};_this.dismiss=_this.dismiss.bind(_assertThisInitialized(_this));_this.summonAuthDialog=_this.summonAuthDialog.bind(_assertThisInitialized(_this));return _this;}
_createClass(ProjectCountBanner,[{key:"componentDidMount",value:function componentDidMount(){this._initializeProjects();}},{key:"_initializeProjects",value:function _initializeProjects(){var _addViewedProject=(0,_storageHelpers.addViewedProject)(this.props.currentProject),count=_addViewedProject.count,images=_addViewedProject.images;_main["default"].reportEvent({eventName:'Viewed lock screen'},{projects_viewed:count,type:'project_warning'});this.setState({count:count,images:images,show:true});}},{key:"dismiss",value:function dismiss(){this.setState({show:false});}},{key:"summonAuthDialog",value:function summonAuthDialog(){(0,_dispatchers.summonLoginPanel)({detail:{state:{currentPanel:'signup'},source:'project_lock_banner'}});}},{key:"render",value:function render(){var _this$state=this.state,count=_this$state.count,images=_this$state.images,show=_this$state.show;var _this$props=this.props,featured_category=_this$props.featured_category,projectCount=_this$props.projectCount;return _react["default"].createElement(_reactTransitionGroup.TransitionGroup,null,show&&_react["default"].createElement(_reactTransitionGroup.CSSTransition,{classNames:_transitions["default"],timeout:250},_react["default"].createElement("div",{className:_project_count_banner["default"].container},_react["default"].createElement("div",{className:_project_count_banner["default"].banner},_react["default"].createElement("div",{className:_project_count_banner["default"].content},_react["default"].createElement(_project_thumbs["default"],{count:count,images:images}),_react["default"].createElement("div",{className:"".concat(_project_count_banner["default"].text," ").concat(_typography["default"].bodyL)},COPY[Math.max(count-1,0)](FEATURING_COPY(featured_category),projectCount))),_react["default"].createElement("div",{className:_project_count_banner["default"].buttons},_react["default"].createElement(_base["default"],{onClick:this.summonAuthDialog},"Sign up"),_react["default"].createElement(_base["default"],{className:_project_count_banner["default"].cancelButtonDesktop,colorStyle:"blank",onClick:this.dismiss},_react["default"].createElement(_icon["default"],{className:_typography["default"].charcoal,name:"close"})),_react["default"].createElement("a",{className:"".concat(_project_count_banner["default"].cancelButtonMobile," ").concat(_typography["default"].link," ").concat(_typography["default"].bodyM),href:"javascript:void(0);",onClick:this.dismiss},"Not now"))))));}}]);return ProjectCountBanner;}(_react.Component);ProjectCountBanner.propTypes={currentProject:_propTypes["default"].shape({cover_image_url:_propTypes["default"].string,hid:_propTypes["default"].string}).isRequired,featured_category:_propTypes["default"].string,projectCount:_propTypes["default"].string.isRequired};ProjectCountBanner.defaultProps={featured_category:null};var _default=ProjectCountBanner;exports["default"]=_default;}),8794:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _util=_interopRequireDefault(__webpack_require__(48161));var _project_thumbs=_interopRequireDefault(__webpack_require__(40860));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ProjectThumb=function ProjectThumb(_ref){var isViewed=_ref.isViewed,position=_ref.position,src=_ref.src;return _react["default"].createElement("div",{className:"".concat(_util["default"].circle," ").concat(_util["default"].border," ").concat(_project_thumbs["default"].thumb)},isViewed&&!!src&&_react["default"].createElement(_LazyImage["default"],{fit:"crop",queryParams:{crop:'edges'},ratio:"1:1",src:src,width:30}),_react["default"].createElement("div",{className:isViewed?_project_thumbs["default"].numberViewed:_project_thumbs["default"].number},position.toString()));};ProjectThumb.propTypes={isViewed:_propTypes["default"].bool.isRequired,position:_propTypes["default"].number.isRequired,src:_propTypes["default"].string};ProjectThumb.defaultProps={src:''};var _default=ProjectThumb;exports["default"]=_default;}),1156:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _ProjectThumb=_interopRequireDefault(__webpack_require__(8794));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var PROJECT_LIMIT=3;var ProjectThumbs=function ProjectThumbs(_ref){var count=_ref.count,images=_ref.images;return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifyCenter," ").concat(_layout["default"].flex10Auto)},Array.from(Array(PROJECT_LIMIT).keys()).map(function(i){return _react["default"].createElement(_ProjectThumb["default"],{key:i,isViewed:i<count,position:i+1,src:images[i]});}));};ProjectThumbs.propTypes={count:_propTypes["default"].number,images:_propTypes["default"].arrayOf(_propTypes["default"].string)};ProjectThumbs.defaultProps={count:0,images:[]};var _default=ProjectThumbs;exports["default"]=_default;}),19589:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.addViewedProject=addViewedProject;exports.getViewedProjects=getViewedProjects;var _local_storage=__webpack_require__(24476);var _cookies=__webpack_require__(47892);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
var COUNT_KEY='projCnt';var HIDS_KEY='projHids';var IMAGES_KEY='hck.viewed_proj_img';function addViewedProject(_ref){var hid=_ref.hid,cover_image_url=_ref.cover_image_url;var oldValues=getViewedProjects();if(oldValues.count>=3||oldValues.hids.includes(hid))return oldValues;var count=oldValues.count+1;var hids=[].concat(_toConsumableArray(oldValues.hids),[hid]);var images=[].concat(_toConsumableArray(oldValues.images),[cover_image_url]);(0,_local_storage.setItem)(IMAGES_KEY,images);(0,_cookies.setCookie)(COUNT_KEY,count);(0,_cookies.setCookie)(HIDS_KEY,hids);return{count:count,hids:hids,images:images};}
function getViewedProjects(){var images=(0,_local_storage.getItem)(IMAGES_KEY)||[];var count=(0,_cookies.getCookie)(COUNT_KEY)||0;var hids=(0,_cookies.getCookie)(HIDS_KEY)||[];return{count:count,hids:hids,images:images};}}),78647:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _Requests=__webpack_require__(91879);var _attachments=__webpack_require__(87779);var _error_handler=_interopRequireDefault(__webpack_require__(84616));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var App=function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.state={isError:false,isWorking:false,fileId:null};return _this;}
_createClass(App,[{key:"handleClick",value:function handleClick(e){var _this2=this;if(this.state.isWorking||this.state.fileUrl)return;e.preventDefault();this.setState({isError:false,isWorking:true});var fileId=null;return(0,_Requests.generateCSV)(this.props.url).then(function(response){fileId=response.body.file_id;return(0,_attachments.pollJob)(response.body.job_id);}).then(function(response){return(0,_Requests.getFileDetails)(fileId);}).then(function(response){_this2.setState({isWorking:false,fileUrl:response.body.file.url});if(window)window.location=_this2.state.fileUrl;return;})["catch"](function(err){_this2.setState({isError:true,isWorking:false});(0,_error_handler["default"])('CSV Exporter handleClick: ',err);});}},{key:"render",value:function render(){return _react["default"].createElement("span",null,this.state.isWorking?_react["default"].createElement("span",null,_react["default"].createElement("i",{className:"fa fa-spin fa-spinner"}),_react["default"].createElement("span",null,"Preparing file...")):_react["default"].createElement("span",null,this.state.isError&&"An error happened. Please try again - ",_react["default"].createElement("a",{href:this.state.fileUrl?this.state.fileUrl:'javascript:void(0)',onClick:this.handleClick},this.props.label)));}}]);return App;}(_react.Component);exports["default"]=App;App.propTypes={label:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired};}),91879:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.generateCSV=generateCSV;exports.getFileDetails=getFileDetails;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _oauth=_interopRequireDefault(__webpack_require__(97523));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function generateCSV(url){return _oauth["default"].apiRequest((0,_superagent["default"])("".concat(_oauth["default"].getApiPath()).concat(url)),true,false);};function getFileDetails(id){return _oauth["default"].apiRequest((0,_superagent["default"])("".concat(_oauth["default"].getApiPath(),"/private/files/").concat(id)),true,false);};}),42104:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactDom=_interopRequireDefault(__webpack_require__(73935));var _basic_image_uploader=_interopRequireDefault(__webpack_require__(62453));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Form=function(_Component){_inherits(Form,_Component);var _super=_createSuper(Form);function Form(props){var _this;_classCallCheck(this,Form);_this=_super.call(this,props);_this.toggleToSearch=_this.toggleToSearch.bind(_assertThisInitialized(_this));_this.handleImageData=_this.handleImageData.bind(_assertThisInitialized(_this));_this.handleSubmitClick=_this.handleSubmitClick.bind(_assertThisInitialized(_this));_this.handleImageUploading=_this.handleImageUploading.bind(_assertThisInitialized(_this));_this.state={errors:[],imageData:{},imageUploading:false};return _this;}
_createClass(Form,[{key:"toggleToSearch",value:function toggleToSearch(){this.props.toggleToSearch();}},{key:"handleImageData",value:function handleImageData(data){this.setState({imageData:data});}},{key:"handleSubmitClick",value:function handleSubmitClick(e){e.preventDefault();var errors=this._assembleErrors();if(errors.length){this.setState({errors:errors});}else{this.props.postForm(this._assembleForm(),this.props.endpoint,this.state.imageData);}}},{key:"_assembleErrors",value:function _assembleErrors(){var _this2=this;var refs=Object.keys(this.refs);var errors=[];refs.forEach(function(ref){var node=_reactDom["default"].findDOMNode(_this2.refs[ref]);if(!node.value.length){errors.push(ref);}});if(this.props.image&&!this.state.imageData){errors.push(this.props.image['human_file_type']);}
return errors;}},{key:"_assembleForm",value:function _assembleForm(){var _this3=this;var form={type:this.props.type};var keys=this.props.keys;var refs=Object.keys(this.refs);refs.forEach(function(ref){var node=_reactDom["default"].findDOMNode(_this3.refs[ref]);var value=node.nodeName==='SELECT'?node.options[node.selectedIndex].value:node.value;form[keys[ref]]=value;});if(this.props.image){form[keys[this.props.image['human_file_type']]]=this.state.imageData.id;}
if(this.props.parentId){form['parent_id']=this.props.parentId;}
form={model_data:Object.assign({},form)};form['model_key']=this.props.model_key;if(this.props.member_role){form['member_role']=this.props.member_role;}
return form;}},{key:"handleImageUploading",value:function handleImageUploading(bool){this.setState({imageUploading:bool});}},{key:"_getImageUploader",value:function _getImageUploader(){var image=this.props.image;return _react["default"].createElement("div",{className:"course-wizard-form-item form-group"},_react["default"].createElement("div",{className:"col-sm-4"},_react["default"].createElement("label",{className:"control-label"},image.human_file_type)),_react["default"].createElement("div",{className:"col-sm-8"},_react["default"].createElement(_basic_image_uploader["default"],{aspectRatio:image.aspect_ratio,attachmentType:image.file_type,imageData:this.state.imageData,propagateUpload:this.handleImageData,propagateStatus:this.handleImageUploading,stackedView:true})));}},{key:"render",value:function render(){var _this$props=this.props,image=_this$props.image,inputs=_this$props.inputs,selections=_this$props.selections,textareas=_this$props.textareas;var Inputs=inputs.map(function(input,index){return _react["default"].createElement("div",{key:index,className:"course-wizard-form-item form-group"},_react["default"].createElement("div",{className:"col-sm-4"},_react["default"].createElement("label",{className:"control-label"},input)),_react["default"].createElement("div",{className:"col-sm-8"},_react["default"].createElement("input",{ref:input,className:"form-control",type:"text"})));});var Selections=selections?selections.map(function(selection,index){var options=selection.options&&selection.options.length?selection.options.map(function(option,i){return _react["default"].createElement("option",{key:i,value:option},option);}):null;return _react["default"].createElement("div",{key:index,className:"course-wizard-form-item form-group"},_react["default"].createElement("div",{className:"col-sm-4"},_react["default"].createElement("label",{className:"control-label"},selection.label)),_react["default"].createElement("div",{className:"col-sm-8"},_react["default"].createElement("select",{ref:selection.label,className:"select optional form-control",name:selection.label},_react["default"].createElement("option",null),options)));}):null;var Textarea=textareas?textareas.map(function(textarea,index){return _react["default"].createElement("div",{key:index,className:"course-wizard-form-item form-group"},_react["default"].createElement("div",{className:"col-sm-4"},_react["default"].createElement("label",{className:"control-label"},textarea.label)),_react["default"].createElement("div",{className:"col-sm-8"},_react["default"].createElement("textarea",{ref:textarea.label,className:"form-control",name:textarea.label,rows:textarea.rows||3,maxLength:140})));}):null;var Image=image?this._getImageUploader():null;var errorMessage=this.state.errors&&this.state.errors.length?_react["default"].createElement("div",{className:"text-right text-danger",style:{fontSize:'0.8em',padding:'2% 0'}},"Please fill in the following: ".concat(this.state.errors.join(', '))):null;return _react["default"].createElement("form",{className:"course-wizard-form form-horizontal",action:""},Inputs,Selections,Textarea,Image,_react["default"].createElement("div",{className:"continue-btn"},_react["default"].createElement("span",null,this.props.search?_react["default"].createElement("a",{href:"javascript:void(0);",className:"btn btn-link btn-sm",tabIndex:"-1",onClick:this.toggleToSearch},"Back to search"):null),_react["default"].createElement("button",{className:"btn btn-primary btn-sm",disabled:this.state.imageUploading,onClick:this.handleSubmitClick},"Continue")),errorMessage);}}]);return Form;}(_react.Component);Form.propTypes={endpoint:_propTypes["default"].string.isRequired,image:_propTypes["default"].object,inputs:_propTypes["default"].array.isRequired,keys:_propTypes["default"].object.isRequired,parentId:_propTypes["default"].number,postForm:_propTypes["default"].func.isRequired,search:_propTypes["default"].bool.isRequired,selections:_propTypes["default"].object,textareas:_propTypes["default"].object,toggleToSearch:_propTypes["default"].func.isRequired,type:_propTypes["default"].string.isRequired};var _default=Form;exports["default"]=_default;}),83502:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Form=_interopRequireDefault(__webpack_require__(42104));var _select=_interopRequireDefault(__webpack_require__(79463));var _types=__webpack_require__(88742);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Search=function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(props){var _this;_classCallCheck(this,Search);_this=_super.call(this,props);_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.getOptions=_this.getOptions.bind(_assertThisInitialized(_this));_this.selectRenderer=_this.selectRenderer.bind(_assertThisInitialized(_this));_this.handleViewState=_this.handleViewState.bind(_assertThisInitialized(_this));_this.handlePostForm=_this.handlePostForm.bind(_assertThisInitialized(_this));_this.handleContinueButton=_this.handleContinueButton.bind(_assertThisInitialized(_this));_this.state={isLoading:false,viewState:'selection',value:null};return _this;}
_createClass(Search,[{key:"onChange",value:function onChange(value){if((0,_types.isObjectWithLength)(value)){this.setState({value:value});}}},{key:"getOptions",value:function getOptions(input){var _this2=this;var getOptionsHandler=this.props.actions.getOptionsHandler;this.setState({isLoading:true});var query={type:this.props.type,q:input};if(this.props.type==='Course'){query.parent_id=this.props.store['university'].id;}
return getOptionsHandler(query).then(function(response){var options=response.map(function(group){return Object.assign({value:group.id,label:group.name,optionLabel:_this2.selectRenderer(group)},group);});_this2.setState({isLoading:false});return Promise.resolve({options:options});})["catch"](function(err){return Promise.reject(err);});}},{key:"handleViewState",value:function handleViewState(state){this.setState({viewState:state});}},{key:"handlePostForm",value:function handlePostForm(form,endpoint,imageData){this.props.actions.postFormHandler(form,endpoint,imageData);}},{key:"handleContinueButton",value:function handleContinueButton(e){e.preventDefault();this.props.actions.setSelectionValue(this.state.value,this.props.name.toLowerCase());}},{key:"render",value:function render(){var _this$props=this.props,name=_this$props.name,search=_this$props.search,type=_this$props.type;var continueBtn=this.state.value?_react["default"].createElement("div",{className:"continue-btn"},_react["default"].createElement("button",{className:"btn btn-success btn-sm",onClick:this.handleContinueButton},"Continue")):null;var view=this.state.viewState==='selection'&&search?_react["default"].createElement("div",{className:"course-wizard-search"},_react["default"].createElement("div",{className:"create-new-form"},"Not in the list?\xA0",_react["default"].createElement("a",{href:"javascript:void(0);",onClick:this.handleViewState.bind(this,'form')},"Create a new one"),"."),_react["default"].createElement(_select["default"],{asyncOpts:{initOnMount:true,request:this.getOptions},onSelectedChange:this.onChange,placeholder:"Search for a ".concat(name)}),continueBtn):_react["default"].createElement("div",{className:"course-wizard-search"},_react["default"].createElement(_Form["default"],_extends({},this.props.form,{type:type,search:search,toggleToSearch:this.handleViewState.bind(this,'selection'),postForm:this.handlePostForm})));return view;}},{key:"selectRenderer",value:function selectRenderer(group){var detailsText=group.city?group.city:'';detailsText+=group.country?", ".concat(group.country):'';var details=detailsText!==''?_react["default"].createElement("div",{className:"result-details"},detailsText):null;return _react["default"].createElement("div",{className:"course-wizard-result"},_react["default"].createElement("div",{className:"result-name"},group.name+' '),details);}}]);return Search;}(_react.Component);Search.propTypes={actions:_propTypes["default"].object.isRequired,form:_propTypes["default"].object.isRequired,name:_propTypes["default"].string.isRequired,search:_propTypes["default"].bool.isRequired,type:_propTypes["default"].string.isRequired,value:_propTypes["default"].object};Search.defaultProps={value:null};var _default=Search;exports["default"]=_default;}),19401:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Search=_interopRequireDefault(__webpack_require__(83502));var _Thumbnail=_interopRequireDefault(__webpack_require__(81039));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Step=function Step(_ref){var actions=_ref.actions,form=_ref.form,name=_ref.name,search=_ref.search,store=_ref.store,type=_ref.type;var uniqueStore=store[type.toLowerCase()];var body=uniqueStore?_react["default"].createElement(_Thumbnail["default"],{actions:actions,name:name,uniqueStore:uniqueStore}):_react["default"].createElement(_Search["default"],{actions:actions,name:name,type:type,value:uniqueStore,form:form,search:search,store:store});return _react["default"].createElement("div",{className:"course-wizard-step"},_react["default"].createElement("label",null,"What's the ".concat(name,"?")),body);};Step.propTypes={actions:_propTypes["default"].object.isRequired,form:_propTypes["default"].object.isRequired,name:_propTypes["default"].string.isRequired,search:_propTypes["default"].bool.isRequired,store:_propTypes["default"].object.isRequired,type:_propTypes["default"].string.isRequired};var _default=Step;exports["default"]=_default;}),81039:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Thumbnail=function(_Component){_inherits(Thumbnail,_Component);var _super=_createSuper(Thumbnail);function Thumbnail(props){var _this;_classCallCheck(this,Thumbnail);_this=_super.call(this,props);_this.handleChangeLinkClick=_this.handleChangeLinkClick.bind(_assertThisInitialized(_this));return _this;}
_createClass(Thumbnail,[{key:"handleChangeLinkClick",value:function handleChangeLinkClick(e){e.preventDefault();this.props.actions.changeSelection(this.props.name.toLowerCase());}},{key:"render",value:function render(){var name=this.props.name;var views={'Course':this._createCourseThumb(this.props),'Generic':this._createGenericThumb(this.props),'Class':this._createPromotionThumb(this.props),'University':this._createUniversityThumb(this.props)};var view=views[name]?views[name]:views['Generic'];return _react["default"].createElement("div",null,view(),_react["default"].createElement("div",{className:"change-link-wrapper"},_react["default"].createElement("a",{href:"javascript:void(0);",onClick:this.handleChangeLinkClick},"Change")));}},{key:"_createUniversityThumb",value:function _createUniversityThumb(props){var _props$uniqueStore=props.uniqueStore,imageData=_props$uniqueStore.imageData,avatar_url=_props$uniqueStore.avatar_url,city=_props$uniqueStore.city,country=_props$uniqueStore.country,name=_props$uniqueStore.name;return function(){return _react["default"].createElement("div",{className:"course-wizard-thumbnail"},_react["default"].createElement("img",{src:avatar_url?avatar_url:imageData?imageData.dataUrl:''}),_react["default"].createElement("div",{className:"thumbnail-details"},_react["default"].createElement("h4",null,name),_react["default"].createElement("div",{className:"smaller text-muted"},_react["default"].createElement("i",{className:"fa fa-map-marker"}),_react["default"].createElement("span",null,"".concat(city,", ").concat(country)))));}.bind(this);}},{key:"_createCourseThumb",value:function _createCourseThumb(props){var _props$uniqueStore2=props.uniqueStore,name=_props$uniqueStore2.name,course_number=_props$uniqueStore2.course_number,mini_resume=_props$uniqueStore2.mini_resume;var courseNumber=course_number?_react["default"].createElement("p",null,course_number):null;var pitch=mini_resume?_react["default"].createElement("p",{className:"smaller text-muted"},mini_resume):null;return function(){return _react["default"].createElement("div",{className:"course-wizard-thumbnail"},_react["default"].createElement("div",{className:"thumbnail-details"},_react["default"].createElement("h4",null,name),courseNumber,pitch));}.bind(this);}},{key:"_createPromotionThumb",value:function _createPromotionThumb(props){var name=props.uniqueStore.name;return function(){return _react["default"].createElement("div",{className:"course-wizard-thumbnail"},_react["default"].createElement("h4",null,name));}.bind(this);}},{key:"_createGenericThumb",value:function _createGenericThumb(props){return function(){return _react["default"].createElement("div",{className:"course-wizard-thumbnail"});}.bind(this);}}]);return Thumbnail;}(_react.Component);exports["default"]=Thumbnail;Thumbnail.propTypes={actions:_propTypes["default"].object.isRequired,name:_propTypes["default"].string.isRequired,uniqueStore:_propTypes["default"].object.isRequired};}),20082:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _Step=_interopRequireDefault(__webpack_require__(19401));var _oauth=_interopRequireDefault(__webpack_require__(97523));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _requests=__webpack_require__(740);var _Countries=__webpack_require__(72224);var _keys;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var STEPS=[{name:'University',type:'University',form:{inputs:['Name','City'],selections:[{label:'Country',options:_Countries.Countries}],image:{aspect_ratio:1,attribute_type:'avatar',file_type:'Avatar',human_file_type:'Logo',model:'group'},model_key:'group',keys:{Name:'full_name','City':'city','Country':'country','Logo':'avatar_id'},endpoint:"".concat(_oauth["default"].getApiPath(),"/private/groups")},search:true},{name:'Course',type:'Course',form:{inputs:['Name','Course #'],textareas:[{label:'Pitch',rows:3}],model_key:'group',keys:(_keys={Name:'full_name'},_defineProperty(_keys,'Course #','course_number'),_defineProperty(_keys,"Pitch",'mini_resume'),_keys),endpoint:"".concat(_oauth["default"].getApiPath(),"/private/groups"),member_role:'professor'},search:true},{name:'Class',type:'Promotion',form:{inputs:['Year or semester'],image:null,model_key:'group',keys:{'Year or semester':'full_name'},endpoint:"".concat(_oauth["default"].getApiPath(),"/private/groups"),member_role:'professor'},search:false}];var UniversityCourseWizard=function(_Component){_inherits(UniversityCourseWizard,_Component);var _super=_createSuper(UniversityCourseWizard);function UniversityCourseWizard(props){var _this;_classCallCheck(this,UniversityCourseWizard);_this=_super.call(this,props);_this.state={university:null,course:null,promotion:null};_this.changeSelection=_this.changeSelection.bind(_assertThisInitialized(_this));_this.getOptionsHandler=_this.getOptionsHandler.bind(_assertThisInitialized(_this));_this.postFormHandler=_this.postFormHandler.bind(_assertThisInitialized(_this));_this.setSelectionValue=_this.setSelectionValue.bind(_assertThisInitialized(_this));return _this;}
_createClass(UniversityCourseWizard,[{key:"changeSelection",value:function changeSelection(storeName){if(storeName==='university'){this.setState({university:null,course:null,promotion:null});}else if(storeName==='course'){this.setState({university:this.state.university,course:null,promotion:null});}else{this.setState(_defineProperty({},storeName,null));}}},{key:"getOptionsHandler",value:function getOptionsHandler(query){return new Promise(function(resolve,reject){return(0,_requests.getOptions)(query).then(function(res){return resolve(res);})["catch"](function(err){(0,_error_handler["default"])('UniversityCourseWizard getOptionsHandler:',err);reject(err);});});}},{key:"postFormHandler",value:function postFormHandler(form,endpoint,imageData){var _this2=this;return(0,_requests.postForm)(form,endpoint).then(function(response){var store=imageData!==null?Object.assign({},response,{imageData:imageData}):response;_this2.setState(_defineProperty({},form.model_data.type.toLowerCase(),store));})["catch"](function(err){(0,_error_handler["default"])('UniversityCourseWizard postFormHandler: ',err);});}},{key:"setSelectionValue",value:function setSelectionValue(store,storeName){this.setState(_defineProperty({},storeName,store));}},{key:"_getActions",value:function _getActions(){return{getOptionsHandler:this.getOptionsHandler,postFormHandler:this.postFormHandler,setSelectionValue:this.setSelectionValue,changeSelection:this.changeSelection};}},{key:"_getCompletedBtn",value:function _getCompletedBtn(){var _this3=this;if(Object.keys(this.state).findIndex(function(key){return _this3.state[key]===null;})>-1)return;return _react["default"].createElement("div",{className:"completed-button-wrapper"},_react["default"].createElement("a",{className:"btn btn-success",href:"/groups/".concat(this.state.promotion.id)},"Complete"));}},{key:"_getSteps",value:function _getSteps(){var _this4=this;return STEPS.map(function(step,index){var name=step.name,type=step.type,form=step.form,search=step.search;var prev=STEPS[index-1];if(index===0||_this4.state[prev.name.toLowerCase()]){return _react["default"].createElement(_Step["default"],{key:index,actions:_this4._getActions(),form:index>0?Object.assign({},form,{parentId:_this4.state[prev.name.toLowerCase()].id}):form,name:name,search:search,type:type,store:_this4.state});}else{return null;}}).filter(function(step){return step!==null;});}},{key:"render",value:function render(){return _react["default"].createElement("div",{className:"row"},_react["default"].createElement("div",{className:"col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2"},_react["default"].createElement("div",{className:"course-wizard-wrapper box allow-overflow"},_react["default"].createElement("div",{className:"box-title"},_react["default"].createElement("h2",null,"Create a new course page")),_react["default"].createElement("div",{className:"box-content"},_react["default"].createElement("div",{className:"course-wizard"},this._getSteps(),this._getCompletedBtn())))));}}]);return UniversityCourseWizard;}(_react.Component);var _default=UniversityCourseWizard;exports["default"]=_default;}),740:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getOptions=getOptions;exports.postForm=postForm;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _oauth=_interopRequireDefault(__webpack_require__(97523));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function getOptions(query){return _oauth["default"].apiRequest(_superagent["default"].get("".concat(_oauth["default"].getApiPath(),"/private/groups")).query(query),false,false).then(function(res){return Promise.resolve(res.body);})["catch"](function(err){return Promise.reject(err);});};function postForm(form,endpoint){var newForm=Object.assign({},form);newForm[newForm.model_key]=newForm.model_data;delete newForm.model_key;delete newForm.model_data;return _oauth["default"].apiRequest(_superagent["default"].post(endpoint).send(newForm),true);};}),20871:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var clickHandler=function clickHandler(_ref){var category=_ref.category,e=_ref.e,onClick=_ref.onClick;var analytics={location:'CategorySidebar'};if(category.hasOwnProperty('onClick')&&typeof category.onClick==='function'){onClick(e,category.onClick(category),analytics);}else{onClick(e,category,analytics);}};var CategoryMenuBody=function CategoryMenuBody(_ref2){var basePath=_ref2.basePath,categories=_ref2.categories,className=_ref2.className,_onClick=_ref2.onClick,topAnchorId=_ref2.topAnchorId;return _react["default"].createElement("div",null,_react["default"].createElement("h5",{className:"".concat(_typography["default"].h5," ").concat(_layout["default"].paddingBottom10," ").concat(_util["default"].borderBottom)},"Categories"),_react["default"].createElement("div",null,_react["default"].Children.toArray(categories.map(function(category){return _react["default"].createElement("div",{className:_layout["default"].marginTop10},_react["default"].createElement("div",{className:_layout["default"].flexCenterItems},_react["default"].createElement("div",{style:{height:8,width:8},className:"".concat(_util["default"].borderRadiusSmall," ").concat(_util["default"][category.colorClass])}),_react["default"].createElement("a",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold," ").concat(_typography["default"].linkCharcoal," ").concat(_typography["default"].bold," ").concat(_layout["default"].marginLeft10),href:"".concat(basePath,"/").concat(category.path).concat(topAnchorId?"#".concat(topAnchorId):''),onClick:function onClick(e){return clickHandler({category:category,e:e,onClick:_onClick});}},category.title)),_react["default"].createElement("p",{className:_typography["default"].bodyM},category.text));}))));};CategoryMenuBody.propTypes={basePath:_propTypes["default"].string.isRequired,categories:_propTypes["default"].arrayOf(_propTypes["default"].shape({colorClass:_propTypes["default"].string.isRequired,"enum":_propTypes["default"].string.isRequired,path:_propTypes["default"].string.isRequired,text:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired})).isRequired,onClick:_propTypes["default"].func.isRequired,topAnchorId:_propTypes["default"].string};CategoryMenuBody.defaultProps={topAnchorId:null};var _default=CategoryMenuBody;exports["default"]=_default;}),5553:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _base=_interopRequireDefault(__webpack_require__(6094));var _CategoryMenuBody=_interopRequireDefault(__webpack_require__(20871));var _Dialog=_interopRequireDefault(__webpack_require__(27408));var _icon=_interopRequireDefault(__webpack_require__(44509));var _slide_in_rtl=_interopRequireDefault(__webpack_require__(34172));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DialogCategoryMenu=function(_PureComponent){_inherits(DialogCategoryMenu,_PureComponent);var _super=_createSuper(DialogCategoryMenu);function DialogCategoryMenu(props){var _this;_classCallCheck(this,DialogCategoryMenu);_this=_super.call(this,props);_this.state={showMenu:false};_this.dismiss=_this.dismiss.bind(_assertThisInitialized(_this));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this;}
_createClass(DialogCategoryMenu,[{key:"dismiss",value:function dismiss(){this.setState({showMenu:false});}},{key:"handleClick",value:function handleClick(e,category,analytics){this.dismiss();this.props.onClick(e,category,analytics);}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,basePath=_this$props.basePath,categories=_this$props.categories,className=_this$props.className,topAnchorId=_this$props.topAnchorId;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement(_base["default"],{className:className,colorStyle:"blank",onClick:function onClick(){return _this2.setState({showMenu:true});}},_react["default"].createElement(_icon["default"],{className:_typography["default"].bodyM,name:"hamburger"})),_react["default"].createElement(_Dialog["default"],{dismiss:this.dismiss,dismissStyle:{top:5},fullScreen:true,open:this.state.showMenu,transition:_slide_in_rtl["default"],wrapperStyle:{padding:15}},this.state.showMenu&&_react["default"].createElement(_CategoryMenuBody["default"],{basePath:basePath,categories:categories,onClick:this.handleClick,topAnchorId:topAnchorId})));}}]);return DialogCategoryMenu;}(_react.PureComponent);DialogCategoryMenu.propTypes={basePath:_propTypes["default"].string.isRequired,categories:_propTypes["default"].arrayOf(_propTypes["default"].shape({colorClass:_propTypes["default"].string.isRequired,"enum":_propTypes["default"].string.isRequired,path:_propTypes["default"].string.isRequired,text:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired})).isRequired,className:_propTypes["default"].string,onClick:_propTypes["default"].func.isRequired,topAnchorId:_propTypes["default"].string};DialogCategoryMenu.defaultProps={topAnchorId:null};var _default=DialogCategoryMenu;exports["default"]=_default;}),14697:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _CategoryMenuBody=_interopRequireDefault(__webpack_require__(20871));var _sticky_wrapper=_interopRequireDefault(__webpack_require__(96659));var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _links=__webpack_require__(22463);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var scrollToTop=function scrollToTop(topAnchorId){var target=topAnchorId?document.getElementById(topAnchorId):0;(0,_smoothScroll["default"])(target);};var StickyCategoryMenu=function(_PureComponent){_inherits(StickyCategoryMenu,_PureComponent);var _super=_createSuper(StickyCategoryMenu);function StickyCategoryMenu(props){var _this;_classCallCheck(this,StickyCategoryMenu);_this=_super.call(this,props);_this.state={isStuck:false};return _this;}
_createClass(StickyCategoryMenu,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,basePath=_this$props.basePath,categories=_this$props.categories,className=_this$props.className,onClick=_this$props.onClick,parentId=_this$props.parentId,topAnchorId=_this$props.topAnchorId,topBuffer=_this$props.topBuffer;return _react["default"].createElement(_sticky_wrapper["default"],{parentId:parentId,reportPosition:function reportPosition(position){return _this2.setState({isStuck:position!=='start'});},stickToEnd:true,startBuffer:topBuffer},_react["default"].createElement("div",{className:className},_react["default"].createElement(_CategoryMenuBody["default"],{basePath:basePath,categories:categories,onClick:onClick,topAnchorId:topAnchorId}),this.state.isStuck&&_react["default"].createElement("div",{className:_layout["default"].marginTop15},_react["default"].createElement("a",{className:"".concat(_typography["default"].linkPebble," ").concat(_typography["default"].bodyS," ").concat(_typography["default"].bold),href:_links.NOOP_HREF,onClick:function onClick(){return scrollToTop(topAnchorId);}},"Return to top"))));}}]);return StickyCategoryMenu;}(_react.PureComponent);StickyCategoryMenu.propTypes={basePath:_propTypes["default"].string.isRequired,categories:_propTypes["default"].arrayOf(_propTypes["default"].shape({colorClass:_propTypes["default"].string.isRequired,"enum":_propTypes["default"].string.isRequired,path:_propTypes["default"].string.isRequired,text:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired})).isRequired,className:_propTypes["default"].string,onClick:_propTypes["default"].func.isRequired,parentId:_propTypes["default"].string.isRequired,topAnchorId:_propTypes["default"].string,topBuffer:_propTypes["default"].number};StickyCategoryMenu.defaultProps={className:'',topAnchorId:null,topBuffer:0};var _default=StickyCategoryMenu;exports["default"]=_default;}),94786:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _breadcrumb=_interopRequireDefault(__webpack_require__(13050));var _DialogCategoryMenu=_interopRequireDefault(__webpack_require__(5553));var _InfiniteScroll=_interopRequireDefault(__webpack_require__(12813));var _NavBar=_interopRequireDefault(__webpack_require__(5470));var _DummyPostCard=_interopRequireDefault(__webpack_require__(4896));var _post_card=_interopRequireDefault(__webpack_require__(70251));var _post_editor=_interopRequireDefault(__webpack_require__(40768));var _StickyCategoryMenu=_interopRequireDefault(__webpack_require__(14697));var _window=_interopRequireDefault(__webpack_require__(61558));var _graphql=__webpack_require__(2740);var _history=__webpack_require__(58886);var _transactions=__webpack_require__(73487);var _comments=__webpack_require__(4510);var _posts=__webpack_require__(31897);var _main=_interopRequireDefault(__webpack_require__(85061));var _eventTypeTemplates=__webpack_require__(10853);var _markdown=_interopRequireDefault(__webpack_require__(8863));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _messages=__webpack_require__(62044);var _clipboard=__webpack_require__(96222);var _accessors=__webpack_require__(4887);var _types=__webpack_require__(88742);var _converters=__webpack_require__(39719);var _events=__webpack_require__(64770);var _dispatchers=__webpack_require__(10912);var _window2=__webpack_require__(33852);var _pagination=__webpack_require__(22986);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _contest_discussion=_interopRequireDefault(__webpack_require__(60166));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ADMIN_PATH='ANNOUNCEMENTS';var SIDEBAR_ID='discussionSidebar';var EDITOR_MARKDOWN_CONFIG={highlightClass:_typography["default"].linkBlue,highlightChar:'@',rules:['code','highlight']};var MARKDOWN_CONFIG={highlightClass:_typography["default"].linkBlue,rules:['code','mention']};var Discussion=function(_PureComponent){_inherits(Discussion,_PureComponent);var _super=_createSuper(Discussion);function Discussion(props){var _this;_classCallCheck(this,Discussion);_this=_super.call(this,props);var currentPath=(0,_history.cleanPreAndPostSlashes)(props.currentHistoryData.pathname);_this.state={currentPath:currentPath,currentView:_this._getCurrentViewForPath(currentPath),isBusy:true,isNavigating:true,offset:0,pagination:_pagination.SIMPLE_PAGINATION,pinnedPosts:[],records:[],workers:{}};_this.createOrUpdateComment=_this.createOrUpdateComment.bind(_assertThisInitialized(_this));_this.createOrUpdatePost=_this.createOrUpdatePost.bind(_assertThisInitialized(_this));_this.getCommentsForPost=_this.getCommentsForPost.bind(_assertThisInitialized(_this));_this.getRepliesForComment=_this.getRepliesForComment.bind(_assertThisInitialized(_this));_this.handleCopyToClipboard=_this.handleCopyToClipboard.bind(_assertThisInitialized(_this));_this.handleNavigationForCategory=_this.handleNavigationForCategory.bind(_assertThisInitialized(_this));_this.handleNavigationForPost=_this.handleNavigationForPost.bind(_assertThisInitialized(_this));_this.handlePinClick=_this.handlePinClick.bind(_assertThisInitialized(_this));_this.handleReportPostOrComment=_this.handleReportPostOrComment.bind(_assertThisInitialized(_this));_this.handleSpamPostOrComment=_this.handleSpamPostOrComment.bind(_assertThisInitialized(_this));_this.addWorker=_transactions.addWorker.bind(_assertThisInitialized(_this));_this.createComment=_comments.createComment.bind(_assertThisInitialized(_this));_this.createPost=_posts.createPost.bind(_assertThisInitialized(_this));_this.deleteComment=_comments.deleteComment.bind(_assertThisInitialized(_this));_this.deleteCommentViaSpam=_comments.deleteCommentViaSpam.bind(_assertThisInitialized(_this));_this.deletePost=_posts.deletePost.bind(_assertThisInitialized(_this));_this.deletePostViaSpam=_posts.deletePostViaSpam.bind(_assertThisInitialized(_this));_this.getComments=_comments.getComments.bind(_assertThisInitialized(_this));_this.getCommentReplies=_comments.getCommentReplies.bind(_assertThisInitialized(_this));_this.removeFromWorkersState=_transactions.removeFromWorkersState.bind(_assertThisInitialized(_this));_this.updateComment=_comments.updateComment.bind(_assertThisInitialized(_this));_this.updatePost=_posts.updatePost.bind(_assertThisInitialized(_this));_this._isMounted=false;_this._postAndCommentMarkdownService;_this._postEditorMarkdownService;_this._windower;return _this;}
_createClass(Discussion,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._postAndCommentMarkdownService=(0,_markdown["default"])(MARKDOWN_CONFIG);this._postEditorMarkdownService=(0,_markdown["default"])(EDITOR_MARKDOWN_CONFIG);this._init();}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;}},{key:"_init",value:function _init(){this.props.onInit();var scrollTarget=this.props.topAnchorId?document.getElementById(this.props.topAnchorId):0;(0,_smoothScroll["default"])(scrollTarget,0);this._fetchRecordsForCurrentView(this.state.currentView,this.state.currentPath);}},{key:"createOrUpdateComment",value:function createOrUpdateComment(_ref){var comment=_ref.comment,resolverFn=_ref.resolverFn;return comment.hasOwnProperty('id')?this.updateComment({comment:comment,resolverFn:resolverFn}):this.createComment({comment:comment,resolverFn:resolverFn});}},{key:"createOrUpdatePost",value:function createOrUpdatePost(_ref2){var post=_ref2.post,oldPost=_ref2.oldPost,failureFn=_ref2.failureFn,resolverFn=_ref2.resolverFn;return post.hasOwnProperty('id')?this.updatePost({post:post,oldPost:oldPost,failureFn:failureFn,resolverFn:resolverFn},this.props.categoryConfigs):this.createPost({post:post,failureFn:failureFn,resolverFn:resolverFn});}},{key:"getCommentsForPost",value:function getCommentsForPost(post,worker){this.getComments(post,worker);}},{key:"getRepliesForComment",value:function getRepliesForComment(_ref3){var comment=_ref3.comment,postId=_ref3.postId,resolverFn=_ref3.resolverFn,worker=_ref3.worker;this.getCommentReplies({comment:comment,postId:postId,resolverFn:resolverFn,worker:worker});}},{key:"handleCopyToClipboard",value:function handleCopyToClipboard(metadata,type){var resolverFn=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){};switch(type){case 'comment':resolverFn();_main["default"].reportEventWithObj((0,_eventTypeTemplates.getClickedMenuItemArgs)({entity_id:metadata.commentId,entity_type:'Comment',value:'Copy link'}));return(0,_clipboard.copyStringToClipboard)(this._buildCommentLink(metadata));case 'post':resolverFn();_main["default"].reportEventWithObj((0,_eventTypeTemplates.getClickedMenuItemArgs)({entity_id:metadata.postId,entity_type:'FeedPost',value:'Copy link'}));return(0,_clipboard.copyStringToClipboard)(this._buildPostLink(metadata));default:return resolverFn();}}},{key:"handleNavigationForCategory",value:function handleNavigationForCategory(e){var category=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var analytics=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var isWorking=this.state.isBusy||this.state.isNavigating;var toPath=category&&category.hasOwnProperty('path')?"/".concat(category.path):'/';if((0,_events.clickEventHasModifierKey)(e)){_main["default"].reportEventWithObj((0,_eventTypeTemplates.getClickedLinkArgs)(Object.assign({},analytics,{href:toPath,entity_id:this.props.origin.id,entity_type:this.props.origin.type}),e));return;}
e.preventDefault();if(!isWorking){this.props.transition({pathname:toPath});_main["default"].reportEventWithObj((0,_eventTypeTemplates.getClickedLinkArgs)(Object.assign({},analytics,{href:toPath,entity_id:this.props.origin.id,entity_type:this.props.origin.type}),e));}}},{key:"handleNavigationForPost",value:function handleNavigationForPost(e,postId){if((0,_events.clickEventHasModifierKey)(e))return;e.preventDefault();if(this.state.isBusy||this.state.isNavigating)return;var toPath="/posts/".concat(postId);if(this.props.currentHistoryData.pathname!==toPath){this.props.transition({pathname:toPath});}}},{key:"handlePinClick",value:function handlePinClick(record,isPinned,callback){callback();if(this.state.pinnedPosts.length>0&&!isPinned&&window.confirm('This will replace the current pinned post. Are you sure?')===false){return(0,_dispatchers.summonGlobalMessenger)({msg:'Cancelled pinning post.',type:'success'});}
return isPinned?this._unpinPost(record):this._pinPost(record);}},{key:"handleReportPostOrComment",value:function handleReportPostOrComment(record,type,callback){var _this2=this;this.props.setFlaggedIds(this._getUpdatedFlaggedIdState(record,type),callback);return(0,_transactions.flagPostOrComment)(type,record.id,(0,_accessors.getInObj)(['id'],this.props.currentUser))["catch"](function(err){return _this2.props.setFlaggedIds(_this2._getRevertedFlaggedIdState(record,type));});}},{key:"handleSpamPostOrComment",value:function handleSpamPostOrComment(record,type,callback){var _this3=this;this.props.setFlaggedIds(this._getUpdatedFlaggedIdState(record,type),callback);return(0,_transactions.markPostOrCommentAsSpam)(type,record.id).then(function(){return _this3._resolveHandleSpamPostOrComment(record,type);})["catch"](function(err){return _this3.props.setFlaggedIds(_this3._getRevertedFlaggedIdState(record,type));});}},{key:"_applySearchToHistory",value:function _applySearchToHistory(){var search=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";this.props.transition({pathname:this.state.currentPath,search:search});this._fireNavFilterSelectAnalytics(search);}},{key:"_buildCommentLink",value:function _buildCommentLink(_ref4){var commentId=_ref4.commentId,postId=_ref4.postId;return "".concat(_window2.windowLocationOrigin.get()).concat(this.props.pathHelpers.basePath,"/posts/").concat(postId,"#comment-").concat(commentId);}},{key:"_buildPostLink",value:function _buildPostLink(_ref5){var postId=_ref5.postId;var anchor=this.props.topAnchorId?"#".concat(this.props.topAnchorId):'';return "".concat(_window2.windowLocationOrigin.get()).concat(this.props.pathHelpers.basePath,"/posts/").concat(postId).concat(anchor);}},{key:"_fetchRecordsForCurrentView",value:function _fetchRecordsForCurrentView(currentView,currentPath){if(currentView==='singular')return this._getSingularPost(currentView,currentPath);if(this._isByCurrentUser()&&!(0,_types.isSignedInUser)(this.props.currentUser))return this._getFakePaginatedResults();return this._getPaginatedPosts(currentView,currentPath);}},{key:"_fetchMoreRecords",value:function _fetchMoreRecords(){return this._getPaginatedPosts(this.state.currentView,this.state.currentPath,{page:this.state.pagination.next_page});}},{key:"_fireNavFilterSelectAnalytics",value:function _fireNavFilterSelectAnalytics(searchString){var args=searchString.length>0?['my_activity',true]:['all_posts',true];_main["default"].reportEventWithObj(_eventTypeTemplates.getClickedFilterArgs.apply(void 0,args));}},{key:"_getCategorySelectOpts",value:function _getCategorySelectOpts(){if(this._isAdmin())return this.props.selectCategories;return this.props.selectCategories.filter(function(opt){return opt.value!==ADMIN_PATH;});}},{key:"_getCurrentViewForPath",value:function _getCurrentViewForPath(path){if(path==='/')return 'default';return path.includes('posts/')?'singular':'category';}},{key:"_getRevertedFlaggedIdState",value:function _getRevertedFlaggedIdState(record,type){return type==='feed_post'?{flaggedPostIds:this.props.flaggedPostIds.filter(function(id){return id!==record.id;})}:{flaggedCommentIds:this.props.flaggedCommentIds.filter(function(id){return id!==record.id;})};}},{key:"_getUpdatedFlaggedIdState",value:function _getUpdatedFlaggedIdState(record,type){return type==='feed_post'?{flaggedPostIds:this.props.flaggedPostIds.concat([record.id])}:{flaggedCommentIds:this.props.flaggedCommentIds.concat([record.id])};}},{key:"_isByCurrentUser",value:function _isByCurrentUser(){var currentView=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.state.currentView;return currentView==='default'&&(0,_converters.mapifyStringQuery)(this.props.currentHistoryData.search)['by_current_user']==='true';}},{key:"_isAdmin",value:function _isAdmin(){return(0,_accessors.getInObj)(['role'],this.props.currentUser)==='admin'||this.props.origin.admin_ids.includes((0,_accessors.getInObj)(['id'],this.props.currentUser));}},{key:"_isMemberOrAdmin",value:function _isMemberOrAdmin(){return this.props.isMember||this._isAdmin();}},{key:"_shouldRenderPostEditorView",value:function _shouldRenderPostEditorView(){if(!this._postEditorMarkdownService||this.state.currentView==='singular'||this._isByCurrentUser()){return false;}
if(this._isAdmin())return true;return this.state.currentPath.toLowerCase()!==ADMIN_PATH.toLowerCase();}},{key:"_safelySetState",value:function _safelySetState(state,cb){if(!this._isMounted)return;this.setState(state,cb);}},{key:"_getFakePaginatedResults",value:function _getFakePaginatedResults(){var _this4=this;return new Promise(function(resolve,reject){_this4._safelySetState({isBusy:false,isNavigating:false,pagination:_pagination.SIMPLE_PAGINATION,records:[]});resolve();});}},{key:"_getPaginatedPosts",value:function _getPaginatedPosts(currentView,currentPath){var _this5=this;var pagination=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return this._getPinnedPosts(currentView,pagination).then(function(pinnedPosts){return Promise.all([pinnedPosts,(0,_graphql.graphQuery)({t:'feed_posts_simple_pagination'},_this5._getPaginatedPostsArgs(currentView,currentPath,pagination,pinnedPosts))]);}).then(function(_ref6){var _ref7=_slicedToArray(_ref6,2),pinnedPosts=_ref7[0],feed_posts=_ref7[1].feed_posts;_this5._safelySetState({isBusy:false,isNavigating:false,pagination:feed_posts.metadata,pinnedPosts:pinnedPosts,records:pagination?_this5.state.records.concat(feed_posts.records):feed_posts.records});})["catch"](function(err){_this5._safelySetState({isBusy:false,isNavigating:false});(0,_error_handler["default"])('Discussion _getPaginatedPosts: ',err);(0,_dispatchers.summonGlobalMessenger)({msg:(0,_messages.getErrorMsg)('retrieving posts'),type:'error'});});}},{key:"_getPaginatedPostsArgs",value:function _getPaginatedPostsArgs(currentView,currentPath,pagination){var pinnedPosts=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];var by_category=currentView==='category'?{by_category:currentPath.toUpperCase()}:{};var by_current_user=this._isByCurrentUser(currentView)?{by_current_user:true}:{};var exclude_posts_ids=currentView==='default'?pinnedPosts.map(function(p){return p.id;}):[];var page=pagination?pagination:{};return Object.assign({},by_category,by_current_user,page,{exclude_posts_ids:exclude_posts_ids,offset:Math.max(this.state.offset,0),origin_id:this.props.origin.id,origin_type:this.props.origin.type});}},{key:"_getPinnedPosts",value:function _getPinnedPosts(currentView){var _this6=this;var pagination=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return new Promise(function(resolve,reject){if(pagination!==null||_this6._isByCurrentUser())return resolve(_this6.state.pinnedPosts);return(0,_graphql.graphQuery)({t:'feed_posts'},{by_pinned_for_origin:true,origin_id:_this6.props.origin.id,origin_type:_this6.props.origin.type.toUpperCase()}).then(function(_ref8){var records=_ref8.records;return resolve(records);})["catch"](function(err){(0,_error_handler["default"])("_getPinnedPosts error: ".concat(err));resolve([]);});});}},{key:"_getSingularPost",value:function _getSingularPost(currentView,currentPath){var _this7=this;var id=parseInt((0,_history.cleanPreAndPostSlashes)(currentPath).split('/')[1]);if(!id||typeof id!=='number')return this._getFakePaginatedResults();return this._getPinnedPosts(currentView).then(function(pinnedPosts){return Promise.all([pinnedPosts,(0,_graphql.graphQuery)({t:'feed_post'},{id:id,origin_id:_this7.props.origin.id,origin_type:_this7.props.origin.type})]);}).then(function(_ref9){var _ref10=_slicedToArray(_ref9,2),pinnedPosts=_ref10[0],feed_post=_ref10[1].feed_post;_this7._safelySetState({isBusy:false,isNavigating:false,pagination:_pagination.SIMPLE_PAGINATION,pinnedPosts:pinnedPosts,records:[feed_post]});})["catch"](function(err){_this7._safelySetState({isBusy:false,isNavigating:false});(0,_error_handler["default"])('Discussion _getSingularPost: ',err);(0,_dispatchers.summonGlobalMessenger)({msg:(0,_messages.getErrorMsg)('retrieving the post'),type:'error'});});}},{key:"_pinPost",value:function _pinPost(record){var _this8=this;var refreshCurrentList=this.state.pinnedPosts.length>0&&this.state.currentView==='default'&&!this._isByCurrentUser();var pinnedPostsMemo=this.state.pinnedPosts;this.setState({isBusy:true,pinnedPosts:refreshCurrentList?[]:pinnedPostsMemo});return(0,_graphql.graphMutate)({t:'update_feed_post_pinned'},{id:record.id,origin_id:this.props.origin.id,origin_type:this.props.origin.type.toUpperCase(),pin:true}).then(function(){_this8.setState(function(state){return{isBusy:false,pinnedPosts:[record],records:state.currentView==='default'?state.records.filter(function(r){return r.id!==record.id;}):state.records};});(0,_dispatchers.summonGlobalMessenger)({msg:'Pinned post.',type:'success'});if(refreshCurrentList)_this8._getPaginatedPosts(_this8.state.currentView,_this8.state.currentPath);})["catch"](function(err){_this8.setState({isBusy:false,pinnedPosts:pinnedPostsMemo});(0,_error_handler["default"])('Discussion _unpinPost error: ',err);(0,_dispatchers.summonGlobalMessenger)({msg:'Failed to pin post.',type:'error'});});}},{key:"_resolveHandleSpamPostOrComment",value:function _resolveHandleSpamPostOrComment(record,type){switch(type){case 'comment':return this.deleteCommentViaSpam(record);case 'feed_post':return this.deletePostViaSpam(record);default:return;}}},{key:"_unpinPost",value:function _unpinPost(record){var _this9=this;var refreshCurrentList=this.state.currentView==='default'&&!this._isByCurrentUser();this.setState(function(state){return{isBusy:true,pinnedPosts:state.pinnedPosts.filter(function(p){return p.id!==record.id;})};});return(0,_graphql.graphMutate)({t:'update_feed_post_pinned'},{id:record.id,origin_id:this.props.origin.id,origin_type:this.props.origin.type.toUpperCase(),pin:false}).then(function(){_this9.setState(function(state){return{isBusy:false};});(0,_dispatchers.summonGlobalMessenger)({msg:'Unpinned post.',type:'success'});if(refreshCurrentList)_this9._getPaginatedPosts(_this9.state.currentView,_this9.state.currentPath);})["catch"](function(err){_this9.setState({isBusy:false,pinnedPosts:[record]});(0,_error_handler["default"])('Discussion _unpinPost error: ',err);(0,_dispatchers.summonGlobalMessenger)({msg:'Failed to unpin post.',type:'error'});});}},{key:"_getBreadCrumb",value:function _getBreadCrumb(){var _this10=this;var anchor=this.props.topAnchorId?"#".concat(this.props.topAnchorId):'';return _react["default"].createElement(_breadcrumb["default"],{classList:{root:_layout["default"].marginBottom10},color:"Pebble",href:"".concat(this.props.pathHelpers.basePath,"/").concat(anchor),onClick:function onClick(e){return _this10.handleNavigationForCategory(e,null,{location:'Breadcrumb'});},text:"Back to discussion board"});}},{key:"_getHeader",value:function _getHeader(){switch(this.state.currentView){case 'category':return this._getCategoryHeaderView();case 'default':return this._getDefaultHeaderView();case 'singular':return this._getSingularPostHeaderView();default:return null;}}},{key:"_getDefaultHeaderView",value:function _getDefaultHeaderView(){var _this11=this;return _react["default"].createElement("div",null,this._getHeaderTitleWithMobileMenu(_react["default"].createElement("h2",{className:_typography["default"].h2},"Discussion board")),_react["default"].createElement(_NavBar["default"],{currentHistoryData:this.props.currentHistoryData,onClick:function onClick(opt){return _this11._applySearchToHistory(opt.value);}}));}},{key:"_getCategoryTitle",value:function _getCategoryTitle(config){return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexCenterItems)},_react["default"].createElement("div",{style:{borderRadius:2,height:15,marginTop:3,width:15},className:"".concat(_util["default"][config.colorClass]," ").concat(_layout["default"].marginRight10)}),_react["default"].createElement("h2",{className:_typography["default"].h2},config.title));}},{key:"_getCategoryHeaderView",value:function _getCategoryHeaderView(){var _this12=this;var config=this.props.categoryConfigs.find(function(config){return config.path===_this12.state.currentPath;});if(!config)return null;return _react["default"].createElement("div",null,this._getBreadCrumb(),this._getHeaderTitleWithMobileMenu(this._getCategoryTitle(config)));}},{key:"_getHeaderTitleWithMobileMenu",value:function _getHeaderTitleWithMobileMenu(children){return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexCenterItems," ").concat(_layout["default"].flexJustifySpaceBetween," ").concat(_layout["default"].marginBottom30)},_react["default"].createElement(_react.Fragment,null,children,this._getMobileMenu()));}},{key:"_getMobileMenu",value:function _getMobileMenu(){return _react["default"].createElement("div",{className:_layout["default"].hiddenMedUp},_react["default"].createElement(_DialogCategoryMenu["default"],{basePath:this.props.pathHelpers.basePath,categories:this.props.categoryConfigs,onClick:this.handleNavigationForCategory,topAnchorId:this.props.topAnchorId}));}},{key:"_getPlaceHolderView",value:function _getPlaceHolderView(copy){return _react["default"].createElement("div",{className:"".concat(_typography["default"].bodyM," ").concat(_layout["default"].marginTop30)},copy);}},{key:"_getPostCreatorView",value:function _getPostCreatorView(){if(!this._shouldRenderPostEditorView())return null;if(!this._isMemberOrAdmin()){return this._getPlaceHolderView(this.props.isNotMemberPlaceholder);}
return _react["default"].createElement(_post_editor["default"],{categoryConfig:this.props.categoryConfigs,categorySelectOpts:this._getCategorySelectOpts(),currentPath:this.state.currentPath,currentUser:this.props.currentUser,isBusy:this.state.isBusy,markdownService:this._postEditorMarkdownService,origin:this.props.origin,onPostOrUpdate:this.createOrUpdatePost});}},{key:"_getSingularPostHeaderView",value:function _getSingularPostHeaderView(){return this._getHeaderTitleWithMobileMenu(this._getBreadCrumb());}},{key:"_getPinnedPostsView",value:function _getPinnedPostsView(){var _this13=this;if(!this.state.pinnedPosts.length)return null;if(this.state.currentView!=='default'||this._isByCurrentUser())return null;return _react["default"].createElement("div",null,this.state.pinnedPosts.map(function(record){return _react["default"].createElement(_post_card["default"],{key:record.id,basePath:_this13.props.pathHelpers.basePath,categoryConfig:_this13.props.categoryConfigs,categorySelectOpts:_this13._getCategorySelectOpts(),config:{allowScrollToCommentOnMount:false},createOrUpdateComment:_this13.createOrUpdateComment,currentPath:_this13.state.currentPath,currentUser:_this13.props.currentUser,deleteComment:_this13.deleteComment,flaggedIds:{comments:_this13.props.flaggedCommentIds,posts:_this13.props.flaggedPostIds},isBusy:_this13.state.isBusy,isPinned:true,markdownServices:{editor:_this13._postEditorMarkdownService,postOrComment:_this13._postAndCommentMarkdownService},onCategoryTagClick:function onCategoryTagClick(e,category){return _this13.handleNavigationForCategory(e,category,{location:'CategoryTag'});},onCopyLinkClick:_this13.handleCopyToClipboard,onCreatedAtClick:_this13.handleNavigationForPost,onDeleteClick:_this13.deletePost,onPinClick:_this13.handlePinClick,onPostUpdate:_this13.createOrUpdatePost,onReportClick:_this13.handleReportPostOrComment,onShowMoreCommentRepliesClick:_this13.getRepliesForComment,onShowPreviousCommentsClick:_this13.getCommentsForPost,onSpamClick:_this13.handleSpamPostOrComment,origin:_this13.props.origin,post:record,userCanComment:_this13._isMemberOrAdmin(),workers:_this13.state.workers});}));}},{key:"_getPosts",value:function _getPosts(){if(this.state.isNavigating)return _react["default"].createElement(_DummyPostCard["default"],null);switch(this.state.currentView){case 'default':case 'category':return this._getPostsView();case 'singular':return this._getSingularPostView();default:return null;}}},{key:"_getPostsView",value:function _getPostsView(){var _this14=this;if(this._isByCurrentUser()&&!(0,_types.isSignedInUser)(this.props.currentUser)){return this._getPlaceHolderView('Please log in to see your posts.');}
if(!this.state.records.length)return this._getPlaceHolderView('There are no posts yet!');var recordsCount=this.state.records.length;var totalRecordsCount=this.state.pagination.next_page?recordsCount+1:recordsCount;return _react["default"].createElement(_InfiniteScroll["default"],{buffer:500,fetchMore:function fetchMore(){return _this14._fetchMoreRecords();},recordsCount:recordsCount,renderLoader:function renderLoader(){return _react["default"].createElement(_DummyPostCard["default"],null);},totalRecordsCount:totalRecordsCount},_react["default"].createElement(_window["default"],{ref:function ref(el){return _this14._windower=el;},isBusy:this.state.isBusy,records:this.state.records},function(_ref11){var record=_ref11.record;return _react["default"].createElement(_post_card["default"],{key:record.id,basePath:_this14.props.pathHelpers.basePath,categoryConfig:_this14.props.categoryConfigs,categorySelectOpts:_this14._getCategorySelectOpts(),config:{allowScrollToCommentOnMount:false},createOrUpdateComment:_this14.createOrUpdateComment,currentPath:_this14.state.currentPath,currentUser:_this14.props.currentUser,deleteComment:_this14.deleteComment,flaggedIds:{comments:_this14.props.flaggedCommentIds,posts:_this14.props.flaggedPostIds},isBusy:_this14.state.isBusy,isPinned:_this14.state.pinnedPosts.findIndex(function(p){return p.id===record.id;})!==-1,markdownServices:{editor:_this14._postEditorMarkdownService,postOrComment:_this14._postAndCommentMarkdownService},onCategoryTagClick:function onCategoryTagClick(e,category){return _this14.handleNavigationForCategory(e,category,{location:'CategoryTag'});},onCopyLinkClick:_this14.handleCopyToClipboard,onCreatedAtClick:_this14.handleNavigationForPost,onDeleteClick:_this14.deletePost,onPinClick:_this14.handlePinClick,onPostUpdate:_this14.createOrUpdatePost,onReportClick:_this14.handleReportPostOrComment,onShowMoreCommentRepliesClick:_this14.getRepliesForComment,onShowPreviousCommentsClick:_this14.getCommentsForPost,onSpamClick:_this14.handleSpamPostOrComment,origin:_this14.props.origin,post:record,userCanComment:_this14._isMemberOrAdmin(),workers:_this14.state.workers});}));}},{key:"_getSingularPostView",value:function _getSingularPostView(){var post=this.state.records[0]||null;return _react["default"].createElement(_post_card["default"],{basePath:this.props.pathHelpers.basePath,categoryConfig:this.props.categoryConfigs,categorySelectOpts:this._getCategorySelectOpts(),config:{allowScrollToCommentOnMount:true},createOrUpdateComment:this.createOrUpdateComment,currentPath:this.state.currentPath,currentUser:this.props.currentUser,deleteComment:this.deleteComment,flaggedIds:{comments:this.props.flaggedCommentIds,posts:this.props.flaggedPostIds},isBusy:this.state.isBusy,isPinned:this.state.pinnedPosts.findIndex(function(p){return p.id===(0,_accessors.getInObj)(['id'],post);})!==-1,markdownServices:{editor:this._postEditorMarkdownService,postOrComment:this._postAndCommentMarkdownService},onCategoryTagClick:this.handleNavigationForCategory,onCopyLinkClick:this.handleCopyToClipboard,onCreatedAtClick:this.handleNavigationForPost,onDeleteClick:this.deletePost,onPinClick:this.handlePinClick,onPostUpdate:this.createOrUpdatePost,onReportClick:this.handleReportPostOrComment,onShowMoreCommentRepliesClick:this.getRepliesForComment,onShowPreviousCommentsClick:this.getCommentsForPost,onSpamClick:this.handleSpamPostOrComment,origin:this.props.origin,post:post,renderAllComments:true,userCanComment:this._isMemberOrAdmin(),workers:this.state.workers});}},{key:"render",value:function render(){return _react["default"].createElement("div",{className:"".concat(_layout["default"].container," ").concat(_contest_discussion["default"].container)},_react["default"].createElement("div",{className:"".concat(_layout["default"].wrapper960," ").concat(_layout["default"].flex," ").concat(_util["default"].posRelative)},_react["default"].createElement("div",{className:_layout["default"].fullWidth},_react["default"].createElement("div",{className:_contest_discussion["default"].header},this._getHeader()),this._getPostCreatorView(),this._getPinnedPostsView(),this._getPosts()),_react["default"].createElement("div",{className:"".concat(_contest_discussion["default"].sidebarWrapper," ").concat(_layout["default"].hiddenMedDown),id:SIDEBAR_ID},_react["default"].createElement(_StickyCategoryMenu["default"],{basePath:this.props.pathHelpers.basePath,categories:this.props.categoryConfigs,className:_contest_discussion["default"].sidebar,onClick:this.handleNavigationForCategory,parentId:SIDEBAR_ID,topBuffer:this.props.stickyBuffer,topAnchorId:this.props.topAnchorId}))));}}]);return Discussion;}(_react.PureComponent);Discussion.propTypes={currentHistoryData:_propTypes["default"].shape({pathname:_propTypes["default"].string,search:_propTypes["default"].string}).isRequired,currentUser:_propTypes["default"].shape({avatar_url:_propTypes["default"].string.isRequired,confirmed:_propTypes["default"].bool,id:_propTypes["default"].number,name:_propTypes["default"].string,role:_propTypes["default"].string,url:_propTypes["default"].string}).isRequired,flaggedCommentIds:_propTypes["default"].arrayOf(_propTypes["default"].number).isRequired,flaggedPostIds:_propTypes["default"].arrayOf(_propTypes["default"].number).isRequired,isMember:_propTypes["default"].bool.isRequired,isNotMemberPlaceholder:_propTypes["default"].string,onInit:_propTypes["default"].func,origin:_propTypes["default"].shape({admin_ids:_propTypes["default"].arrayOf(_propTypes["default"].number).isRequired,id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,type:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired,pathHelpers:_propTypes["default"].shape({basePath:_propTypes["default"].string.isRequired}).isRequired,setFlaggedIds:_propTypes["default"].func.isRequired,stickyBuffer:_propTypes["default"].number,topAnchorId:_propTypes["default"].string};Discussion.defaultProps={isNotMemberPlaceholder:'Only participants can post here.',onInit:function onInit(){},stickyBuffer:0,topAnchorId:null};var _default=Discussion;exports["default"]=_default;}),4896:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _DummyCard=_interopRequireDefault(__webpack_require__(90039));var _cards=_interopRequireDefault(__webpack_require__(28246));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));var _post_card=_interopRequireDefault(__webpack_require__(55626));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DummyPostCard=function DummyPostCard(){return _react["default"].createElement("div",{className:_post_card["default"].root},_react["default"].createElement("div",{className:_layout["default"].marginBottom10},_react["default"].createElement(_DummyCard["default"],{avatarSize:40,titleSize:"M"})),_react["default"].createElement("div",{className:"".concat(_layout["default"].paddingBottom15," ").concat(_util["default"].borderBottom)},_react["default"].createElement("div",{className:"".concat(_cards["default"].dummyTextM," ").concat(_layout["default"].marginTop5)}),_react["default"].createElement("div",{className:"".concat(_cards["default"].dummyTextM," ").concat(_layout["default"].marginTop5)}),_react["default"].createElement("div",{className:"".concat(_cards["default"].dummyTextM," ").concat(_layout["default"].marginTop5)})),_react["default"].createElement("div",{className:"".concat(_layout["default"].marginTop15," ").concat(_cards["default"].dummyTextL)}),_react["default"].createElement("div",{className:_cards["default"].dummyTextL}));};var _default=DummyPostCard;exports["default"]=_default;}),28938:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _validator=__webpack_require__(48966);var _CategoryBadge=_interopRequireDefault(__webpack_require__(31655));var _markdown_viewer=_interopRequireDefault(__webpack_require__(39223));var _post_embed=_interopRequireDefault(__webpack_require__(9116));var _respect_button=_interopRequireDefault(__webpack_require__(9782));var _main=_interopRequireDefault(__webpack_require__(85061));var _eventTypeTemplates=__webpack_require__(10853);var _shouldTruncateEscapedText=_interopRequireDefault(__webpack_require__(29642));var _accessors=__webpack_require__(4887);var _types=__webpack_require__(88742);var _predicates=__webpack_require__(20918);var _links=__webpack_require__(49180);var _enum=__webpack_require__(96463);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var TRUNCATE_LIMIT=217;var _cleanEmbedLinkFromBody=function _cleanEmbedLinkFromBody(body,embed){if((0,_types.isBlank)(body)||!(0,_predicates.objHasPropertyOfLength)(embed,'link'))return body;var uBody=(0,_validator.unescape)(body);var lastWord=uBody.trim().split(' ').pop();return(0,_links.stripProtocol)(lastWord)===(0,_links.stripProtocol)(embed.link)?uBody.replace(lastWord,'').trim():uBody;};var fireViewMoreClickedAnalytics=function fireViewMoreClickedAnalytics(post){return _main["default"].reportEventWithObj((0,_eventTypeTemplates.getClickedViewMoreArgs)({entity_id:post.id,entity_type:'FeedPost'}));};var getShouldTruncate=function getShouldTruncate(post){var shouldTruncate=(0,_accessors.getInObj)(['__meta','truncate'],post);return shouldTruncate===null?(0,_shouldTruncateEscapedText["default"])(post.body,TRUNCATE_LIMIT):{limit:TRUNCATE_LIMIT,truncate:shouldTruncate};};var PostCardBody=function PostCardBody(_ref){var basePath=_ref.basePath,categoryConfig=_ref.categoryConfig,markdownService=_ref.markdownService,onCategoryTagClick=_ref.onCategoryTagClick,post=_ref.post;var embed=(0,_accessors.getInObj)(['entities','embed'],post);var config=categoryConfig.find(function(c){return c["enum"]===post.category;});return _react["default"].createElement("div",null,_react["default"].createElement("div",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].breakWord," ").concat(_layout["default"].marginBottom15)},_react["default"].createElement(_markdown_viewer["default"],{content:_cleanEmbedLinkFromBody(post.body,embed),markdownService:markdownService,truncateHtml:getShouldTruncate(post),viewMoreClicked:function viewMoreClicked(){return fireViewMoreClickedAnalytics(post);}}),embed&&_react["default"].createElement(_post_embed["default"],{embed:embed})),config&&_react["default"].createElement("div",{className:_layout["default"].marginBottom15},_react["default"].createElement(_CategoryBadge["default"],{basePath:basePath,categoryConfig:config,onCategoryTagClick:onCategoryTagClick})),_react["default"].createElement(_respect_button["default"],{id:post.id,respects:post.respects_count,source:"feed_post",theme:"postCard",type:_enum.FEED_POST}));};PostCardBody.propTypes={basePath:_propTypes["default"].string.isRequired,categoryConfig:_propTypes["default"].arrayOf(_propTypes["default"].shape({colorClass:_propTypes["default"].string.isRequired,"enum":_propTypes["default"].string.isRequired,path:_propTypes["default"].string.isRequired,text:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired})).isRequired,markdownService:_propTypes["default"].object.isRequired,onCategoryTagClick:_propTypes["default"].func.isRequired,post:_propTypes["default"].shape({__meta:_propTypes["default"].shape({truncate:_propTypes["default"].bool}),body:_propTypes["default"].string,category:_propTypes["default"].string.isRequired,id:_propTypes["default"].number.isRequired,respects_count:_propTypes["default"].number.isRequired}).isRequired};PostCardBody.defaultProps={};var _default=PostCardBody;exports["default"]=_default;}),99860:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _AdminBadge=_interopRequireDefault(__webpack_require__(74325));var _icon=_interopRequireDefault(__webpack_require__(44509));var _OptionsMenuWithIcon=_interopRequireDefault(__webpack_require__(34010));var _time=__webpack_require__(28716);var _layout=_interopRequireDefault(__webpack_require__(42721));var _simple_select=_interopRequireDefault(__webpack_require__(27464));var _typography=_interopRequireDefault(__webpack_require__(68163));var _post_card=_interopRequireDefault(__webpack_require__(55626));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var PinnedLabel=function PinnedLabel(){return _react["default"].createElement("div",{className:_layout["default"].flex},_react["default"].createElement(_icon["default"],{className:"".concat(_typography["default"].hackster," ").concat(_layout["default"].marginRight10),name:"pin",size:"16"}),_react["default"].createElement("h5",{className:"".concat(_layout["default"].marginBottom15," ").concat(_typography["default"].h5," ").concat(_typography["default"].hackster)},"Pinned post"));};var AdminMenuOpts=function AdminMenuOpts(_ref){var isPinned=_ref.isPinned,onPinClick=_ref.onPinClick;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:function onClick(){return onPinClick();}},isPinned?'Unpin post':'Pin post'));};var PostCardHeader=function PostCardHeader(_ref2){var basePath=_ref2.basePath,currentUser=_ref2.currentUser,isFlagged=_ref2.isFlagged,isPinned=_ref2.isPinned,onCopyLinkClick=_ref2.onCopyLinkClick,onCreatedAtClick=_ref2.onCreatedAtClick,onDeleteClick=_ref2.onDeleteClick,onEditClick=_ref2.onEditClick,onPinClick=_ref2.onPinClick,onReportClick=_ref2.onReportClick,onSpamClick=_ref2.onSpamClick,openMenu=_ref2.openMenu,origin=_ref2.origin,post=_ref2.post,toggleMenu=_ref2.toggleMenu;return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifySpaceBetween," ").concat(_layout["default"].marginBottom10)},_react["default"].createElement("div",null,isPinned&&_react["default"].createElement(PinnedLabel,null),_react["default"].createElement("div",{className:_layout["default"].flex},_react["default"].createElement("a",{className:_layout["default"].marginRight10,href:post.user.url},_react["default"].createElement("img",{className:_post_card["default"].avatar,src:post.user.avatar_url})),_react["default"].createElement("div",{className:_layout["default"].flexColumnWrap},_react["default"].createElement("div",{className:_layout["default"].flexCenterItems},_react["default"].createElement("a",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold," ").concat(_typography["default"].linkCharcoal),href:post.user.url},post.user.name),_react["default"].createElement(_AdminBadge["default"],{origin:origin,record:post})),_react["default"].createElement("a",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].linkPebble),href:"".concat(basePath,"/posts/").concat(post.id),onClick:function onClick(e){return onCreatedAtClick(e,post.id);},title:(0,_time.timestampToPrettyDate)(post.created_at)},(0,_time.timeFromNow)(post.created_at),post.edited_at&&_react["default"].createElement("span",null," (edited)"))))),_react["default"].createElement(_OptionsMenuWithIcon["default"],{copyLinkText:"Copy link to post",currentUser:currentUser,extendedAdminOptions:function extendedAdminOptions(){return AdminMenuOpts({isPinned:isPinned,onPinClick:onPinClick});},isFlagged:isFlagged,isPinned:isPinned,onCopyLinkClick:onCopyLinkClick,onDeleteClick:onDeleteClick,onEditClick:onEditClick,onPinClick:onPinClick,onReportClick:onReportClick,onSpamClick:onSpamClick,openMenu:openMenu,origin:origin,record:post,toggleMenu:toggleMenu}));};PostCardHeader.propTypes={basePath:_propTypes["default"].string.isRequired,currentUser:_propTypes["default"].shape({avatar_url:_propTypes["default"].string.isRequired,confirmed:_propTypes["default"].bool,id:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,role:_propTypes["default"].string,url:_propTypes["default"].string}),isFlagged:_propTypes["default"].bool.isRequired,isPinned:_propTypes["default"].bool.isRequired,onCopyLinkClick:_propTypes["default"].func.isRequired,onCreatedAtClick:_propTypes["default"].func.isRequired,onDeleteClick:_propTypes["default"].func.isRequired,onEditClick:_propTypes["default"].func.isRequired,onPinClick:_propTypes["default"].func.isRequired,onReportClick:_propTypes["default"].func.isRequired,onSpamClick:_propTypes["default"].func.isRequired,openMenu:_propTypes["default"].bool.isRequired,origin:_propTypes["default"].shape({admin_ids:_propTypes["default"].arrayOf(_propTypes["default"].number)}),post:_propTypes["default"].shape({created_at:_propTypes["default"].string.isRequired,edited_at:_propTypes["default"].string,id:_propTypes["default"].number.isRequired,user:_propTypes["default"].shape({avatar_url:_propTypes["default"].string.isRequired,id:_propTypes["default"].number.isRequired,isAdmin:_propTypes["default"].bool.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired}).isRequired,toggleMenu:_propTypes["default"].func.isRequired};PostCardHeader.defaultProps={currentUser:null,origin:null};var _default=PostCardHeader;exports["default"]=_default;}),70251:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _PostCardBody=_interopRequireDefault(__webpack_require__(28938));var _post_card_comments=_interopRequireDefault(__webpack_require__(70453));var _PostCardHeader=_interopRequireDefault(__webpack_require__(99860));var _post_editor=_interopRequireDefault(__webpack_require__(40768));var _dispatchers=__webpack_require__(10912);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _post_card=_interopRequireDefault(__webpack_require__(55626));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var PostCard=function(_PureComponent){_inherits(PostCard,_PureComponent);var _super=_createSuper(PostCard);function PostCard(props){var _this;_classCallCheck(this,PostCard);_this=_super.call(this,props);_this.state={isEditing:false,openMenu:false};_this.toggleMenu=_this.toggleMenu.bind(_assertThisInitialized(_this));_this._editor;return _this;}
_createClass(PostCard,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;}},{key:"toggleMenu",value:function toggleMenu(){this.setState({openMenu:!this.state.openMenu});}},{key:"_summonLoginPanel",value:function _summonLoginPanel(){(0,_dispatchers.summonLoginPanel)({detail:{id:this.props.post.id,state:{currentPanel:'signup',simplified:true},source:'feed_post'}});}},{key:"_getBody",value:function _getBody(){return this.state.isEditing?this._getEditorBodyView():this._getDefaultBodyView();}},{key:"_getDefaultBodyView",value:function _getDefaultBodyView(){return _react["default"].createElement(_PostCardBody["default"],{basePath:this.props.basePath,categoryConfig:this.props.categoryConfig,markdownService:this.props.markdownServices.postOrComment,onCategoryTagClick:this.props.onCategoryTagClick,post:this.props.post});}},{key:"_getEditorBodyView",value:function _getEditorBodyView(){var _this2=this;return _react["default"].createElement(_post_editor["default"],{categorySelectOpts:this.props.categorySelectOpts,currentPath:this.props.currentPath,currentUser:this.props.currentUser,dismiss:function dismiss(){return _this2._isMounted&&_this2.setState({isEditing:false});},isBusy:this.props.isBusy,markdownService:this.props.markdownServices.editor,mode:"edit",origin:this.props.origin,onPostOrUpdate:this.props.onPostUpdate,post:this.props.post});}},{key:"_getMissingPostView",value:function _getMissingPostView(){return _react["default"].createElement("div",{className:"".concat(_typography["default"].bodyM," ").concat(_layout["default"].marginTop30)},"Sorry, that post does not exist!");}},{key:"render",value:function render(){var _this3=this;if(!this.props.post)return this._getMissingPostView();return _react["default"].createElement("div",{className:_post_card["default"].root},_react["default"].createElement(_PostCardHeader["default"],{basePath:this.props.basePath,currentUser:this.props.currentUser,isFlagged:this.props.flaggedIds.posts.includes(this.props.post.id),isPinned:this.props.isPinned,onCopyLinkClick:function onCopyLinkClick(){return _this3.props.onCopyLinkClick({postId:_this3.props.post.id},'post',_this3.toggleMenu);},onCreatedAtClick:this.props.onCreatedAtClick,onDeleteClick:function onDeleteClick(){return _this3.props.onDeleteClick(_this3.props.post,_this3.toggleMenu);},onEditClick:function onEditClick(){return _this3.setState({isEditing:true,openMenu:false});},onPinClick:function onPinClick(){return _this3.props.onPinClick(_this3.props.post,_this3.props.isPinned,_this3.toggleMenu);},onReportClick:function onReportClick(){return _this3.props.currentUser.id===null?_this3._summonLoginPanel():_this3.props.onReportClick(_this3.props.post,'feed_post',_this3.toggleMenu);},onSpamClick:function onSpamClick(){return _this3.props.onSpamClick(_this3.props.post,'feed_post',_this3.toggleMenu);},openMenu:this.state.openMenu,origin:this.props.origin,post:this.props.post,toggleMenu:this.toggleMenu}),this._getBody(),_react["default"].createElement(_post_card_comments["default"],{comments:this.props.post.comments,config:this.props.config,currentUser:this.props.currentUser,flaggedCommentIds:this.props.flaggedIds.comments,isBusy:this.props.isBusy,userCanComment:this.props.userCanComment,markdownServices:this.props.markdownServices,onCopyLinkClick:this.props.onCopyLinkClick,onDelete:this.props.deleteComment,onPost:this.props.createOrUpdateComment,onReportClick:this.props.onReportClick,onShowMoreCommentRepliesClick:this.props.onShowMoreCommentRepliesClick,onShowPreviousCommentsClick:this.props.onShowPreviousCommentsClick,onSpamClick:this.props.onSpamClick,origin:this.props.origin,post:this.props.post,renderAllComments:this.props.renderAllComments,workers:this.props.workers}));}}]);return PostCard;}(_react.PureComponent);PostCard.propTypes={basePath:_propTypes["default"].string.isRequired,categoryConfig:_propTypes["default"].arrayOf(_propTypes["default"].shape({colorClass:_propTypes["default"].string.isRequired,"enum":_propTypes["default"].string.isRequired,path:_propTypes["default"].string.isRequired,text:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired})).isRequired,categorySelectOpts:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].oneOfType([_propTypes["default"].element,_propTypes["default"].string]),value:_propTypes["default"].string})).isRequired,config:_propTypes["default"].shape({allowScrollToCommentOnMount:_propTypes["default"].bool}),createOrUpdateComment:_propTypes["default"].func.isRequired,currentPath:_propTypes["default"].string.isRequired,currentUser:_propTypes["default"].shape({avatar_url:_propTypes["default"].string,confirmed:_propTypes["default"].bool,id:_propTypes["default"].number,name:_propTypes["default"].string,role:_propTypes["default"].string,url:_propTypes["default"].string}).isRequired,deleteComment:_propTypes["default"].func.isRequired,flaggedIds:_propTypes["default"].shape({comments:_propTypes["default"].array.isRequired,posts:_propTypes["default"].array.isRequired}).isRequired,isBusy:_propTypes["default"].bool.isRequired,isPinned:_propTypes["default"].bool,markdownServices:_propTypes["default"].shape({editor:_propTypes["default"].object.isRequired,postOrComment:_propTypes["default"].object.isRequired}).isRequired,onCategoryTagClick:_propTypes["default"].func.isRequired,onCopyLinkClick:_propTypes["default"].func.isRequired,onCreatedAtClick:_propTypes["default"].func.isRequired,onDeleteClick:_propTypes["default"].func.isRequired,onPinClick:_propTypes["default"].func.isRequired,onPostUpdate:_propTypes["default"].func.isRequired,onReportClick:_propTypes["default"].func.isRequired,onShowMoreCommentRepliesClick:_propTypes["default"].func.isRequired,onShowPreviousCommentsClick:_propTypes["default"].func.isRequired,onSpamClick:_propTypes["default"].func.isRequired,origin:_propTypes["default"].shape({admin_ids:_propTypes["default"].arrayOf(_propTypes["default"].number),id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}),post:_propTypes["default"].shape({body:_propTypes["default"].string.isRequired,category:_propTypes["default"].string.isRequired,comments:_propTypes["default"].arrayOf(_propTypes["default"].shape({body_with_relations:_propTypes["default"].string,children:_propTypes["default"].array,created_at:_propTypes["default"].string.isRequired,edited_at:_propTypes["default"].string,deleted:_propTypes["default"].bool,id:_propTypes["default"].number.isRequired,parent_id:_propTypes["default"].number,raw_body:_propTypes["default"].string.isRequired,relations:_propTypes["default"].object,user:_propTypes["default"].shape({avatar_url:_propTypes["default"].string.isRequired,id:_propTypes["default"].number.isRequired,isAdmin:_propTypes["default"].bool.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string}).isRequired})).isRequired,created_at:_propTypes["default"].string.isRequired,edited_at:_propTypes["default"].string,entities:_propTypes["default"].shape({embed:_propTypes["default"].object}),id:_propTypes["default"].number.isRequired,relations:_propTypes["default"].object,respects_count:_propTypes["default"].number.isRequired,user:_propTypes["default"].shape({avatar_url:_propTypes["default"].string.isRequired,id:_propTypes["default"].number.isRequired,isAdmin:_propTypes["default"].bool.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired,renderAllComments:_propTypes["default"].bool}),userCanComment:_propTypes["default"].bool.isRequired,workers:_propTypes["default"].object.isRequired};PostCard.defaultProps={config:{allowScrollToCommentOnMount:false},isPinned:false,origin:null,post:null,renderAllComments:false};var _default=PostCard;exports["default"]=_default;}),88660:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _markdown_viewer=_interopRequireDefault(__webpack_require__(39223));var _PostCardCommentHeader=_interopRequireDefault(__webpack_require__(82361));var _PostCardCommentInput=_interopRequireDefault(__webpack_require__(64713));var _respect_button=_interopRequireDefault(__webpack_require__(9782));var _ring=_interopRequireDefault(__webpack_require__(49737));var _main=_interopRequireDefault(__webpack_require__(85061));var _eventTypeTemplates=__webpack_require__(10853);var _shouldTruncateEscapedText=_interopRequireDefault(__webpack_require__(29642));var _accessors=__webpack_require__(4887);var _types=__webpack_require__(88742);var _predicates=__webpack_require__(20918);var _enum=__webpack_require__(96463);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _post_card_comments=_interopRequireDefault(__webpack_require__(91476));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var COLLAPSE_AT_LIMIT=150;var DELETED_COMMENT_COPY='This comment has been deleted.';var _isChildComment=function _isChildComment(comment){return(0,_predicates.objHasPropertyWithValue)(comment,'parent_id');};var PostCardComment=function(_PureComponent){_inherits(PostCardComment,_PureComponent);var _super=_createSuper(PostCardComment);function PostCardComment(props){var _this;_classCallCheck(this,PostCardComment);_this=_super.call(this,props);_this.state={isEditing:false,isReplying:false,locationHash:null,openMenu:false,renderChildren:props.renderAllComments};_this.toggleMenu=_this.toggleMenu.bind(_assertThisInitialized(_this));_this._calculatedHash=null;return _this;}
_createClass(PostCardComment,[{key:"toggleMenu",value:function toggleMenu(){this.setState({openMenu:!this.state.openMenu});}},{key:"_areAllChildIdsRenderedInChildren",value:function _areAllChildIdsRenderedInChildren(){if(!this.props.children)return false;var renderedChildrenIds=this.props.children.map(function(child){return child.props.comment.id;});return this.props.comment.child_ids.every(function(id){return renderedChildrenIds.includes(id);});}},{key:"_doesCommentIdMatchLocationHash",value:function _doesCommentIdMatchLocationHash(){if(!this.props.historyLocation.hash)return false;if(this._calculatedHash!==null)return this._calculatedHash;var memo=this.props.historyLocation.hash.split('-')[1]===this.props.comment.id.toString();this._calculatedHash=memo;return memo;}},{key:"_fireViewMoreClickedAnalytics",value:function _fireViewMoreClickedAnalytics(){_main["default"].reportEventWithObj((0,_eventTypeTemplates.getClickedViewMoreArgs)({entity_id:this.props.comment.id,entity_type:'Comment'}));}},{key:"_getDefaultBodyViewShouldTruncate",value:function _getDefaultBodyViewShouldTruncate(){var shouldTruncate=(0,_accessors.getInObj)(['__meta','truncate'],this.props.comment);return shouldTruncate===null?(0,_shouldTruncateEscapedText["default"])(this.props.comment.body_with_relations,COLLAPSE_AT_LIMIT):{limit:COLLAPSE_AT_LIMIT,truncate:shouldTruncate};}},{key:"_getShapeForDeletion",value:function _getShapeForDeletion(){return Object.assign({},this.props.comment,{commentable_id:this.props.postId});}},{key:"_handleDeleteClick",value:function _handleDeleteClick(){this.props.onDelete({comment:this._getShapeForDeletion()});this.setState({openMenu:false});}},{key:"_handleReplyButtonClick",value:function _handleReplyButtonClick(){if(!this.props.currentUser.id)return this.props.summonLoginPanel();return _isChildComment(this.props.comment)?this.props.replyToThread():this.setState({isReplying:true});}},{key:"_handleReplyToThreadClick",value:function _handleReplyToThreadClick(){this.setState({isReplying:true});}},{key:"_getCommentShapeForReplyingInput",value:function _getCommentShapeForReplyingInput(){return{id:null,parent_id:this.props.comment.parent_id||this.props.comment.id,raw_body:''};}},{key:"_getShowRepliesWorkerKey",value:function _getShowRepliesWorkerKey(){return "comment_".concat(this.props.comment.id,"_replies");}},{key:"_getBody",value:function _getBody(){if(this.props.comment.deleted)return DELETED_COMMENT_COPY;if(this.state.isEditing)return this._getEditBodyView();return this._getDefaultBodyView();}},{key:"_getEditBodyView",value:function _getEditBodyView(){var _this2=this;return _react["default"].createElement("div",{className:"".concat(_layout["default"].marginTop5," ").concat(_layout["default"].marginBottom15)},_react["default"].createElement(_PostCardCommentInput["default"],{comment:this.props.comment,currentUser:this.props.currentUser,dismiss:function dismiss(){return _this2.setState({isEditing:false});},isBusy:this.props.isBusy,markdownService:this.props.markdownServices.editor,mode:"edit",onPost:this.props.onPost,postId:this.props.postId,summonConfirmationEmailMsg:this.props.summonConfirmationEmailMsg,summonLoginPanel:this.props.summonLoginPanel}));}},{key:"_getDefaultBodyView",value:function _getDefaultBodyView(){var _this3=this;return _react["default"].createElement(_markdown_viewer["default"],{content:this.props.comment.body_with_relations,markdownService:this.props.markdownServices.postOrComment,truncateHtml:this._getDefaultBodyViewShouldTruncate(),viewMoreClicked:function viewMoreClicked(){return _this3._fireViewMoreClickedAnalytics();}});}},{key:"_getConversationClosed",value:function _getConversationClosed(){return _react["default"].createElement("span",{className:"".concat(_typography["default"].bodyXS," ").concat(_typography["default"].pebble," ").concat(_layout["default"].marginRight10)},"(Conversation closed)");}},{key:"_getReplyButton",value:function _getReplyButton(){var _this4=this;if(this.props.comment.deleted||this.state.isEditing||!this.props.userCanComment)return null;if(this.props.parentIsDeleted)return this._getConversationClosed();return _react["default"].createElement("p",{className:"".concat(_typography["default"].linkCharcoal," ").concat(_typography["default"].bodyS," ").concat(_layout["default"].marginRight10),onClick:function onClick(){return _this4._handleReplyButtonClick();}},_isChildComment(this.props.comment)?'Reply to conversation':'Reply');}},{key:"_getRespectButton",value:function _getRespectButton(){if(this.props.comment.deleted||this.state.isEditing)return null;return _react["default"].createElement("span",null,_react["default"].createElement(_respect_button["default"],{id:this.props.comment.id,respects:this.props.comment.liking_user_ids.length,theme:"postCardComment",type:_enum.COMMENT}));}},{key:"_getShowRepliesBtn",value:function _getShowRepliesBtn(){return this.props.workers.hasOwnProperty(this._getShowRepliesWorkerKey())?this._getShowRepliesBtnBusyView():this._getShowRepliesBtnView();}},{key:"_getShowRepliesBtnView",value:function _getShowRepliesBtnView(){var _this5=this;var child_ids=this.props.comment.child_ids;if(!child_ids||child_ids&&!child_ids.length)return null;if(this._areAllChildIdsRenderedInChildren())return null;return _react["default"].createElement("p",{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginLeft5)},_react["default"].createElement("span",{className:_typography["default"].hackster},"\u21B3 "),_react["default"].createElement("span",{className:_typography["default"].linkBlue,onClick:function onClick(){return _this5.props.onShowMoreCommentRepliesClick({comment:_this5.props.comment,postId:_this5.props.postId,worker:_this5._getShowRepliesWorkerKey()});}},"Show ".concat(child_ids.length," ").concat(child_ids.length>1?'replies':'reply')));}},{key:"_getShowRepliesBtnBusyView",value:function _getShowRepliesBtnBusyView(){return _react["default"].createElement("div",null,_react["default"].createElement(_ring["default"],{size:16}));}},{key:"render",value:function render(){var _this6=this;var isChildComment=_isChildComment(this.props.comment);return _react["default"].createElement("div",{className:"".concat(isChildComment?_post_card_comments["default"].childCommentRoot:_post_card_comments["default"].commentRoot),id:"comment-".concat(this.props.comment.id)},_react["default"].createElement("div",{className:_layout["default"].flex},_react["default"].createElement("div",null,_react["default"].createElement("img",{className:"".concat(isChildComment?_post_card_comments["default"].avatarSm:_post_card_comments["default"].avatar," ").concat(this._doesCommentIdMatchLocationHash()?_post_card_comments["default"].avatarHighlight:''),src:this.props.comment.user.avatar_url})),_react["default"].createElement("div",{className:"".concat(_layout["default"].fullWidth," ").concat(_layout["default"].marginLeft10)},_react["default"].createElement("div",{className:_post_card_comments["default"].showMenuOnHover},_react["default"].createElement(_PostCardCommentHeader["default"],{comment:this.props.comment,currentUser:this.props.currentUser,isFlagged:this.props.isFlagged,onCopyLinkClick:function onCopyLinkClick(){return _this6.props.onCopyLinkClick({commentId:_this6.props.comment.id,postId:_this6.props.postId},'comment',_this6.toggleMenu);},onDeleteClick:function onDeleteClick(){return _this6._handleDeleteClick();},onEditClick:function onEditClick(){return _this6.setState({isEditing:true,isReplying:false,openMenu:false});},onReportClick:function onReportClick(){return _this6.props.currentUser.id===null?_this6.props.summonLoginPanel():_this6.props.onReportClick(_this6.props.comment,'comment',_this6.toggleMenu);},onSpamClick:function onSpamClick(){return _this6.props.onSpamClick(_this6._getShapeForDeletion(),'comment',_this6.toggleMenu);},openMenu:this.state.openMenu,origin:this.props.origin,toggleMenu:this.toggleMenu}),_react["default"].createElement("div",{className:_typography["default"].bodyM},this._getBody()),_react["default"].createElement("div",{className:"".concat(_layout["default"].flexCenterItems," ").concat(_layout["default"].marginTop5)},this._getReplyButton(),this._getRespectButton()),this._getShowRepliesBtn()),!(0,_types.isBlank)(this.props.children)&&_react["default"].createElement("div",null,this.props.children.map(function(child){return _react["default"].cloneElement(child,{replyToThread:function replyToThread(){return _this6._handleReplyToThreadClick();}});})),this.state.isReplying&&this.props.userCanComment&&_react["default"].createElement("div",{className:"".concat(_layout["default"].marginTop5)},_react["default"].createElement(_PostCardCommentInput["default"],{comment:this._getCommentShapeForReplyingInput(),currentUser:this.props.currentUser,dismiss:function dismiss(){return _this6.setState({isReplying:false});},isBusy:this.props.isBusy,markdownService:this.props.markdownServices.editor,mode:"reply",onPost:this.props.onPost,postId:this.props.postId,summonConfirmationEmailMsg:this.props.summonConfirmationEmailMsg,summonLoginPanel:this.props.summonLoginPanel})))));}}]);return PostCardComment;}(_react.PureComponent);PostCardComment.propTypes={comment:_propTypes["default"].shape({__meta:_propTypes["default"].shape({truncate:_propTypes["default"].bool}),body_with_relations:_propTypes["default"].string,child_ids:_propTypes["default"].arrayOf(_propTypes["default"].number),children:_propTypes["default"].array,created_at:_propTypes["default"].string.isRequired,edited_at:_propTypes["default"].string,deleted:_propTypes["default"].bool,id:_propTypes["default"].number.isRequired,liking_user_ids:_propTypes["default"].arrayOf(_propTypes["default"].number).isRequired,parent_count:_propTypes["default"].number,parent_id:_propTypes["default"].number,raw_body:_propTypes["default"].string.isRequired,relations:_propTypes["default"].object,user:_propTypes["default"].shape({avatar_url:_propTypes["default"].string.isRequired,id:_propTypes["default"].number.isRequired,isAdmin:_propTypes["default"].bool.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string}).isRequired}).isRequired,currentUser:_propTypes["default"].shape({avatar_url:_propTypes["default"].string.isRequired,confirmed:_propTypes["default"].bool,id:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,role:_propTypes["default"].string,url:_propTypes["default"].string}).isRequired,historyLocation:_propTypes["default"].shape({hash:_propTypes["default"].string}).isRequired,isBusy:_propTypes["default"].bool.isRequired,isFlagged:_propTypes["default"].bool.isRequired,markdownServices:_propTypes["default"].shape({editor:_propTypes["default"].object.isRequired,postOrComment:_propTypes["default"].object.isRequired}).isRequired,onCopyLinkClick:_propTypes["default"].func.isRequired,onDelete:_propTypes["default"].func.isRequired,onPost:_propTypes["default"].func.isRequired,onShowMoreCommentRepliesClick:_propTypes["default"].func.isRequired,origin:_propTypes["default"].shape({admin_ids:_propTypes["default"].arrayOf(_propTypes["default"].number),id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired,parentIsDeleted:_propTypes["default"].bool.isRequired,postId:_propTypes["default"].number.isRequired,renderAllComments:_propTypes["default"].bool.isRequired,summonConfirmationEmailMsg:_propTypes["default"].func.isRequired,summonLoginPanel:_propTypes["default"].func.isRequired,userCanComment:_propTypes["default"].bool.isRequired,workers:_propTypes["default"].object.isRequired};PostCardComment.defaultProps={historyLocation:{hash:null},replyToThread:function replyToThread(){}};var _default=PostCardComment;exports["default"]=_default;}),82361:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _AdminBadge=_interopRequireDefault(__webpack_require__(74325));var _OptionsMenuWithIcon=_interopRequireDefault(__webpack_require__(34010));var _time=__webpack_require__(28716);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _post_card_comments=_interopRequireDefault(__webpack_require__(91476));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var PostCardCommentHeader=function PostCardCommentHeader(_ref){var comment=_ref.comment,currentUser=_ref.currentUser,isFlagged=_ref.isFlagged,onCopyLinkClick=_ref.onCopyLinkClick,onDeleteClick=_ref.onDeleteClick,onEditClick=_ref.onEditClick,onReportClick=_ref.onReportClick,onSpamClick=_ref.onSpamClick,openMenu=_ref.openMenu,origin=_ref.origin,toggleMenu=_ref.toggleMenu;return _react["default"].createElement("div",{className:_layout["default"].flex},_react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifySpaceBetween," ").concat(_layout["default"].fullWidth)},_react["default"].createElement("div",{className:_layout["default"].flexCenterItems},_react["default"].createElement("a",{className:"".concat(_typography["default"].linkCharcoal," ").concat(_typography["default"].bold," ").concat(_typography["default"].bodyM," ").concat(comment.user.url?'':_typography["default"].linkDisabled),href:comment.user.url},comment.user.name),_react["default"].createElement(_AdminBadge["default"],{origin:origin,record:comment}),_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].pebble," ").concat(_layout["default"].marginLeft5),title:(0,_time.timestampToPrettyDate)(comment.created_at)},(0,_time.timeFromNow)(comment.created_at),comment.edited_at&&_react["default"].createElement("span",null," (edited)"))),!comment.deleted&&_react["default"].createElement("div",{className:_post_card_comments["default"].menuWrapper},_react["default"].createElement(_OptionsMenuWithIcon["default"],{copyLinkText:"Copy link to comment",currentUser:currentUser,isFlagged:isFlagged,onCopyLinkClick:onCopyLinkClick,onDeleteClick:onDeleteClick,onEditClick:onEditClick,onReportClick:onReportClick,onSpamClick:onSpamClick,openMenu:openMenu,record:comment,toggleMenu:toggleMenu}))));};PostCardCommentHeader.propTypes={comment:_propTypes["default"].shape({body_with_relations:_propTypes["default"].string,children:_propTypes["default"].array,created_at:_propTypes["default"].string.isRequired,edited_at:_propTypes["default"].string,deleted:_propTypes["default"].bool,id:_propTypes["default"].number.isRequired,parent_id:_propTypes["default"].number,relations:_propTypes["default"].object,user:_propTypes["default"].shape({avatar_url:_propTypes["default"].string.isRequired,id:_propTypes["default"].number.isRequired,isAdmin:_propTypes["default"].bool.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string}).isRequired}).isRequired,currentUser:_propTypes["default"].shape({avatar_url:_propTypes["default"].string,confirmed:_propTypes["default"].bool,id:_propTypes["default"].number,name:_propTypes["default"].string,role:_propTypes["default"].string,url:_propTypes["default"].string}).isRequired,isFlagged:_propTypes["default"].bool.isRequired,onCopyLinkClick:_propTypes["default"].func.isRequired,onDeleteClick:_propTypes["default"].func.isRequired,onEditClick:_propTypes["default"].func.isRequired,onReportClick:_propTypes["default"].func.isRequired,onSpamClick:_propTypes["default"].func.isRequired,openMenu:_propTypes["default"].bool.isRequired,origin:_propTypes["default"].shape({admin_ids:_propTypes["default"].arrayOf(_propTypes["default"].number),id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}),toggleMenu:_propTypes["default"].func.isRequired};PostCardCommentHeader.defaultProps={};var _default=PostCardCommentHeader;exports["default"]=_default;}),64713:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _actionable=_interopRequireDefault(__webpack_require__(29362));var _base=_interopRequireDefault(__webpack_require__(6094));var _draft_editor=_interopRequireDefault(__webpack_require__(78742));var _validators=__webpack_require__(73235);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));var _post_editor=_interopRequireDefault(__webpack_require__(63456));var _typography=_interopRequireDefault(__webpack_require__(68163));var _post_card_comments=_interopRequireDefault(__webpack_require__(91476));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var COMMENT_MAX_LEN=1600;var PostCardCommentInput=function(_PureComponent){_inherits(PostCardCommentInput,_PureComponent);var _super=_createSuper(PostCardCommentInput);function PostCardCommentInput(props){var _this;_classCallCheck(this,PostCardCommentInput);_this=_super.call(this,props);_this.state={editorText:'',editorToolbar:_react["default"].createElement("div",null),renderEditor:props.mode!=='default'};_this.activateEditor=_this.activateEditor.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.resetState=_this.resetState.bind(_assertThisInitialized(_this));_this._editor;return _this;}
_createClass(PostCardCommentInput,[{key:"activateEditor",value:function activateEditor(){var currentUser=this.props.currentUser;if(!currentUser.id||currentUser.id<0){this.props.summonLoginPanel();}else if(!currentUser.confirmed){this.props.summonConfirmationEmailMsg();}else{this._toggleRenderEditor(true);}}},{key:"handleSubmit",value:function handleSubmit(){var id=this.props.comment.id?{id:this.props.comment.id}:{};var parent_id=this.props.comment.parent_id?{parent_id:this.props.comment.parent_id}:{};if(this._getTextAreaErrors()!==null)return;this.props.onPost({comment:Object.assign({},id,parent_id,{commentable_id:this.props.postId,commentable_type:'FeedPost',raw_body:this.state.editorText.trim()}),resolverFn:this.props.mode!=='default'?this.props.dismiss:this.resetState});}},{key:"resetState",value:function resetState(){if(this._editor){this._editor.__reset();}}},{key:"_getTextAreaErrors",value:function _getTextAreaErrors(){return(0,_validators.maxLength)(COMMENT_MAX_LEN,this.state.editorText.trim());}},{key:"_toggleRenderEditor",value:function _toggleRenderEditor(bool){var _this2=this;if(bool!==this.state.renderEditor){this.setState({renderEditor:bool},function(){if(!bool)_this2.props.dismiss();});}}},{key:"_getEditor",value:function _getEditor(){return this.state.renderEditor?this._getEditorView():this._getDummyInputView();}},{key:"_getEditorView",value:function _getEditorView(){var _this3=this;return _react["default"].createElement("div",{className:"".concat(_inputs["default"].input," ").concat(_post_card_comments["default"].input)},_react["default"].createElement(_draft_editor["default"],{ref:function ref(el){return _this3._editor=el;},classList:{root:_post_card_comments["default"].richTextEditorRoot,markdownBtn:"".concat(_buttons["default"].cancel," ").concat(_typography["default"].bodyS," ").concat(_post_editor["default"].markdownBtn)},config:{mentions:true,tags:true},focusOnMount:true,initText:this.props.comment.raw_body,markdownService:this.props.markdownService,onBlur:function onBlur(){return _this3._toggleRenderEditor(false);},onFocus:function onFocus(){return _this3._toggleRenderEditor(true);},placeholder:"Add comment",propagateText:function propagateText(text){return _this3.setState({editorText:text});},propagateToolbar:function propagateToolbar(editorToolbar){return _this3.setState({editorToolbar:editorToolbar});}}));}},{key:"_getDummyInputView",value:function _getDummyInputView(){return _react["default"].createElement("input",{className:"".concat(_inputs["default"].input," ").concat(_post_card_comments["default"].inputDummy),onClick:this.activateEditor,placeholder:"Add comment",readOnly:true,value:""});}},{key:"_getEditorActionsView",value:function _getEditorActionsView(){if(!this.state.renderEditor||this.state.renderEditor&&!this.state.editorText.length)return null;return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifySpaceBetween," ").concat(_layout["default"].marginTop5)},this.state.editorToolbar,this._getEditorActionsBtnsView());}},{key:"_getEditorActionsBtnsView",value:function _getEditorActionsBtnsView(){var isEditMode=this.props.mode==='edit';return _react["default"].createElement("div",null,isEditMode&&_react["default"].createElement(_base["default"],{colorStyle:"cancel",disabled:this.props.isBusy,onClick:this.props.dismiss,size:"sm"},"Cancel"),_react["default"].createElement(_actionable["default"],{isBusy:this.props.isBusy,onClick:this.handleSubmit,size:"sm",text:isEditMode?'Save':'Post'}));}},{key:"_getErrorView",value:function _getErrorView(){var errors=this._getTextAreaErrors();if(errors===null)return;return _react["default"].createElement("div",{className:"".concat(_inputs["default"].error," ").concat(_layout["default"].margin0)},errors);}},{key:"render",value:function render(){return _react["default"].createElement("div",{className:_layout["default"].flex},this.props.mode!=='edit'&&_react["default"].createElement("img",{className:"".concat(this.props.comment.parent_id?_post_card_comments["default"].avatarSm:_post_card_comments["default"].avatar," ").concat(_layout["default"].marginRight10),src:this.props.currentUser.avatar_url}),_react["default"].createElement("div",{className:"".concat(_layout["default"].flexColumn," ").concat(_layout["default"].fullWidth)},this._getEditor(),this._getEditorActionsView(),this._getErrorView()));}}]);return PostCardCommentInput;}(_react.PureComponent);PostCardCommentInput.propTypes={comment:_propTypes["default"].shape({id:_propTypes["default"].number,parent_id:_propTypes["default"].number,raw_body:_propTypes["default"].string}),currentUser:_propTypes["default"].shape({avatar_url:_propTypes["default"].string,confirmed:_propTypes["default"].bool,id:_propTypes["default"].number,name:_propTypes["default"].string,role:_propTypes["default"].string,url:_propTypes["default"].string}).isRequired,dismiss:_propTypes["default"].func,isBusy:_propTypes["default"].bool.isRequired,markdownService:_propTypes["default"].object.isRequired,mode:_propTypes["default"].oneOf(['default','edit','reply']),postId:_propTypes["default"].number.isRequired,summonConfirmationEmailMsg:_propTypes["default"].func,summonLoginPanel:_propTypes["default"].func};PostCardCommentInput.defaultProps={comment:{id:null,parent_id:null,raw_body:''},dismiss:function dismiss(){},mode:'default',summonConfirmationEmailMsg:function summonConfirmationEmailMsg(){},summonLoginPanel:function summonLoginPanel(){}};var _default=PostCardCommentInput;exports["default"]=_default;}),70453:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _ConfirmEmailMessage=_interopRequireDefault(__webpack_require__(15575));var _icon=_interopRequireDefault(__webpack_require__(44509));var _PostCardComment=_interopRequireDefault(__webpack_require__(88660));var _PostCardCommentInput=_interopRequireDefault(__webpack_require__(64713));var _ring=_interopRequireDefault(__webpack_require__(49737));var _accessors=__webpack_require__(4887);var _document=__webpack_require__(26208);var _dispatchers=__webpack_require__(10912);var _window=__webpack_require__(33852);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _post_card_comments=_interopRequireDefault(__webpack_require__(91476));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var PostCardComments=function(_Component){_inherits(PostCardComments,_Component);var _super=_createSuper(PostCardComments);function PostCardComments(props){var _this;_classCallCheck(this,PostCardComments);_this=_super.call(this,props);_this.state={isCollapsed:!props.renderAllComments,locationHash:null};return _this;}
_createClass(PostCardComments,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.config.allowScrollToCommentOnMount)this._getWindowLocationHashAndScrollTo();}},{key:"_getWindowLocationHashAndScrollTo",value:function _getWindowLocationHashAndScrollTo(){var _this2=this;var hash=_window.windowLocationHash.get();if(hash&&hash.length>0&&hash.includes('comment-')){this.setState({locationHash:hash.slice(1)},function(){return _this2._scrollToComment();});}}},{key:"_getShowPrevWorkerKey",value:function _getShowPrevWorkerKey(){return "post_".concat(this.props.post.id,"_prev_click");}},{key:"_scrollToComment",value:function _scrollToComment(){(0,_document.scrollElementToMiddle)(document.getElementById(this.state.locationHash));}},{key:"_summonConfirmationEmailMsg",value:function _summonConfirmationEmailMsg(){(0,_dispatchers.summonGlobalDialog)({getChildren:function getChildren(){return _react["default"].createElement(_ConfirmEmailMessage["default"],{actionText:"post a comment"});}});}},{key:"_summonLoginPanel",value:function _summonLoginPanel(){(0,_dispatchers.summonLoginPanel)({detail:{id:this.props.post.id,state:{currentPanel:'signup',simplified:true},source:'feed_post_comment'}});}},{key:"_getCommentView",value:function _getCommentView(){var _this3=this;var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},comment=_ref.comment,_ref$children=_ref.children,children=_ref$children===void 0?null:_ref$children,_ref$parentIsDeleted=_ref.parentIsDeleted,parentIsDeleted=_ref$parentIsDeleted===void 0?false:_ref$parentIsDeleted;return _react["default"].createElement(_PostCardComment["default"],{key:comment.id,children:children,comment:comment,currentUser:this.props.currentUser,historyLocation:{hash:this.state.locationHash},isBusy:this.props.isBusy,isFlagged:this.props.flaggedCommentIds.includes(comment.id),userCanComment:this.props.userCanComment,markdownServices:this.props.markdownServices,onCopyLinkClick:this.props.onCopyLinkClick,onDelete:this.props.onDelete,onPost:this.props.onPost,onReportClick:this.props.onReportClick,onShowMoreCommentRepliesClick:this.props.onShowMoreCommentRepliesClick,onSpamClick:this.props.onSpamClick,origin:this.props.origin,parentIsDeleted:parentIsDeleted,postId:this.props.post.id,renderAllComments:this.props.renderAllComments,summonConfirmationEmailMsg:function summonConfirmationEmailMsg(){return _this3._summonConfirmationEmailMsg();},summonLoginPanel:function summonLoginPanel(){return _this3._summonLoginPanel();},workers:this.props.workers});}},{key:"_getCommentsView",value:function _getCommentsView(){var _this4=this;if(!this.props.comments.length)return null;return _react["default"].Children.toArray(this.props.comments.map(function(comment){return _this4._getCommentView({comment:comment,children:_this4._getCommentsChildrenView(comment)});}));}},{key:"_getCommentsChildrenView",value:function _getCommentsChildrenView(comment){var _this5=this;if(!comment.children)return null;return _react["default"].Children.toArray(comment.children.map(function(child){return _this5._getCommentView({comment:child,parentIsDeleted:comment.deleted});}));}},{key:"_getShowPreviousBtn",value:function _getShowPreviousBtn(){return this.props.workers.hasOwnProperty(this._getShowPrevWorkerKey())?this._getShowPreviousBtnBusyView():this._getShowPreviousBtnView();}},{key:"_getShowPreviousBtnView",value:function _getShowPreviousBtnView(){var _this6=this;var total=(0,_accessors.getInObj)(['parent_count'],this.props.comments[0]);if(!total||total<=this.props.comments.length)return null;return _react["default"].createElement("p",{className:"".concat(_typography["default"].linkGraphite," ").concat(_typography["default"].bodyS," ").concat(_post_card_comments["default"].showPreviousText),onClick:function onClick(){return _this6.props.onShowPreviousCommentsClick(_this6.props.post,_this6._getShowPrevWorkerKey());}},"Show ".concat(total-this.props.comments.length," previous comments"),_react["default"].createElement(_icon["default"],{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginLeft5),name:"arrow-down",size:14}));}},{key:"_getShowPreviousBtnBusyView",value:function _getShowPreviousBtnBusyView(){return _react["default"].createElement("div",{className:_post_card_comments["default"].showPreviousText},_react["default"].createElement(_ring["default"],{size:16}));}},{key:"render",value:function render(){var _this7=this;if(!this.props.userCanComment&&!this.props.comments.length)return null;return _react["default"].createElement("div",{className:"".concat(_layout["default"].marginTop15," ").concat(_util["default"].borderTop)},this._getShowPreviousBtn(),_react["default"].createElement("div",null,this._getCommentsView()),this.props.userCanComment&&_react["default"].createElement("div",{className:_layout["default"].marginTop15},_react["default"].createElement(_PostCardCommentInput["default"],{currentUser:this.props.currentUser,isBusy:this.props.isBusy,markdownService:this.props.markdownServices.editor,onPost:this.props.onPost,postId:this.props.post.id,summonConfirmationEmailMsg:function summonConfirmationEmailMsg(){return _this7._summonConfirmationEmailMsg();},summonLoginPanel:function summonLoginPanel(){return _this7._summonLoginPanel();}})));}}]);return PostCardComments;}(_react.Component);PostCardComments.propTypes={children:_propTypes["default"].object,comments:_propTypes["default"].arrayOf(_propTypes["default"].shape({body_with_relations:_propTypes["default"].string,child_ids:_propTypes["default"].arrayOf(_propTypes["default"].number),children:_propTypes["default"].array,created_at:_propTypes["default"].string.isRequired,edited_at:_propTypes["default"].string,deleted:_propTypes["default"].bool,id:_propTypes["default"].number.isRequired,liking_user_ids:_propTypes["default"].arrayOf(_propTypes["default"].number).isRequired,parent_count:_propTypes["default"].number,parent_id:_propTypes["default"].number,raw_body:_propTypes["default"].string.isRequired,relations:_propTypes["default"].object,user:_propTypes["default"].shape({avatar_url:_propTypes["default"].string.isRequired,id:_propTypes["default"].number.isRequired,isAdmin:_propTypes["default"].bool.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string}).isRequired})).isRequired,config:_propTypes["default"].shape({allowScrollToCommentOnMount:_propTypes["default"].bool}).isRequired,currentUser:_propTypes["default"].shape({avatar_url:_propTypes["default"].string,confirmed:_propTypes["default"].bool,id:_propTypes["default"].number,name:_propTypes["default"].string,role:_propTypes["default"].string,url:_propTypes["default"].string}).isRequired,flaggedCommentIds:_propTypes["default"].array.isRequired,isBusy:_propTypes["default"].bool.isRequired,markdownServices:_propTypes["default"].shape({editor:_propTypes["default"].object.isRequired,postOrComment:_propTypes["default"].object.isRequired}).isRequired,onCopyLinkClick:_propTypes["default"].func.isRequired,onDelete:_propTypes["default"].func.isRequired,onPost:_propTypes["default"].func.isRequired,onReportClick:_propTypes["default"].func.isRequired,onShowMoreCommentRepliesClick:_propTypes["default"].func.isRequired,onShowPreviousCommentsClick:_propTypes["default"].func.isRequired,onSpamClick:_propTypes["default"].func.isRequired,origin:_propTypes["default"].shape({admin_ids:_propTypes["default"].arrayOf(_propTypes["default"].number),id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}),post:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired}).isRequired,renderAllComments:_propTypes["default"].bool.isRequired,userCanComment:_propTypes["default"].bool.isRequired,workers:_propTypes["default"].object.isRequired};PostCardComments.defaultProps={children:null};var _default=PostCardComments;exports["default"]=_default;}),66127:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _AdminBadge=_interopRequireDefault(__webpack_require__(74325));var _PostEditorActions=_interopRequireDefault(__webpack_require__(17984));var _layout=_interopRequireDefault(__webpack_require__(42721));var _post_card=_interopRequireDefault(__webpack_require__(55626));var _typography=_interopRequireDefault(__webpack_require__(68163));var _post_editor=_interopRequireDefault(__webpack_require__(63456));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var getRecordShapeForAdminBadge=function getRecordShapeForAdminBadge(currentUser){return{user:{id:currentUser.id,isAdmin:currentUser.role==='admin'}};};var PostCreator=function PostCreator(_ref){var categoryConfig=_ref.categoryConfig,categorySelectOpts=_ref.categorySelectOpts,children=_ref.children,currentPath=_ref.currentPath,currentUser=_ref.currentUser,errors=_ref.errors,isBusy=_ref.isBusy,isEditorFocused=_ref.isEditorFocused,markdownBtn=_ref.markdownBtn,onCategorySelect=_ref.onCategorySelect,onPost=_ref.onPost,origin=_ref.origin;return _react["default"].createElement("div",{className:_post_editor["default"].postCreatorRoot},_react["default"].createElement("div",{className:"".concat(_post_editor["default"].postCreatorHeaderAndEditor," ").concat(isEditorFocused?_post_editor["default"].postCreatorHeaderAndEditorFocused:'')},_react["default"].createElement("div",{className:_post_editor["default"].postCreatorHeader},_react["default"].createElement("img",{className:"".concat(_post_card["default"].avatar," ").concat(_layout["default"].marginRight10),src:currentUser.avatar_url,alt:currentUser.name}),isEditorFocused&&_react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifyCenter)},_react["default"].createElement("div",{className:_layout["default"].flexCenterItems},_react["default"].createElement("a",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold," ").concat(_typography["default"].linkCharcoal),href:currentUser.url},currentUser.name),_react["default"].createElement(_AdminBadge["default"],{origin:origin,record:getRecordShapeForAdminBadge(currentUser)})))),_react["default"].createElement("div",{className:"".concat(isEditorFocused?_post_editor["default"].postCreatorEditorWrapperFocused:_post_editor["default"].postCreatorEditorWrapper)},children)),isEditorFocused&&_react["default"].createElement(_PostEditorActions["default"],{categoryConfig:categoryConfig,categorySelectOpts:categorySelectOpts,currentPath:currentPath,errors:errors,isBusy:isBusy,markdownBtn:markdownBtn,onCategorySelect:onCategorySelect,onPostOrSave:onPost}));};PostCreator.propTypes={categoryConfig:_propTypes["default"].arrayOf(_propTypes["default"].shape({colorClass:_propTypes["default"].string.isRequired,"enum":_propTypes["default"].string.isRequired,path:_propTypes["default"].string.isRequired,text:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired})).isRequired,categorySelectOpts:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].oneOfType([_propTypes["default"].element,_propTypes["default"].string]),value:_propTypes["default"].string})).isRequired,currentPath:_propTypes["default"].string.isRequired,currentUser:_propTypes["default"].shape({avatar_url:_propTypes["default"].string,confirmed:_propTypes["default"].bool,id:_propTypes["default"].number,name:_propTypes["default"].string,role:_propTypes["default"].string,url:_propTypes["default"].string}),errors:_propTypes["default"].shape({category:_propTypes["default"].string,content:_propTypes["default"].string}).isRequired,isBusy:_propTypes["default"].bool.isRequired,isEditorFocused:_propTypes["default"].bool.isRequired,markdownBtn:_propTypes["default"].element.isRequired,onCategorySelect:_propTypes["default"].func.isRequired,onPost:_propTypes["default"].func.isRequired,origin:_propTypes["default"].shape({admin_ids:_propTypes["default"].arrayOf(_propTypes["default"].number)})};PostCreator.defaultProps={currentUser:null};var _default=PostCreator;exports["default"]=_default;}),17984:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _actionable=_interopRequireDefault(__webpack_require__(29362));var _base=_interopRequireDefault(__webpack_require__(6094));var _CategoryBadgeLabel=_interopRequireDefault(__webpack_require__(95725));var _simple_select=_interopRequireDefault(__webpack_require__(76677));var _templates=__webpack_require__(32797);var _types=__webpack_require__(88742);var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var getErrorsView=function getErrorsView(errors){return _react["default"].createElement("div",null,_react["default"].Children.toArray(Object.values(errors).map(function(error){return(0,_templates.getErrorHelperView)(error);})));};var getSelectOrBadge=function getSelectOrBadge(_ref){var categoryConfig=_ref.categoryConfig,categorySelectOpts=_ref.categorySelectOpts,currentPath=_ref.currentPath,onCategorySelect=_ref.onCategorySelect;return!currentPath||currentPath==='/'?getSelectView({categorySelectOpts:categorySelectOpts,onCategorySelect:onCategorySelect}):getBadgeView({categoryConfig:categoryConfig,categorySelectOpts:categorySelectOpts,currentPath:currentPath});};var getSelectView=function getSelectView(_ref2){var categorySelectOpts=_ref2.categorySelectOpts,onCategorySelect=_ref2.onCategorySelect;return _react["default"].createElement(_simple_select["default"],{onSelection:onCategorySelect,options:categorySelectOpts});};var getBadgeView=function getBadgeView(_ref3){var categoryConfig=_ref3.categoryConfig,categorySelectOpts=_ref3.categorySelectOpts,currentPath=_ref3.currentPath;var config=categoryConfig.find(function(c){return c["enum"].toLowerCase()===currentPath.toLowerCase();});return _react["default"].createElement("div",{className:_util["default"].categoryBadge},_react["default"].createElement(_CategoryBadgeLabel["default"],{categoryConfig:config}));};var PostEditorActions=function PostEditorActions(_ref4){var categoryConfig=_ref4.categoryConfig,categorySelectOpts=_ref4.categorySelectOpts,currentPath=_ref4.currentPath,errors=_ref4.errors,dismiss=_ref4.dismiss,isBusy=_ref4.isBusy,markdownBtn=_ref4.markdownBtn,mode=_ref4.mode,onCategorySelect=_ref4.onCategorySelect,onPostOrSave=_ref4.onPostOrSave;return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifySpaceBetween," ").concat(mode==='default'?_layout["default"].padding15:_layout["default"].marginTop10)},_react["default"].createElement("div",{className:_layout["default"].flexColumn},_react["default"].createElement("div",{className:_layout["default"].flexRowWrap},_react["default"].createElement("div",{className:_layout["default"].marginRight10},getSelectOrBadge({categoryConfig:categoryConfig,categorySelectOpts:categorySelectOpts,currentPath:currentPath,onCategorySelect:onCategorySelect})),markdownBtn),!(0,_types.isBlank)(errors)&&getErrorsView(errors)),_react["default"].createElement("div",{className:_layout["default"].flexStartItems},mode==='edit'&&_react["default"].createElement(_base["default"],{colorStyle:"cancel",disabled:isBusy,onClick:dismiss,size:"sm"},"Cancel"),_react["default"].createElement(_actionable["default"],{isBusy:isBusy,onClick:onPostOrSave,size:"sm",text:mode==='default'?'Post':'Save'})));};PostEditorActions.propTypes={categoryConfig:_propTypes["default"].arrayOf(_propTypes["default"].shape({colorClass:_propTypes["default"].string.isRequired,"enum":_propTypes["default"].string.isRequired,path:_propTypes["default"].string.isRequired,text:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired})),categorySelectOpts:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].oneOfType([_propTypes["default"].element,_propTypes["default"].string]),value:_propTypes["default"].string})).isRequired,currentPath:_propTypes["default"].string,dismiss:_propTypes["default"].func,errors:_propTypes["default"].shape({category:_propTypes["default"].string,content:_propTypes["default"].string}).isRequired,isBusy:_propTypes["default"].bool.isRequired,markdownBtn:_propTypes["default"].element.isRequired,mode:_propTypes["default"].oneOf(['default','edit']),onCategorySelect:_propTypes["default"].func.isRequired,onPostOrSave:_propTypes["default"].func.isRequired};PostEditorActions.defaultProps={currentPath:null,dismiss:function dismiss(){},mode:'default'};var _default=PostEditorActions;exports["default"]=_default;}),29333:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _draft_editor=_interopRequireDefault(__webpack_require__(78742));var _post_embed=_interopRequireDefault(__webpack_require__(9116));var _accessors=__webpack_require__(4887);var _types=__webpack_require__(88742);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _post_editor=_interopRequireDefault(__webpack_require__(63456));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var CONFIG={mentions:true,tags:true};var DEFAULT_PLACEHOLDER='Share something cool or ask a question.';var PostEditorBody=function(_PureComponent){_inherits(PostEditorBody,_PureComponent);var _super=_createSuper(PostEditorBody);function PostEditorBody(props){var _this;_classCallCheck(this,PostEditorBody);_this=_super.call(this,props);_this.state={view:'default'};return _this;}
_createClass(PostEditorBody,[{key:"_isUnfocusedCreator",value:function _isUnfocusedCreator(){return this.props.mode==='default'&&this.props.isEditorFocused===false;}},{key:"_getBodyClassName",value:function _getBodyClassName(){if(this._isUnfocusedCreator())return '';return "".concat(_post_editor["default"].postBody," ").concat(this.state.view==='markdown'?_post_editor["default"].transparentBorder:_util["default"].border);}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,deleteEmbed=_this$props.deleteEmbed,embed=_this$props.embed,getEditorRef=_this$props.getEditorRef,markdownService=_this$props.markdownService,mode=_this$props.mode,post=_this$props.post,propogateToolbar=_this$props.propogateToolbar,scrapePageForLink=_this$props.scrapePageForLink;return _react["default"].createElement("div",{className:"".concat(_layout["default"].fullWidth," ").concat(this._getBodyClassName())},_react["default"].createElement(_draft_editor["default"],{ref:getEditorRef,classList:{root:'',markdownBtn:"".concat(_buttons["default"].cancel," ").concat(_typography["default"].bodyS," ").concat(_post_editor["default"].markdownBtn)},config:CONFIG,handleEmbed:scrapePageForLink,initText:(0,_accessors.getInObj)(['body'],post)||'',markdownService:markdownService,mode:mode,onBlur:function onBlur(){},onFocus:function onFocus(){},placeholder:DEFAULT_PLACEHOLDER,propagateToolbar:propogateToolbar,propagateViewState:function propagateViewState(view){return _this2.setState({view:view});}}),!(0,_types.isBlank)(embed)&&_react["default"].createElement(_post_embed["default"],{embed:embed,killEmbed:deleteEmbed,mode:"edit"}));}}]);return PostEditorBody;}(_react.PureComponent);PostEditorBody.propTypes={deleteEmbed:_propTypes["default"].func.isRequired,embed:_propTypes["default"].shape({}),getEditorRef:_propTypes["default"].func.isRequired,isEditorFocused:_propTypes["default"].bool.isRequired,markdownService:_propTypes["default"].object.isRequired,mode:_propTypes["default"].oneOf(['default','edit']),post:_propTypes["default"].shape({body:_propTypes["default"].string}),propogateToolbar:_propTypes["default"].func,scrapePageForLink:_propTypes["default"].func.isRequired,value:_propTypes["default"].string};PostEditorBody.defaultProps={embed:{},mode:'default',post:null,propogateToolbar:function propogateToolbar(){},value:''};var _default=PostEditorBody;exports["default"]=_default;}),11531:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _draftJs=__webpack_require__(37163);var _draftEventProxy=_interopRequireDefault(__webpack_require__(71623));var _dropdown_list=_interopRequireDefault(__webpack_require__(67273));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DropdownList=function(_Component){_inherits(DropdownList,_Component);var _super=_createSuper(DropdownList);function DropdownList(props){var _this;_classCallCheck(this,DropdownList);_this=_super.call(this,props);_this.state={focused:-1};_this.dismiss=_this.dismiss.bind(_assertThisInitialized(_this));_this._eventKey;_this._isMounted;return _this;}
_createClass(DropdownList,[{key:"componentDidMount",value:function componentDidMount(){this._eventKey=(0,_draftJs.genKey)();this._isMounted=true;_draftEventProxy["default"].sub('arrow_up',this.handleArrow.bind(this),this._eventKey);_draftEventProxy["default"].sub('arrow_down',this.handleArrow.bind(this),this._eventKey);_draftEventProxy["default"].sub('blur',this.dismiss.bind(this),this._eventKey);_draftEventProxy["default"].sub('entityChanged',this.handleDelayedDismiss.bind(this),this._eventKey);_draftEventProxy["default"].sub('escape',this.dismiss.bind(this),this._eventKey);_draftEventProxy["default"].sub('return',this.handleReturn.bind(this),this._eventKey);}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.currentQuery!==this.props.currentQuery){this.setState({focused:-1});}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;_draftEventProxy["default"].unsub('arrow_up',this._eventKey);_draftEventProxy["default"].unsub('arrow_down',this._eventKey);_draftEventProxy["default"].unsub('blur',this._eventKey);_draftEventProxy["default"].unsub('entityChanged',this._eventKey);_draftEventProxy["default"].unsub('escape',this._eventKey);_draftEventProxy["default"].unsub('return',this._eventKey);this.props.stuntReturn(null);}},{key:"dismiss",value:function dismiss(){if(!this._isMounted)return;this.props.dismiss();}},{key:"handleArrow",value:function handleArrow(e){if(!this._isMounted)return;if(e.keyCode===38&&this.state.focused===-1){return this.props.dismiss();}
e.preventDefault();this.props.stuntReturn('return');if(e.keyCode===40&&this.state.focused<this.props.options.length-1){this.setState({focused:this.state.focused+1});}else if(e.keyCode===38){if(this.state.focused===0)this.props.stuntReturn(null);this.setState({focused:this.state.focused-1});}}},{key:"handleDelayedDismiss",value:function handleDelayedDismiss(_ref){var _this2=this;var currentEntity=_ref.currentEntity,previousEntity=_ref.previousEntity;if(this.props.entityKey===previousEntity&&currentEntity===null){setTimeout(function(){if(_this2._isMounted)_this2.props.dismiss();},20);}}},{key:"handleReturn",value:function handleReturn(e){if(!this._isMounted)return;if(this.state.focused>=0){this.props.onSelect(this.props.options[this.state.focused]);}else{this.props.dismiss();}}},{key:"render",value:function render(){var _this3=this;return _react["default"].createElement("ul",{className:_dropdown_list["default"].list},this.props.options.map(function(option,i){return _react["default"].createElement("li",{key:i,className:"".concat(_dropdown_list["default"].listItem," ").concat(_this3.state.focused===i?_dropdown_list["default"].focused:''),onClick:function onClick(){return _this3.props.onSelect(option);},onMouseOver:function onMouseOver(e){return _this3.setState({focused:i});}},_this3.props.templateFn(option));}));}}]);return DropdownList;}(_react.Component);DropdownList.propTypes={currentQuery:_propTypes["default"].string.isRequired,dismiss:_propTypes["default"].func.isRequired,entityKey:_propTypes["default"].string,onSelect:_propTypes["default"].func.isRequired,options:_propTypes["default"].array.isRequired,stuntReturn:_propTypes["default"].func.isRequired,templateFn:_propTypes["default"].func.isRequired};var _default=DropdownList;exports["default"]=_default;}),69549:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Link=function Link(props){var _props$contentState$g=props.contentState.getEntity(props.entityKey).getData(),href=_props$contentState$g.href;return _react["default"].createElement("a",{"data-offset-key":props.offsetKey,href:href},props.children);};Link.propTypes={contentState:_propTypes["default"].object.isRequired,decoratedText:_propTypes["default"].string.isRequired,entityKey:_propTypes["default"].string.isRequired,offsetKey:_propTypes["default"].string.isRequired};var _default=Link;exports["default"]=_default;}),5978:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _draftJs=__webpack_require__(37163);var _DropdownList=_interopRequireDefault(__webpack_require__(11531));var _getAlgoliaIndex=_interopRequireDefault(__webpack_require__(37471));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _mention=_interopRequireDefault(__webpack_require__(2035));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var userCardTemplate=function userCardTemplate(user){return _react["default"].createElement("span",{className:_mention["default"].userCard},_react["default"].createElement("img",{className:_mention["default"].userAvatar,src:user.avatar_url}),_react["default"].createElement("span",{className:_mention["default"].userNames},_react["default"].createElement("strong",null,user.name),_react["default"].createElement("span",null," @".concat(user.user_name))));};var Mention=function(_Component){_inherits(Mention,_Component);var _super=_createSuper(Mention);function Mention(props){var _this;_classCallCheck(this,Mention);_this=_super.call(this,props);_this.stuntEventInEditor=_this.stuntEventInEditor.bind(_assertThisInitialized(_this));_this.updateEntity=_this.updateEntity.bind(_assertThisInitialized(_this));_this.state={queryCache:{},users:[]};_this._updatedBySelection=false;return _this;}
_createClass(Mention,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.entityKey===null)this._createEntity();if(this._isCursorInCurrentBlock()&&this.props.editorCtx.state.editorState.getLastChangeType()!=='insert-fragment'){this._search(this.props.decoratedText);}}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.decoratedText!==this.props.decoratedText&&this._isCursorInCurrentBlock()&&this._updatedBySelection===false){this._search(this.props.decoratedText);}
if(this._updatedBySelection){this._updatedBySelection=false;}}},{key:"_createEntity",value:function _createEntity(){var contentState=this.props.contentState;var entifiedContentState=contentState.createEntity('MENTION','MUTABLE',{});var start=this.props.children[0].props.start;var ranges={start:start,end:start+this.props.decoratedText.length};var selectionState=_draftJs.SelectionState.createEmpty(this.props.children[0].props.block.get('key'));var updatedSelectionState=selectionState.merge({anchorOffset:ranges.start,focusOffset:ranges.end});var updatedCS=_draftJs.Modifier.applyEntity(entifiedContentState,updatedSelectionState,entifiedContentState.getLastCreatedEntityKey());this.props.editorCtx.updateEditorState(_draftJs.EditorState.acceptSelection(_draftJs.EditorState.push(this.props.editorCtx.state.editorState,updatedCS,'apply-entity'),this.props.editorCtx.state.editorState.getSelection()));}},{key:"_isCursorInCurrentBlock",value:function _isCursorInCurrentBlock(){var blockKey=this.props.children[0].props.block.get('key');return this.props.contentState.getSelectionAfter().getAnchorKey()===blockKey;}},{key:"_search",value:function _search(query){var _this2=this;return new Promise(function(resolve,reject){if(_this2.state.queryCache.hasOwnProperty(query)){return _this2.setState({users:_this2.state.queryCache[query]});}
return(0,_getAlgoliaIndex["default"])('users').search(query,{hitsPerPage:10}).then(function(res){return _this2.setState({queryCache:Object.assign({},_this2.state.queryCache,_defineProperty({},query,res.hits)),users:res.hits});})["catch"](function(err){return(0,_error_handler["default"])("Mention _search",err);});});}},{key:"stuntEventInEditor",value:function stuntEventInEditor(event){if(this.props.editorCtx._stuntedEvent!==event){this.props.editorCtx.__setStuntedEvent(event);}}},{key:"updateEntity",value:function updateEntity(user){var _this3=this;this._replaceText(user.user_name,function(){_this3._updatedBySelection=true;_this3.setState({users:[]});});}},{key:"_replaceText",value:function _replaceText(userName,callback){var _this4=this;var key=this.props.offsetKey.split('-')[0];var block=this.props.contentState.getBlockForKey(key);var ranges={};block.findEntityRanges(function(_char){return _char.getEntity()===_this4.props.entityKey;},function(start,end){ranges.start=start;ranges.end=end;});var selectionState=this.props.contentState.getSelectionAfter().merge({anchorOffset:ranges.start,focusOffset:ranges.end});var updatedContentState=_draftJs.Modifier.replaceText(this.props.contentState,selectionState,"@".concat(userName),null,this.props.entityKey);var updatedEditorState=_draftJs.EditorState.forceSelection(_draftJs.EditorState.set(this.props.editorCtx.state.editorState,{currentContent:updatedContentState}),selectionState.merge({anchorOffset:ranges.start+userName.length+1,focusOffset:ranges.start+userName.length+1}));this.props.editorCtx.updateEditorState(updatedEditorState);return callback();}},{key:"_showDropdown",value:function _showDropdown(){return this.state.users.length>0&&this._isCurrentEntity();}},{key:"_isCurrentEntity",value:function _isCurrentEntity(){if(this.props.entityKey===null)return false;return this.props.editorCtx.state.currentEntity===this.props.entityKey;}},{key:"render",value:function render(){var _this5=this;return _react["default"].createElement("span",{ref:function ref(el){return _this5.root=el;},className:_mention["default"].root,"data-offset-key":this.props.offsetKey},this.props.children,this._showDropdown()&&_react["default"].createElement("div",{className:_mention["default"].dropdownContainer,contentEditable:false},_react["default"].createElement(_DropdownList["default"],{currentQuery:this.props.decoratedText,dismiss:function dismiss(){return _this5.setState({users:[]});},entityKey:this.props.entityKey,onSelect:this.updateEntity,options:this.state.users,stuntReturn:this.stuntEventInEditor,templateFn:userCardTemplate})));}}]);return Mention;}(_react.Component);Mention.propTypes={contentState:_propTypes["default"].object.isRequired,decoratedText:_propTypes["default"].string.isRequired,entityKey:_propTypes["default"].string,offsetKey:_propTypes["default"].string.isRequired};Mention.defaultProps={entityKey:null};var _default=Mention;exports["default"]=_default;}),45598:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.characterBeforeCursorHasEntity=characterBeforeCursorHasEntity;exports.characterHasEntity=characterHasEntity;exports.findWithRegex=findWithRegex;exports.getCurrentBlock=getCurrentBlock;exports.getWordBeforeCursor=getWordBeforeCursor;function doesEntityKeyMatchType(entityKey,entityType){if(Array.isArray(entityType)){return entityType.includes(entityKey);}else{return entityKey===entityType;}}
function characterBeforeCursorHasEntity(editorState,entityType){var selectionState=editorState.getSelection();var currentBlock=getCurrentBlock(editorState);var entityKey=currentBlock.getEntityAt(selectionState.getAnchorOffset()-1);return entityKey!==null&&doesEntityKeyMatchType(editorState.getCurrentContent().getEntity(entityKey).getType(),entityType);}
function characterHasEntity(_char,entityType,contentState){var entityKey=_char.getEntity();return entityKey!==null&&contentState.getEntity(entityKey).getType()===entityType;}
function findWithRegex(regex,contentBlock,callback){var text=contentBlock.getText();var matchArr,start;while((matchArr=regex.exec(text))!==null){start=matchArr.index;callback(start,start+matchArr[0].length,matchArr[0]);}}
function getCurrentBlock(editorState){return editorState.getCurrentContent().getBlockForKey(editorState.getSelection().getAnchorKey());}
function getWordBeforeCursor(editorState){var selectionState=editorState.getSelection();var currentBlock=getCurrentBlock(editorState);return currentBlock.getText().slice(0,selectionState.getAnchorOffset()).split(' ').pop();}}),71623:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var EventPubSubProxy=function(){function EventPubSubProxy(){_classCallCheck(this,EventPubSubProxy);this.events={};}
_createClass(EventPubSubProxy,[{key:"sub",value:function sub(event,callback,eventKey){if(!this.events.hasOwnProperty(event)){this.events[event]=[];}
this.events[event].push({key:eventKey,callback:callback});}},{key:"pub",value:function pub(event,data){if(this.events.hasOwnProperty(event)){this.events[event].forEach(function(sub){return sub.callback(data);});}}},{key:"unsub",value:function unsub(event,eventKey){if(this.events[event]){this.events[event]=this.events[event].filter(function(sub){return sub.key!==eventKey;});}}}]);return EventPubSubProxy;}();var draftEventProxy=new EventPubSubProxy();var _default=draftEventProxy;exports["default"]=_default;}),78742:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _draftJs=__webpack_require__(37163);var _markdown_viewer=_interopRequireDefault(__webpack_require__(39223));var _initializer=_interopRequireDefault(__webpack_require__(44266));var _handleBeforeInput=_interopRequireDefault(__webpack_require__(89235));var _handlePaste=_interopRequireDefault(__webpack_require__(43745));var _rich_text_editor=_interopRequireDefault(__webpack_require__(62408));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _draftEventProxy=_interopRequireDefault(__webpack_require__(71623));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DraftEditor=function(_Component){_inherits(DraftEditor,_Component);var _super=_createSuper(DraftEditor);function DraftEditor(props){var _this;_classCallCheck(this,DraftEditor);_this=_super.call(this,props);_this.state={currentEntity:null,editorState:(0,_initializer["default"])(props.initText,_assertThisInitialized(_this)),rawText:'',readOnly:false,view:'default'};_this.handleReturn=_this.handleReturn.bind(_assertThisInitialized(_this));_this.onBlur=_this.onBlur.bind(_assertThisInitialized(_this));_this.updateEditorState=_this.updateEditorState.bind(_assertThisInitialized(_this));_this.__focus=_this.__focus.bind(_assertThisInitialized(_this));_this.__getText=_this.__getText.bind(_assertThisInitialized(_this));_this.__getToolbar=_this.__getToolbar.bind(_assertThisInitialized(_this));_this.__reset=_this.__reset.bind(_assertThisInitialized(_this));_this.__setReadOnly=_this.__setReadOnly.bind(_assertThisInitialized(_this));_this.__setStuntedEvent=_this.__setStuntedEvent.bind(_assertThisInitialized(_this));_this.__toggleViewState=_this.__toggleViewState.bind(_assertThisInitialized(_this));_this._stuntedEvent=null;_this._isMounted;_this.editor;return _this;}
_createClass(DraftEditor,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._propagateCallbacks();if(this.props.focusOnMount)this.__focus();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(prevState.view!==this.state.view||prevState.editorState.getCurrentContent()!==this.state.editorState.getCurrentContent()){this._propagateCallbacks();}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;}},{key:"_propagateCallbacks",value:function _propagateCallbacks(){var currentText=this.__getText();this.props.propagateViewState(this.state.view);this.props.propagateToolbar(this.__getToolbar(currentText));this.props.propagateText(currentText);}},{key:"__focus",value:function __focus(){if(this._isMounted&&this.editor)this.editor.focus();}},{key:"__getText",value:function __getText(){if(this._isMounted)return this.state.editorState.getCurrentContent().getPlainText();}},{key:"__getToolbar",value:function __getToolbar(currentText){var _this2=this;currentText=currentText||this.__getText();var editorHasContent=currentText.length>0;return _react["default"].createElement("div",{className:_rich_text_editor["default"].toolbar},_react["default"].createElement("button",{className:this.props.classList.markdownBtn||_buttons["default"].blank,disabled:!editorHasContent,onClick:function onClick(){return _this2.__toggleViewState();}},this.state.view==='default'?'Markdown preview':'Click to edit'));}},{key:"__reset",value:function __reset(){if(this._isMounted)return this.setState({editorState:(0,_initializer["default"])(null,this),rawText:'',view:'default'});}},{key:"__setReadOnly",value:function __setReadOnly(bool,callback){this.setState({readOnly:bool},callback);}},{key:"__setStuntedEvent",value:function __setStuntedEvent(event){this._stuntedEvent=event;}},{key:"__toggleViewState",value:function __toggleViewState(){if(this._isMounted){this.state.view==='markdown'?this.setState({view:'default'}):this.setState({rawText:this.state.editorState.getCurrentContent().getPlainText(),view:'markdown'});}}},{key:"handleReturn",value:function handleReturn(e){_draftEventProxy["default"].pub('return',e);if(this._stuntedEvent==='return'){return 'handled';}}},{key:"onBlur",value:function onBlur(e){_draftEventProxy["default"].pub('blur',e);var editorHasContent=this.state.editorState.getCurrentContent().getPlainText().length>0;if(!editorHasContent){this.props.onBlur(e);}}},{key:"updateEditorState",value:function updateEditorState(editorState){var currentEntity=this._getCurrentEntity(editorState);var shouldFireEvent=currentEntity!==this.state.currentEntity;var shouldFireStateUpdated=editorState.getCurrentContent()!==this.state.editorState.getCurrentContent();var entityData={currentEntity:currentEntity,previousEntity:this.state.currentEntity};this.setState({editorState:editorState,currentEntity:currentEntity},function(){if(shouldFireEvent)_draftEventProxy["default"].pub('entityChanged',entityData);if(shouldFireStateUpdated)_draftEventProxy["default"].pub('stateUpdated',editorState);});}},{key:"_getCurrentEntity",value:function _getCurrentEntity(editorState){var contentState=editorState.getCurrentContent();var selectionState=editorState.getSelection();if(selectionState.isCollapsed()===false)return null;var anchorOffset=selectionState.getAnchorOffset();var currentBlock=contentState.getBlockForKey(selectionState.getAnchorKey());return currentBlock.getEntityAt(anchorOffset-1);}},{key:"render",value:function render(){var _this3=this;return _react["default"].createElement("div",{className:"\n          ".concat(_rich_text_editor["default"].resetDraftGlobals,"\n          ").concat(_rich_text_editor["default"].root,"\n          ").concat(this.props.classList.root,"\n          ").concat(_rich_text_editor["default"][this.props.toolbarPlacement],"\n        ").trim()},this.state.view==='default'?_react["default"].createElement(_draftJs.Editor,{ref:function ref(el){return _this3.editor=el;},editorState:this.state.editorState,handleBeforeInput:_handleBeforeInput["default"].bind(this),handlePastedText:_handlePaste["default"].bind(this),handleReturn:this.handleReturn,onBlur:this.onBlur,onChange:this.updateEditorState,onEscape:function onEscape(e){return _draftEventProxy["default"].pub('escape',e);},onFocus:this.props.onFocus,onUpArrow:function onUpArrow(e){return _draftEventProxy["default"].pub('arrow_up',e);},onDownArrow:function onDownArrow(e){return _draftEventProxy["default"].pub('arrow_down',e);},placeholder:this.props.placeholder,readOnly:this.state.readOnly,stripPastedStyles:true}):_react["default"].createElement(_markdown_viewer["default"],{content:this.state.rawText,markdownService:this.props.markdownService}));}}]);return DraftEditor;}(_react.Component);DraftEditor.propTypes={classList:_propTypes["default"].shape({root:_propTypes["default"].string,markdownBtn:_propTypes["default"].string}),config:_propTypes["default"].shape({mentions:_propTypes["default"].bool,tags:_propTypes["default"].bool}),focusOnMount:_propTypes["default"].bool,handleEmbed:_propTypes["default"].func,initText:_propTypes["default"].string,markdownService:_propTypes["default"].object.isRequired,mode:_propTypes["default"].string,onBlur:_propTypes["default"].func,onFocus:_propTypes["default"].func,placeholder:_propTypes["default"].string,propagateText:_propTypes["default"].func,propagateToolbar:_propTypes["default"].func,propagateViewState:_propTypes["default"].func,renderToolbar:_propTypes["default"].bool,toolbarPlacement:_propTypes["default"].string};DraftEditor.defaultProps={classList:{root:'',markdownBtn:null},config:{mentions:false,tags:false},focusOnMount:false,handleEmbed:function handleEmbed(){},initText:null,mode:'default',onBlur:function onBlur(){},onFocus:function onFocus(){},placeholder:'',propagateText:function propagateText(){},propagateToolbar:function propagateToolbar(){},propagateViewState:function propagateViewState(){},renderToolbar:true,toolbarPlacement:'row'};var _default=DraftEditor;exports["default"]=_default;}),44266:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=initializeEditorState;var _draftJs=__webpack_require__(37163);var _decorator=_interopRequireDefault(__webpack_require__(6192));var _plaintextToDraft=_interopRequireDefault(__webpack_require__(29394));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function initializeEditorState(){var initText=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var ctx=arguments.length>1?arguments[1]:undefined;return!initText?_draftJs.EditorState.createEmpty((0,_decorator["default"])(ctx)):_draftJs.EditorState.moveSelectionToEnd(_draftJs.EditorState.createWithContent((0,_plaintextToDraft["default"])(initText),(0,_decorator["default"])(ctx)));}}),6192:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=decorator;var _draftJs=__webpack_require__(37163);var _Link=_interopRequireDefault(__webpack_require__(69549));var _Mention=_interopRequireDefault(__webpack_require__(5978));var _draftHelpers=__webpack_require__(45598);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function findLinkEntities(contentBlock,callback,contentState){contentBlock.findEntityRanges(function(character){return(0,_draftHelpers.characterHasEntity)(character,'LINK',contentState);},callback);}
function findMentionsCharacter(contentBlock,callback,contentState){var MENTION_REGEX=/(\B@[a-z0-9_-]+\b)(?!\.\w)/gi;(0,_draftHelpers.findWithRegex)(MENTION_REGEX,contentBlock,callback);}
function decorator(ctx){return new _draftJs.CompositeDecorator([{strategy:findLinkEntities,component:_Link["default"]},{strategy:findMentionsCharacter,component:_Mention["default"],props:{editorCtx:ctx}}]);}}),89235:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=customBeforeInputHandler;var _draftJs=__webpack_require__(37163);var _immutable=__webpack_require__(43393);var _links=__webpack_require__(75381);var _inserts=__webpack_require__(12539);var _draftHelpers=__webpack_require__(45598);var _links2=__webpack_require__(49180);function _entifyPreviousLetter(character,editorState,previousLettersEntity){var contentState=editorState.getCurrentContent();var selectionState=editorState.getSelection();var currentBlock=contentState.getBlockForKey(selectionState.getAnchorKey());var characterMetadata=_draftJs.CharacterMetadata.create({entity:previousLettersEntity,style:(0,_immutable.OrderedSet)()});var anchorOffset=selectionState.getAnchorOffset();var currentText=currentBlock.getText();var updatedText=currentText.slice(0,anchorOffset).concat(character).concat(currentText.slice(anchorOffset));var updatedCharacterList=currentBlock.getCharacterList().insert(anchorOffset,characterMetadata);var updatedBlock=currentBlock.merge({text:updatedText,characterList:updatedCharacterList});var updatedBlockMap=contentState.getBlockMap().set(updatedBlock.getKey(),updatedBlock);var updatedContentState=contentState.set('blockMap',updatedBlockMap);var updatedSelectionState=selectionState.merge({anchorOffset:anchorOffset+1,focusOffset:anchorOffset+1});var updatedEditorState=_draftJs.EditorState.acceptSelection(_draftJs.EditorState.push(editorState,updatedContentState,'applied-entity'),updatedSelectionState);this.updateEditorState(updatedEditorState);return 'handled';}
function _deEntifyContentAfterSpaceInsert(editorState){var contentState=editorState.getCurrentContent();var selectionState=editorState.getSelection();var currentBlock=contentState.getBlockForKey(selectionState.getAnchorKey());var anchorOffset=selectionState.getAnchorOffset();var textArray=currentBlock.getText().split('');var characterList=currentBlock.getCharacterList().toJS().slice(0,anchorOffset);if(textArray.length===anchorOffset)return editorState;var knownEntity=null;for(var i=characterList.length-1;i>=0;i--){if(i!==characterList.length-1&&textArray[i]===' '){break;}else if(characterList[i].entity!==null){knownEntity=characterList[i].entity;break;}}
if(!knownEntity)return editorState;var updatedCharacterList=currentBlock.getCharacterList().map(function(_char,i){return i>=anchorOffset&&_char.getEntity()===knownEntity?_char.set('entity',null):_char;});var updatedBlock=currentBlock.set('characterList',updatedCharacterList);var updatedBlockMap=contentState.getBlockMap().set(updatedBlock.getKey(),updatedBlock);var updatedContentState=contentState.set('blockMap',updatedBlockMap);return _draftJs.EditorState.push(editorState,updatedContentState,'removed-entity');}
function handleSpace(){if((0,_draftHelpers.characterBeforeCursorHasEntity)(this.state.editorState,['LINK','MENTION','TAG'])){var updatedEditorState=(0,_inserts.insertTextAtCursor)(this.state.editorState,' ');this.updateEditorState(_deEntifyContentAfterSpaceInsert(updatedEditorState));return 'handled';}else if(!(0,_draftHelpers.characterBeforeCursorHasEntity)(this.state.editorState,'LINK')&&(0,_links2.isValidUrl)((0,_draftHelpers.getWordBeforeCursor)(this.state.editorState))){var _linkifyPreviousWord=(0,_links.linkifyPreviousWord)(this.state.editorState),link=_linkifyPreviousWord.link;this.props.handleEmbed(link);}
return 'not-handled';}
function handleMention(){this.updateEditorState((0,_inserts.insertMentionSymbolAtCursor)(this.state.editorState));return 'handled';}
function handleDefault(character,editorState){var contentState=editorState.getCurrentContent();var selectionState=editorState.getSelection();if(!selectionState.isCollapsed())return 'not-handled';var currentBlock=contentState.getBlockForKey(selectionState.getAnchorKey());var previousLettersEntity=currentBlock.getEntityAt(selectionState.getAnchorOffset()-1);if(previousLettersEntity!==null)return _entifyPreviousLetter.call(this,character,editorState,previousLettersEntity);return 'not-handled';}
function customBeforeInputHandler(character,editorState){switch(character){case ' ':return handleSpace.call(this);case '@':return handleMention.call(this);default:return handleDefault.call(this,character,editorState);}}}),43745:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=handlePaste;var _draftJs=__webpack_require__(37163);var _links=__webpack_require__(49180);var _entifyContent=_interopRequireDefault(__webpack_require__(47086));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var MENTION_REGEX=/@[\S]+/g;function getLastLinkFromText(text){return text.split('\n').reduceRight(function(acc,paragraphs){if(acc!==null)return acc;return paragraphs.split(' ').reduceRight(function(accum,word){if(acc!==null)return acc;return(0,_links.isValidUrl)(word)?(0,_links.appendProtocol)(word):acc;},null);},null);}
function handlePaste(text,html){var editorState=this.state.editorState;var currentContent=editorState.getCurrentContent();var selectionState=editorState.getSelection();var updatedContentState=selectionState.isCollapsed()?_draftJs.Modifier.insertText(currentContent,selectionState,text):_draftJs.Modifier.replaceText(currentContent,selectionState,text);var linkToScrape=getLastLinkFromText(text);if(linkToScrape!==null)this.props.handleEmbed(linkToScrape);this.updateEditorState(_draftJs.EditorState.forceSelection(_draftJs.EditorState.push(editorState,(0,_entifyContent["default"])(updatedContentState,MENTION_REGEX,'MENTION'),'insert-fragment'),updatedContentState.getSelectionAfter()));return 'handled';}}),29394:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=plaintextToDraft;var _draftJs=__webpack_require__(37163);var _validator=__webpack_require__(48966);var _entifyContent=_interopRequireDefault(__webpack_require__(47086));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var MENTION_TOKEN_REGEX=/@[\[[a-zA-Z0-9_\-]+\](?=\()\((?=\{)\{.+?(?:\}\))/g;function getUserNameFromToken(token){return token.slice(0,2)==='@['?extractStringFromBrackets(token):token;}
function extractStringFromBrackets(token){var name='@',start;for(var i=0;i<token.length-1;i++){if(!start&&token[i]==='['){start=true;continue;}else if(start&&token[i]!==']'){name+=token[i];}else if(token[i]===']'){break;}}
return name;}
function plaintextToDraft(text){var contentState=_draftJs.ContentState.createFromText((0,_validator.unescape)(text));return(0,_entifyContent["default"])(contentState,MENTION_TOKEN_REGEX,'MENTION',getUserNameFromToken);}}),47086:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=entifyContent;var _draftJs=__webpack_require__(37163);var _draftHelpers=__webpack_require__(45598);var entityMap={MENTION:function MENTION(contentState){return createMention(contentState);}};function createEntity(type,contentState){if(!entityMap.hasOwnProperty(type))return new Error('Entity type is not defined!  Check entifyContent.');return entityMap[type](contentState);}
function createMention(contentState){return contentState.createEntity('MENTION','MUTABLE',{});}
function entifyContent(contentState,ENTITY_REGEX,entityType){var textFn=arguments.length>3&&arguments[3]!==undefined?arguments[3]:function(text){return text;};return contentState.getBlockMap().reduce(function(acc,block){var replacers=[];var applyEntityToRanges=function applyEntityToRanges(start,end,match){var updatedContentState=createEntity(entityType,acc);replacers.push({blockKey:block.getKey(),entityKey:updatedContentState.getLastCreatedEntityKey(),text:textFn(match),start:start,end:end});var selectionState=_draftJs.SelectionState.createEmpty(block.getKey()).merge({anchorOffset:start,focusOffset:end});var contentStateWithEntity=_draftJs.Modifier.applyEntity(updatedContentState,selectionState,updatedContentState.getLastCreatedEntityKey());acc=contentStateWithEntity;};(0,_draftHelpers.findWithRegex)(ENTITY_REGEX,block,applyEntityToRanges);return replacers.reduceRight(function(accum,replacer){var selectionState=_draftJs.SelectionState.createEmpty(replacer.blockKey).merge({anchorOffset:replacer.start,focusOffset:replacer.end});return _draftJs.Modifier.replaceText(accum,selectionState,replacer.text,null,replacer.entityKey);},acc);},contentState);}}),12539:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.insertTextAtCursor=insertTextAtCursor;exports.insertMentionSymbolAtCursor=insertMentionSymbolAtCursor;var _draftJs=__webpack_require__(37163);function insertTextAtCursor(editorState){var text=arguments.length>1&&arguments[1]!==undefined?arguments[1]:' ';var selectionState=editorState.getSelection();var updatedContentState=_draftJs.Modifier.insertText(editorState.getCurrentContent(),selectionState,text,null,null);var offset=selectionState.getAnchorOffset()+text.length;var updatedSelection=selectionState.merge({anchorOffset:offset,focusOffset:offset});return _draftJs.EditorState.forceSelection(_draftJs.EditorState.set(editorState,{currentContent:updatedContentState}),updatedSelection);}
function insertMentionSymbolAtCursor(editorState){var contentStateWithEntity=editorState.getCurrentContent().createEntity('MENTION','MUTABLE',{});var insertionMethod=editorState.getSelection().isCollapsed()?'insertText':'replaceText';var contentStateWithMention=_draftJs.Modifier[insertionMethod](contentStateWithEntity,editorState.getSelection(),'@',null,contentStateWithEntity.getLastCreatedEntityKey());return _draftJs.EditorState.forceSelection(_draftJs.EditorState.set(editorState,{currentContent:contentStateWithMention}),editorState.getSelection().merge({anchorOffset:editorState.getSelection().getAnchorOffset()+1,focusOffset:editorState.getSelection().getAnchorOffset()+1}));}}),75381:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.linkifyPreviousWord=linkifyPreviousWord;var _draftJs=__webpack_require__(37163);var _draftHelpers=__webpack_require__(45598);var _links=__webpack_require__(49180);function linkifyPreviousWord(editorState){var selectionState=editorState.getSelection();var previousWord=(0,_draftHelpers.getWordBeforeCursor)(editorState);var linkWithProtocol=(0,_links.appendProtocol)(previousWord);var manualSelection=selectionState.merge({anchorOffset:selectionState.getAnchorOffset()-previousWord.length,focusOffset:selectionState.getAnchorOffset()});var contentStateWithEntity=editorState.getCurrentContent().createEntity('LINK','MUTABLE',{href:(0,_links.appendProtocol)(previousWord)});var contentStateWithLink=_draftJs.Modifier.applyEntity(editorState.getCurrentContent(),manualSelection,contentStateWithEntity.getLastCreatedEntityKey());return{link:linkWithProtocol,updatedEditorState:_draftJs.EditorState.forceSelection(_draftJs.EditorState.set(editorState,{currentContent:contentStateWithLink}),selectionState)};}}),40768:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _validator=__webpack_require__(48966);var _PostCreator=_interopRequireDefault(__webpack_require__(66127));var _PostEditorActions=_interopRequireDefault(__webpack_require__(17984));var _PostEditorBody=_interopRequireDefault(__webpack_require__(29333));var _scraper=_interopRequireDefault(__webpack_require__(362));var _draftEventProxy=_interopRequireDefault(__webpack_require__(71623));var _clickOutsideListener=_interopRequireDefault(__webpack_require__(99167));var _generateRandomKey=_interopRequireDefault(__webpack_require__(89950));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _accessors=__webpack_require__(4887);var _filters=__webpack_require__(58429);var _types=__webpack_require__(88742);var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var BLANK_VALUE='NOOP';var DEFAULT_PLACEHOLDER='Share something cool or ask a question.';var CATEGORY_ERROR='Please select a category.';var CONTENT_ERROR='Posts cannot be empty.';var SERVER_ERROR='Sorry, try posting again!';var PostEditor=function(_PureComponent){_inherits(PostEditor,_PureComponent);var _super=_createSuper(PostEditor);function PostEditor(props){var _this;_classCallCheck(this,PostEditor);_this=_super.call(this,props);var initCategoryOpt=_this._initCategoryOpt(props);_this.state={categoryOpt:initCategoryOpt,categorySelectOpts:_this._initCategorySelectOpts(props,initCategoryOpt),embed:(0,_accessors.getInObj)(['entities','embed'],props.post)||{},embedCache:{},errors:{},isBusy:false,isFocused:_this.props.mode==='edit',markdownBtn:_react["default"].createElement("div",null),placeholder:DEFAULT_PLACEHOLDER};_this.clickOutsideListenerCallback=_this.clickOutsideListenerCallback.bind(_assertThisInitialized(_this));_this.handleCategorySelection=_this.handleCategorySelection.bind(_assertThisInitialized(_this));_this.handleDraftEditorUpated=_this.handleDraftEditorUpated.bind(_assertThisInitialized(_this));_this.handleOnPostOrSave=_this.handleOnPostOrSave.bind(_assertThisInitialized(_this));_this.resetEditorState=_this.resetEditorState.bind(_assertThisInitialized(_this));_this.setServerError=_this.setServerError.bind(_assertThisInitialized(_this));_this.scrapePageForLink=_this.scrapePageForLink.bind(_assertThisInitialized(_this));_this._draftSubKey=(0,_generateRandomKey["default"])();_this._clickOutsideListener;_this._editor;_this._root;return _this;}
_createClass(PostEditor,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.mode==='edit'&&this._editor){this._editor.__focus();}
_draftEventProxy["default"].sub('stateUpdated',this.handleDraftEditorUpated,this._draftSubKey);}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._cleanupOutsideClickListener();_draftEventProxy["default"].unsub('stateUpdated',this._draftSubKey);}},{key:"_initCategoryOpt",value:function _initCategoryOpt(props){if(!props.post)return null;return props.categorySelectOpts.find(function(opt){return opt.value===props.post.category;});}},{key:"_initCategorySelectOpts",value:function _initCategorySelectOpts(props,initCategoryOpt){return props.mode==='default'?this._initCategorySelectOptsDefault(props):this._initCategorySelectOptsEdit(props,initCategoryOpt);}},{key:"_initCategorySelectOptsDefault",value:function _initCategorySelectOptsDefault(props){var blankOpt={disabled:true,hidden:true,label:this._getBlankLabelForCategoryOpts(),labelText:'Choose category',value:BLANK_VALUE};var categorySelectOpts=[blankOpt].concat(props.categorySelectOpts);var currentPathValue=props.currentPath==='/'?{value:BLANK_VALUE}:{value:props.currentPath};return this._getUpdatedCategorySelectOpts(currentPathValue,categorySelectOpts);}},{key:"_initCategorySelectOptsEdit",value:function _initCategorySelectOptsEdit(props,initCategoryOpt){return this._getUpdatedCategorySelectOpts(initCategoryOpt,props.categorySelectOpts);}},{key:"clickOutsideListenerCallback",value:function clickOutsideListenerCallback(){this._cleanupOutsideClickListener();this._unFocusEditorConditonally();}},{key:"handleCategorySelection",value:function handleCategorySelection(opt){this.setState({categoryOpt:opt,categorySelectOpts:this._getUpdatedCategorySelectOpts(opt),errors:(0,_filters.removeFromObject)(this.state.errors,'category')});}},{key:"handleDraftEditorUpated",value:function handleDraftEditorUpated(editorStateImmutable){if(this.state.errors.hasOwnProperty('content')){var text=editorStateImmutable.getCurrentContent().getPlainText();if(text.length>0)this.setState({errors:(0,_filters.removeFromObject)(this.state.errors,'content')});}}},{key:"handleOnPostOrSave",value:function handleOnPostOrSave(){var category=this._getCategoryForPost();var text=this._editor.__getText();var errors=this._validate(text,category);if(!(0,_types.isBlank)(errors))return this.setState({errors:errors});var id=this.props.post?{id:this.props.post.id}:{};var entities=!(0,_types.isBlank)(this.state.embed)?{entities:JSON.stringify({embed:this.state.embed})}:{};var post=Object.assign({},id,entities,{category:category,body:(0,_validator.escape)(text)});this.props.onPostOrUpdate({post:post,oldPost:this.props.post,failureFn:this.setServerError,resolverFn:this.props.mode==='default'?this.resetEditorState:this.props.dismiss});this._editor.__setReadOnly(true);}},{key:"resetEditorState",value:function resetEditorState(){this._editor.__reset();this._editor.__setReadOnly(false);this.setState({categoryOpt:null,categorySelectOpts:this._initCategorySelectOpts(this.props,null),embed:{},embedCache:{},errors:{},isFocused:false});}},{key:"setServerError",value:function setServerError(){this._editor.__setReadOnly(false);this.setState({errors:{server:SERVER_ERROR}});}},{key:"scrapePageForLink",value:function scrapePageForLink(url){if(!(0,_types.isBlank)(this.state.embed))return;if(this.state.embedCache.hasOwnProperty(url)){return this.setState({embed:this.state.embedCache[url]});}
return this._fetchScrapedPage(url);}},{key:"_fetchScrapedPage",value:function _fetchScrapedPage(url){var _this2=this;this.setState({isBusy:true});return(0,_scraper["default"])(url).then(function(scrapedPage){var link=(0,_accessors.getInObj)(['link'],scrapedPage);var cacheKey=link||url;var embed=link?scrapedPage:{};_this2.setState({embed:embed,embedCache:Object.assign({},_this2.state.embedCache,_defineProperty({},cacheKey,embed)),isBusy:false});})["catch"](function(err){(0,_error_handler["default"])('PostEditor _fetchScrapedPage',err);_this2.setState({isBusy:false});});}},{key:"_getCategoryForPost",value:function _getCategoryForPost(){var _this3=this;if(this.props.mode==='edit'||this.props.currentPath==='/')return(0,_accessors.getInObj)(['value'],this.state.categoryOpt);var opt=this.state.categorySelectOpts.filter(function(opt){return opt.value.toLowerCase()===_this3.props.currentPath.toLowerCase();});return opt[0].value;}},{key:"_getCategorySelectOptsForCurrentPath",value:function _getCategorySelectOptsForCurrentPath(){var _this4=this;switch(this.props.currentPath.toLowerCase()){case '/':return this.state.categorySelectOpts;default:var opts=this.state.categorySelectOpts.filter(function(opt){return opt.value.toLowerCase()===_this4.props.currentPath.toLowerCase();});return[Object.assign({},opts[0],{active:true})];}}},{key:"_getUpdatedCategorySelectOpts",value:function _getUpdatedCategorySelectOpts(selectedOpt){var opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.state.categorySelectOpts;if(!selectedOpt)return opts;return opts.map(function(opt){return opt.value.toLowerCase()===selectedOpt.value.toLowerCase()?Object.assign({},opt,{active:true}):Object.assign({},opt,{active:false});});}},{key:"_setIsFocused",value:function _setIsFocused(){if(this.props.mode==='default')this._bindOutsideClickListener();if(!this.state.isFocused)this.setState({isFocused:true});if(!this.state.isFocused&&this._editor)this._editor.__focus();}},{key:"_validate",value:function _validate(text,category){var categoryError=category&&category!==BLANK_VALUE?{}:{category:CATEGORY_ERROR};var contentError=text.length>0||!(0,_types.isBlank)(this.state.embed)?{}:{content:CONTENT_ERROR};return Object.assign({},categoryError,contentError);}},{key:"_bindOutsideClickListener",value:function _bindOutsideClickListener(){if(this.props.mode==='default'&&this._root&&typeof this._clickOutsideListener==='undefined'){this._clickOutsideListener=(0,_clickOutsideListener["default"])(this._root,this.clickOutsideListenerCallback,true);}}},{key:"_cleanupOutsideClickListener",value:function _cleanupOutsideClickListener(){if(this._clickOutsideListener&&this._clickOutsideListener.hasOwnProperty('remove')){this._clickOutsideListener.remove();this._clickOutsideListener=undefined;}}},{key:"_unFocusEditorConditonally",value:function _unFocusEditorConditonally(){var text=this._editor.__getText();if(!text.length&&!Object.keys(this.state.embed).length){this.setState({categoryOpt:null,categorySelectOpts:this._getUpdatedCategorySelectOpts({value:BLANK_VALUE}),errors:{},isFocused:false});}}},{key:"_getBlankLabelForCategoryOpts",value:function _getBlankLabelForCategoryOpts(){return _react["default"].createElement("div",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].asphalt)},"Choose category");}},{key:"_getBodyView",value:function _getBodyView(){var _this5=this;return _react["default"].createElement(_PostEditorBody["default"],{getEditorRef:function getEditorRef(el){return _this5._editor=el;},deleteEmbed:function deleteEmbed(){return _this5.setState({embed:{}});},embed:this.state.embed,isEditorFocused:this.state.isFocused,markdownService:this.props.markdownService,mode:this.props.mode,post:this.props.post,propogateToolbar:function propogateToolbar(markdownBtn){return _this5.setState({markdownBtn:markdownBtn});},scrapePageForLink:this.scrapePageForLink});}},{key:"_getDefaultView",value:function _getDefaultView(){return _react["default"].createElement(_PostCreator["default"],{categoryConfig:this.props.categoryConfig,categorySelectOpts:this._getCategorySelectOptsForCurrentPath(),currentPath:this.props.currentPath,currentUser:this.props.currentUser,errors:this.state.errors,isBusy:this.props.isBusy||this.state.isBusy,isEditorFocused:this.state.isFocused,markdownBtn:this.state.markdownBtn,onCategorySelect:this.handleCategorySelection,onPost:this.handleOnPostOrSave,origin:this.props.origin},this._getBodyView());}},{key:"_getEditView",value:function _getEditView(){return _react["default"].createElement("div",null,this._getBodyView(),_react["default"].createElement(_PostEditorActions["default"],{categorySelectOpts:this.state.categorySelectOpts,dismiss:this.props.dismiss,errors:this.state.errors,isBusy:this.props.isBusy||this.state.isBusy,markdownBtn:this.state.markdownBtn,mode:this.props.mode,onCategorySelect:this.handleCategorySelection,onPostOrSave:this.handleOnPostOrSave}));}},{key:"render",value:function render(){var _this6=this;return _react["default"].createElement("div",{ref:function ref(el){return _this6._root=el;},onClick:function onClick(){return _this6._setIsFocused();}},this.props.mode==='default'?this._getDefaultView():this._getEditView());}}]);return PostEditor;}(_react.PureComponent);PostEditor.propTypes={categoryConfig:_propTypes["default"].arrayOf(_propTypes["default"].shape({colorClass:_propTypes["default"].string.isRequired,"enum":_propTypes["default"].string.isRequired,path:_propTypes["default"].string.isRequired,text:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired})),categorySelectOpts:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].oneOfType([_propTypes["default"].element,_propTypes["default"].string]),value:_propTypes["default"].string})).isRequired,currentPath:_propTypes["default"].string.isRequired,currentUser:_propTypes["default"].shape({avatar_url:_propTypes["default"].string,confirmed:_propTypes["default"].bool,id:_propTypes["default"].number,name:_propTypes["default"].string,role:_propTypes["default"].string,url:_propTypes["default"].string}).isRequired,dismiss:_propTypes["default"].func,isBusy:_propTypes["default"].bool.isRequired,markdownService:_propTypes["default"].object.isRequired,mode:_propTypes["default"].oneOf(['default','edit']),onPostOrUpdate:_propTypes["default"].func.isRequired,origin:_propTypes["default"].shape({admin_ids:_propTypes["default"].arrayOf(_propTypes["default"].number)}).isRequired,post:_propTypes["default"].shape({body:_propTypes["default"].string,id:_propTypes["default"].number.isRequired,entities:_propTypes["default"].shape({embed:_propTypes["default"].object})})};PostEditor.defaultProps={categoryConfig:null,dismiss:function dismiss(){},mode:'default',post:null};var _default=PostEditor;exports["default"]=_default;}),56584:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _EmbedText=_interopRequireDefault(__webpack_require__(9455));var _LazyBackgroundImage=_interopRequireDefault(__webpack_require__(48844));var _types=__webpack_require__(88742);var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));var _post_embed=_interopRequireDefault(__webpack_require__(68925));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DefaultEmbed=function DefaultEmbed(_ref){var embed=_ref.embed;return _react["default"].createElement("div",{className:"".concat(_layout["default"].fullWidth," ").concat(_layout["default"].flex," ").concat(_post_embed["default"].lockHeight)},!(0,_types.isBlank)(embed.image)&&_react["default"].createElement(_LazyBackgroundImage["default"],{classList:{root:"".concat(_post_embed["default"].image," ").concat(_util["default"].posRelative)},ratio:"1:1",setStyle:false,src:embed.image,width:158}),_react["default"].createElement(_EmbedText["default"],{embed:embed}));};DefaultEmbed.propTypes={embed:_propTypes["default"].object.isRequired};var _default=DefaultEmbed;exports["default"]=_default;}),9455:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _validator=__webpack_require__(48966);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _post_embed=_interopRequireDefault(__webpack_require__(68925));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var MAX_LENGTH=200;var formatDescription=function formatDescription(description){var unescaped=description?(0,_validator.unescape)(description):'';return description.length>MAX_LENGTH?truncateDescription(unescaped):unescaped;};var truncateDescription=function truncateDescription(description){return description.substring(0,MAX_LENGTH).replace(/[\,\.\;\-\(\+\=\{\s]+$/,'')+'...';};var EmbedText=function EmbedText(_ref){var embed=_ref.embed;return _react["default"].createElement("div",{className:"".concat(_layout["default"].padding15," ").concat(_layout["default"].flexColumn," ").concat(_post_embed["default"].bodyWrapper)},_react["default"].createElement("div",{className:"".concat(_util["default"].overflowHidden," ").concat(_layout["default"].flexColumn," ").concat(_post_embed["default"].body)},_react["default"].createElement("div",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].link," ").concat(_typography["default"].bold)},embed.title),_react["default"].createElement("p",{className:"".concat(_post_embed["default"].description," ").concat(_typography["default"].bodyS," ").concat(_typography["default"].pebble," ").concat(_typography["default"].overflowBreakWord)},formatDescription(embed.description)),_react["default"].createElement("div",{className:"".concat(_post_embed["default"].siteName," ").concat(_typography["default"].bodyS," ").concat(_typography["default"].pebble)},embed.website_name)));};EmbedText.propTypes={embed:_propTypes["default"].object.isRequired};var _default=EmbedText;exports["default"]=_default;}),35475:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _EmbedText=_interopRequireDefault(__webpack_require__(9455));var _LazyBackgroundImage=_interopRequireDefault(__webpack_require__(48844));var _responsive_iframe=_interopRequireDefault(__webpack_require__(20114));var _VideoOverlay=_interopRequireDefault(__webpack_require__(29695));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));var _post_embed=_interopRequireDefault(__webpack_require__(68925));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var VideoEmbed=function(_Component){_inherits(VideoEmbed,_Component);var _super=_createSuper(VideoEmbed);function VideoEmbed(props){var _this;_classCallCheck(this,VideoEmbed);_this=_super.call(this,props);_this.expand=_this.expand.bind(_assertThisInitialized(_this));var aspectRatio=parseInt(props.embed.type_props.width)/parseInt(props.embed.type_props.height)||undefined;_this.state={aspectRatio:aspectRatio,expanded:false};return _this;}
_createClass(VideoEmbed,[{key:"expand",value:function expand(e){e.preventDefault();e.stopPropagation();this.setState({expanded:true});}},{key:"_getDefaultView",value:function _getDefaultView(_ref){var embed=_ref.embed;return _react["default"].createElement("div",{className:"".concat(_post_embed["default"].image," ").concat(_util["default"].posRelative),onClick:this.expand},_react["default"].createElement(_LazyBackgroundImage["default"],{ratio:"1:1",setStyle:false,src:embed.image,width:158}),_react["default"].createElement(_VideoOverlay["default"],null));}},{key:"_getExpandedView",value:function _getExpandedView(_ref2){var aspectRatio=_ref2.aspectRatio,embed=_ref2.embed,mode=_ref2.mode;return _react["default"].createElement(_responsive_iframe["default"],{aspectRatio:aspectRatio,className:mode==='show'?'':_layout["default"].marginTop30,src:embed.type_props.iframe_url});}},{key:"render",value:function render(){var _this$props=this.props,embed=_this$props.embed,mode=_this$props.mode;var _this$state=this.state,aspectRatio=_this$state.aspectRatio,expanded=_this$state.expanded;return _react["default"].createElement("div",{className:expanded?_layout["default"].flexColumn:"".concat(_layout["default"].flex," ").concat(_post_embed["default"].lockHeight)},expanded?this._getExpandedView({aspectRatio:aspectRatio,embed:embed,mode:mode}):this._getDefaultView({embed:embed}),_react["default"].createElement(_EmbedText["default"],{embed:embed}));}}]);return VideoEmbed;}(_react.Component);VideoEmbed.propTypes={embed:_propTypes["default"].object.isRequired,mode:_propTypes["default"].string};VideoEmbed.defaultProps={mode:'show'};var _default=VideoEmbed;exports["default"]=_default;}),9116:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DefaultEmbed=_interopRequireDefault(__webpack_require__(56584));var _dismiss_button=_interopRequireDefault(__webpack_require__(10283));var _VideoEmbed=_interopRequireDefault(__webpack_require__(35475));var _types=__webpack_require__(88742);var _links=__webpack_require__(22463);var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));var _post_embed=_interopRequireDefault(__webpack_require__(68925));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var componentTypes={video:_VideoEmbed["default"]};var getComponent=function getComponent(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},embed_type=_ref.embed_type;return componentTypes[embed_type]||_DefaultEmbed["default"];};var getLinkUrl=function getLinkUrl(){var _ref2=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},link=_ref2.link;return link||_links.NOOP_HREF;};var PostEmbed=function PostEmbed(_ref3){var embed=_ref3.embed,killEmbed=_ref3.killEmbed,mode=_ref3.mode;if((0,_types.isBlank)(embed))return null;return _react["default"].createElement("a",{className:"".concat(_post_embed["default"].root," ").concat(_layout["default"].marginBottom15," ").concat(_layout["default"].marginTop15," ").concat(_util["default"].border," ").concat(_util["default"].posRelative),href:mode==='edit'?_links.NOOP_HREF:getLinkUrl(embed),rel:"noopener noreferrer",target:"_blank"},mode==='edit'&&_react["default"].createElement(_dismiss_button["default"],{className:_post_embed["default"].dismiss,onClick:function onClick(e){e.preventDefault();killEmbed();}}),_react["default"].createElement(getComponent(embed),{embed:embed,mode:mode}));};PostEmbed.propTypes={embed:_propTypes["default"].object.isRequired,killEmbed:_propTypes["default"].func,mode:_propTypes["default"].string};PostEmbed.defaultProps={killEmbed:function killEmbed(){},mode:'show'};var _default=PostEmbed;exports["default"]=_default;}),74325:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _accessors=__webpack_require__(4887);var _post_card=_interopRequireDefault(__webpack_require__(55626));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var shouldRenderAdminBadge=function shouldRenderAdminBadge(origin,record){if(record.user.isAdmin)return true;var adminIds=(0,_accessors.getInObj)(['admin_ids'],origin);return adminIds&&adminIds.includes(record.user.id);};var AdminBadge=function AdminBadge(_ref){var origin=_ref.origin,record=_ref.record;if(!shouldRenderAdminBadge(origin,record))return null;return _react["default"].createElement("div",{className:_post_card["default"].adminBadge},"admin");};AdminBadge.propTypes={origin:_propTypes["default"].shape({admin_ids:_propTypes["default"].arrayOf(_propTypes["default"].number)}),record:_propTypes["default"].shape({user:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,isAdmin:_propTypes["default"].bool}).isRequired}).isRequired};var _default=AdminBadge;exports["default"]=_default;}),31655:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _CategoryBadgeLabel=_interopRequireDefault(__webpack_require__(95725));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var CategoryBadge=function CategoryBadge(_ref){var basePath=_ref.basePath,categoryConfig=_ref.categoryConfig,onCategoryTagClick=_ref.onCategoryTagClick;return _react["default"].createElement("a",{className:"".concat(_util["default"].categoryBadge," ").concat(_typography["default"].anchorNoUnderlineOnHover),href:"".concat(basePath,"/").concat(categoryConfig.path),onClick:function onClick(e){return onCategoryTagClick(e,categoryConfig);}},_react["default"].createElement(_CategoryBadgeLabel["default"],{categoryConfig:categoryConfig}));};CategoryBadge.propTypes={basePath:_propTypes["default"].string.isRequired,categoryConfig:_propTypes["default"].shape({colorClass:_propTypes["default"].string.isRequired,"enum":_propTypes["default"].string.isRequired,path:_propTypes["default"].string.isRequired,text:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired}).isRequired,onCategoryTagClick:_propTypes["default"].func.isRequired};var _default=CategoryBadge;exports["default"]=_default;}),95725:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var CategoryBadgeLabel=function CategoryBadgeLabel(_ref){var categoryConfig=_ref.categoryConfig;return _react["default"].createElement("div",{className:_layout["default"].flexCenterItems},_react["default"].createElement("div",{style:{borderRadius:2,height:10,width:10},className:_util["default"][categoryConfig.colorClass]}),_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginLeft5)},categoryConfig.title));};CategoryBadgeLabel.propTypes={categoryConfig:_propTypes["default"].shape({colorClass:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired}).isRequired};var _default=CategoryBadgeLabel;exports["default"]=_default;}),92953:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _dropdown=_interopRequireDefault(__webpack_require__(87327));var _layout=_interopRequireDefault(__webpack_require__(42721));var _simple_select=_interopRequireDefault(__webpack_require__(27464));var _util=_interopRequireDefault(__webpack_require__(48161));var _excluded=["copyLinkText","extendedAdminOptions","isCurrentUserOriginModerator","isCurrentUserPostAuthorOrAdmin","isFlagged","onCopyLinkClick","onReportClick","isUserSignedIn"],_excluded2=["toggleMenu"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}
var getOptions=function getOptions(_ref){var copyLinkText=_ref.copyLinkText,extendedAdminOptions=_ref.extendedAdminOptions,isCurrentUserOriginModerator=_ref.isCurrentUserOriginModerator,isCurrentUserPostAuthorOrAdmin=_ref.isCurrentUserPostAuthorOrAdmin,isFlagged=_ref.isFlagged,onCopyLinkClick=_ref.onCopyLinkClick,onReportClick=_ref.onReportClick,isUserSignedIn=_ref.isUserSignedIn,props=_objectWithoutProperties(_ref,_excluded);return isCurrentUserPostAuthorOrAdmin?getOptsForAuthor(Object.assign({copyLinkText:copyLinkText,extendedAdminOptions:extendedAdminOptions,isCurrentUserOriginModerator:isCurrentUserOriginModerator,isFlagged:isFlagged,onCopyLinkClick:onCopyLinkClick},props)):getOptsForNonAuthor({copyLinkText:copyLinkText,extendedAdminOptions:extendedAdminOptions,isCurrentUserOriginModerator:isCurrentUserOriginModerator,isFlagged:isFlagged,onCopyLinkClick:onCopyLinkClick,onReportClick:onReportClick,isUserSignedIn:isUserSignedIn});};var getOptsForAuthor=function getOptsForAuthor(_ref2){var copyLinkText=_ref2.copyLinkText,extendedAdminOptions=_ref2.extendedAdminOptions,isCurrentUserAnAdmin=_ref2.isCurrentUserAnAdmin,isCurrentUserOriginModerator=_ref2.isCurrentUserOriginModerator,isFlagged=_ref2.isFlagged,onCopyLinkClick=_ref2.onCopyLinkClick,onDeleteClick=_ref2.onDeleteClick,onEditClick=_ref2.onEditClick,onSpamClick=_ref2.onSpamClick;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:onEditClick},"Edit"),_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:onDeleteClick},"Delete"),_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:onCopyLinkClick},copyLinkText),isCurrentUserAnAdmin&&_react["default"].createElement("hr",{className:"".concat(_util["default"].hr," ").concat(_layout["default"].marginTop10," ").concat(_layout["default"].marginBottom10)}),isCurrentUserAnAdmin&&_react["default"].createElement("li",{className:isFlagged?_simple_select["default"].optionDisabled:_simple_select["default"].option,onClick:function onClick(){return!isFlagged?onSpamClick():null;}},!isFlagged?'Mark as spam':'Marked as spam'),(isCurrentUserAnAdmin||isCurrentUserOriginModerator)&&extendedAdminOptions());};var getOptsForNonAuthor=function getOptsForNonAuthor(_ref3){var copyLinkText=_ref3.copyLinkText,extendedAdminOptions=_ref3.extendedAdminOptions,isCurrentUserOriginModerator=_ref3.isCurrentUserOriginModerator,isFlagged=_ref3.isFlagged,onCopyLinkClick=_ref3.onCopyLinkClick,onReportClick=_ref3.onReportClick,isUserSignedIn=_ref3.isUserSignedIn;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:onCopyLinkClick},copyLinkText),isUserSignedIn&&_react["default"].createElement("li",{className:isFlagged?_simple_select["default"].optionDisabled:_simple_select["default"].option,onClick:function onClick(){return!isFlagged?onReportClick():null;}},!isFlagged?'Report':'Reported'),isCurrentUserOriginModerator&&extendedAdminOptions());};var OptionsMenu=function OptionsMenu(_ref4){var toggleMenu=_ref4.toggleMenu,props=_objectWithoutProperties(_ref4,_excluded2);return _react["default"].createElement(_dropdown["default"],{key:"menu",className:"".concat(_layout["default"].paddingTop10," ").concat(_layout["default"].paddingBottom10),alignTop:false,dismiss:toggleMenu,alignRight:true},_react["default"].createElement("ul",{className:_util["default"].ulReset},_react["default"].Children.toArray(getOptions(props))));};OptionsMenu.propTypes={copyLinkText:_propTypes["default"].string,extendedAdminOptions:_propTypes["default"].func,isCurrentUserAnAdmin:_propTypes["default"].bool.isRequired,isCurrentUserOriginModerator:_propTypes["default"].bool.isRequired,isCurrentUserPostAuthorOrAdmin:_propTypes["default"].bool.isRequired,isFlagged:_propTypes["default"].bool.isRequired,isUserSignedIn:_propTypes["default"].bool.isRequired,onCopyLinkClick:_propTypes["default"].func.isRequired,onDeleteClick:_propTypes["default"].func.isRequired,onEditClick:_propTypes["default"].func.isRequired,onReportClick:_propTypes["default"].func.isRequired,onSpamClick:_propTypes["default"].func.isRequired,toggleMenu:_propTypes["default"].func.isRequired};OptionsMenu.defaultProps={copyLinkText:'Copy link',extendedAdminOptions:function extendedAdminOptions(){}};var _default=OptionsMenu;exports["default"]=_default;}),34010:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _OptionsMenu=_interopRequireDefault(__webpack_require__(92953));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var isCurrentUserAnAdmin=function isCurrentUserAnAdmin(currentUser){return currentUser&&currentUser.role==='admin';};var isCurrentUserPostAuthorOrAdmin=function isCurrentUserPostAuthorOrAdmin(currentUser,record){if(!currentUser)return false;return currentUser.role==='admin'||currentUser.id===record.user.id;};var isCurrentUserOriginModerator=function isCurrentUserOriginModerator(currentUser,origin){if(!currentUser||!origin||!origin.hasOwnProperty('admin_ids'))return false;return origin.admin_ids.findIndex(function(adminId){return currentUser.id===adminId;})!==-1;};var OptionsMenuWithIcon=function OptionsMenuWithIcon(_ref){var copyLinkText=_ref.copyLinkText,currentUser=_ref.currentUser,extendedAdminOptions=_ref.extendedAdminOptions,isFlagged=_ref.isFlagged,onCopyLinkClick=_ref.onCopyLinkClick,onDeleteClick=_ref.onDeleteClick,onEditClick=_ref.onEditClick,onReportClick=_ref.onReportClick,onSpamClick=_ref.onSpamClick,openMenu=_ref.openMenu,origin=_ref.origin,record=_ref.record,toggleMenu=_ref.toggleMenu;return _react["default"].createElement("div",{className:"".concat(_util["default"].posRelative," ").concat(_util["default"].height100P)},_react["default"].createElement("button",{className:_buttons["default"].blank,onClick:toggleMenu},_react["default"].createElement(_icon["default"],{name:"view-more",size:16})),openMenu&&_react["default"].createElement(_OptionsMenu["default"],{copyLinkText:copyLinkText,extendedAdminOptions:extendedAdminOptions,isCurrentUserAnAdmin:isCurrentUserAnAdmin(currentUser),isCurrentUserOriginModerator:isCurrentUserOriginModerator(currentUser,origin),isCurrentUserPostAuthorOrAdmin:isCurrentUserPostAuthorOrAdmin(currentUser,record),isFlagged:isFlagged,isUserSignedIn:currentUser.id>0,onCopyLinkClick:onCopyLinkClick,onDeleteClick:onDeleteClick,onEditClick:onEditClick,onReportClick:onReportClick,onSpamClick:onSpamClick,toggleMenu:toggleMenu}));};OptionsMenuWithIcon.propTypes={copyLinkText:_propTypes["default"].string.isRequired,currentUser:_propTypes["default"].shape({id:_propTypes["default"].number,role:_propTypes["default"].string}),extendedAdminOptions:_propTypes["default"].func,isFlagged:_propTypes["default"].bool.isRequired,onCopyLinkClick:_propTypes["default"].func.isRequired,onDeleteClick:_propTypes["default"].func.isRequired,onEditClick:_propTypes["default"].func.isRequired,onReportClick:_propTypes["default"].func.isRequired,onSpamClick:_propTypes["default"].func.isRequired,openMenu:_propTypes["default"].bool.isRequired,origin:_propTypes["default"].shape({admin_ids:_propTypes["default"].arrayOf(_propTypes["default"].number)}),record:_propTypes["default"].shape({user:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired}).isRequired}).isRequired,toggleMenu:_propTypes["default"].func.isRequired};OptionsMenuWithIcon.defaultProps={currentUser:null,extendedAdminOptions:function extendedAdminOptions(){},origin:null};var _default=OptionsMenuWithIcon;exports["default"]=_default;}),4510:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getComments=getComments;exports.getCommentReplies=getCommentReplies;exports.createComment=createComment;exports.deleteComment=deleteComment;exports.deleteCommentViaSpam=deleteCommentViaSpam;exports.updateComment=updateComment;exports.fireUpdatedCommentAnalytics=exports.fireDeleteCommentAnalytics=exports.fireCreateCommentAnalytics=void 0;var _graphql=__webpack_require__(2740);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _messages=__webpack_require__(62044);var _dispatchers=__webpack_require__(10912);var _main=_interopRequireDefault(__webpack_require__(85061));var _eventTypeTemplates=__webpack_require__(10853);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
var addFetchedCommentsToPost=function addFetchedCommentsToPost(records,commentsFromServer,postId){return records.map(function(record){if(record.id===postId){var knownIds=record.comments.map(function(c){return c.id;});var filteredComments=commentsFromServer.filter(function(comment){return!knownIds.includes(comment.id);});record.comments=filteredComments.concat(record.comments);}
return record;});};function getComments(post,worker){var _this=this;this.addWorker(worker);return(0,_graphql.graphQuery)({t:'get_comments_for_feed'},{commentable_id:post.id,commentable_type:'FeedPost'}).then(function(_ref){var comments=_ref.comments;_this._safelySetState({records:addFetchedCommentsToPost(_this.state.records,comments,post.id),workers:_this.removeFromWorkersState(worker)});})["catch"](function(err){_this._safelySetState({workers:_this.removeFromWorkersState(worker)});(0,_error_handler["default"])('Discussion getComments: ',err);(0,_dispatchers.summonGlobalMessenger)({msg:(0,_messages.getErrorMsg)('retrieving comments'),type:'error'});});};var addFetchedCommentsToCommentChildren=function addFetchedCommentsToCommentChildren(records,commentsFromServer,parentComment,postId){return records.map(function(record){if(record.id===postId){record.comments=addFetchedCommentsToParentComment(record.comments,commentsFromServer,parentComment);}
return record;});};var addFetchedCommentsToParentComment=function addFetchedCommentsToParentComment(comments,commentsFromServer,parentComment){return comments.map(function(comment){if(comment.id===parentComment.id){return Object.assign({},comment,{child_ids:commentsFromServer.map(function(c){return c.id;}),children:commentsFromServer});}
return comment;});};function getCommentReplies(_ref2){var _this2=this;var comment=_ref2.comment,postId=_ref2.postId,worker=_ref2.worker;this.addWorker(worker);return(0,_graphql.graphQuery)({t:'get_comments'},{parent_id:comment.id}).then(function(_ref3){var comments=_ref3.comments;_this2._safelySetState({records:addFetchedCommentsToCommentChildren(_this2.state.records,comments,comment,postId),workers:_this2.removeFromWorkersState(worker)});})["catch"](function(err){_this2._safelySetState({workers:_this2.removeFromWorkersState(worker)});(0,_error_handler["default"])('Discussion getCommentReplies: ',err);(0,_dispatchers.summonGlobalMessenger)({msg:(0,_messages.getErrorMsg)('retrieving comments'),type:'error'});});};var addCommentToPost=function addCommentToPost(records,comment,props){return records.map(function(record){if(record.id===comment.commentable_id){record.comments=addCommentToComments(record.comments,comment,props);}
return record;});};var addCommentToComments=function addCommentToComments(comments,commentToAdd,props){if(!commentToAdd.parent_id)return comments.concat(createNewComment(commentToAdd,props));return comments.map(function(comment){if(comment.id===commentToAdd.parent_id){var children=comment.children||[];return Object.assign({},comment,{children:children.concat(createNewComment(commentToAdd,props))});}
return comment;});};var createNewComment=function createNewComment(_ref4,props){var body_with_relations=_ref4.body_with_relations,created_at=_ref4.created_at,id=_ref4.id,parent_id=_ref4.parent_id,raw_body=_ref4.raw_body;return{body_with_relations:body_with_relations,created_at:created_at,id:id,raw_body:raw_body,children:[],deleted:false,edited_at:null,liking_user_ids:[],parent_id:parent_id||null,relations:{},user:Object.assign({},props.currentUser,{isAdmin:props.currentUser.role==='admin'}),__meta:{truncate:false}};};var fireCreateCommentAnalytics=function fireCreateCommentAnalytics(comment,commentFromEditor){return _main["default"].reportEventWithObj((0,_eventTypeTemplates.getCreateCommentArgs)({id:comment.id,is_reply:commentFromEditor.hasOwnProperty('parent_id')}));};exports.fireCreateCommentAnalytics=fireCreateCommentAnalytics;function createComment(_ref5){var _this3=this;var comment=_ref5.comment,resolverFn=_ref5.resolverFn;this._safelySetState({isBusy:true});return(0,_graphql.graphMutate)({t:'create_comment'},comment).then(function(res){return _createCommentResolver.call(_this3,res,comment,resolverFn);})["catch"](function(err){_this3._safelySetState({isBusy:false});(0,_error_handler["default"])('Discussion createComment: ',err);(0,_dispatchers.summonGlobalMessenger)({msg:(0,_messages.getErrorMsg)('posting your comment'),type:'error'});});};function _createCommentResolver(_ref6,commentFromEditor,resolverFn){var comment=_ref6.comment;this._safelySetState({isBusy:false,records:addCommentToPost(this.state.records,Object.assign({},commentFromEditor,comment),this.props)},function(){if(typeof resolverFn==='function')resolverFn();});fireCreateCommentAnalytics(comment,commentFromEditor);};var _deleteCommentInPost=function _deleteCommentInPost(records,comment){return records.map(function(record){if(record.id===comment.commentable_id){var comments=_deleteCommentInComments(record.comments,comment);return Object.assign({},record,{comments:comments});}
return record;});};var _deleteCommentInComments=function _deleteCommentInComments(comments,commentToDelete){return!commentToDelete.parent_id?_deleteOrFlagRootComment(comments,commentToDelete):_deleteChildCommentFromComments(comments,commentToDelete);};var _deleteChildCommentFromComments=function _deleteChildCommentFromComments(comments,commentToDelete){return comments.reduce(function(acc,comment){if(comment.id===commentToDelete.parent_id){var children=comment.children.filter(function(child){return child.id!==commentToDelete.id;});if(comment.deleted===false||children.length>0){acc=acc.concat(Object.assign({},comment,{children:children}));}}else{acc=acc.concat(comment);}
return acc;},[]);};var _deleteOrFlagRootComment=function _deleteOrFlagRootComment(comments,commentToDelete){return comments.reduce(function(acc,comment){if(comment.id===commentToDelete.id){if(comment.children&&comment.children.length>0){acc=acc.concat(Object.assign({},comment,{deleted:true}));}}else{acc=acc.concat(comment);}
return acc;},[]);};var fireDeleteCommentAnalytics=function fireDeleteCommentAnalytics(comment){return _main["default"].reportEventWithObj((0,_eventTypeTemplates.getDeleteCommentArgs)({id:comment.id,is_reply:comment.hasOwnProperty('parent_id')}));};exports.fireDeleteCommentAnalytics=fireDeleteCommentAnalytics;function deleteComment(_ref7){var _this4=this;var comment=_ref7.comment;var memo=_toConsumableArray(this.state.records);this._safelySetState({isBusy:true,records:_deleteCommentInPost(this.state.records,comment)});return(0,_graphql.graphMutate)({t:'delete_comment'},{id:comment.id}).then(function(){return _deleteCommentResolver.call(_this4,comment);})["catch"](function(err){_this4._safelySetState({isBusy:false,records:memo});(0,_error_handler["default"])('ContestDiscussion _deleteComment: ',err);(0,_dispatchers.summonGlobalMessenger)({msg:(0,_messages.getErrorMsg)('deleting the comment'),type:'error'});});};function deleteCommentViaSpam(comment){this._safelySetState({isBusy:false,records:_deleteCommentInPost(this.state.records,comment)});(0,_dispatchers.summonGlobalMessenger)({msg:'Comment successfully deleted.',type:'success'});fireDeleteCommentAnalytics(comment);};function _deleteCommentResolver(commentFromEditor){this._safelySetState({isBusy:false});(0,_dispatchers.summonGlobalMessenger)({msg:'Comment successfully deleted.',type:'success'});fireDeleteCommentAnalytics(commentFromEditor);};var updateCommentInComments=function updateCommentInComments(comments,commentToUpdate){if(!commentToUpdate.parent_id){return comments.map(function(comment){return comment.id===commentToUpdate.id?Object.assign({},comment,commentToUpdate):comment;});}
return comments.map(function(comment){if(comment.id===commentToUpdate.parent_id){comment.children=comment.children.map(function(child){return child.id===commentToUpdate.id?Object.assign({},child,commentToUpdate):child;});}
return comment;});};var updateCommentInPost=function updateCommentInPost(records,comment){return records.map(function(record){if(record.id===comment.commentable_id){record.comments=updateCommentInComments(record.comments,comment);}
return record;});};var fireUpdatedCommentAnalytics=function fireUpdatedCommentAnalytics(comment){return _main["default"].reportEventWithObj((0,_eventTypeTemplates.getUpdateCommentArgs)({id:comment.id,is_reply:comment.hasOwnProperty('parent_id')}));};exports.fireUpdatedCommentAnalytics=fireUpdatedCommentAnalytics;function updateComment(_ref8){var _this5=this;var comment=_ref8.comment,resolverFn=_ref8.resolverFn;this._safelySetState({isBusy:true});return(0,_graphql.graphMutate)({t:'update_comment'},comment).then(function(res){return _updateCommentResolver.call(_this5,res,comment,resolverFn);})["catch"](function(err){_this5._safelySetState({isBusy:false});(0,_error_handler["default"])('Discussion updateComment: ',err);(0,_dispatchers.summonGlobalMessenger)({msg:(0,_messages.getErrorMsg)('updating the comment'),type:'error'});});};function _updateCommentResolver(_ref9,commentFromEditor,resolverFn){var comment=_ref9.comment;this._safelySetState({isBusy:false,records:updateCommentInPost(this.state.records,Object.assign({},comment,{commentable_id:commentFromEditor.commentable_id,parent_id:commentFromEditor.parent_id,raw_body:commentFromEditor.raw_body,__meta:{truncate:false}}))},function(){if(typeof resolverFn==='function')resolverFn();});fireUpdatedCommentAnalytics(commentFromEditor);};}),27926:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.setFlaggedIds=setFlaggedIds;exports.getFlaggedIds=exports.FLAGGED_ID_KEYS=void 0;var _filters=__webpack_require__(58429);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var FLAGGED_ID_KEYS=['flaggedCommentIds','flaggedPostIds'];exports.FLAGGED_ID_KEYS=FLAGGED_ID_KEYS;var getFlaggedIds=function getFlaggedIds(getter){return FLAGGED_ID_KEYS.reduce(function(acc,key){return Object.assign({},acc,_defineProperty({},key,getter(key)));},{});};exports.getFlaggedIds=getFlaggedIds;function setFlaggedIds(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments.length>1?arguments[1]:undefined;this.setState((0,_filters.filterObject)(state,null,FLAGGED_ID_KEYS),callback);};}),73487:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.addWorker=addWorker;exports.removeFromWorkersState=removeFromWorkersState;exports.markPostOrCommentAsSpam=exports.flagPostOrComment=void 0;var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _formatters=__webpack_require__(88231);var _flags=__webpack_require__(87360);var _messages=__webpack_require__(62044);var _dispatchers=__webpack_require__(10912);var _filters=__webpack_require__(58429);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var typeToHuman=function typeToHuman(type){return type==='feed_post'?'post':type;};function addWorker(key){if(key&&!this.state.workers.hasOwnProperty(key)){this._safelySetState({workers:Object.assign({},this.state.workers,_defineProperty({},key,true))});}};function removeFromWorkersState(key){if(key&&this.state.workers.hasOwnProperty(key)){return(0,_filters.removeFromObject)(this.state.workers,key);}else{return this.state.workers;}};var flagPostOrComment=function flagPostOrComment(type,recordId,userId){return new Promise(function(resolve,reject){return(0,_flags.flagContent)({type:type,id:recordId},userId).then(function(){(0,_dispatchers.summonGlobalMessenger)({msg:"Reported ".concat(typeToHuman(type),"."),type:'success'});resolve();})["catch"](function(err){(0,_dispatchers.summonGlobalMessenger)({msg:(0,_messages.getErrorMsg)("reporting the ".concat(typeToHuman(type))),type:'error'});(0,_error_handler["default"])('Discussion flagPostOrComment:',err);reject(err);});});};exports.flagPostOrComment=flagPostOrComment;var markPostOrCommentAsSpam=function markPostOrCommentAsSpam(type,recordId){return new Promise(function(resolve,reject){return(0,_flags.markAsSpam)({type:type,id:recordId}).then(function(){(0,_dispatchers.summonGlobalMessenger)({msg:"".concat((0,_formatters.capitalize)(typeToHuman(type))," marked as spam."),type:'success'});resolve();})["catch"](function(err){(0,_dispatchers.summonGlobalMessenger)({msg:(0,_messages.getErrorMsg)("marking the ".concat(typeToHuman(type)," as spam")),type:'error'});(0,_error_handler["default"])('Discussion markPostOrCommentAsSpam:',err);reject(err);});});};exports.markPostOrCommentAsSpam=markPostOrCommentAsSpam;}),31897:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.createPost=createPost;exports.deletePost=deletePost;exports.deletePostViaSpam=deletePostViaSpam;exports.updatePost=updatePost;exports.fireUpdatedPostAnalytics=exports.fireDeletePostAnalytics=exports.fireCreatePostAnalytics=void 0;var _graphql=__webpack_require__(2740);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _messages=__webpack_require__(62044);var _formatters=__webpack_require__(88231);var _dispatchers=__webpack_require__(10912);var _main=_interopRequireDefault(__webpack_require__(85061));var _eventTypeTemplates=__webpack_require__(10853);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var createNewPost=function createNewPost(_ref,props){var body=_ref.body,category=_ref.category,created_at=_ref.created_at,entities=_ref.entities,id=_ref.id,relations=_ref.relations;return{body:body,category:category,created_at:created_at,id:id,relations:relations,comments:[],edited_at:null,entities:entities||{},respects_count:0,user:Object.assign({},props.currentUser,{isAdmin:props.currentUser.role==='admin'}),__meta:{truncate:false}};};var fireCreatePostAnalytics=function fireCreatePostAnalytics(post,postFromEditor){return _main["default"].reportEventWithObj((0,_eventTypeTemplates.getCreatePostArgs)(post.id,postFromEditor.category));};exports.fireCreatePostAnalytics=fireCreatePostAnalytics;function createPost(_ref2){var _this=this;var post=_ref2.post,failureFn=_ref2.failureFn,resolverFn=_ref2.resolverFn;this._safelySetState({isBusy:true});return(0,_graphql.graphMutate)({t:'create_feed_post'},Object.assign({},post,{origin_id:this.props.origin.id,origin_type:this.props.origin.type})).then(function(_ref3){var feed_post=_ref3.feed_post;_this._safelySetState({isBusy:false,offset:_this.state.offset+1,records:[createNewPost(Object.assign({},post,feed_post),_this.props)].concat(_this.state.records)},function(){if(typeof resolverFn==='function')resolverFn();});fireCreatePostAnalytics(feed_post,post);})["catch"](function(err){_this._safelySetState({isBusy:false});if(typeof failureFn==='function')failureFn();(0,_error_handler["default"])('Discussion createPost: ',err);});};var fireDeletePostAnalytics=function fireDeletePostAnalytics(post){return _main["default"].reportEventWithObj((0,_eventTypeTemplates.getDeletePostArgs)(post.id,post.category));};exports.fireDeletePostAnalytics=fireDeletePostAnalytics;function deletePost(post,resolverFn){var _this2=this;this._safelySetState({isBusy:true});if(typeof resolverFn==='function')resolverFn();return(0,_graphql.graphMutate)({t:'delete_feed_post'},{id:post.id}).then(function(){return _deletePostResolver.call(_this2,post);})["catch"](function(err){_this2._safelySetState({isBusy:false});(0,_error_handler["default"])('Discussion deletePost: ',err);(0,_dispatchers.summonGlobalMessenger)({msg:(0,_messages.getErrorMsg)('deleting the post'),type:'error'});});};function deletePostViaSpam(post){return _deletePostResolver.call(this,post);};function _deletePostResolver(post){var _this3=this;this._safelySetState({isBusy:false,offset:this.state.offset-1,pinnedPosts:this.state.pinnedPosts.filter(function(record){return record.id!==post.id;}),records:this.state.records.filter(function(record){return record.id!==post.id;})},function(){(0,_dispatchers.summonGlobalMessenger)({msg:'Post successfully deleted.',type:'success'});if(_this3.state.currentView==='singular')_this3.history.push('/');if(_this3._windower)_this3._windower.__deleteFromMeta(post.id);});fireDeletePostAnalytics(post);};var fireUpdatedPostAnalytics=function fireUpdatedPostAnalytics(post){return _main["default"].reportEventWithObj((0,_eventTypeTemplates.getUpdatePostArgs)(post.id,post.category));};exports.fireUpdatedPostAnalytics=fireUpdatedPostAnalytics;function updatePost(_ref4){var _this4=this;var post=_ref4.post,oldPost=_ref4.oldPost,failureFn=_ref4.failureFn,resolverFn=_ref4.resolverFn;this._safelySetState({isBusy:true});return(0,_graphql.graphMutate)({t:'update_feed_post'},post).then(function(_ref5){var feed_post=_ref5.feed_post;return _updatePostResolver.call(_this4,{updatedPost:Object.assign({},post,feed_post,{__meta:{truncate:false}}),oldPost:oldPost,resolverFn:resolverFn});})["catch"](function(err){_this4._safelySetState({isBusy:false});if(typeof failureFn==='function')failureFn();(0,_error_handler["default"])('Discussion updatePost: ',err);});};function _updatePostResolver(_ref6){var updatedPost=_ref6.updatedPost,oldPost=_ref6.oldPost,resolverFn=_ref6.resolverFn;var shouldFilterRecordFromState=updatedPost.category!==oldPost.category&&this.state.currentView==='category';var records=shouldFilterRecordFromState?this.state.records.filter(function(record){return record.id!==updatedPost.id;}):this.state.records.map(function(record){return record.id===updatedPost.id?Object.assign({},record,updatedPost):record;});this._safelySetState({isBusy:false,pinnedPosts:this.state.pinnedPosts.map(function(p){return p.id===updatedPost.id?Object.assign({},p,updatedPost):p;}),records:records},function(){if(typeof resolverFn==='function')resolverFn();});if(shouldFilterRecordFromState)(0,_dispatchers.summonGlobalMessenger)({msg:"Post moved to ".concat((0,_formatters.unsnakeString)(updatedPost.category,_formatters.capitalize),".")});fireUpdatedPostAnalytics(updatedPost);};}),60260:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=convertToJSONModel;var _submit=_interopRequireDefault(__webpack_require__(86260));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function processCE(block){return(0,_submit["default"])(block.html).then(function(json){return Promise.resolve({type:'CE',json:json});})["catch"](function(err){return Promise.reject(err);});}
function processCarousel(block,retainUrls){var images=block.images.filter(function(image){return image.id!==undefined&&image.id!==null;}).map(function(image){var id=image.id,figcaption=image.figcaption,uuid=image.uuid,name=image.name,width=image.width,height=image.height,url=image.url;return{id:id,figcaption:figcaption,uuid:uuid,name:name,height:height,width:width,url:retainUrls?url:null};});return{type:'Carousel',images:images};}
function processImageLink(block,retainUrls){var _block$image=block.image,id=_block$image.id,figcaption=_block$image.figcaption,uuid=_block$image.uuid,name=_block$image.name,link=_block$image.link,width=_block$image.width,height=_block$image.height;return{type:'ImageLink',image:{id:id,figcaption:figcaption,uuid:uuid,name:name,link:link,width:width,height:height,url:retainUrls?image.url:null}};}
function processVideo(block){var _block$video=block.video,id=_block$video.id,figcaption=_block$video.figcaption,embed=_block$video.embed,service=_block$video.service,type=_block$video.type,height=_block$video.height,width=_block$video.width;return{type:'Video',video:[{id:id,figcaption:figcaption,embed:embed,service:service,type:type,height:height,width:width}]};}
function convertToJSONModel(blocks){var retainUrls=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var promises=blocks.reduce(function(acc,block,index){switch(block.type){case 'CE':acc.push(Promise.resolve(processCE(block)));break;case 'Carousel':var Carousel=processCarousel(block,retainUrls);if(Carousel.images.length)acc.push(Promise.resolve(Carousel));break;case 'ImageLink':acc.push(Promise.resolve(processImageLink(block,retainUrls)));break;case 'Video':acc.push(Promise.resolve(processVideo(block)));break;default:acc.push(Promise.resolve(block));break;}
return acc;},[]);return Promise.all(promises);}}),48887:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getStory=getStory;exports.uploadImageToServer=uploadImageToServer;exports.processRemoteImage=processRemoteImage;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _file_upload=_interopRequireDefault(__webpack_require__(27350));var _Images=__webpack_require__(96190);var _attachments=__webpack_require__(87779);var _oauth=_interopRequireDefault(__webpack_require__(97523));var _description=__webpack_require__(16284);var _images=__webpack_require__(83922);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
var isUrlADataUrl=function isUrlADataUrl(image){return image.url.split(',')[0].indexOf('base64')!==-1;};var postAndProcessImageUrl=function postAndProcessImageUrl(image){return new Promise(function(resolve,reject){return(0,_attachments.postRemoteURL)(image.url,'image').then(function(body){return Promise.all([(0,_attachments.pollJob)(body['job_id']),Promise.resolve(Object.assign({},image,{id:body.id}))]);}).then(function(results){return resolve(results[1]);})["catch"](function(err){return reject(err);});});};var processDataUrlAndUpload=function processDataUrlAndUpload(image){var _getAWSResources=(0,_images.getAWSResources)(),S3BucketURL=_getAWSResources.S3BucketURL,AWSAccessKeyId=_getAWSResources.AWSAccessKeyId;return new Promise(function(resolve,reject){return(0,_Images.dataURIToBlob)(image.url).then(function(a,b){return uploadImageToServer(Object.assign({},image,{rawFile:a}),S3BucketURL,AWSAccessKeyId);}).then(function(image){return Promise.all([image,(0,_images.getImageDimsFromUrl)(image.url)]);}).then(function(_ref){var _ref2=_slicedToArray(_ref,2),image=_ref2[0],dims=_ref2[1];return Object.assign({},image,dims);}).then(function(image){return resolve(image);})["catch"](function(err){return reject(err);});});};function getStory(projectId){return _oauth["default"].apiRequest((0,_superagent["default"])("".concat(_oauth["default"].getApiPath(),"/private/projects/").concat(projectId,"/description")),true).then(function(body){if(!body)return Promise.reject('Error fetching story!');if(body.description!==null){return!body.description.length?Promise.resolve(''):(0,_description.parseDescription)(body.description,{initialParse:true}).then(function(parsed){return Promise.resolve(parsed);})["catch"](function(err){return Promise.reject(err);});}else if(body.story!==null){return Promise.resolve(body.story.length?body.story:'');}})["catch"](function(err){return Promise.reject('Error fetching story!');});}
function uploadImageToServer(image){var _getAWSResources2=(0,_images.getAWSResources)(),S3BucketURL=_getAWSResources2.S3BucketURL,AWSAccessKeyId=_getAWSResources2.AWSAccessKeyId;return new Promise(function(resolve,reject){return(0,_file_upload["default"])(image.rawFile,{S3BucketURL:S3BucketURL,AWSAccessKeyId:AWSAccessKeyId}).then(function(id){return resolve(Object.assign({},image,{id:id}));})["catch"](function(err){return reject(err);});});}
function processRemoteImage(image){return isUrlADataUrl(image)?processDataUrlAndUpload(image):postAndProcessImageUrl(image);}}),3623:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));Object.defineProperty(exports,"convertToJSONModel",({enumerable:true,get:function get(){return _convertToJSONModel2["default"];}}));Object.defineProperty(exports,"uploadImageToServer",({enumerable:true,get:function get(){return _helpers.uploadImageToServer;}}));Object.defineProperty(exports,"processRemoteImage",({enumerable:true,get:function get(){return _helpers.processRemoteImage;}}));exports.prepareModelForDraftsterInstance=exports.cleanUrlsFromCarousels=void 0;var _convertToJSONModel2=_interopRequireDefault(__webpack_require__(60260));var _helpers=__webpack_require__(48887);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var cleanUrlsFromCarousels=function cleanUrlsFromCarousels(model){return model.map(function(item){if(item.type!=='Carousel')return item;var images=item.images.map(function(image){return Object.assign({},image,{url:null});});return Object.assign({},item,{images:images});});};exports.cleanUrlsFromCarousels=cleanUrlsFromCarousels;var prepareModelForDraftsterInstance=function prepareModelForDraftsterInstance(model){if(!model||model&&!model.length)return '';return model;};exports.prepareModelForDraftsterInstance=prepareModelForDraftsterInstance;}),16284:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.parseDescription=parseDescription;exports.ElementWhiteList=void 0;var _htmlparser=__webpack_require__(23719);var _domhandler=__webpack_require__(47915);var _sanitizer=_interopRequireDefault(__webpack_require__(81646));var _validator=_interopRequireDefault(__webpack_require__(48966));var _video=__webpack_require__(59359);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
var BlockElements={'P':true,'UL':true,'H3':true,'BLOCKQUOTE':true,'PRE':true};var ElementWhiteList={'p':true,'a':true,'pre':true,'blockquote':true,'ul':true,'h3':true,'code':true,'strong':true,'span':true,'br':true,'em':true,'li':true};exports.ElementWhiteList=ElementWhiteList;function recurseElement(element){var mediaType=false;var blockEls={'div':true,'p':true,'ul':true,'blockquote':true,'pre':true,'h3':true};var el=function recurse(el,depth){var child;if(!el.children){return el;}
for(var i=el.children.length;i>0;i--){child=el.children[i-1];if(child.type==='script'||child.name==='script'){child.parent.children.splice(i-1,1);}
if(child.name==='img'){mediaType='image';}
if(child.name==='a'&&(!child.attribs.href||!_validator["default"].isURL(child.attribs.href))){child.name='em';}
if(child.name===undefined){child.name='span';child.attribs=child.attribs||{};}
if(blockEls[child.name]&&depth!==0){child.name='span';}else if(child.name==='div'&&depth===0){child.name='p';}
if(child.children&&child.children.length>0){recurse(child,depth+1);if(child.children.length<1){child.parent.children.splice(i-1,1);}}else{if(!child.data&&child.name!=='img'&&child.attribs['data-type']&&child.attribs['data-type']!=='url'){child.parent.children.splice(i-1,1);}}}
return el;}(element,0);return{mediaType:mediaType,el:el};}
function recurseAndReturnEl(parentEl,elName){var el;(function recurse(parentEl){if(!parentEl.children){return parentEl;}else{parentEl.children.forEach(function(child){if(child.name===elName){el=child;return;}
recurse(child);});}})(parentEl);return el;}
function findImageWrapper(element){var imgWrapper;(function recurse(el){if(!el.children){return el;}else{el.children.forEach(function(child){if(child.name==='div'&&child.attribs["class"]&&child.attribs["class"].indexOf('react-editor-image-wrapper')!==-1){imgWrapper=child;}
recurse(child);});}})(element);return imgWrapper;}
function getURLWidgetData(element){var src,figcaption,type,widgetType;(function recurse(el){if(!el.children){return el;}else{if(el.attribs["class"]&&el.attribs["class"].indexOf('embed-frame')!==-1&&el.attribs['data-type']==='url'){src=el.attribs['data-url'];type='iframe';}
el.children.forEach(function(child){if(child.attribs&&child.attribs["class"]&&child.attribs["class"].indexOf('embed-img')!==-1){type='image';}
if(child.name==='iframe'&&child.attribs.src){src=child.attribs.src;}
if(child.attribs&&child.attribs['data-repo']){type='repo';widgetType=child.attribs["class"];}
if(child.name==='div'&&child.attribs["class"]&&child.attribs["class"].indexOf('embed-figcaption')!==-1){figcaption=child.children.length?child.children[0].data:'';}
recurse(child);});}})(element);return[{embed:src,figcaption:figcaption||'',type:type||'',widgetType:widgetType||''}];}
function tryParse(string){try{return JSON.parse(string);}catch(err){return{};}}
function getCarouselData(element){var images=[];(function recurse(el){if(!el.children){return el;}else{el.children.forEach(function(child){if(child.name==='div'&&child.attribs['data-hacksternova-key']&&child.attribs['data-hacksternova-key']==='ImageCarousel'){var reactProps=child.attribs['data-hacksternova-props']||{};var parsedProps=tryParse(reactProps);if(parsedProps.hasOwnProperty('images')){images=parsedProps.images;}}
recurse(child);});}})(element);return reactImagesToCarouselData(images);}
function reactImagesToCarouselData(images){return images.map(function(image){return{id:image.id||null,url:image.image_urls.headline_url||image.image_urls.lightbox_url||'',alt:image.caption||'',figcaption:image.caption||'',show:false};});}
function getImages(element){var images=[];(function recurse(el){var obj={};if(!el.children){return el;}else{el.children.forEach(function(child){if(child.name==='img'){if(child.parent&&child.parent.parent&&child.parent.parent.parent&&child.parent.parent.parent.attribs['data-file-id']){obj.id=child.parent.parent.parent.attribs['data-file-id'];}
obj.url=child.attribs.src;obj.alt=child.attribs.alt||'';obj.figcaption='';obj.show=false;images.push(obj);}
recurse(child);});}})(element);return images;}
function getFileData(element){var url,content,id=element.attribs['data-file-id'],caption=element.attribs['data-caption']||'';(function recurse(el){if(!el.children){return el;}else{el.children.forEach(function(child){if(child.name==='a'){url=child.attribs.href;content=child.children[0].data;}
recurse(child);});}})(element);return{caption:caption,content:content,id:id,url:url};}
function getVideoData(element){var src,figcaption;(function recurse(el){if(!el.children){return el;}else{if(el.attribs["class"]&&el.attribs["class"].indexOf('embed-frame')!==-1&&el.attribs['data-type']==='url'){src=el.attribs['data-url'];}
el.children.forEach(function(child){if(src===undefined&&child.name==='source'){src=child.attribs['src'];}
if(child.name==='div'&&child.attribs["class"]&&child.attribs["class"].indexOf('embed-figcaption')!==-1){figcaption=child.children.length?child.children[0].data:'';}
recurse(child);});}})(element);return[{embed:src,figcaption:figcaption||'',service:'mp4',type:''}];}
function getWidgetPlaceholderData(el){var id,widgetType;id=el.attribs['data-widget-id'];widgetType=el.children[0].attribs["class"].split(' ').pop();return{id:id,type:'widget',widgetType:widgetType};}
function createCarousel(images){if(!images.length){return null;}
images[0].show=true;return{type:'Carousel',images:images};}
function createImageLink(image){return{type:'ImageLink',image:image};}
function createVideo(video){return{type:'Video',video:video};}
function createFile(data){return{type:'File',data:data};}
function createCodeBlock(data){var pre=recurseAndReturnEl(data,'pre');var PRE=Object.assign({},pre,{children:[{name:'code',children:pre.children,attribs:{},type:'tag'}]});return{type:'CE',json:[PRE]};}
function createWidgetPlaceholder(data){return{type:'WidgetPlaceholder',data:data};}
function transformTagNames(node){var converter={'b':'strong','bold':'strong','italic':'em','i':'em','ol':'ul','h1':'h3','h2':'h3','h4':'h3'};return converter[node.name]||node.name;}
function cleanUL(ul){var newChildren=function recurse(children){if(!children.length){return children;}else{return children.map(function(child){if(!child.children.length&&(!child.content||child.content.match(/^[\u21B5|\s+]{1}$/)!==null)){return null;}else{child.children=recurse(child.children);if(!child.children.length&&(!child.content||child.content.match(/^[\u21B5|\s+]{1}$/)!==null)){child=null;}
return child;}}).filter(function(child){return child!==null;});}}(ul.children);ul.children=newChildren;return ul;}
function shallowlyCleanHeaderChildren(children){var inlineMap={bold:true,italic:true,a:true};return children.map(function(child){if(inlineMap[child.tag]){child.tag='span';}
return child;});}
function expandPreBlocks(json){return json.reduce(function(acc,item){if(item.tag==='pre'){if(item.content&&item.content.length){acc=acc.concat(createPreBlocksByText(item));}
if(item.children&&item.children.length>0){item.children.forEach(function(child){var lastBlock=acc[acc.length-1];if(child.content&&child.content.length){if(lastBlock&&lastBlock.tag==='pre'){var _appendBlockToPreChil=appendBlockToPreChildren(lastBlock,child),appended=_appendBlockToPreChil.appended,pre=_appendBlockToPreChil.pre;if(appended){acc[acc.length-1]=pre;}else{acc=acc.concat(createPreBlocksByText(child));}}else{acc=acc.concat(createPreBlocksByText(child));}}
if(child.children&&child.children.length){acc=acc.concat(createPreBlocksForChildren(child.children));}});}}else{acc.push(item);}
return acc;},[]);}
function appendBlockToPreChildren(pre,childToAppend){var lastCodeChild=pre.children[0].children[pre.children[0].children.length-1];if(lastCodeChild&&lastCodeChild.content.match(/[\n\r]/g)){return{appended:false,pre:pre};}else{pre.children[0].children.push(childToAppend);return{appended:true,pre:pre};}}
function createPreBlocksForChildren(children){var createCodeBlock=function createCodeBlock(){return{tag:'code',content:null,attribs:{},children:[]};};var createPreBlock=function createPreBlock(){return{tag:'pre',content:null,attribs:{},children:[createCodeBlock()]};};return children.reduce(function(acc,child){var lastPreBlock=acc[acc.length-1];if(child.content&&child.content.includes('\n')){child.content=child.content+' &nbsp;';lastPreBlock.children[0].children=lastPreBlock.children[0].children.concat(child);acc[acc.length-1]=lastPreBlock;acc=acc.concat(createPreBlock());}else{lastPreBlock.children[0].children=lastPreBlock.children[0].children.concat(child);acc[acc.length-1]=lastPreBlock;}
return acc;},[createPreBlock()]);}
function createPreBlocksByText(item){var updatedText=item.content.replace(/[\n\r]/g,'\n');var blocks=updatedText.split('\n').reduce(function(acc,text,index,list){if(text.length){acc.push(text);}
if(index===list.length-1&&!acc.length){acc.push('\n &nbsp;');}
return acc;},[]);return blocks.map(function(block){return{tag:'pre',content:'',attribs:{},children:[{tag:'code',content:null,attribs:{},children:[{tag:item.tag,content:block,attribs:item.attribs,children:[]}]}]};});}
function createContainers(html){var tree=html.map(function(el,index){var mediaData,carousel,video,newEl;if(el.name==='div'&&el.attribs["class"]&&el.attribs["class"].indexOf('embed-frame')!==-1){if(el.attribs['data-type']==='widget'&&el.children&&el.children[0].attribs["class"].indexOf('image_widget')!==-1||el.children&&el.children[0]&&el.children[0].attribs['data-hacksternova-key']&&el.children[0].attribs['data-hacksternova-key']==='ImageCarousel'){mediaData=getCarouselData(el);newEl=createCarousel(mediaData);return newEl;}else if(el.attribs['data-type']==='video'){mediaData=getVideoData(el);newEl=createVideo(mediaData);return newEl;}else if(el.attribs['data-type']==='url'){mediaData=getURLWidgetData(el);if(mediaData[0].type==='repo'){newEl=createWidgetPlaceholder(mediaData[0]);}else{newEl=createVideo(mediaData);}
return newEl;}else if(el.attribs['data-type']==='file'){mediaData=getFileData(el);if(!mediaData.url||!mediaData.id){newEl=null;}else{newEl=createFile(mediaData);}
return newEl;}else if(el.attribs['data-type']==='widget'){if(el.children&&el.children[0].attribs["class"].indexOf('old_code_widget')!==-1){mediaData=getWidgetPlaceholderData(el);newEl=createWidgetPlaceholder(mediaData);}else if(el.children&&el.children[0].attribs["class"].indexOf('parts_widget')!==-1){mediaData=getWidgetPlaceholderData(el);newEl=createWidgetPlaceholder(mediaData);}
return newEl;}else{return null;}}else if(el.name==='img'){mediaData=[{url:el.attribs.src,alt:el.attribs.alt||''}];newEl=createCarousel(mediaData);return newEl;}else{var data=recurseElement(el);if(data.mediaType){mediaData=getImages(data.el);newEl=createCarousel(mediaData);return[newEl,{type:'CE',json:[data.el]}];}else{return{type:'CE',json:[data.el]};}}}).filter(function(item){return item!==null;}).reduce(function(acc,curr){if(Array.isArray(curr)){acc=acc.concat(curr);}else{acc.push(curr);}
return acc;},[]);return tree;}
function parseTree(html){function handler(html,depth){return _.map(html,function(item){var name;if(item.name==='script'||item.name==='comment'||item.name==='meta'){return null;}else if(item.name==='br'&&depth>1){return null;}
item.name=transformTagNames(item);if(!ElementWhiteList[item.name]){item.name=depth>0?'span':'p';}
if(item.name==='a'&&(!item.attribs.href||!_validator["default"].isURL(item.attribs.href))){return null;}
if(item.attribs&&item.attribs.style){item.attribs.style='';}
if(item.attribs&&item.attribs["class"]){item.attribs["class"]='';}
if(item.type==='text'&&!item.children){if(item.data.match(/&nbsp;/g)){item.data=item.data.replace(/&nbsp;/g,' ');}
return{tag:'span',content:_sanitizer["default"].escape(item.data),attribs:{},children:[]};}else if(item.children&&item.children.length===1&&item.children[0].type==='text'){if(item.children[0].data.match(/&nbsp;/g)){item.children[0].data=item.children[0].data.replace(/&nbsp;/g,' ');}
return{tag:name||item.name,content:_sanitizer["default"].escape(item.children[0].data),attribs:item.attribs,children:[]};}else{return{tag:name||item.name,content:null,attribs:item.attribs,children:handler(item.children||[],depth+1)};}}).filter(function(item){return item!==null;});}
return handler(html,0);}
function cleanTree(json){return json.map(function(item){if(item.tag==='li'){item.tag='ul';item.children=[{tag:'li',content:item.content,attribs:{},children:[]}];item.content=null;item=cleanUL(item);if(!item.content||!item.children.length){item=null;}
return item;}else if(item.tag==='ul'){if(!item.children.length&&item.content&&item.content.length>0){item.children.push({tag:'li',attribs:{},children:[],content:item.content});item.content='';}
item.children=item.children.map(function(child){if(child.children&&!child.children.length&&child.content&&child.content.length<=1&&(child.content==='\n'||child.content===' ')){return null;}else if(child.tag!=='li'){child.tag='li';return child;}else{return child;}}).filter(function(child){return child!==null;});item=cleanUL(item);return item;}else if(item.tag==='div'){item.tag='p';if(item.children.length<1){item.children.push({tag:'br',content:'',attribs:{},children:[]});}
return item;}else if(item.tag==='h3'){item.children=shallowlyCleanHeaderChildren(item.children);return item;}else if(item.tag==='span'){if(item.content&&item.content==='\n'||item.content===' '){return null;}else{item.tag='p';if(item.children.length<1){item.children.push({tag:'br',content:'',attribs:{},children:[]});}
return item;}}else if(item.tag==='br'){return null;}else if(!BlockElements[item.tag.toUpperCase()]){var p={tag:'p',content:'',attribs:{},children:[item]};return p;}else if(item.tag==='p'&&item.children&&item.children.length<1){if(item.content&&item.content.match(/\n/)){item.content=item.content.replace(/\n/g,'');}
if(item.content&&!item.content.length){item=null;}
if(item.content===null&&!item.children.length){item=null;}
return item;}else if((item.children===null||!item.children.length)&&(item.content===null||!item.content.length)){return null;}else{return item;}}).filter(function(c){return c!==null;});}
function mergeAndParseTree(collection,options){var newCollection=[];collection.forEach(function(component,index){if(index>0&&collection[index-1].type==='CE'&&component.type==='CE'){var _newCollection$json;(_newCollection$json=newCollection[newCollection.length-1].json).push.apply(_newCollection$json,_toConsumableArray(component.json));}else if(component.type==='Video'&&component.video[0].type==='iframe'){var videoData=(0,_video.getVideoData)(component.video[0].embed);component.video[0]=Object.assign({},component.video[0],videoData);newCollection.push(component);}else{newCollection.push(component);}});newCollection=newCollection.map(function(coll){if(coll.type==='CE'){coll.json=parseTree(coll.json);coll.json=cleanTree(coll.json);if(options&&options.initialParse){coll.json=expandPreBlocks(coll.json);}
return coll;}else{return coll;}}).filter(function(coll){return coll.type==='CE'&&!coll.json.length?false:true;});if(newCollection[newCollection.length-1]&&newCollection[newCollection.length-1].type!=='CE'){newCollection.push({type:'CE',json:[{tag:'p',attribs:{},children:[],content:null}]});}
return newCollection;}
function parseDescription(html,options){return new Promise(function(resolve,reject){var handler=new _domhandler.DomHandler(function(err,dom){if(err)reject(err);var containerd=createContainers(dom);var parsedHtml=mergeAndParseTree(containerd,options);resolve(parsedHtml);},{});var parser=new _htmlparser.Parser(handler,{decodeEntities:true});parser.write(html);parser.done();});}}),86260:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=parseHTML;exports.ElementWhiteList=exports.BlockElements=void 0;var _htmlparser=__webpack_require__(23719);var _domhandler=__webpack_require__(47915);var _sanitizer=_interopRequireDefault(__webpack_require__(81646));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
var BlockElements={'p':true,'ul':true,'h3':true,'blockquote':true,'pre':true};exports.BlockElements=BlockElements;var ElementWhiteList={'p':true,'a':true,'pre':true,'blockquote':true,'ul':true,'h3':true,'code':true,'strong':true,'span':true,'br':true,'em':true,'li':true};exports.ElementWhiteList=ElementWhiteList;function transformTagNames(name,depth){var transformMap={'b':'strong','bold':'strong','italic':'em','i':'em','ol':'ul','h1':'h3','h2':'h3','h4':'h3'};var updatedName=transformMap.hasOwnProperty(name)?transformMap[name]:name;if(!ElementWhiteList.hasOwnProperty(updatedName))return depth>0?'span':'p';return updatedName;}
function createSpan(content){var children=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];content=content||'';return{tag:'span',attribs:{},content:content,children:children};}
function createBR(){return{tag:'br',attribs:{},content:null,children:[]};}
function flattenChildren(children){var content=[];(function recurse(array){if(!array.length){return;}else{array.forEach(function(item){if(item.children.length){recurse(item.children);}else if(item.tag==='br'){content.push(createBR());}else if(item.content&&item.content.length>0){content.push(createSpan(item.content));}});}})(children);return content;}
function createPreChildren(node){var isFirstPreFound=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var children=isFirstPreFound?[]:[createBR()];if(node.children.length){if(node.content)children.push(createSpan(node.content));children.push.apply(children,_toConsumableArray(flattenChildren(node.children)));}else{children.push(createSpan(node.content));}
return children.filter(function(child){return child!==null;});}
function concatPreBlocks(json){return json.reduce(function(acc,curr,index){if(acc.length>0&&acc[acc.length-1].tag==='pre'&&curr.tag==='pre'){var _acc$children$0$child;var children=createPreChildren(curr,false);(_acc$children$0$child=acc[acc.length-1].children[0].children).push.apply(_acc$children$0$child,_toConsumableArray(children));}else if(curr.tag==='pre'){var code={tag:'code',attribs:{},content:'',children:createPreChildren(curr,true)};acc.push({tag:'pre',attribs:{},content:'',children:[code]});}else{acc.push(curr);}
return acc;},[]);}
function concatULBlocks(json){return json.reduce(function(acc,curr,index){var lastItem=acc[acc.length-1];if(lastItem&&lastItem.tag==='ul'&&curr.tag==='ul'){var children=lastItem.children.concat(curr.children);acc[acc.length-1].children=children;}else if(curr.tag==='p'&&!curr.children.length&&!curr.content){acc.push(Object.assign({},curr,{content:'',children:[createBR()]}));}else{acc.push(curr);}
return acc;},[]);}
function getAttributesByTagType(item){item.attribs=item.attribs||{};var block=BlockElements[item.tag]?item.tag:null;var classes=item.attribs["class"]||'';var attribs=_defineProperty({'a':" href=\"".concat(item.attribs.href,"\"")},block," class=\"".concat(classes,"\""));return attribs[item.tag]?attribs[item.tag]:'';}
function parseTree(dom){function handler(html,depth){if(!html.length){return[];}
return html.map(function(item){item.name=transformTagNames(item.name,depth);if(item.type==='text'&&!item.children){return{tag:'span',content:_sanitizer["default"].escape(item.data),attribs:{},children:[]};}else if(item.children&&item.children.length===1&&item.children[0].type==='text'){return{tag:item.name,content:_sanitizer["default"].escape(item.children[0].data),attribs:item.attribs,children:[]};}else{return{tag:item.name,content:null,attribs:item.attribs,children:handler(item.children||[],depth+1)};}}).filter(function(item){return item!==null;});}
return handler(dom,0);}
function parseHTML(html){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return new Promise(function(resolve,reject){var handler=new _domhandler.DomHandler(function(err,dom){if(err)reject("DomHandler Error: ".concat(err));resolve(concatULBlocks(concatPreBlocks(parseTree(dom))));},Object.assign({},options,{normalizeWhitespace:false}));var parser=new _htmlparser.Parser(handler,{decodeEntities:true});parser.write(html);parser.done();});}}),21228:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _highlight=_interopRequireDefault(__webpack_require__(77869));var _error_boundary=_interopRequireDefault(__webpack_require__(27605));var _StoryJSONBlock=_interopRequireDefault(__webpack_require__(65565));var _strings=__webpack_require__(9263);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var StoryJSON=function(_PureComponent){_inherits(StoryJSON,_PureComponent);var _super=_createSuper(StoryJSON);function StoryJSON(props){var _this;_classCallCheck(this,StoryJSON);_this=_super.call(this,props);_this.buildHeaderID=_this.buildHeaderID.bind(_assertThisInitialized(_this));_this.headerCounter=0;return _this;}
_createClass(StoryJSON,[{key:"componentDidMount",value:function componentDidMount(){if(this._root)this._highlightCodeBlocks(this._root);}},{key:"buildHeaderID",value:function buildHeaderID(title){var id="toc-".concat((0,_strings.toKebabCaseAlphaNumericOnly)(title),"-").concat(this.headerCounter);this.headerCounter++;return id;}},{key:"_highlightCodeBlocks",value:function _highlightCodeBlocks(el){[].slice.call(el.querySelectorAll('pre code')).forEach(function(block){return _highlight["default"].highlightBlock(block);});}},{key:"render",value:function render(){var _this2=this;this.headerCounter=0;var _this$props=this.props,className=_this$props.className,story=_this$props.story;return(_react["default"].createElement("div",{ref:function ref(el){return _this2._root=el;},className:"".concat(className," project-story hljs-monokai")},story.map(function(item,index){return _react["default"].createElement(_error_boundary["default"],{key:index},_react["default"].createElement(_StoryJSONBlock["default"],{buildHeaderID:_this2.buildHeaderID,index:index,item:item}));})));}}]);return StoryJSON;}(_react.PureComponent);;StoryJSON.propTypes={className:_propTypes["default"].string,story:_propTypes["default"].array.isRequired};StoryJSON.defaultProps={className:''};var _default=StoryJSON;exports["default"]=_default;}),65565:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _templates=__webpack_require__(50612);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var StoryJSONBlock=function StoryJSONBlock(_ref){var item=_ref.item,index=_ref.index,buildHeaderID=_ref.buildHeaderID;switch(item.type){case 'CE':return(0,_templates.buildHTML)(item.json,buildHeaderID);case 'Carousel':return(0,_templates.buildCarousel)(item.images,index.toString());case 'Embed':return(0,_templates.buildEmbed)(item.data);case 'Video':var video=Array.isArray(item.video)?item.video[0]:item.video;return(0,_templates.buildEmbed)(video);case 'WidgetPlaceholder':case 'WidgetPlacholder':if(item.data.type==='twitter')return(0,_templates.buildEmbed)(item.data);return null;default:console.warn("Draftster block type ".concat(item.type," not yet implemented in StoryJSONBlock"),item);return null;}};StoryJSONBlock.propTypes={buildHeaderID:_propTypes["default"].func.isRequired,index:_propTypes["default"].number.isRequired,item:_propTypes["default"].shape({type:_propTypes["default"].oneOf(['CE','Carousel','Embed','WidgetPlaceholder','WidgetPlacholder','Video']).isRequired,data:_propTypes["default"].object,images:_propTypes["default"].array,json:_propTypes["default"].array,video:_propTypes["default"].oneOfType([_propTypes["default"].array,_propTypes["default"].object])}).isRequired};var _default=StoryJSONBlock;exports["default"]=_default;}),56473:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.doesStoryHaveContent=exports.doesCENodesHaveContent=exports.doesCENodeHaveContent=exports.doesCEBlockHaveContent=exports.extractItemContent=exports.extractCoverImageFromStory=void 0;var _types=__webpack_require__(88742);var extractCoverImageFromStory=function extractCoverImageFromStory(story){if((0,_types.isBlank)(story))return{coverImage:null,story:story};var firstBlock=story[0];if(firstBlock.type==='CE'&&!doesCEBlockHaveContent(firstBlock)){return extractCoverImageFromStory(story.slice(1));}
if(firstBlock.type==='Carousel'){return{coverImage:firstBlock.images[0],story:story.slice(1)};}
return{coverImage:null,story:story};};exports.extractCoverImageFromStory=extractCoverImageFromStory;var extractItemContent=function extractItemContent(item){if(item.content)return item.content;return item.children.map(function(child){return extractItemContent(child);}).join(' ');};exports.extractItemContent=extractItemContent;var doesCEBlockHaveContent=function doesCEBlockHaveContent(block){return doesCENodesHaveContent(block.json);};exports.doesCEBlockHaveContent=doesCEBlockHaveContent;var doesCENodeHaveContent=function doesCENodeHaveContent(node){return!(0,_types.isBlank)(node.content)||doesCENodesHaveContent(node.children);};exports.doesCENodeHaveContent=doesCENodeHaveContent;var doesCENodesHaveContent=function doesCENodesHaveContent(){var nodes=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];for(var i=0;i<nodes.length;i++){if(doesCENodeHaveContent(nodes[i]))return true;}
return false;};exports.doesCENodesHaveContent=doesCENodesHaveContent;var doesStoryHaveContent=function doesStoryHaveContent(){var story=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(!story)return false;for(var i=0;i<story.length;i++){var block=story[i];if(block.type!=='CE'||doesCEBlockHaveContent(block))return true;}
return false;};exports.doesStoryHaveContent=doesStoryHaveContent;}),3725:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lazy_component=_interopRequireDefault(__webpack_require__(99171));var _generateRandomKey=_interopRequireDefault(__webpack_require__(89950));var _accessors=__webpack_require__(4887);var _layout=_interopRequireDefault(__webpack_require__(42721));var _lazy_image=_interopRequireDefault(__webpack_require__(79310));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DEFAULT_PLACEHOLDER_HEIGHT=250;var LOAD_FALLBACK_TIMEOUT=500;var EmbedIframe=function(_PureComponent){_inherits(EmbedIframe,_PureComponent);var _super=_createSuper(EmbedIframe);function EmbedIframe(props){var _this;_classCallCheck(this,EmbedIframe);_this=_super.call(this,props);_this.state={height:'auto',isLoaded:false};_this.handleIframeLoad=_this.handleIframeLoad.bind(_assertThisInitialized(_this));_this.handleIframeResponse=_this.handleIframeResponse.bind(_assertThisInitialized(_this));_this.uid=(0,_generateRandomKey["default"])();_this._iframeRef=_react["default"].createRef();return _this;}
_createClass(EmbedIframe,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener('message',this.handleIframeResponse);}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener('message',this.handleIframeResponse);}},{key:"handleIframeLoad",value:function handleIframeLoad(){var contentWindow=this._getIframeContentWindow();if(contentWindow){this.props.config.sendMessageToIframe({contentWindow:contentWindow,data:this.props.data,uid:this.uid});this._setLoadTimeout();}}},{key:"handleIframeResponse",value:function handleIframeResponse(e){if(this._getIframeContentWindow()!==e.source)return;var height=parseInt(this.props.config.getHeightFromIframeMessage(e),10);if(height&&height!==this.state.height){this.setState({height:height,isLoaded:true});}}},{key:"_getIframeContentWindow",value:function _getIframeContentWindow(){return(0,_accessors.getInObjWithPrototypeAccess)(['current','contentWindow'],this._iframeRef);}},{key:"_setLoadTimeout",value:function _setLoadTimeout(){var _this2=this;window.setTimeout(function(){if(!_this2.state.isLoaded)_this2.setState({isLoaded:true});},LOAD_FALLBACK_TIMEOUT);}},{key:"render",value:function render(){var _this3=this;var _this$props$data=this.props.data,embed=_this$props$data.embed,height=_this$props$data.height;return _react["default"].createElement("div",{className:"".concat(_util["default"].posRelative," ").concat(_lazy_image["default"].fade," ").concat(this.state.isLoaded?_lazy_image["default"].fadeIn:'')},_react["default"].createElement(_lazy_component["default"],{className:"".concat(_layout["default"].fullWidth," ").concat(_layout["default"].flexJustifyCenter),style:{position:this.state.isLoaded?'relative':'absolute'},verticalOffset:250},function(){return _react["default"].createElement("iframe",{ref:_this3._iframeRef,frameBorder:0,height:_this3.state.height,src:_this3.props.config.getIframeSrc({embed:embed,uid:_this3.uid}),onLoad:_this3.handleIframeLoad,style:{maxWidth:'100%'},width:_this3.props.config.width});}),!this.state.isLoaded&&_react["default"].createElement("div",{style:{height:height||DEFAULT_PLACEHOLDER_HEIGHT}}));}}]);return EmbedIframe;}(_react.PureComponent);EmbedIframe.propTypes={config:_propTypes["default"].shape({getIframeSrc:_propTypes["default"].func.isRequired,getHeightFromIframeMessage:_propTypes["default"].func.isRequired,sendMessageToIframe:_propTypes["default"].func.isRequired,width:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]).isRequired}).isRequired,data:_propTypes["default"].shape({embed:_propTypes["default"].string.isRequired,id:_propTypes["default"].string,height:_propTypes["default"].number,service:_propTypes["default"].string,type:_propTypes["default"].string}).isRequired};var _default=EmbedIframe;exports["default"]=_default;}),52610:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lazy_component=_interopRequireDefault(__webpack_require__(99171));var _MediaElement=_interopRequireDefault(__webpack_require__(94140));var _math=__webpack_require__(45498);var _helpers=__webpack_require__(90041);var _lazy_image=_interopRequireDefault(__webpack_require__(79310));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var LazyMP4=function(_PureComponent){_inherits(LazyMP4,_PureComponent);var _super=_createSuper(LazyMP4);function LazyMP4(props){var _this;_classCallCheck(this,LazyMP4);_this=_super.call(this,props);_this.state={isLoaded:false};return _this;}
_createClass(LazyMP4,[{key:"render",value:function render(){var _this2=this;var _this$props$data=this.props.data,embed=_this$props$data.embed,height=_this$props$data.height,width=_this$props$data.width;var aspectRatio=width/height||16/9;return _react["default"].createElement(_lazy_component["default"],{className:"".concat(_util["default"].absolutePlaceholderParent," ").concat(_lazy_image["default"].fade," ").concat(this.state.isLoaded?_lazy_image["default"].fadeIn:''),style:{paddingBottom:(0,_math.aspectRatioPadding)({aspectRatio:aspectRatio})},verticalOffset:250},function(){return _react["default"].createElement(_MediaElement["default"],{className:"".concat(_util["default"].absolutePlaceholderChild," ").concat(_util["default"].overflowHidden),format:_helpers.VIDEO,src:embed,onLoad:function onLoad(){return _this2.setState({isLoaded:true});},videoRole:"video"});});}}]);return LazyMP4;}(_react.PureComponent);LazyMP4.propTypes={data:_propTypes["default"].shape({embed:_propTypes["default"].string,height:_propTypes["default"].number,width:_propTypes["default"].number,figcaption:_propTypes["default"].string}).isRequired};var _default=LazyMP4;exports["default"]=_default;}),24539:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getEmbedConfig=getEmbedConfig;var _accessors=__webpack_require__(4887);var _types=__webpack_require__(88742);var EMBED_ORIGIN='https://embeds.hackster.io';var getIframeScript=function getIframeScript(id){return "<script>\n  window.addEventListener('message', function(event) {\n    if (event.data.id === \"".concat(id,"\") {\n      var body = document.body, html = document.documentElement;\n      var height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n      window.parent.postMessage({ height: height, id: \"").concat(id,"\" }, \"*\");\n    }\n  }, false);\n</script>");};var baseConfig={getIframeSrc:function getIframeSrc(_ref){var embed=_ref.embed;return embed;},getHeightFromIframeMessage:function getHeightFromIframeMessage(e){return(0,_types.isObject)(e.data)?e.data.height:null;},sendMessageToIframe:function sendMessageToIframe(_ref2){var contentWindow=_ref2.contentWindow,uid=_ref2.uid;return contentWindow.postMessage({id:uid},'*');},width:'100%'};var gistConfig=Object.assign({},baseConfig,{getIframeSrc:function getIframeSrc(_ref3){var embed=_ref3.embed,uid=_ref3.uid;return "data:text/html;charset=utf-8,<body><script src=\"".concat(embed,".js\"></script>").concat(getIframeScript(uid),"</body>");}});var instagramConfig=Object.assign({},baseConfig,{getHeightFromIframeMessage:function getHeightFromIframeMessage(e){var data=JSON.parse(e.data);return data&&data.type==='MEASURE'?(0,_accessors.getInObjWithPrototypeAccess)(['details','height'],data):null;}});var twitterConfig=Object.assign({},baseConfig,{getIframeSrc:function getIframeSrc(_ref4){var embed=_ref4.embed;return "".concat(EMBED_ORIGIN,"/tweet?url=").concat(embed);},sendMessageToIframe:function sendMessageToIframe(_ref5){var contentWindow=_ref5.contentWindow,data=_ref5.data;contentWindow.postMessage({element:data.id,query:'height'},EMBED_ORIGIN);},width:500});function getEmbedConfig(data){if(data.type==='twitter')return twitterConfig;if(data.service==='gist')return gistConfig;if(data.service==='instagram')return instagramConfig;return null;}}),50612:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);Object.defineProperty(exports,"__esModule",({value:true}));exports.buildHTML=exports.buildEmbed=exports.buildCarousel=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _sanitizer=_interopRequireDefault(__webpack_require__(81646));var _EmbedIframe=_interopRequireDefault(__webpack_require__(3725));var _index=_interopRequireDefault(__webpack_require__(11865));var _LazyMP=_interopRequireDefault(__webpack_require__(52610));var _LazyResponsiveIframe=_interopRequireDefault(__webpack_require__(5110));var _storyJSONHelpers=__webpack_require__(56473);var _mainServiceOperators=__webpack_require__(90375);var _embedConfig=__webpack_require__(24539);var _helpers=__webpack_require__(90041);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var CAROUSEL_IMAGE_OPTS={ratio:'4:3',fit:'max'};var HEADLINE_WIDTH=740;var LIGHTBOX_WIDTH=1280;var ATTR_PROP_MAP={"class":'className',href:'href',rel:'rel'};var EMPTY_TAG_WHITELIST={br:true,hr:true};var allowEmptyTag=function allowEmptyTag(tagName){return EMPTY_TAG_WHITELIST[tagName]||false;};var attrsToProps=function attrsToProps(){var attrs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return Object.keys(attrs).reduce(function(acc,key){var propKey=ATTR_PROP_MAP[key];if(!propKey){console.warn("Warning: encountered unknown attribute ".concat(key,": ").concat(attrs[key]," in storyJSONHelpers attrsToProps. you should probably add it to the whitelist"));return acc;}
return Object.assign({},acc,_defineProperty({},propKey,attrs[key]));},{});};var getHtmlTagChildren=function getHtmlTagChildren(item,buildHeaderID){var children=[_sanitizer["default"].unescapeEntities(item.content)].concat(_toConsumableArray(buildHTML(item.children,buildHeaderID))).filter(function(c){return c;});return children.length?children:null;};var buildHTMLTag=function buildHTMLTag(_ref){var buildHeaderID=_ref.buildHeaderID,item=_ref.item,key=_ref.key;if(!allowEmptyTag(item.tag)&&!(0,_storyJSONHelpers.doesCENodeHaveContent)(item))return null;if(item.tag==='h3')return buildHeader(item,buildHeaderID);return _react["default"].createElement(item.tag,Object.assign({key:key},attrsToProps(item.attribs),getCustomTagProps(item)),getHtmlTagChildren(item,buildHeaderID));};var buildHeader=function buildHeader(item,buildHeaderID){var content=(0,_storyJSONHelpers.extractItemContent)(item);if(!content)return null;var id=buildHeaderID(content);return _react["default"].createElement("h3",{key:id,className:"".concat(_typography["default"].h3," title-with-anchor"),id:id},_react["default"].createElement("a",{className:"anchor",href:"#".concat(id)},_react["default"].createElement("i",{className:"fa fa-link"})),_react["default"].createElement("span",null,content));};var getCustomTagProps=function getCustomTagProps(item){switch(item.tag){case 'a':return{className:_typography["default"].linkBlue,onClick:function onClick(e){return(0,_mainServiceOperators.fireClickedLinkAnalyticsWithRedirect)({location:'story',type:'story'},null,e);},rel:'nofollow'};case 'p':return{className:_typography["default"].bodyL};case 'ul':return{className:_typography["default"].bodyL};default:return{};}};var getEmbedInner=function getEmbedInner(data){if(data.service==='mp4')return _react["default"].createElement(_LazyMP["default"],{data:data});var config=(0,_embedConfig.getEmbedConfig)(data);if(config)return _react["default"].createElement(_EmbedIframe["default"],{config:config,data:data});return _react["default"].createElement(_LazyResponsiveIframe["default"],{src:data.embed,verticalOffset:250});};var remapImageProps=function remapImageProps(images){return images.map(function(image){return Object.assign({},image,{caption:image.figcaption,image_urls:{headline_url:(0,_helpers.processURL)(Object.assign({},CAROUSEL_IMAGE_OPTS,{src:image.url,width:HEADLINE_WIDTH})).src,lightbox_url:(0,_helpers.processURL)(Object.assign({},CAROUSEL_IMAGE_OPTS,{src:image.url,width:LIGHTBOX_WIDTH})).src}});});};var buildCarousel=function buildCarousel(images,uid){return _react["default"].createElement(_index["default"],{images:remapImageProps(images),uid:uid});};exports.buildCarousel=buildCarousel;var buildEmbed=function buildEmbed(data){return _react["default"].createElement("figure",{className:"".concat(_layout["default"].marginTop30," ").concat(_layout["default"].marginBottom30," ").concat(_layout["default"].fullWidth)},getEmbedInner(data),!!data.figcaption&&_react["default"].createElement("figcaption",{className:"".concat(_typography["default"].textCenter," ").concat(_typography["default"].pebble," ").concat(_typography["default"].bodyS," ").concat(_layout["default"].marginTop10)},data.figcaption));};exports.buildEmbed=buildEmbed;var buildHTML=function buildHTML(ce,buildHeaderID){return ce.map(function(item,i){return buildHTMLTag({buildHeaderID:buildHeaderID,item:item,key:i});});};exports.buildHTML=buildHTML;}),52899:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _custom=_interopRequireDefault(__webpack_require__(30294));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AsyncCheckbox=function(_Component){_inherits(AsyncCheckbox,_Component);var _super=_createSuper(AsyncCheckbox);function AsyncCheckbox(props){var _this;_classCallCheck(this,AsyncCheckbox);_this=_super.call(this,props);_this.state={isBusy:false,isChecked:props.initChecked,isCheckedAndSuccessful:props.initChecked};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this._isMounted;return _this;}
_createClass(AsyncCheckbox,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;}},{key:"onChange",value:function onChange(isChecked){var _this2=this;if(this.state.isBusy)return;this.setState({isBusy:true,isChecked:isChecked});return this.props.request(this.props.requestArgs(isChecked)).then(function(){if(_this2._isMounted){_this2.props.propagateStatus(isChecked);_this2.setState({isBusy:false,isCheckedAndSuccessful:isChecked,isChecked:isChecked});}})["catch"](function(err){if(_this2._isMounted){_this2.props.propagateStatus(!isChecked);_this2.setState({isBusy:false,isChecked:!isChecked});}});}},{key:"_getLabel",value:function _getLabel(){if(!this.props.successMsg)return this.props.label;return this.state.isCheckedAndSuccessful?this.props.successMsg:this.props.label;}},{key:"render",value:function render(){return _react["default"].createElement("div",null,_react["default"].createElement(_custom["default"],{classList:this.props.classList,checkboxPosition:this.props.checkboxPosition,disabled:this.props.disabled||this.state.isBusy,isChecked:this.state.isChecked,label:this.props.label,onChange:this.onChange}),this.props.successMsg&&this.state.isCheckedAndSuccessful&&_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold," ").concat(_typography["default"].textCenter," ").concat(_layout["default"].marginTop15)},this.props.successMsg));}}]);return AsyncCheckbox;}(_react.Component);AsyncCheckbox.propTypes={checkboxPosition:_propTypes["default"].string,classList:_propTypes["default"].shape({label:_propTypes["default"].string}),disabled:_propTypes["default"].bool,initChecked:_propTypes["default"].bool,label:_propTypes["default"].string,propagateStatus:_propTypes["default"].func,request:_propTypes["default"].func.isRequired,requestArgs:_propTypes["default"].func,successMsg:_propTypes["default"].string};AsyncCheckbox.defaultProps={checkboxPosition:null,classList:{label:''},disabled:false,initChecked:false,label:null,propagateStatus:function propagateStatus(){},requestArgs:function requestArgs(){},successMsg:null};var _default=AsyncCheckbox;exports["default"]=_default;}),30294:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _icon=_interopRequireDefault(__webpack_require__(44509));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _custom_checkbox=_interopRequireDefault(__webpack_require__(33530));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Checkbox=function(_Component){_inherits(Checkbox,_Component);var _super=_createSuper(Checkbox);function Checkbox(props){var _this;_classCallCheck(this,Checkbox);_this=_super.call(this,props);_this.state={checked:props.isChecked};_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));return _this;}
_createClass(Checkbox,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.isChecked!==this.state.checked){this.setState({checked:nextProps.isChecked});}}},{key:"onClick",value:function onClick(){if(this.props.disabled)return;var checked=!this.state.checked;this.props.onChange(checked);this.setState({checked:checked});}},{key:"_getCheckboxPositionClass",value:function _getCheckboxPositionClass(){var position=this.props.checkboxPosition;return position?_custom_checkbox["default"]["checkbox".concat(position.slice(0,1).toUpperCase()).concat(position.slice(1))]:'';}},{key:"render",value:function render(){var _this$props=this.props,classList=_this$props.classList,error=_this$props.error,disabled=_this$props.disabled,label=_this$props.label,name=_this$props.name,value=_this$props.value;return _react["default"].createElement("div",{className:"".concat(_custom_checkbox["default"].checkboxWrapper," ").concat(!label?_custom_checkbox["default"].maxWidth:''," ").concat(disabled?_custom_checkbox["default"].disabled:''),onClick:disabled?null:this.onClick},_react["default"].createElement("div",{className:"".concat(_custom_checkbox["default"].checkbox," ").concat(this.state.checked?_util["default"].bgHackster:_util["default"].bgWhite," ").concat(this._getCheckboxPositionClass()," ").concat(error?_custom_checkbox["default"].error:''),tabIndex:"0"},_react["default"].createElement("input",{className:_custom_checkbox["default"].input,checked:this.state.checked,onChange:function onChange(){},type:"checkbox",name:name,value:value}),this.state.checked&&_react["default"].createElement(_icon["default"],{className:_typography["default"].white,name:"checkmark"})),label&&_react["default"].createElement("label",{className:"".concat(_layout["default"].marginLeft15," ").concat(_layout["default"].marginBottom0," ").concat(_typography["default"].bodyM," ").concat(classList.label," ").concat(disabled?_custom_checkbox["default"].disabled:'')},label));}}]);return Checkbox;}(_react.Component);Checkbox.propTypes={checkboxPosition:_propTypes["default"].string,classList:_propTypes["default"].shape({label:_propTypes["default"].string}),disabled:_propTypes["default"].bool,error:_propTypes["default"].string,isChecked:_propTypes["default"].bool.isRequired,label:_propTypes["default"].node,name:_propTypes["default"].string,onChange:_propTypes["default"].func,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].bool])};Checkbox.defaultProps={checkboxPosition:null,classList:{label:''},disabled:false,error:null,label:null,name:'',onChange:function onChange(){},value:''};var _default=Checkbox;exports["default"]=_default;}),78719:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _base=_interopRequireDefault(__webpack_require__(6094));var _drop_zone=_interopRequireDefault(__webpack_require__(46530));var _progress_bar=_interopRequireDefault(__webpack_require__(85815));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _file_upload=_interopRequireDefault(__webpack_require__(27350));var _images=__webpack_require__(83922);var _events=__webpack_require__(64770);var _links=__webpack_require__(49180);var _attachments=__webpack_require__(87779);var _alerts=__webpack_require__(49020);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var BasicFileUploader=function(_Component){_inherits(BasicFileUploader,_Component);var _super=_createSuper(BasicFileUploader);function BasicFileUploader(props){var _this;_classCallCheck(this,BasicFileUploader);_this=_super.call(this,props);_this.state={isBusy:false};_this.handleFileEvent=_this.handleFileEvent.bind(_assertThisInitialized(_this));_this.handleUploadBtnClick=_this.handleUploadBtnClick.bind(_assertThisInitialized(_this));_this._fileInput;return _this;}
_createClass(BasicFileUploader,[{key:"handleFileEvent",value:function handleFileEvent(e){e.preventDefault();var file=(0,_events.getFilesFromEvent)(e)[0];if(this._fileInput)this._fileInput.value='';this._uploadFile(file);}},{key:"handleUploadBtnClick",value:function handleUploadBtnClick(e){if(this._fileInput){e.preventDefault();this._fileInput.click();}}},{key:"_reportError",value:function _reportError(err){this.props.reportError(_alerts.GENERIC_ERROR);this.props.propagateStatus(false);this.setState({isBusy:false});(0,_error_handler["default"])(err);}},{key:"_reportUpload",value:function _reportUpload(fileData){this.props.propagateUpload(fileData);this.props.propagateStatus(false);this.setState({isBusy:false});}},{key:"_uploadFile",value:function _uploadFile(file){var _this2=this;this.setState({isBusy:true});var _getAWSResources=(0,_images.getAWSResources)(),AWSAccessKeyId=_getAWSResources.AWSAccessKeyId,S3BucketURL=_getAWSResources.S3BucketURL;return(0,_file_upload["default"])(file,{AWSAccessKeyId:AWSAccessKeyId,S3BucketURL:S3BucketURL}).then(function(id){return(0,_attachments.pollForAttachment)(id);}).then(function(attachment){return _this2._reportUpload({id:attachment.id,name:file.name,url:attachment.file.url});})["catch"](function(err){return _this2._reportError(err);});}},{key:"_getDisplayName",value:function _getDisplayName(){return this.props.fileData.name||(0,_links.getFileNameFromUrl)(this.props.fileData.url);}},{key:"_getButtonView",value:function _getButtonView(){var hasFile=!!this.props.fileData.id;return _react["default"].createElement("div",{className:_layout["default"].flexStartItems},_react["default"].createElement(_base["default"],{className:_layout["default"].flex00Auto,disabled:this.state.isBusy,onClick:this.handleUploadBtnClick,size:"lg"},hasFile?'Change file':'Select file'),hasFile&&_react["default"].createElement("div",{className:"".concat(_layout["default"].flex1," ").concat(_layout["default"].marginLeft15," ").concat(_typography["default"].breakWord)},_react["default"].createElement("a",{className:"".concat(_typography["default"].link," ").concat(_typography["default"].bodyM),href:this.props.fileData.url},this._getDisplayName())));}},{key:"_getImagePreview",value:function _getImagePreview(){if(!(this.props.imagePreview&&this.props.fileData.url))return null;return _react["default"].createElement("div",{className:_layout["default"].marginBottom15},_react["default"].createElement("img",{alt:this._getDisplayName(),src:this.props.fileData.url}));}},{key:"render",value:function render(){var _this3=this;return _react["default"].createElement(_react.Fragment,null,this._getImagePreview(),_react["default"].createElement(_drop_zone["default"],{disabled:this.state.isBusy,onDrop:this.handleFileEvent}," ",_react["default"].createElement("input",{ref:function ref(el){return _this3._fileInput=el;},accept:this.props.accept,onChange:this.handleFileEvent,style:{display:'none'},type:"file"}),this.state.isBusy?_react["default"].createElement(_progress_bar["default"],null):this._getButtonView()));}}]);return BasicFileUploader;}(_react.Component);BasicFileUploader.propTypes={accept:_propTypes["default"].string,fileData:_propTypes["default"].shape({id:_propTypes["default"].number,name:_propTypes["default"].string,url:_propTypes["default"].string}),imagePreview:_propTypes["default"].bool,propagateStatus:_propTypes["default"].func,propagateUpload:_propTypes["default"].func.isRequired,reportError:_propTypes["default"].func};BasicFileUploader.defaultProps={accept:null,fileData:{},imagePreview:false,propagateStatus:function propagateStatus(){},reportError:function reportError(){}};var _default=BasicFileUploader;exports["default"]=_default;}),56708:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _BasicFileUploader=_interopRequireDefault(__webpack_require__(78719));var _form_group=_interopRequireDefault(__webpack_require__(47310));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
var FormFileUploader=function FormFileUploader(props){var _useState=(0,_react.useState)(''),_useState2=_slicedToArray(_useState,2),warning=_useState2[0],setWarning=_useState2[1];return _react["default"].createElement(_form_group["default"],{classList:{root:props.classList.formGroup},errors:props.errors,helperText:props.helperText,label:props.label,name:props.name,value:"",warningText:warning},_react["default"].createElement(_BasicFileUploader["default"],_extends({},props,{reportError:setWarning})));};FormFileUploader.propTypes={classList:_propTypes["default"].shape({formGroup:_propTypes["default"].string}),errors:_propTypes["default"].string,helperText:_propTypes["default"].string,imagePreview:_propTypes["default"].bool};FormFileUploader.defaultProps={classList:{formGroup:''},errors:'',helperText:'',imagePreview:false};var _default=FormFileUploader;exports["default"]=_default;}),57104:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _FormFileUploader=_interopRequireDefault(__webpack_require__(56708));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
var RailsFormFileUploader=function RailsFormFileUploader(props){var _useState=(0,_react.useState)(props.initData),_useState2=_slicedToArray(_useState,2),fileData=_useState2[0],setFileData=_useState2[1];return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement(_FormFileUploader["default"],{classList:{formGroup:_layout["default"].marginBottom0},accept:props.accept,errors:props.errors[0]||null,fileData:fileData,helperText:props.helperText,imagePreview:props.imagePreview,propagateUpload:function propagateUpload(fileData){return setFileData(fileData);}}),_react["default"].createElement("input",{name:props.inputName,type:"hidden",value:fileData.id?fileData.id.toString():''}));};RailsFormFileUploader.propTypes={accept:_propTypes["default"].string,errors:_propTypes["default"].array,helperText:_propTypes["default"].string,imagePreview:_propTypes["default"].bool,initData:_propTypes["default"].shape({id:_propTypes["default"].number,url:_propTypes["default"].string}),inputName:_propTypes["default"].string};RailsFormFileUploader.defaultProps={accept:null,errors:[],helperText:'',imagePreview:false,inputName:'',initData:{}};var _default=RailsFormFileUploader;exports["default"]=_default;}),42859:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _cropper=_interopRequireDefault(__webpack_require__(45337));var _Dialog=_interopRequireDefault(__webpack_require__(27408));var _drop_zone=_interopRequireDefault(__webpack_require__(46530));var _Prompt=_interopRequireDefault(__webpack_require__(19439));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _Images=__webpack_require__(96190);var _enums=__webpack_require__(91574);var _messages=__webpack_require__(62044);var _accessors=__webpack_require__(4887);var _events=__webpack_require__(64770);var _links=__webpack_require__(49180);var _validators=__webpack_require__(73235);var _images=__webpack_require__(83922);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}
function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var INITIAL_STATE={cropperData:{},isBusy:false,remoteURL:'',showCropper:false,showDeletePrompt:false};var JPEG_QUALITY=0.85;var UploaderWrapper=function(_Component){_inherits(UploaderWrapper,_Component);var _super=_createSuper(UploaderWrapper);function UploaderWrapper(props){var _this;_classCallCheck(this,UploaderWrapper);_this=_super.call(this,props);_this.state=INITIAL_STATE;_this.handleCropperError=_this.handleCropperError.bind(_assertThisInitialized(_this));_this.handleFileEvent=_this.handleFileEvent.bind(_assertThisInitialized(_this));_this.handleImageCrop=_this.handleImageCrop.bind(_assertThisInitialized(_this));_this.handleReset=_this.handleReset.bind(_assertThisInitialized(_this));_this.handleUploadBtnClick=_this.handleUploadBtnClick.bind(_assertThisInitialized(_this));_this.handleURLChange=_this.handleURLChange.bind(_assertThisInitialized(_this));_this.handleURLSubmit=_this.handleURLSubmit.bind(_assertThisInitialized(_this));_this._fileInput;return _this;}
_createClass(UploaderWrapper,[{key:"handleFileEvent",value:function handleFileEvent(e){e.preventDefault();var file=(0,_events.getFilesFromEvent)(e)[0];if(this._fileInput)this._fileInput.value='';var msg=(0,_validators.isValidImageFile)(file,this.props.allowGifs);if(msg)return this._reportError({msg:msg});this.handleReset({isBusy:true});this._processFile(file);}},{key:"handleImageCrop",value:function handleImageCrop(canvasElement){var _this$state$cropperDa=this.state.cropperData,fileName=_this$state$cropperDa.fileName,fileType=_this$state$cropperDa.fileType;this.handleReset({isBusy:true});this._processCroppedImage(canvasElement,fileName,fileType);}},{key:"handleReset",value:function handleReset(){var overrides=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var newState=Object.assign({},INITIAL_STATE,overrides);if(newState.isBusy!==this.state.isBusy){this.props.propagateStatus(newState.isBusy);}
this.props.reportError(null);this.props.propagateUpload({});this.setState(newState);}},{key:"handleCropperError",value:function handleCropperError(err){this.setState({cropperData:{},showCropper:false});this._reportError(err);}},{key:"handleUploadBtnClick",value:function handleUploadBtnClick(e){if(this._fileInput){e.preventDefault();this._fileInput.click();}}},{key:"handleURLChange",value:function handleURLChange(e){this.setState({remoteURL:e.target.value});}},{key:"handleURLSubmit",value:function handleURLSubmit(){var remoteURL=this.state.remoteURL;var msg=(0,_validators.isUrlWithProtocol)(remoteURL);if(msg)return this._reportError({msg:msg});this.handleReset({isBusy:true});this._processRemoteURL(remoteURL);}},{key:"_getImageAttachmentArgs",value:function _getImageAttachmentArgs(){return{get_image_version:this.props.imageVersion,type:(0,_enums.getAttachmentTypeEnum)(this.props.attachmentType)};}},{key:"_getViewProps",value:function _getViewProps(){var _this2=this;return Object.assign({},this.props,{handleDelete:function handleDelete(){return _this2.setState({showDeletePrompt:true});},handleURLChange:this.handleURLChange,handleURLSubmit:this.handleURLSubmit,handleUploadBtnClick:this.handleUploadBtnClick,isBusy:this.state.isBusy,remoteURL:this.state.remoteURL});}},{key:"_processCroppedImage",value:function(){var _processCroppedImage2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(canvasElement,name,type){var options,height,width,blob,qlData;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;options=(0,_images.isJpeg)(type)?[_images.JPEG_MIMETYPE,JPEG_QUALITY]:[];height=canvasElement.height,width=canvasElement.width;_context.next=5;return(0,_Images.canvasToBlob)(canvasElement,options);case 5:blob=_context.sent;blob.name=name;_context.next=9;return(0,_images.getAndUpdateAttachmentFromLocalFile)(blob,{height:height,width:width},this._getImageAttachmentArgs());case 9:qlData=_context.sent;this._resolveUploadImage(qlData,name);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context["catch"](0);this._reportError(_context.t0);case 16:case "end":return _context.stop();}}},_callee,this,[[0,13]]);}));function _processCroppedImage(_x,_x2,_x3){return _processCroppedImage2.apply(this,arguments);}
return _processCroppedImage;}()},{key:"_processFile",value:function(){var _processFile2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(file){var _yield$promisifiedFil,dataUrl,dimensions,qlData;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return(0,_Images.promisifiedFileReader)(file);case 3:_yield$promisifiedFil=_context2.sent;dataUrl=_yield$promisifiedFil.dataUrl;if(!this._shouldOpenCropper(file.type)){_context2.next=7;break;}
return _context2.abrupt("return",this._seedCropper(file,dataUrl));case 7:_context2.next=9;return(0,_images.getImageDimsFromUrl)(dataUrl);case 9:dimensions=_context2.sent;_context2.next=12;return(0,_images.getAndUpdateAttachmentFromLocalFile)(file,dimensions,this._getImageAttachmentArgs());case 12:qlData=_context2.sent;this._resolveUploadImage(qlData,file.name);_context2.next=19;break;case 16:_context2.prev=16;_context2.t0=_context2["catch"](0);this._reportError(_context2.t0);case 19:case "end":return _context2.stop();}}},_callee2,this,[[0,16]]);}));function _processFile(_x4){return _processFile2.apply(this,arguments);}
return _processFile;}()},{key:"_processRemoteURL",value:function(){var _processRemoteURL2=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(remoteURL){var _yield$getRemoteFileT,type,url,msg,name,qlData;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return(0,_images.getRemoteFileTypeAndConfirmURL)(remoteURL);case 3:_yield$getRemoteFileT=_context3.sent;type=_yield$getRemoteFileT.type;url=_yield$getRemoteFileT.url;msg=(0,_validators.isValidImageFile)({type:type},this.props.allowGifs);if(!msg){_context3.next=9;break;}
return _context3.abrupt("return",this._reportError({msg:msg}));case 9:name=(0,_links.getFileNameFromUrl)(url);if(!this._shouldOpenCropper(type)){_context3.next=12;break;}
return _context3.abrupt("return",this._seedCropper({name:name,type:type},url));case 12:_context3.next=14;return(0,_images.getAndUpdateAttachmentFromRemoteURL)(url,this._getImageAttachmentArgs());case 14:qlData=_context3.sent;this._resolveUploadImage(qlData,name);_context3.next=21;break;case 18:_context3.prev=18;_context3.t0=_context3["catch"](0);this._reportError(_context3.t0);case 21:case "end":return _context3.stop();}}},_callee3,this,[[0,18]]);}));function _processRemoteURL(_x5){return _processRemoteURL2.apply(this,arguments);}
return _processRemoteURL;}()},{key:"_reportError",value:function _reportError(){var errorObj=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var msg=errorObj.hasOwnProperty('msg')?errorObj.msg:(0,_messages.getErrorMsg)('uploading your image');var err=errorObj.hasOwnProperty('err')?errorObj.err:errorObj instanceof Error?errorObj:null;this.props.reportError(msg);if(err)(0,_error_handler["default"])(err);this.setState({isBusy:false});this.props.propagateStatus(false);}},{key:"_reportUpload",value:function _reportUpload(_ref){var _ref$dimensions=_ref.dimensions,dimensions=_ref$dimensions===void 0?{}:_ref$dimensions,id=_ref.id,name=_ref.name,url=_ref.url;this.props.propagateUpload({dimensions:dimensions,id:id,name:name,url:url});this.props.propagateStatus(false);this.setState(INITIAL_STATE);}},{key:"_resolveUploadImage",value:function _resolveUploadImage(qlData,name){if(!(0,_accessors.getInObj)(['updateAttachment',this.props.attachmentURLKey],qlData)){return this._reportError(new Error('updateAttachmentMutation failed! Check the request.'));}
var id=parseInt(qlData.updateAttachment.id);var dimensions=qlData.updateAttachment.metadata;var url=qlData.updateAttachment[this.props.attachmentURLKey];this._reportUpload({dimensions:dimensions,id:id,name:name,url:url});}},{key:"_seedCropper",value:function _seedCropper(file,url){this.setState({cropperData:{src:url,fileName:file.name?file.name:'tmp_image_0',fileType:file.type},showCropper:true});}},{key:"_shouldOpenCropper",value:function _shouldOpenCropper(mimeType){return!(this.props.ignoreCropper||(0,_images.isGif)(mimeType));}},{key:"render",value:function render(){var _this3=this;return _react["default"].createElement(_drop_zone["default"],{disabled:this.state.isBusy,onDrop:this.handleFileEvent}," ",_react["default"].createElement("input",{ref:function ref(el){return _this3._fileInput=el;},accept:(0,_images.getInputAcceptProp)(this.props.allowGifs),className:this.props.inputClassName,onChange:this.handleFileEvent,style:{display:'none'},type:"file"}),this.props.renderView(this._getViewProps()),!this.props.ignoreCropper&&_react["default"].createElement(_Dialog["default"],{dismiss:this.handleReset,open:this.state.showCropper,nestedDialogLevel:this.props.nestedDialogLevel,title:this.props.dialogTitle},this.state.showCropper&&_react["default"].createElement(_cropper["default"],{aspectRatio:this.props.aspectRatio,handleImageCrop:this.handleImageCrop,onCancel:this.handleReset,onError:this.handleCropperError,src:this.state.cropperData.src})),_react["default"].createElement(_Prompt["default"],{action:"Remove",actionColor:"danger",dismiss:function dismiss(){return _this3.setState({showDeletePrompt:false});},okay:this.handleReset,open:this.state.showDeletePrompt,title:"Are you sure you want to remove this image?"}));}}]);return UploaderWrapper;}(_react.Component);UploaderWrapper.propTypes={allowGifs:_propTypes["default"].bool,aspectRatio:_propTypes["default"].number,attachmentType:_propTypes["default"].string,attachmentURLKey:_propTypes["default"].oneOf(['file_url','imgix_url']),cropperTitle:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].element]),dimensionsMins:_propTypes["default"].shape({width:_propTypes["default"].number}),ignoreCropper:_propTypes["default"].bool,imageData:_propTypes["default"].shape({dimensions:_propTypes["default"].shape({width:_propTypes["default"].number}),id:_propTypes["default"].number,name:_propTypes["default"].string,url:_propTypes["default"].string}),imageVersion:_propTypes["default"].string,inputClassName:_propTypes["default"].string,nestedDlogLevel:_propTypes["default"].number,propagateStatus:_propTypes["default"].func,propagateUpload:_propTypes["default"].func.isRequired,renderView:_propTypes["default"].func.isRequired,reportError:_propTypes["default"].func};UploaderWrapper.defaultProps={allowGifs:true,aspectRatio:null,attachmentType:'Image',attachmentURLKey:'imgix_url',ignoreCropper:false,imageData:{},imageVersion:null,inputClassName:'',nestedDialogLevel:0,propagateStatus:function propagateStatus(){},reportError:function reportError(){}};var _default=UploaderWrapper;exports["default"]=_default;}),26098:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _base=_interopRequireDefault(__webpack_require__(6094));var _Dialog=_interopRequireDefault(__webpack_require__(27408));var _progress_bar=_interopRequireDefault(__webpack_require__(85815));var _keyCodes=__webpack_require__(23789);var _accessors=__webpack_require__(4887);var _types=__webpack_require__(88742);var _predicates=__webpack_require__(20918);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _basic_image_uploader=_interopRequireDefault(__webpack_require__(58176));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var BasicUploaderView=function(_Component){_inherits(BasicUploaderView,_Component);var _super=_createSuper(BasicUploaderView);function BasicUploaderView(props){var _this;_classCallCheck(this,BasicUploaderView);_this=_super.call(this,props);_this.state={showDialog:false};_this.dismissDialog=_this.dismissDialog.bind(_assertThisInitialized(_this));_this.handleInputKeyDown=_this.handleInputKeyDown.bind(_assertThisInitialized(_this));_this.handleUploadBtnClick=_this.handleUploadBtnClick.bind(_assertThisInitialized(_this));_this.handleURLSubmit=_this.handleURLSubmit.bind(_assertThisInitialized(_this));return _this;}
_createClass(BasicUploaderView,[{key:"dismissDialog",value:function dismissDialog(){if(this.state.showDialog)this.setState({showDialog:false});}},{key:"handleInputKeyDown",value:function handleInputKeyDown(e){if(e.keyCode===_keyCodes.ENTER){e.preventDefault();e.stopPropagation();this.handleURLSubmit(e);}}},{key:"handleUploadBtnClick",value:function handleUploadBtnClick(e){this.dismissDialog();this.props.handleUploadBtnClick(e);}},{key:"handleURLSubmit",value:function handleURLSubmit(e){this.dismissDialog();this.props.handleURLSubmit(e);}},{key:"_hasImageURL",value:function _hasImageURL(){return(0,_predicates.objHasPropertyOfLength)(this.props.imageData,'url');}},{key:"_getAfterUploadView",value:function _getAfterUploadView(){var _this2=this;return _react["default"].createElement("div",null,_react["default"].createElement(_base["default"],{className:_layout["default"].marginRight15,onClick:function onClick(){return _this2.setState({showDialog:true});},size:"lg"},"Change"),_react["default"].createElement(_base["default"],{size:"lg",onClick:this.props.handleDelete},"Remove"));}},{key:"_getBeforeUploadView",value:function _getBeforeUploadView(){return this.props.isBusy?_react["default"].createElement(_progress_bar["default"],null):this._getUploadBtns();}},{key:"_getBtnView",value:function _getBtnView(){return this._hasImageURL()?this._getAfterUploadView():this._getBeforeUploadView();}},{key:"_getURLInputView",value:function _getURLInputView(){return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("div",{className:"".concat(_typography["default"].bodyM," ").concat(_basic_image_uploader["default"].or)},"or"),_react["default"].createElement("div",{className:"".concat(_basic_image_uploader["default"].urlInputWrapper," ").concat(_layout["default"].flex1)},_react["default"].createElement("input",{className:"".concat(_inputs["default"].input," ").concat(_inputs["default"].openRight," ").concat(this.props.inputClassName),onChange:this.props.handleURLChange,onKeyDown:this.handleInputKeyDown,type:"text",value:this.props.remoteURL}),_react["default"].createElement(_base["default"],{className:"".concat(_layout["default"].flex10Auto," ").concat(_buttons["default"].flatLeft),disabled:this.props.remoteURL.length===0,onClick:this.handleURLSubmit,size:"lg"},"Grab from URL")));}},{key:"_getDisplayWidth",value:function _getDisplayWidth(){var _this$props=this.props,dimensionMins=_this$props.dimensionMins,imageData=_this$props.imageData;var imageWidth=(0,_accessors.getInObj)(['dimensions','width'],imageData);if((0,_types.isNumber)(imageWidth)&&(0,_types.isNumber)(dimensionMins.width))return Math.min(imageWidth,dimensionMins.width);return imageWidth||dimensionMins.width||'100%';}},{key:"_getPreview",value:function _getPreview(){var _this$props2=this.props,aspectRatio=_this$props2.aspectRatio,classList=_this$props2.classList,imageData=_this$props2.imageData,placeholderUrl=_this$props2.placeholderUrl;var src=this._hasImageURL()?imageData.url:placeholderUrl;if(!src)return null;var alt=imageData.name||'';return _react["default"].createElement("div",{key:src,className:"".concat(_basic_image_uploader["default"].previewWrapper," ").concat(classList.previewWrapper),style:{width:this._getDisplayWidth()}},aspectRatio?this._getPreviewWithAspectRatio(src,alt):this._getPreviewWithoutAspectRatio(src,alt));}},{key:"_getPreviewWithAspectRatio",value:function _getPreviewWithAspectRatio(src,alt){return _react["default"].createElement("div",{style:{paddingTop:"".concat(1/this.props.aspectRatio*100,"%")}},_react["default"].createElement("img",{className:_util["default"].absolutePlaceholderChild,src:src,alt:alt}));}},{key:"_getPreviewWithoutAspectRatio",value:function _getPreviewWithoutAspectRatio(src,alt){return _react["default"].createElement("img",{className:_layout["default"].maxWidth100P,src:src,alt:alt});}},{key:"_getUploadBtns",value:function _getUploadBtns(){var inDialog=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return _react["default"].createElement("div",{className:!inDialog&&this.props.stackedView?null:_basic_image_uploader["default"].responsive},_react["default"].createElement("div",{className:"".concat(_layout["default"].flexCenterItems," ").concat(_basic_image_uploader["default"].buttons)},_react["default"].createElement(_base["default"],{className:_basic_image_uploader["default"].fileButton,onClick:this.handleUploadBtnClick,size:"lg"},"Choose file"),this.props.allowRemoteURL&&this._getURLInputView()));}},{key:"render",value:function render(){return _react["default"].createElement("div",null,this.props.showPreview&&this._getPreview(),this._getBtnView(),_react["default"].createElement(_Dialog["default"],{dismiss:this.dismissDialog,open:this.state.showDialog,nestedDialogLevel:this.props.nestedDialogLevel,title:_react["default"].createElement("h2",{className:"".concat(_typography["default"].h2," ").concat(_typography["default"].textCenter," ").concat(_layout["default"].marginBottom30)},"Change image")},this.state.showDialog&&this._getUploadBtns(true)));}}]);return BasicUploaderView;}(_react.Component);BasicUploaderView.propTypes={allowRemoteURL:_propTypes["default"].bool,aspectRatio:_propTypes["default"].number,classList:_propTypes["default"].shape({button:_propTypes["default"].string,cancelButton:_propTypes["default"].string,previewWrapper:_propTypes["default"].string}),dimensionsMins:_propTypes["default"].shape({width:_propTypes["default"].number}),handleURLChange:_propTypes["default"].func.isRequired,handleURLSubmit:_propTypes["default"].func.isRequired,handleUploadBtnClick:_propTypes["default"].func.isRequired,imageData:_propTypes["default"].shape({dimensions:_propTypes["default"].shape({width:_propTypes["default"].number}),id:_propTypes["default"].number,name:_propTypes["default"].string,url:_propTypes["default"].string}),inputClassName:_propTypes["default"].string,nestedDialogLevel:_propTypes["default"].number,placeholderUrl:_propTypes["default"].string,remoteURL:_propTypes["default"].string,showPreview:_propTypes["default"].bool,stackedView:_propTypes["default"].bool};BasicUploaderView.defaultProps={allowRemoteURL:true,aspectRatio:null,classList:{button:'',cancelButton:'',previewWrapper:''},dimensionMins:{},imageData:{},inputClassName:'',nestedDialogLevel:0,placeholderUrl:null,remoteURL:'',showPreview:true,stackedView:false};var _default=BasicUploaderView;exports["default"]=_default;}),62453:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _BasicUploaderView=_interopRequireDefault(__webpack_require__(26098));var _UploaderWrapper=_interopRequireDefault(__webpack_require__(42859));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var renderView=function renderView(props){return _react["default"].createElement(_BasicUploaderView["default"],props);};var BasicImageUploader=function BasicImageUploader(props){return _react["default"].createElement(_UploaderWrapper["default"],_extends({},props,{renderView:renderView}));};var _default=BasicImageUploader;exports["default"]=_default;}),85815:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _progress_bar=_interopRequireDefault(__webpack_require__(22264));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ProgressBar=function ProgressBar(){return _react["default"].createElement("div",{className:_progress_bar["default"].wrapper},_react["default"].createElement("div",{className:_progress_bar["default"].bg},_react["default"].createElement("div",{className:_progress_bar["default"].fill})));};var _default=ProgressBar;exports["default"]=_default;}),45337:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactCropper=_interopRequireDefault(__webpack_require__(42016));var _base=_interopRequireDefault(__webpack_require__(6094));var _ring=_interopRequireDefault(__webpack_require__(49737));var _keyCodes=__webpack_require__(23789);var _window=__webpack_require__(33852);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var CONTAINER_BUFFER={height:300,width:120};var Cropper=function(_Component){_inherits(Cropper,_Component);var _super=_createSuper(Cropper);function Cropper(props){var _this;_classCallCheck(this,Cropper);_this=_super.call(this,props);_this.crop=_this.crop.bind(_assertThisInitialized(_this));_this.handleCropperReady=_this.handleCropperReady.bind(_assertThisInitialized(_this));_this.handleError=_this.handleError.bind(_assertThisInitialized(_this));_this.handleKeyDown=_this.handleKeyDown.bind(_assertThisInitialized(_this));_this.rotate=_this.rotate.bind(_assertThisInitialized(_this));_this.state={loading:true};_this._cropper=_react["default"].createRef();return _this;}
_createClass(Cropper,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener('keydown',this.handleKeyDown);if(this._cropper&&this._cropper.current){this._cropper.current.onerror=this.handleError;}}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener('keydown',this.handleKeyDown);}},{key:"crop",value:function crop(e){e.preventDefault();this.props.handleImageCrop(this._cropper.current.cropper.getCroppedCanvas());}},{key:"handleCropperReady",value:function handleCropperReady(){this._fitContainer();this.setState({loading:false});}},{key:"handleError",value:function handleError(err){this.props.onError(err);}},{key:"handleKeyDown",value:function handleKeyDown(e){if(e.keyCode===_keyCodes.LEFT){e.stopPropagation();this.rotate(-90,e);}else if(e.keyCode===_keyCodes.RIGHT){e.stopPropagation();this.rotate(90,e);}else if(e.keyCode===_keyCodes.ENTER){e.stopPropagation();this.crop(e);}}},{key:"rotate",value:function rotate(deg,e){e&&e.preventDefault();this._cropper.current.cropper.clear();this._cropper.current.cropper.rotate(deg);this._fitCanvas();this._cropper.current.cropper.crop();}},{key:"_fitCanvas",value:function _fitCanvas(){var cropper=this._cropper.current.cropper;var container=cropper.getContainerData();var canvas=cropper.getCanvasData();if(canvas.height>=container.height){cropper.setCanvasData({top:0,height:cropper.getContainerData().height});cropper.setCanvasData({left:Math.floor((cropper.getContainerData().width-cropper.getCanvasData().width)/2)});}else if(canvas.width>=container.width){cropper.setCanvasData({left:0,width:cropper.getContainerData().width});cropper.setCanvasData({top:Math.floor((cropper.getContainerData().height-cropper.getCanvasData().height)/2)});}}},{key:"_fitContainer",value:function _fitContainer(){var cropper=this._cropper.current.cropper;if(!cropper)return;var containerLimits={height:(0,_window.windowInnerHeight)()-CONTAINER_BUFFER.height,width:(0,_window.windowInnerWidth)()-CONTAINER_BUFFER.width};var containerData=cropper.getContainerData();var scale=Math.min(containerLimits.width/containerData.width,containerLimits.height/containerData.height);if(scale<1){cropper.container.setAttribute('style',"height: ".concat(containerData.height*scale,"px; width: ").concat(containerData.width*scale,"px;"));cropper.resize();cropper.clear();this._fitCanvas();cropper.crop();}}},{key:"_getActions",value:function _getActions(){var basic=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return _react["default"].createElement("div",{className:"".concat(_layout["default"].marginTop45," ").concat(_typography["default"].textCenter)},_react["default"].createElement(_base["default"],{disabled:this.state.loading,onClick:this.crop,size:"lg"},"Crop image"),!basic&&this._getRotateButtons(),_react["default"].createElement(_base["default"],{colorStyle:"cancel",disabled:this.state.loading,onClick:this.props.onCancel,size:"lg"},"Cancel"));}},{key:"_getRotateButtons",value:function _getRotateButtons(){var _this2=this;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement(_base["default"],{className:_layout["default"].marginLeft15,colorStyle:"blank",disabled:this.state.loading,onClick:function onClick(e){return _this2.rotate(-90,e);},size:"lg"},_react["default"].createElement("i",{className:"fa fa-rotate-left"})),_react["default"].createElement(_base["default"],{className:_layout["default"].marginLeft15,colorStyle:"blank",disabled:this.state.loading,onClick:function onClick(e){return _this2.rotate(90,e);},size:"lg"},_react["default"].createElement("i",{className:"fa fa-rotate-right"})));}},{key:"_getSpinner",value:function _getSpinner(){return _react["default"].createElement("div",{className:"".concat(_typography["default"].textCenter)},_react["default"].createElement("span",{className:_typography["default"].iconBaseLineFix},_react["default"].createElement(_ring["default"],{size:"16"})),' Loading...');}},{key:"render",value:function render(){var options=Object.assign({src:this.props.src,aspectRatio:this.props.aspectRatio,initialAspectRatio:this.props.aspectRatio,background:this.props.background,guides:this.props.guides,movable:this.props.movable,zoomable:this.props.zoomable,rotatable:this.props.rotatable,scalable:this.props.scalable},this.props.options);return _react["default"].createElement("div",null,_react["default"].createElement(_reactCropper["default"],_extends({ref:this._cropper,autoCropArea:1,ready:this.handleCropperReady,modal:false,viewMode:2},options)),this.state.loading&&this._getSpinner(),this._getActions(this.props.renderBasicActions));}}]);return Cropper;}(_react.Component);Cropper.propTypes={aspectRatio:_propTypes["default"].number,background:_propTypes["default"].bool,guides:_propTypes["default"].bool,handleImageCrop:_propTypes["default"].func.isRequired,movable:_propTypes["default"].bool,onError:_propTypes["default"].func,options:_propTypes["default"].object,renderBasicActions:_propTypes["default"].bool,rotatable:_propTypes["default"].bool,scalable:_propTypes["default"].bool,src:_propTypes["default"].string.isRequired,title:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].element]),zoomable:_propTypes["default"].bool};Cropper.defaultProps={aspectRatio:4/3,background:false,guides:false,movable:false,onError:function onError(){},options:{},renderBasicActions:false,rotatable:true,scalable:false,title:"Crop to fit",zoomable:false};var _default=Cropper;exports["default"]=_default;}),59272:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _form_group=_interopRequireDefault(__webpack_require__(47310));var _basic_image_uploader=_interopRequireDefault(__webpack_require__(62453));var _accessors=__webpack_require__(4887);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DIMENSIONS_WARNING=function DIMENSIONS_WARNING(width){return "Warning: your image is smaller than our recommended dimensions. Image width: ".concat(width,"px.");};var FormImageUploader=function(_Component){_inherits(FormImageUploader,_Component);var _super=_createSuper(FormImageUploader);function FormImageUploader(props){var _this;_classCallCheck(this,FormImageUploader);_this=_super.call(this,props);_this.state={uploaderError:''};_this.handleError=_this.handleError.bind(_assertThisInitialized(_this));return _this;}
_createClass(FormImageUploader,[{key:"handleError",value:function handleError(uploaderError){this.setState({uploaderError:uploaderError});}},{key:"_getImageDimensionsWarning",value:function _getImageDimensionsWarning(){var width=(0,_accessors.getInObj)(['imageData','dimensions','width'],this.props);var minWidth=this.props.dimensionMins.width;return width&&minWidth&&width<minWidth?DIMENSIONS_WARNING(width):null;}},{key:"_getWarningText",value:function _getWarningText(){return this.state.uploaderError||this._getImageDimensionsWarning();}},{key:"render",value:function render(){return _react["default"].createElement(_form_group["default"],{classList:{root:this.props.classList.formGroup},errors:this.props.errors,helperText:this.props.helperText,label:this.props.label,name:this.props.name,value:"",warningText:this._getWarningText()},_react["default"].createElement(_basic_image_uploader["default"],_extends({},this.props,{reportError:this.handleError})));}}]);return FormImageUploader;}(_react.Component);FormImageUploader.propTypes={allowGifs:_propTypes["default"].bool,aspectRatio:_propTypes["default"].number,classList:_propTypes["default"].shape({button:_propTypes["default"].string,cancelButton:_propTypes["default"].string,formGroup:_propTypes["default"].string,previewWrapper:_propTypes["default"].string}),dimensionsMins:_propTypes["default"].shape({width:_propTypes["default"].number}),errors:_propTypes["default"].string,helperText:_propTypes["default"].string,imageData:_propTypes["default"].shape({dimensions:_propTypes["default"].shape({width:_propTypes["default"].number}),url:_propTypes["default"].string,name:_propTypes["default"].string}),nestedDialogLevel:_propTypes["default"].number};FormImageUploader.defaultProps={allowGifs:true,aspectRatio:null,classList:{button:'',cancelButton:'',formGroup:'',previewWrapper:''},dimensionMins:{},errors:'',helperText:'',imageData:{},nestedDialogLevel:0};var _default=FormImageUploader;exports["default"]=_default;}),67216:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _form_image_uploader=_interopRequireDefault(__webpack_require__(59272));var _accessors=__webpack_require__(4887);var _types=__webpack_require__(88742);var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DISCARD_EVENT='pe:discard';var IGNORE_INPUT_CLASS='no-pe-change';var PANEL_SELECTOR='.pe-panel, #basics';var FORM_SELECTOR='.pe-panel form.remote';var SAVE_EVENT='pe:saveChanges';var ProjectEditorImageUploader=function(_Component){_inherits(ProjectEditorImageUploader,_Component);var _super=_createSuper(ProjectEditorImageUploader);function ProjectEditorImageUploader(props){var _this;_classCallCheck(this,ProjectEditorImageUploader);_this=_super.call(this,props);_this.state={imageData:props.initData,savedImageData:props.initData};_this.handleDiscardChanges=_this.handleDiscardChanges.bind(_assertThisInitialized(_this));_this.handleSave=_this.handleSave.bind(_assertThisInitialized(_this));return _this;}
_createClass(ProjectEditorImageUploader,[{key:"componentDidMount",value:function componentDidMount(){var form=this._getProjectEditorForm();if(!form)return;form.addEventListener(DISCARD_EVENT,this.handleDiscardChanges,true);form.addEventListener(SAVE_EVENT,this.handleSave,true);if(this._isOnCorrectPanel()&&window.pe){window.pe.serializeForm();}}},{key:"componentWillUnmount",value:function componentWillUnmount(){var form=this._getProjectEditorForm();if(!form)return;form.removeEventListener(DISCARD_EVENT,this.handleDiscardChanges,true);form.removeEventListener(SAVE_EVENT,this.handleSave,true);}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this._shouldUpdateSerializedForm(prevState)){window.$serializedForm+=' ';window.pe.showSavePanel();}}},{key:"handleDiscardChanges",value:function handleDiscardChanges(){this.setState({imageData:Object.assign({},this.state.savedImageData)});}},{key:"handleSave",value:function handleSave(e){this.setState({savedImageData:Object.assign({},this.state.imageData)});}},{key:"_isOnCorrectPanel",value:function _isOnCorrectPanel(){return!!document.querySelector(PANEL_SELECTOR);}},{key:"_getProjectEditorForm",value:function _getProjectEditorForm(){return document.querySelector(FORM_SELECTOR);}},{key:"_shouldUpdateSerializedForm",value:function _shouldUpdateSerializedForm(prevState){return prevState.imageData.id!==this.state.imageData.id&&(0,_types.isAFunction)((0,_accessors.getInObj)(['pe','showSavePanel'],window))&&(0,_types.isAString)(window.$serializedForm)&&this._isOnCorrectPanel();}},{key:"render",value:function render(){var _this2=this;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement(_form_image_uploader["default"],{allowRemoteURL:this.props.allowRemoteURL,aspectRatio:this.props.aspectRatio,attachmentType:this.props.attachmentType,attachmentURLKey:this.props.attachmentURLKey,classList:{formGroup:_layout["default"].marginBottom0,previewWrapper:_util["default"].border},dimensionMins:this.props.dimensionMins,errors:this.props.errors[0]||null,helperText:this.props.helperText,ignoreCropper:this.props.ignoreCropper,imageData:this.state.imageData,imageVersion:this.props.imageVersion,inputClassName:IGNORE_INPUT_CLASS,placeholderUrl:this.props.placeholderUrl,propagateUpload:function propagateUpload(imageData){return _this2.setState({imageData:imageData});},stackedView:this.props.stackedView}),_react["default"].createElement("input",{name:this.props.inputName,type:"hidden",value:this.state.imageData.id?this.state.imageData.id.toString():''}));}}]);return ProjectEditorImageUploader;}(_react.Component);exports["default"]=ProjectEditorImageUploader;ProjectEditorImageUploader.propTypes={aspectRatio:_propTypes["default"].number,attachmentType:_propTypes["default"].string,attachmentURLKey:_propTypes["default"].oneOf(['file_url','imgix_url']),dimensionMins:_propTypes["default"].shape({width:_propTypes["default"].number}),errors:_propTypes["default"].array,helperText:_propTypes["default"].string,imageVersion:_propTypes["default"].string,initData:_propTypes["default"].shape({id:_propTypes["default"].number,url:_propTypes["default"].string}),inputName:_propTypes["default"].string,placeholderUrl:_propTypes["default"].string,stackedView:_propTypes["default"].bool};ProjectEditorImageUploader.defaultProps={aspectRatio:null,attachmentType:'Image',attachmentURLKey:'imgix_url',dimensionMins:{},errors:[],helperText:'',imageVersion:null,inputName:'',initData:{},placeholderUrl:null,stackedView:false};}),74877:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _form_image_uploader=_interopRequireDefault(__webpack_require__(59272));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
var RailsFormImageUploader=function RailsFormImageUploader(props){var _useState=(0,_react.useState)(props.initData),_useState2=_slicedToArray(_useState,2),imageData=_useState2[0],setImageData=_useState2[1];return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement(_form_image_uploader["default"],{allowRemoteURL:props.allowRemoteURL,aspectRatio:props.aspectRatio,attachmentType:props.attachmentType,attachmentURLKey:props.attachmentURLKey,classList:{formGroup:_layout["default"].marginBottom0},dimensionMins:props.dimensionMins,errors:props.errors[0]||null,helperText:props.helperText,ignoreCropper:props.ignoreCropper,imageData:imageData,imageVersion:props.imageVersion,inputClassName:props.innerInputClassName,placeholderUrl:props.placeholderUrl,propagateUpload:function propagateUpload(imageData){return setImageData(imageData);},stackedView:props.stackedView}),_react["default"].createElement("input",{name:props.inputName,type:"hidden",value:imageData.id?imageData.id.toString():''}));};RailsFormImageUploader.propTypes={aspectRatio:_propTypes["default"].number,attachmentType:_propTypes["default"].string,attachmentURLKey:_propTypes["default"].oneOf(['file_url','imgix_url']),dimensionMins:_propTypes["default"].shape({width:_propTypes["default"].number}),errors:_propTypes["default"].array,helperText:_propTypes["default"].string,imageVersion:_propTypes["default"].string,initData:_propTypes["default"].shape({id:_propTypes["default"].number,url:_propTypes["default"].string}),inputName:_propTypes["default"].string,placeholderUrl:_propTypes["default"].string,stackedView:_propTypes["default"].bool};RailsFormImageUploader.defaultProps={aspectRatio:null,attachmentType:'Image',attachmentURLKey:'imgix_url',dimensionMins:{},errors:[],helperText:'',imageVersion:null,inputName:'',initData:{},placeholderUrl:null,stackedView:false};var _default=RailsFormImageUploader;exports["default"]=_default;}),12626:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _generateRandomKey=_interopRequireDefault(__webpack_require__(89950));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var MIN_HEIGHT=93;var AutosizeTextarea=function(_PureComponent){_inherits(AutosizeTextarea,_PureComponent);var _super=_createSuper(AutosizeTextarea);function AutosizeTextarea(props){var _this;_classCallCheck(this,AutosizeTextarea);_this=_super.call(this,props);_this.state={height:'100%',id:props.id?props.id:(0,_generateRandomKey["default"])()};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onKeyDown=_this.onKeyDown.bind(_assertThisInitialized(_this));_this.__focusTextAreaHook=_this.__focusTextAreaHook.bind(_assertThisInitialized(_this));_this._textarea;return _this;}
_createClass(AutosizeTextarea,[{key:"componentDidMount",value:function componentDidMount(){this._resize();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.value!==this.props.value)this._resize();}},{key:"__focusTextAreaHook",value:function __focusTextAreaHook(start,end){if(start&&end){this._resize();this._textarea.setSelectionRange(start,end);}
this._textarea.focus();}},{key:"onChange",value:function onChange(e){var _this2=this;this.props.onChange(e);this.setState({height:''},function(){return _this2._resize();});}},{key:"onKeyDown",value:function onKeyDown(e){var undoHotkeys=e.ctrlKey&&e.keyCode===90||e.metaKey&&e.keyCode===90;if(this.props.disableUndo&&undoHotkeys)e.preventDefault();}},{key:"_resize",value:function _resize(){if(this._textarea){var textarea=this._textarea;var computed=window.getComputedStyle(textarea);var heightOffset=computed.boxSizing==='content-box'?-(parseFloat(computed.paddingTop)+parseFloat(computed.paddingBottom)):0;var toHeight=heightOffset+textarea.scrollHeight;var height=toHeight===0&&this.props.enforceMinHeight?MIN_HEIGHT:toHeight;this.setState({height:height});}}},{key:"render",value:function render(){var _this3=this;return _react["default"].createElement("textarea",{ref:function ref(el){return _this3._textarea=el;},style:{height:this.state.height},autoFocus:this.props.autoFocus,className:this.props.className,disabled:this.props.disabled,id:this.state.id,name:this.props.name,onBlur:this.props.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this.props.placeholder,rows:this.props.minRows,value:this.props.value});}}]);return AutosizeTextarea;}(_react.PureComponent);AutosizeTextarea.propTypes={autoFocus:_propTypes["default"].bool,className:_propTypes["default"].string,disableUndo:_propTypes["default"].bool,disabled:_propTypes["default"].bool,enforceMinHeight:_propTypes["default"].bool,errors:_propTypes["default"].string,id:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]),minRows:_propTypes["default"].string,name:_propTypes["default"].string,onBlur:_propTypes["default"].func,onChange:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].string,value:_propTypes["default"].string.isRequired};AutosizeTextarea.defaultProps={autoFocus:false,className:'',disableUndo:false,disabled:false,enforceMinHeight:true,errors:null,id:null,minRows:'3',name:null,onBlur:function onBlur(){},placeholder:''};var _default=AutosizeTextarea;exports["default"]=_default;}),54392:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _autosize_textarea=_interopRequireDefault(__webpack_require__(12626));var _duration=_interopRequireDefault(__webpack_require__(9231));var _inputs=_interopRequireDefault(__webpack_require__(26241));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var createTextAreaView=function createTextAreaView(props){return _react["default"].createElement(_autosize_textarea["default"],{autoFocus:props.autoFocus,className:"".concat(_inputs["default"].textarea," ").concat(_inputs["default"].textareaAutosize," ").concat(props.classList.textarea," ").concat(props.errors?_inputs["default"].inputError:''),disabled:props.disabled,id:getId(props),name:props.name,onChange:props.onChange,placeholder:props.placeholder,rows:"3",type:"text",value:props.value});};var createInputView=function createInputView(props){return _react["default"].createElement("input",{autoFocus:props.autoFocus,className:"".concat(_inputs["default"].input," ").concat(props.classList.input?props.classList.input:''," ").concat(props.errors?_inputs["default"].inputError:''),disabled:props.disabled,id:getId(props),name:props.name,onChange:props.onChange,placeholder:props.placeholder,type:props.type,value:props.value});};var getCharCountView=function getCharCountView(charCount,value){var maxVal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"You forgot to pass a maxVal prop!";if(typeof charCount!=='number'&&!charCount)return null;if(typeof charCount==='function')return charCount({value:value,maxVal:maxVal});return _react["default"].createElement("div",{className:"".concat(_inputs["default"].charCount," ").concat(value.length>maxVal?_inputs["default"].error:'')},"".concat(value.length,"/").concat(maxVal));};var getElementForProp=function getElementForProp(props){switch(props.element){case 'textarea':return createTextAreaView(props);case 'duration':return _react["default"].createElement(_duration["default"],props);default:return createInputView(props);}};var getErrorsView=function getErrorsView(errors,errorsView){if(!errors)return null;if(typeof errorsView==='function')return errorsView({errors:errors});return _react["default"].createElement("div",{className:_inputs["default"].error},errors);};var getId=function getId(_ref){var id=_ref.id,label=_ref.label,name=_ref.name;if(id)return id;var base=[label,name].filter(function(v){return v&&v!=='';}).join('_');return base.toLowerCase().replace(/[^a-z0-9]/g,'_');};var getMsgView=function getMsgView(_ref2){var classList=_ref2.classList,element=_ref2.element,errors=_ref2.errors,errorsView=_ref2.errorsView,charCount=_ref2.charCount,helperText=_ref2.helperText,maxVal=_ref2.maxVal,msgView=_ref2.msgView,value=_ref2.value,warningText=_ref2.warningText;if(typeof msgView==='function')return msgView({errors:errors,value:value,maxVal:maxVal});return _react["default"].createElement("div",{className:_inputs["default"].msgWrapper},_react["default"].createElement("div",null,getErrorsView(errors,errorsView),helperText&&_react["default"].createElement("div",{className:"".concat(_inputs["default"].help," ").concat(classList.help)},helperText),warningText&&_react["default"].createElement("div",{className:_inputs["default"].warning},warningText)),getCharCountView(charCount,value,maxVal));};var BasicFormInput=function BasicFormInput(props){return _react["default"].createElement("div",{className:"".concat(_inputs["default"].inputWrapper," ").concat(props.classList.root)},props.label&&_react["default"].createElement("label",{className:"".concat(_inputs["default"].label," ").concat(props.classList.label?props.classList.label:''),htmlFor:getId(props)},props.label),getElementForProp(props),getMsgView(props));};BasicFormInput.propTypes={autoFocus:_propTypes["default"].bool,charCount:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].func]),classList:_propTypes["default"].shape({root:_propTypes["default"].string,help:_propTypes["default"].string,input:_propTypes["default"].string,label:_propTypes["default"].string,textarea:_propTypes["default"].string}),disabled:_propTypes["default"].bool,element:_propTypes["default"].string,errors:_propTypes["default"].string,errorsView:_propTypes["default"].func,helperText:_propTypes["default"].node,id:_propTypes["default"].string,label:_propTypes["default"].string,maxVal:_propTypes["default"].number,msgView:_propTypes["default"].func,name:_propTypes["default"].string,onChange:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].string,type:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]).isRequired,warningText:_propTypes["default"].string};BasicFormInput.defaultProps={autoFocus:false,charCount:null,classList:{root:'',help:'',input:'',label:'',textarea:''},disabled:false,element:'input',errors:null,errorsView:null,helperText:null,id:null,label:null,maxVal:null,name:null,msgView:null,placeholder:'',type:'text',warningText:null};var _default=BasicFormInput;exports["default"]=_default;}),63359:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _types=__webpack_require__(88742);var _inputs=_interopRequireDefault(__webpack_require__(26241));var _basic_search_input=_interopRequireDefault(__webpack_require__(90837));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var BasicSearchInput=function(_PureComponent){_inherits(BasicSearchInput,_PureComponent);var _super=_createSuper(BasicSearchInput);function BasicSearchInput(props){var _this;_classCallCheck(this,BasicSearchInput);_this=_super.call(this,props);_this.state={focused:false,recentlyEmptied:false,value:!(0,_types.isBlank)(props.initVal)?props.initVal:''};_this.handleKeydown=_this.handleKeydown.bind(_assertThisInitialized(_this));_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onClear=_this.onClear.bind(_assertThisInitialized(_this));_this.onEnter=_this.onEnter.bind(_assertThisInitialized(_this));return _this;}
_createClass(BasicSearchInput,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(this.props.enableHistory){this._resetValue(prevProps);}}},{key:"onChange",value:function onChange(e){var value=e.target.value;var recentlyEmptied=this.state.value.length>0&&value.length===0;this.setState({recentlyEmptied:recentlyEmptied,value:value});}},{key:"onClear",value:function onClear(){var _this2=this;this.setState({value:''},function(){return _this2.props.onEnter('');});}},{key:"onEnter",value:function onEnter(){if(this.state.recentlyEmptied&&!this.state.value.length||this.state.value.length>0){this.props.onEnter(this.state.value);if(this.state.recentlyEmptied)this.setState({recentlyEmptied:false});}}},{key:"handleKeydown",value:function handleKeydown(e){if(e.keyCode===13){this.onEnter();}}},{key:"_resetValue",value:function _resetValue(prevProps){if(this.props.initVal!==prevProps.initVal&&this.props.initVal!==this.state.value){this.setState({value:this.props.initVal||''});}}},{key:"_shouldRenderX",value:function _shouldRenderX(){return this.props.enableX&&this.state.value.length>0;}},{key:"render",value:function render(){var _this3=this;return _react["default"].createElement("div",{className:"".concat(this.props.classList.wrapper," ").concat(_basic_search_input["default"].wrapper," ").concat(_inputs["default"].input," ").concat(this.state.focused?_basic_search_input["default"].focused:'')},_react["default"].createElement(_icon["default"],{name:"search",onClick:this.dispatchSearch}),_react["default"].createElement("input",{className:_basic_search_input["default"].input,type:"text",onBlur:function onBlur(){return _this3.setState({focused:false});},onChange:this.onChange,onFocus:function onFocus(){return _this3.setState({focused:true});},onKeyDown:this.handleKeydown,placeholder:this.props.placeholder,value:this.state.value}),this._shouldRenderX()&&_react["default"].createElement(_icon["default"],{name:"close",onClick:this.onClear,size:12}));}}]);return BasicSearchInput;}(_react.PureComponent);BasicSearchInput.propTypes={classList:_propTypes["default"].shape({wrapper:_propTypes["default"].string}),enableHistory:_propTypes["default"].bool,enableX:_propTypes["default"].bool,initVal:_propTypes["default"].string,onEnter:_propTypes["default"].func,placeholder:_propTypes["default"].string};BasicSearchInput.defaultProps={classList:{wrapper:''},enableHistory:false,enableX:false,initVal:null,onEnter:function onEnter(){},placeholder:''};var _default=BasicSearchInput;exports["default"]=_default;}),42148:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));var _custom=_interopRequireDefault(__webpack_require__(30294));var _form_group=_interopRequireDefault(__webpack_require__(47310));var _inputs=_interopRequireDefault(__webpack_require__(26241));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _updateValues=function _updateValues(value,isChecked,oldValues){return isChecked?oldValues.concat([value]):oldValues.filter(function(v){return v!==value;});};var CheckboxGroup=function CheckboxGroup(_ref){var classList=_ref.classList,disabled=_ref.disabled,errors=_ref.errors,helperText=_ref.helperText,label=_ref.label,name=_ref.name,_onChange=_ref.onChange,options=_ref.options,values=_ref.values;return _react["default"].createElement(_form_group["default"],{classList:{root:classList.root},errors:errors,helperText:helperText,label:label,name:name,value:""},_react["default"].createElement("div",{className:_inputs["default"].radioGroup},options.map(function(option){return _react["default"].createElement("div",{key:option.value,className:_inputs["default"].radioButtonContainer},_react["default"].createElement(_custom["default"],{isChecked:values.includes(option.value),disabled:disabled||option.disabled,label:option.label,error:errors,name:name,onChange:function onChange(isChecked){return _onChange(_updateValues(option.value,isChecked,values));},value:option.value}));})));};CheckboxGroup.propTypes={classList:_propTypes["default"].shape({root:_propTypes["default"].string}),disabled:_propTypes["default"].bool,errors:_propTypes["default"].oneOfType([_propTypes["default"].array,_propTypes["default"].string]),helperText:_propTypes["default"].string,label:_propTypes["default"].node,name:_propTypes["default"].string,onChange:_propTypes["default"].func,options:_propTypes["default"].arrayOf(_propTypes["default"].shape({disabled:_propTypes["default"].bool,label:_propTypes["default"].node,value:_propTypes["default"].any})),values:_propTypes["default"].array};CheckboxGroup.defaultProps={classList:{},disabled:false,errors:null,helperText:null,label:null,name:null,onChange:function onChange(){},options:[],values:[]};var _default=CheckboxGroup;exports["default"]=_default;}),82930:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _inputs=_interopRequireDefault(__webpack_require__(26241));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
var DesktopNativeInput=function DesktopNativeInput(_ref){var autoComplete=_ref.autoComplete,disabled=_ref.disabled,errors=_ref.errors,initValue=_ref.initValue,_onChange=_ref.onChange,type=_ref.type;var _useState=(0,_react.useState)(initValue),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];return _react["default"].createElement("input",{className:"".concat(_inputs["default"].input," ").concat(errors?_inputs["default"].inputError:''),autoComplete:autoComplete,disabled:disabled,errors:errors,onChange:function onChange(e){setValue(e.target.value);_onChange(e.target.value);},type:type,value:value});};DesktopNativeInput.propTypes={autoComplete:_propTypes["default"].string,disabled:_propTypes["default"].bool,errors:_propTypes["default"].string,initValue:_propTypes["default"].string,onChange:_propTypes["default"].func.isRequired,type:_propTypes["default"].string.isRequired};DesktopNativeInput.defaultProps={autoComplete:null,disabled:false,errors:null,initValue:'',onChange:function onChange(){}};var _default=DesktopNativeInput;exports["default"]=_default;}),86811:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DesktopInputWrapper=_interopRequireDefault(__webpack_require__(76151));var _DateInputs=_interopRequireDefault(__webpack_require__(55521));var _datetimeInputHelpers=__webpack_require__(90427);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DesktopDateInput=function DesktopDateInput(_ref){var autoComplete=_ref.autoComplete,disabled=_ref.disabled,errors=_ref.errors,initValue=_ref.initValue,onChange=_ref.onChange;return _react["default"].createElement(_DesktopInputWrapper["default"],{disabled:disabled,errors:errors,formatOut:_datetimeInputHelpers.formatDateOut,initValue:initValue,inputConfig:_datetimeInputHelpers.dateConfig,onChange:onChange,parseValueString:_datetimeInputHelpers.parseDateString},function(_ref2){var _inputRefs=_ref2._inputRefs,handleInputKeyDown=_ref2.handleInputKeyDown,handleNumberBlur=_ref2.handleNumberBlur,handleNumberChange=_ref2.handleNumberChange,values=_ref2.values;return _react["default"].createElement(_DateInputs["default"],{_inputRefs:_inputRefs,autoComplete:autoComplete,disabled:disabled,handleInputKeyDown:handleInputKeyDown,handleNumberBlur:handleNumberBlur,handleNumberChange:handleNumberChange,values:values});});};DesktopDateInput.propTypes={autoComplete:_propTypes["default"].string,disabled:_propTypes["default"].bool,errors:_propTypes["default"].string,initValue:_propTypes["default"].string,onChange:_propTypes["default"].func.isRequired};DesktopDateInput.defaultProps={autoComplete:null,disabled:false,errors:null,initValue:''};var _default=DesktopDateInput;exports["default"]=_default;}),53558:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _desktop=_interopRequireDefault(__webpack_require__(86811));var _DesktopNativeInput=_interopRequireDefault(__webpack_require__(82930));var _mobile=_interopRequireDefault(__webpack_require__(92376));var _isDateInputSupported=_interopRequireDefault(__webpack_require__(48704));var _isMobileBrowser=_interopRequireDefault(__webpack_require__(63458));var _window=__webpack_require__(33852);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var DateInput=function DateInput(props){if(!_window.isWindowDefined)return null;if((0,_isMobileBrowser["default"])())return _react["default"].createElement(_mobile["default"],_extends({key:"date-mobile"},props));if((0,_isDateInputSupported["default"])())return _react["default"].createElement(_DesktopNativeInput["default"],_extends({key:"date-native"},props,{type:"date"}));return _react["default"].createElement(_desktop["default"],_extends({key:"date-desktop"},props));};DateInput.propTypes={autoComplete:_propTypes["default"].string,disabled:_propTypes["default"].bool,errors:_propTypes["default"].string,initValue:_propTypes["default"].string,onChange:_propTypes["default"].func.isRequired};DateInput.defaultProps={autoComplete:null,disabled:false,errors:null,initValue:''};var _default=DateInput;exports["default"]=_default;}),92376:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _MobileInputWrapper=_interopRequireDefault(__webpack_require__(62890));var _datetimeInputHelpers=__webpack_require__(90427);var _datetime=_interopRequireDefault(__webpack_require__(15050));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var MobileDateInput=function(_PureComponent){_inherits(MobileDateInput,_PureComponent);var _super=_createSuper(MobileDateInput);function MobileDateInput(props){var _this;_classCallCheck(this,MobileDateInput);_this=_super.call(this,props);_this.state={value:props.initValue};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}
_createClass(MobileDateInput,[{key:"handleChange",value:function handleChange(e){this.setState({value:e.target.value});this.props.onChange(e.target.value);}},{key:"render",value:function render(){var _this$props=this.props,autoComplete=_this$props.autoComplete,disabled=_this$props.disabled,errors=_this$props.errors;var _parseDateString=(0,_datetimeInputHelpers.parseDateString)(this.state.value),day=_parseDateString.day,month=_parseDateString.month,year=_parseDateString.year;return _react["default"].createElement(_MobileInputWrapper["default"],{autoComplete:autoComplete,onChange:this.handleChange,disabled:disabled,errors:errors,type:"date",value:this.state.value},_react["default"].createElement(_react.Fragment,null,_react["default"].createElement("span",{className:_datetime["default"].input},month||'MM'),_react["default"].createElement("span",null,"/"),_react["default"].createElement("span",{className:_datetime["default"].input},day||'DD'),_react["default"].createElement("span",null,"/"),_react["default"].createElement("span",{className:_datetime["default"].inputWide},year||'YYYY')));}}]);return MobileDateInput;}(_react.PureComponent);MobileDateInput.propTypes={autoComplete:_propTypes["default"].string,disabled:_propTypes["default"].bool,errors:_propTypes["default"].string,initValue:_propTypes["default"].string,onChange:_propTypes["default"].func.isRequired};MobileDateInput.defaultProps={autoComplete:null,disabled:false,errors:null,initValue:'',onChange:function onChange(){}};var _default=MobileDateInput;exports["default"]=_default;}),90427:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.formatDateOut=formatDateOut;exports.formatDatetimeOut=formatDatetimeOut;exports.formatTimeOut=formatTimeOut;exports.parseDateString=parseDateString;exports.parseTimeString=parseTimeString;exports.parseDatetimeString=parseDatetimeString;exports.zeroPadValue=zeroPadValue;exports.datetimeConfig=exports.timeConfig=exports.dateConfig=void 0;var _time=__webpack_require__(28716);var _keyCodes=__webpack_require__(23789);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
var EMPTY_DATE_VALUES={day:'',month:'',year:''};var EMPTY_TIME_VALUES={ampm:'',hour:'',minute:''};function decrementWithRollover(val,min,max){var decremented=val-1;return decremented<min?max:decremented;}
function getAMPMValueFromKeyDown(e){if(e.keyCode===_keyCodes.A)return 'am';if(e.keyCode===_keyCodes.P)return 'pm';return null;}
function getNumberInputSteppedValue(currentValue,keyCode,_ref){var initStep=_ref.initStep,min=_ref.min,max=_ref.max,maxLength=_ref.maxLength;if(initStep&&currentValue==='')return zeroPadValue(initStep,maxLength);var num=parseInt(currentValue)||min;var newVal=incrementOrDecrement(num,min,max,keyCode);return zeroPadValue(newVal,maxLength);}
function getAMPMSteppedValue(currentValue){return currentValue.toLowerCase()==='am'?'pm':'am';}
function incrementOrDecrement(val,min,max,keyCode){return keyCode===_keyCodes.UP?incrementWithRollover(val,min,max):decrementWithRollover(val,min,max);}
function incrementWithRollover(val,min,max){var incremented=val+1;return incremented>max?min:incremented;}
function formatDateOut(_ref2){var day=_ref2.day,month=_ref2.month,year=_ref2.year;return(0,_time.dateInputValueFromParts)({day:day,month:month,year:year});}
function formatDatetimeOut(_ref3){var ampm=_ref3.ampm,day=_ref3.day,hour=_ref3.hour,minute=_ref3.minute,month=_ref3.month,year=_ref3.year;var dateString=formatDateOut({day:day,month:month,year:year});var timeString=formatTimeOut({ampm:ampm,hour:hour,minute:minute});return dateString&&timeString?"".concat(dateString,"T").concat(timeString):'';}
function formatTimeOut(_ref4){var ampm=_ref4.ampm,hour=_ref4.hour,minute=_ref4.minute;return(0,_time.timeInputValueFromParts)({ampm:ampm,hour:hour,minute:minute});}
function parseDateString(dateString){if(!dateString)return EMPTY_DATE_VALUES;var _dateString$split=dateString.split('-'),_dateString$split2=_slicedToArray(_dateString$split,3),year=_dateString$split2[0],month=_dateString$split2[1],day=_dateString$split2[2];return{day:day,month:month,year:year};}
function parseTimeString(timeString){if(!timeString)return EMPTY_TIME_VALUES;var _timeString$split=timeString.split(':'),_timeString$split2=_slicedToArray(_timeString$split,2),hour=_timeString$split2[0],minute=_timeString$split2[1];var parsedhour=parseInt(hour);var ampm=parsedhour>12?'pm':'am';return{ampm:ampm,hour:((parsedhour+11)%12+1).toString(),minute:minute};}
function parseDatetimeString(datetimeString){if(!datetimeString)return Object.assign({},EMPTY_DATE_VALUES,EMPTY_TIME_VALUES);var _datetimeString$split=datetimeString.split('T'),_datetimeString$split2=_slicedToArray(_datetimeString$split,2),dateString=_datetimeString$split2[0],timeString=_datetimeString$split2[1];return Object.assign({},parseDateString(dateString),parseTimeString(timeString));}
function zeroPadValue(value,length){return value.toString().padStart(length,'0');}
var ampm={getSteppedValue:getAMPMSteppedValue,getValueFromKeyDown:getAMPMValueFromKeyDown,maxLength:2,defaultValue:'am'};var hour={getSteppedValue:getNumberInputSteppedValue,min:1,max:12,maxLength:2};var minute={getSteppedValue:getNumberInputSteppedValue,min:0,max:59,maxLength:2};var day={getSteppedValue:getNumberInputSteppedValue,min:1,max:31,maxLength:2};var month={getSteppedValue:getNumberInputSteppedValue,min:1,max:12,maxLength:2};var year={getSteppedValue:getNumberInputSteppedValue,min:1,max:3000,maxLength:4,initStep:new Date().getFullYear()};var dateConfig={day:day,month:month,year:year};exports.dateConfig=dateConfig;var timeConfig={ampm:ampm,hour:hour,minute:minute};exports.timeConfig=timeConfig;var datetimeConfig=Object.assign({},dateConfig,timeConfig);exports.datetimeConfig=datetimeConfig;}),67967:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DesktopInputWrapper=_interopRequireDefault(__webpack_require__(76151));var _DateInputs=_interopRequireDefault(__webpack_require__(55521));var _TimeInputs=_interopRequireDefault(__webpack_require__(10217));var _datetimeInputHelpers=__webpack_require__(90427);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var DesktopDatetimeLocalInput=function DesktopDatetimeLocalInput(_ref){var autoComplete=_ref.autoComplete,disabled=_ref.disabled,errors=_ref.errors,initValue=_ref.initValue,onChange=_ref.onChange;return _react["default"].createElement(_DesktopInputWrapper["default"],{disabled:disabled,errors:errors,formatOut:_datetimeInputHelpers.formatDatetimeOut,initValue:initValue,inputConfig:_datetimeInputHelpers.datetimeConfig,onChange:onChange,parseValueString:_datetimeInputHelpers.parseDatetimeString},function(_ref2){var _inputRefs=_ref2._inputRefs,handleInputKeyDown=_ref2.handleInputKeyDown,handleNumberBlur=_ref2.handleNumberBlur,handleNumberChange=_ref2.handleNumberChange,values=_ref2.values;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement(_DateInputs["default"],{_inputRefs:_inputRefs.slice(0,3),autoComplete:autoComplete,disabled:disabled,handleInputKeyDown:handleInputKeyDown,handleNumberBlur:handleNumberBlur,handleNumberChange:handleNumberChange,values:values}),_react["default"].createElement(_TimeInputs["default"],{_inputRefs:_inputRefs.slice(3),autoComplete:autoComplete,disabled:disabled,handleInputKeyDown:handleInputKeyDown,handleNumberBlur:handleNumberBlur,handleNumberChange:handleNumberChange,values:values}));});};DesktopDatetimeLocalInput.propTypes={autoComplete:_propTypes["default"].string,disabled:_propTypes["default"].bool,errors:_propTypes["default"].string,initValue:_propTypes["default"].string,onChange:_propTypes["default"].func.isRequired};DesktopDatetimeLocalInput.defaultProps={autoComplete:null,disabled:false,errors:null,initValue:''};var _default=DesktopDatetimeLocalInput;exports["default"]=_default;}),75374:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _desktop=_interopRequireDefault(__webpack_require__(67967));var _DesktopNativeInput=_interopRequireDefault(__webpack_require__(82930));var _mobile=_interopRequireDefault(__webpack_require__(40394));var _isDateInputSupported=_interopRequireDefault(__webpack_require__(48704));var _isMobileBrowser=_interopRequireDefault(__webpack_require__(63458));var _window=__webpack_require__(33852);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var DatetimeLocalInput=function DatetimeLocalInput(props){if(!_window.isWindowDefined)return null;if((0,_isMobileBrowser["default"])())return _react["default"].createElement(_mobile["default"],props);if((0,_isDateInputSupported["default"])())return _react["default"].createElement(_DesktopNativeInput["default"],_extends({},props,{type:"datetime-local"}));return _react["default"].createElement(_desktop["default"],props);};DatetimeLocalInput.propTypes={autoComplete:_propTypes["default"].string,disabled:_propTypes["default"].bool,errors:_propTypes["default"].string,initValue:_propTypes["default"].string,onChange:_propTypes["default"].func.isRequired};DatetimeLocalInput.defaultProps={autoComplete:null,disabled:false,errors:null,initValue:''};var _default=DatetimeLocalInput;exports["default"]=_default;}),40394:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _MobileInputWrapper=_interopRequireDefault(__webpack_require__(62890));var _datetimeInputHelpers=__webpack_require__(90427);var _typography=_interopRequireDefault(__webpack_require__(68163));var _datetime=_interopRequireDefault(__webpack_require__(15050));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var MobileDatetimeLocalInput=function(_PureComponent){_inherits(MobileDatetimeLocalInput,_PureComponent);var _super=_createSuper(MobileDatetimeLocalInput);function MobileDatetimeLocalInput(props){var _this;_classCallCheck(this,MobileDatetimeLocalInput);_this=_super.call(this,props);_this.state={value:props.initValue};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}
_createClass(MobileDatetimeLocalInput,[{key:"handleChange",value:function handleChange(e){this.setState({value:e.target.value});this.props.onChange(e.target.value);}},{key:"render",value:function render(){var _this$props=this.props,autoComplete=_this$props.autoComplete,disabled=_this$props.disabled,errors=_this$props.errors;var _parseDatetimeString=(0,_datetimeInputHelpers.parseDatetimeString)(this.state.value),ampm=_parseDatetimeString.ampm,hour=_parseDatetimeString.hour,minute=_parseDatetimeString.minute,day=_parseDatetimeString.day,month=_parseDatetimeString.month,year=_parseDatetimeString.year;return _react["default"].createElement(_MobileInputWrapper["default"],{autoComplete:autoComplete,disabled:disabled,errors:errors,onChange:this.handleChange,type:"datetime-local",value:this.state.value},_react["default"].createElement(_react.Fragment,null,_react["default"].createElement("span",{className:_datetime["default"].input},month||'MM'),_react["default"].createElement("span",null,"/"),_react["default"].createElement("span",{className:_datetime["default"].input},day||'DD'),_react["default"].createElement("span",null,"/"),_react["default"].createElement("span",{className:_datetime["default"].inputWide},year||'YYYY'),_react["default"].createElement("span",{className:_datetime["default"].input},hour||'HH'),_react["default"].createElement("span",null,":"),_react["default"].createElement("span",{className:_datetime["default"].input},minute||'MM'),_react["default"].createElement("span",{className:"".concat(_datetime["default"].input," ").concat(_typography["default"].uppercase)},ampm||'--')));}}]);return MobileDatetimeLocalInput;}(_react.PureComponent);MobileDatetimeLocalInput.propTypes={autoComplete:_propTypes["default"].string,classList:_propTypes["default"].shape({input:_propTypes["default"].string}),disabled:_propTypes["default"].bool,errors:_propTypes["default"].string,initValue:_propTypes["default"].string,onChange:_propTypes["default"].func.isRequired};MobileDatetimeLocalInput.defaultProps={autoComplete:null,classList:{input:''},disabled:false,errors:null,initValue:''};var _default=MobileDatetimeLocalInput;exports["default"]=_default;}),34487:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _date=_interopRequireDefault(__webpack_require__(53558));var _form_group=_interopRequireDefault(__webpack_require__(47310));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var FormDateInput=function FormDateInput(_ref){var autoComplete=_ref.autoComplete,disabled=_ref.disabled,errors=_ref.errors,helperText=_ref.helperText,initValue=_ref.initValue,label=_ref.label,onChange=_ref.onChange;return _react["default"].createElement(_form_group["default"],{errors:errors,helperText:helperText,label:label,value:""},_react["default"].createElement(_date["default"],{autoComplete:autoComplete,disabled:disabled,errors:errors,initValue:initValue,onChange:onChange}));};FormDateInput.propTypes={autoComplete:_propTypes["default"].string,disabled:_propTypes["default"].bool,errors:_propTypes["default"].string,helperText:_propTypes["default"].string,initValue:_propTypes["default"].string,label:_propTypes["default"].string,onChange:_propTypes["default"].func.isRequired};FormDateInput.defaultProps={autoComplete:null,disabled:false,errors:null,helperText:null,label:null,initValue:''};var _default=FormDateInput;exports["default"]=_default;}),55521:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _events=__webpack_require__(64770);var _datetime=_interopRequireDefault(__webpack_require__(15050));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var DateInputs=function DateInputs(_ref){var _inputRefs=_ref._inputRefs,autoComplete=_ref.autoComplete,disabled=_ref.disabled,handleInputKeyDown=_ref.handleInputKeyDown,handleNumberBlur=_ref.handleNumberBlur,handleNumberChange=_ref.handleNumberChange,values=_ref.values;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("input",{ref:_inputRefs[0],className:_datetime["default"].input,autoComplete:autoComplete,disabled:disabled,name:"month",onBlur:handleNumberBlur,onChange:handleNumberChange,onClick:_events.selectTargetContents,onFocus:_events.selectTargetContents,onKeyDown:handleInputKeyDown,placeholder:"MM",value:values.month}),_react["default"].createElement("span",null,"/"),_react["default"].createElement("input",{ref:_inputRefs[1],className:_datetime["default"].input,onBlur:handleNumberBlur,onChange:handleNumberChange,onClick:_events.selectTargetContents,onFocus:_events.selectTargetContents,onKeyDown:handleInputKeyDown,autoComplete:autoComplete,disabled:disabled,name:"day",placeholder:"DD",value:values.day}),_react["default"].createElement("span",null,"/"),_react["default"].createElement("input",{ref:_inputRefs[2],className:_datetime["default"].inputWide,autoComplete:autoComplete,disabled:disabled,name:"year",onBlur:handleNumberBlur,onChange:handleNumberChange,onClick:_events.selectTargetContents,onFocus:_events.selectTargetContents,onKeyDown:handleInputKeyDown,placeholder:"YYYY",value:values.year}));};DateInputs.propTypes={_inputRefs:_propTypes["default"].arrayOf(_propTypes["default"].object).isRequired,autoComplete:_propTypes["default"].string,disabled:_propTypes["default"].bool,handleInputKeyDown:_propTypes["default"].func.isRequired,handleNumberBlur:_propTypes["default"].func.isRequired,handleNumberChange:_propTypes["default"].func.isRequired,values:_propTypes["default"].shape({day:_propTypes["default"].string.isRequired,month:_propTypes["default"].string.isRequired,year:_propTypes["default"].string.isRequired}).isRequired};DateInputs.defaultProps={autoComplete:null,disabled:false};var _default=DateInputs;exports["default"]=_default;}),76151:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _keyCodes=__webpack_require__(23789);var _math=__webpack_require__(45498);var _document=__webpack_require__(26208);var _types=__webpack_require__(88742);var _strings=__webpack_require__(9263);var _converters=__webpack_require__(39719);var _datetimeInputHelpers=__webpack_require__(90427);var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _datetime=_interopRequireDefault(__webpack_require__(15050));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DesktopInputWrapper=function(_PureComponent){_inherits(DesktopInputWrapper,_PureComponent);var _super=_createSuper(DesktopInputWrapper);function DesktopInputWrapper(props){var _this;_classCallCheck(this,DesktopInputWrapper);_this=_super.call(this,props);_this.state={values:_this._initValues(props),wrapperHasFocus:false};_this.handleArrowMouseDown=_this.handleArrowMouseDown.bind(_assertThisInitialized(_this));_this.handleClearMouseDown=_this.handleClearMouseDown.bind(_assertThisInitialized(_this));_this.handleInputKeyDown=_this.handleInputKeyDown.bind(_assertThisInitialized(_this));_this.handleNumberBlur=_this.handleNumberBlur.bind(_assertThisInitialized(_this));_this.handleNumberChange=_this.handleNumberChange.bind(_assertThisInitialized(_this));_this.handleWrapperClick=_this.handleWrapperClick.bind(_assertThisInitialized(_this));_this._inputRefs=Object.keys(props.inputConfig).map(function(){return _react["default"].createRef();});return _this;}
_createClass(DesktopInputWrapper,[{key:"_initValues",value:function _initValues(_ref){var initValue=_ref.initValue,inputConfig=_ref.inputConfig,parseValueString=_ref.parseValueString;var parsedValues=parseValueString(initValue);return(0,_converters.transformObjValues)(parsedValues,function(val,key){return(0,_types.isBlank)(val)&&inputConfig[key].defaultValue?inputConfig[key].defaultValue:val;});}},{key:"handleArrowMouseDown",value:function handleArrowMouseDown(e,keyCode){e.preventDefault();var input=this._getOrFocusCurrentInput(this._inputRefs);this._stepInputValue(input,keyCode);}},{key:"handleClearMouseDown",value:function handleClearMouseDown(e){e.preventDefault();this._setValues((0,_converters.transformObjValues)(this.state.values,function(){return '';}));}},{key:"handleInputKeyDown",value:function handleInputKeyDown(e){if(e.keyCode===_keyCodes.DELETE){e.preventDefault();return this._setValues(_defineProperty({},e.target.name,''));}
if([_keyCodes.LEFT,_keyCodes.RIGHT].includes(e.keyCode)){e.preventDefault();return this._focusNextOrPreviousInput(this._inputRefs,e.target,e.keyCode===_keyCodes.LEFT?-1:1);}
if([_keyCodes.UP,_keyCodes.DOWN].includes(e.keyCode)){e.preventDefault();return this._stepInputValue(e.target,e.keyCode);}
var config=this.props.inputConfig[e.target.name];var customValue=(0,_types.isAFunction)(config.getValueFromKeyDown)?config.getValueFromKeyDown(e):null;if(customValue!==null)this._setValues(_defineProperty({},e.target.name,customValue));}},{key:"handleNumberBlur",value:function handleNumberBlur(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;if(value==='')return;var _this$props$inputConf=this.props.inputConfig[name],max=_this$props$inputConf.max,maxLength=_this$props$inputConf.maxLength,min=_this$props$inputConf.min;var num=this._processNumberInput(value);var clamped=(0,_math.clamp)(min,num,max);if(num!==clamped){this._setValues(_defineProperty({},name,(0,_datetimeInputHelpers.zeroPadValue)(clamped,maxLength)));}}},{key:"handleNumberChange",value:function handleNumberChange(e){var _e$target2=e.target,name=_e$target2.name,value=_e$target2.value;var _this$props$inputConf2=this.props.inputConfig[name],max=_this$props$inputConf2.max,maxLength=_this$props$inputConf2.maxLength;var num=this._processNumberInput(value);if(num===null)return this._setValues(_defineProperty({},name,''));this._setValues(_defineProperty({},name,(0,_datetimeInputHelpers.zeroPadValue)(num,maxLength)));if(num>=max/10)this._focusNextOrPreviousInput(this._inputRefs,e.target,1);}},{key:"handleWrapperClick",value:function handleWrapperClick(e){if(e.target!==e.currentTarget||this.state.wrapperHasFocus||this.props.disabled)return;this._inputRefs[0].current.focus();}},{key:"_areAllInputsBlank",value:function _areAllInputsBlank(){var _this2=this;return Object.keys(this.state.values).every(function(key){return _this2.state.values[key]==='';});}},{key:"_focusNextOrPreviousInput",value:function _focusNextOrPreviousInput(inputRefs,currentFocusedInput){var direction=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var inputIndex=inputRefs.findIndex(function(ref){return ref.current===currentFocusedInput;});var newIndex=inputIndex+direction;if(inputRefs[newIndex])inputRefs[newIndex].current.focus();}},{key:"_getOrFocusCurrentInput",value:function _getOrFocusCurrentInput(inputRefs){var inputRef=inputRefs.find(function(ref){return ref.current===(0,_document.documentActiveElement)();});if(inputRef)return inputRef.current;inputRefs[0].current.focus();return inputRefs[0].current;}},{key:"_getWrapperClassName",value:function _getWrapperClassName(){if(this.props.disabled)return _datetime["default"].wrapperDisabled;if(this.props.errors)return _inputs["default"].inputError;if(this.state.wrapperHasFocus)return _inputs["default"].inputFocus;return '';}},{key:"_processNumberInput",value:function _processNumberInput(value){var cleaned=(0,_strings.replaceAllButNums)(value);if(cleaned.length===0)return null;return parseInt(cleaned);}},{key:"_propagateValue",value:function _propagateValue(values){var cb=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};this.props.onChange(this.props.formatOut(values));cb();}},{key:"_setValues",value:function _setValues(newValues,cb){var _this3=this;this.setState({values:Object.assign({},this.state.values,newValues)},function(){return _this3._propagateValue(_this3.state.values,cb);});}},{key:"_stepInputValue",value:function _stepInputValue(input,keyCode){var config=this.props.inputConfig[input.name];var newVal=config.getSteppedValue(input.value,keyCode,config);this._setValues(_defineProperty({},input.name,newVal),function(){return input.select();});}},{key:"render",value:function render(){var _this4=this;return _react["default"].createElement("div",{className:"".concat(_datetime["default"].wrapperDesktop," ").concat(_inputs["default"].input," ").concat(this._getWrapperClassName()),onClick:this.handleWrapperClick,onFocus:function onFocus(){return _this4.setState({wrapperHasFocus:true});},onBlur:function onBlur(){return _this4.setState({wrapperHasFocus:false});}},_react["default"].createElement("div",{className:"".concat(_layout["default"].inlineFlex," ").concat(_layout["default"].margin10)},this.props.children({_inputRefs:this._inputRefs,handleInputKeyDown:this.handleInputKeyDown,handleNumberBlur:this.handleNumberBlur,handleNumberChange:this.handleNumberChange,values:this.state.values})),_react["default"].createElement("div",{className:"".concat(_datetime["default"].buttons," ").concat(_layout["default"].inlineFlex," ").concat(_layout["default"].marginRight10)},_react["default"].createElement("div",{className:"".concat(_typography["default"].textWithIcon," ").concat(_datetime["default"].clear," ").concat(_layout["default"].marginRight5," ").concat(this._areAllInputsBlank()?_util["default"].hidden:''),onMouseDown:this.handleClearMouseDown},_react["default"].createElement(_icon["default"],{name:"close",size:12})),_react["default"].createElement("div",{className:_datetime["default"].arrowButtons},_react["default"].createElement("div",{className:_typography["default"].textWithIcon,onMouseDown:function onMouseDown(e){return _this4.handleArrowMouseDown(e,_keyCodes.UP);}},_react["default"].createElement(_icon["default"],{className:_datetime["default"].toggle,name:"arrow-up",size:12})),_react["default"].createElement("div",{className:_typography["default"].textWithIcon,onMouseDown:function onMouseDown(e){return _this4.handleArrowMouseDown(e,_keyCodes.DOWN);}},_react["default"].createElement(_icon["default"],{className:_datetime["default"].toggle,name:"arrow-down",size:12})))));}}]);return DesktopInputWrapper;}(_react.PureComponent);DesktopInputWrapper.propTypes={children:_propTypes["default"].func.isRequired,disabled:_propTypes["default"].bool,errors:_propTypes["default"].string,formatOut:_propTypes["default"].func.isRequired,initValue:_propTypes["default"].string,inputConfig:_propTypes["default"].object.isRequired,onChange:_propTypes["default"].func,parseValueString:_propTypes["default"].func.isRequired};DesktopInputWrapper.defaultProps={disabled:false,errors:null,initValue:'',onChange:function onChange(){}};var _default=DesktopInputWrapper;exports["default"]=_default;}),62890:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _inputs=_interopRequireDefault(__webpack_require__(26241));var _datetime=_interopRequireDefault(__webpack_require__(15050));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var MobileInputWrapper=function(_PureComponent){_inherits(MobileInputWrapper,_PureComponent);var _super=_createSuper(MobileInputWrapper);function MobileInputWrapper(props){var _this;_classCallCheck(this,MobileInputWrapper);_this=_super.call(this,props);_this._inputRef=_react["default"].createRef();return _this;}
_createClass(MobileInputWrapper,[{key:"render",value:function render(){var _this2=this;return _react["default"].createElement("div",{className:"".concat(_datetime["default"].wrapperMobile," ").concat(_inputs["default"].input," ").concat(this.props.errors?_inputs["default"].inputError:''),onFocus:function onFocus(){return _this2._inputRef.current&&_this2._inputRef.current.focus();},tabIndex:this.props.disabled?null:0},_react["default"].createElement(_react.Fragment,null,this.props.children,_react["default"].createElement("input",{ref:this._inputRef,autoComplete:this.props.autoComplete,className:_inputs["default"].hiddenInput,disabled:this.props.disabled,onChange:this.props.onChange,type:this.props.type,value:this.props.value})));}}]);return MobileInputWrapper;}(_react.PureComponent);MobileInputWrapper.propTypes={autoComplete:_propTypes["default"].string,disabled:_propTypes["default"].bool,errors:_propTypes["default"].string,onChange:_propTypes["default"].func,type:_propTypes["default"].string.isRequired};MobileInputWrapper.defaultProps={autoComplete:null,disabled:false,errors:null,onChange:function onChange(){}};var _default=MobileInputWrapper;exports["default"]=_default;}),10217:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _events=__webpack_require__(64770);var _typography=_interopRequireDefault(__webpack_require__(68163));var _datetime=_interopRequireDefault(__webpack_require__(15050));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var TimeInputs=function TimeInputs(_ref){var _inputRefs=_ref._inputRefs,autoComplete=_ref.autoComplete,disabled=_ref.disabled,handleInputKeyDown=_ref.handleInputKeyDown,handleNumberBlur=_ref.handleNumberBlur,handleNumberChange=_ref.handleNumberChange,values=_ref.values;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("input",{ref:_inputRefs[0],className:_datetime["default"].input,autoComplete:autoComplete,disabled:disabled,onBlur:handleNumberBlur,onClick:_events.selectTargetContents,onFocus:_events.selectTargetContents,onKeyDown:handleInputKeyDown,onChange:handleNumberChange,name:"hour",placeholder:"HH",value:values.hour}),_react["default"].createElement("span",null,":"),_react["default"].createElement("input",{ref:_inputRefs[1],className:_datetime["default"].input,autoComplete:autoComplete,disabled:disabled,name:"minute",onBlur:handleNumberBlur,onChange:handleNumberChange,onClick:_events.selectTargetContents,onFocus:_events.selectTargetContents,onKeyDown:handleInputKeyDown,placeholder:"MM",value:values.minute}),_react["default"].createElement("input",{ref:_inputRefs[2],className:"".concat(_datetime["default"].input," ").concat(_typography["default"].uppercase),autoComplete:autoComplete,disabled:disabled,onClick:_events.selectTargetContents,onFocus:_events.selectTargetContents,onKeyDown:handleInputKeyDown,name:"ampm",placeholder:"--",readOnly:true,value:values.ampm}));};TimeInputs.propTypes={_inputRefs:_propTypes["default"].arrayOf(_propTypes["default"].object).isRequired,autoComplete:_propTypes["default"].string,disabled:_propTypes["default"].bool,handleInputKeyDown:_propTypes["default"].func.isRequired,handleNumberBlur:_propTypes["default"].func.isRequired,handleNumberChange:_propTypes["default"].func.isRequired,values:_propTypes["default"].shape({ampm:_propTypes["default"].string.isRequired,hour:_propTypes["default"].string.isRequired,minute:_propTypes["default"].string.isRequired}).isRequired};TimeInputs.defaultProps={autoComplete:null,disabled:false};var _default=TimeInputs;exports["default"]=_default;}),9231:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=exports.validation=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _strings=__webpack_require__(9263);var _inputs=_interopRequireDefault(__webpack_require__(26241));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var MAX_LEN=8;var validation=function validation(value){var parts=value.split(':');if(value.length!==MAX_LEN||parts.length!==3)return 'please make sure the duration matches HH:MM:SS';if(parseInt(parts[1])>59||parseInt(parts[2])>59)return 'input must be 0-59 for minutes and seconds';return null;};exports.validation=validation;var DurationInput=function(_Component){_inherits(DurationInput,_Component);var _super=_createSuper(DurationInput);function DurationInput(props){var _this;_classCallCheck(this,DurationInput);_this=_super.call(this,props);_this.state={prevValue:props.value};_this.onBlur=_this.onBlur.bind(_assertThisInitialized(_this));_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this._input;return _this;}
_createClass(DurationInput,[{key:"onBlur",value:function onBlur(e){var value=this.props.value;var parts=value.split(':');if(parts.length!==3)return;if(parts.every(function(p){return p.length===2;}))return;var formatted=parts.map(function(p){return p.length===1?"0".concat(p):p;}).join(':');this.setState({prevValue:formatted});this.props.onChange(e,formatted);}},{key:"onChange",value:function onChange(e){var value=e.target.value;if(value.length>=MAX_LEN+1)return;var _this$_getCursorPosit=this._getCursorPosition(),selectionStart=_this$_getCursorPosit.selectionStart,selectionEnd=_this$_getCursorPosit.selectionEnd;if(selectionStart!==selectionEnd)return this.props.onChange(value);var action=this.state.prevValue.length>value.length?'deleting':'adding';var formatted=action==='adding'?this._addColons((0,_strings.replaceAllButNums)(value)):value;this.setState({prevValue:formatted});this.props.onChange(e,formatted);if(this._input&&selectionStart!==formatted.length){this._resetCursor({formatted:formatted,selectionStart:selectionStart,value:value});}}},{key:"_addColons",value:function _addColons(value){var maxLengthMinusColons=MAX_LEN-2;var everyNChar=2;return _toConsumableArray(value).reduce(function(acc,l,i){return(i+1)%everyNChar||i+1===maxLengthMinusColons?acc.concat(l):acc.concat(l+':');},'');}},{key:"_getCursorPosition",value:function _getCursorPosition(value){if(!this._input)return{selectionStart:0,selectionEnd:0};var selectionStart=this._input.selectionStart;var selectionEnd=this._input.selectionEnd;return{selectionStart:selectionStart,selectionEnd:selectionEnd};}},{key:"_resetCursor",value:function _resetCursor(_ref){var _this2=this;var formatted=_ref.formatted,selectionStart=_ref.selectionStart,value=_ref.value;setTimeout(function(){var appendedColon=value.length<formatted.length;var pos=appendedColon?selectionStart+1:selectionStart;_this2._input.setSelectionRange(pos,pos);},10);}},{key:"render",value:function render(){var _this3=this;return _react["default"].createElement("input",{ref:function ref(el){return _this3._input=el;},className:"".concat(_inputs["default"].input," ").concat(this.props.errors?_inputs["default"].inputError:''," ").concat(this.props.classList.input),disabled:this.props.disabled,onBlur:this.onBlur,onChange:this.onChange,placeholder:this.props.placeholder,type:"tel",value:this.props.value});}}]);return DurationInput;}(_react.Component);DurationInput.propTypes={classList:_propTypes["default"].shape({input:_propTypes["default"].string}),disabled:_propTypes["default"].bool,errors:_propTypes["default"].string,onChange:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].string,value:_propTypes["default"].string.isRequired};DurationInput.defaultProps={classList:{input:''},disabled:false,errors:null,placeholder:'00:00:00'};var _default=DurationInput;exports["default"]=_default;}),85883:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));var _form_group=_interopRequireDefault(__webpack_require__(47310));var _types=__webpack_require__(88742);var _util=_interopRequireDefault(__webpack_require__(48161));var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _getRadioButton=function _getRadioButton(_ref){var button=_ref.button,disabled=_ref.disabled,hasErrors=_ref.hasErrors,name=_ref.name,onChange=_ref.onChange,value=_ref.value;var isChecked=!(0,_types.isBlank)(value)&&value.toString()===button.value.toString();var isDisabled=!!(disabled||button.disabled);return _react["default"].createElement("label",{key:button.value,className:"".concat(_inputs["default"].radioButtonContainer," ").concat(disabled?_util["default"].disabled:'')},_react["default"].createElement("div",{className:_inputs["default"].radioGroupWrapper},_react["default"].createElement("input",{checked:isChecked,className:"".concat(_inputs["default"].radioButton," ").concat(hasErrors?_inputs["default"].radioButtonError:''),disabled:isDisabled,name:name,onChange:onChange,type:"radio",value:button.value}),_react["default"].createElement("span",null)," ",_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyM," ").concat(_layout["default"].marginLeft10)},button.label)));};var RadioGroup=function RadioGroup(_ref2){var buttons=_ref2.buttons,classList=_ref2.classList,disabled=_ref2.disabled,errors=_ref2.errors,helperText=_ref2.helperText,label=_ref2.label,name=_ref2.name,onChange=_ref2.onChange,value=_ref2.value;var hasErrors=!(0,_types.isBlank)(errors);return _react["default"].createElement(_form_group["default"],{classList:{root:classList.root},errors:errors,helperText:helperText,label:label,name:name,value:""},_react["default"].createElement("div",{className:_inputs["default"].radioGroup},buttons.map(function(button){return _getRadioButton({button:button,disabled:disabled,hasErrors:hasErrors,name:name,onChange:onChange,value:value});})));};RadioGroup.propTypes={buttons:_propTypes["default"].arrayOf(_propTypes["default"].shape({disabled:_propTypes["default"].bool,label:_propTypes["default"].node,value:_propTypes["default"].any})),classList:_propTypes["default"].shape({root:_propTypes["default"].string}),disabled:_propTypes["default"].bool,errors:_propTypes["default"].oneOfType([_propTypes["default"].array,_propTypes["default"].string]),helperText:_propTypes["default"].string,label:_propTypes["default"].node,name:_propTypes["default"].string,onChange:_propTypes["default"].func,value:_propTypes["default"].any};RadioGroup.defaultProps={buttons:[],classList:{},disabled:false,errors:null,helperText:null,label:null,name:null,onChange:function onChange(){},value:''};var _default=RadioGroup;exports["default"]=_default;}),90137:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AutosizeInput=function(_PureComponent){_inherits(AutosizeInput,_PureComponent);var _super=_createSuper(AutosizeInput);function AutosizeInput(props){var _this;_classCallCheck(this,AutosizeInput);_this=_super.call(this,props);_this.state={flex:'1',width:'100%'};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onKeyDown=_this.onKeyDown.bind(_assertThisInitialized(_this));_this.setAndPropagateRef=_this.setAndPropagateRef.bind(_assertThisInitialized(_this));_this._input;return _this;}
_createClass(AutosizeInput,[{key:"onChange",value:function onChange(e){this.props.onChange(e);this._toggleWidth(e);}},{key:"onKeyDown",value:function onKeyDown(e){if(e.keyCode===8&&e.target.value===''&&this.props.value===''){this._toggleWidth(e);}
this.props.onKeyDown(e);}},{key:"setAndPropagateRef",value:function setAndPropagateRef(c){this._input=c;this.props.getInputRef(c);}},{key:"_fallbackToWidthAuto",value:function _fallbackToWidthAuto(){if(this.state.width!=='auto')this.setState({width:'auto'});}},{key:"_toggleWidth",value:function _toggleWidth(e){if(typeof this._input==='undefined')return this._fallbackToWidthAuto();var dims=this._input.getBoundingClientRect();var inputWidth=Math.round(parseFloat(dims.width));var scrollWidth=this._input.scrollWidth;var value=e.target.value;if(scrollWidth>inputWidth&&this.state.width==='100%'){this.setState({flex:'1 0 100%',width:'auto'});}else if(scrollWidth<inputWidth&&this.state.width==='auto'){this.setState({flex:'1',width:'100%'});}else{if(value===''&&scrollWidth===inputWidth&&this.state.width==='auto'){this.setState({flex:'1',width:'100%'});}}}},{key:"render",value:function render(){return _react["default"].createElement("input",{ref:this.setAndPropagateRef,style:{flex:this.state.flex,width:this.state.width},className:this.props.className,disabled:this.props.disabled,id:this.props.id,name:this.props.name,onBlur:this.props.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this.props.placeholder,value:this.props.value});}}]);return AutosizeInput;}(_react.PureComponent);AutosizeInput.propTypes={className:_propTypes["default"].string.isRequired,disabled:_propTypes["default"].bool.isRequired,id:_propTypes["default"].string,name:_propTypes["default"].string,onBlur:_propTypes["default"].func.isRequired,onChange:_propTypes["default"].func.isRequired,onKeyDown:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].string,value:_propTypes["default"].any.isRequired};AutosizeInput.defaultProps={id:null,name:null,placeholder:null};var _default=AutosizeInput;exports["default"]=_default;}),41561:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var MultiSelected=function MultiSelected(props){var styles=props.styles;return _react["default"].createElement(_react.Fragment,null,props.selected.map(function(s){return _react["default"].createElement("div",{key:s.label,className:styles.multiOpt},_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].bold," ").concat(styles.multiText)},s.label),_react["default"].createElement("span",{className:styles.multiOptXWrapper,onClick:function onClick(){return props.onUnselect(s);}},_react["default"].createElement(_icon["default"],{className:styles.multiOptX,name:"close"})));}));};MultiSelected.propTypes={onUnselect:_propTypes["default"].func.isRequired,selected:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].any})).isRequired,styles:_propTypes["default"].object.isRequired};var _default=MultiSelected;exports["default"]=_default;}),17776:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _base=_interopRequireDefault(__webpack_require__(6094));var _icon=_interopRequireDefault(__webpack_require__(44509));var _predicates=__webpack_require__(20918);var _generateRandomKey=_interopRequireDefault(__webpack_require__(89950));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var SelectMenu=function(_PureComponent){_inherits(SelectMenu,_PureComponent);var _super=_createSuper(SelectMenu);function SelectMenu(props){var _this;_classCallCheck(this,SelectMenu);_this=_super.call(this,props);_this.state={disableCursor:false,highlight:0};_this.onKeyDown=_this.onKeyDown.bind(_assertThisInitialized(_this));_this.onMouseMove=_this.onMouseMove.bind(_assertThisInitialized(_this));_this.onOptionMouseOver=_this.onOptionMouseOver.bind(_assertThisInitialized(_this));_this.onSelect=_this.onSelect.bind(_assertThisInitialized(_this));_this._menu;_this._uuid=props.uuid||(0,_generateRandomKey["default"])();_this._mountTimeout;return _this;}
_createClass(SelectMenu,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener('keydown',this.onKeyDown);this._handleMountTimeout();this._scrollToView();}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener('keydown',this.onKeyDown);}},{key:"_scrollToView",value:function _scrollToView(){if(!this.props.config.scrollToView)return;if(this._menu){var menuDims=this._menu.getBoundingClientRect();var buffer=this.props.config.scrollBuffer;if(menuDims.bottom&&window.innerHeight<menuDims.bottom+buffer){window.scrollBy(0,menuDims.bottom+buffer-window.innerHeight);}}}},{key:"onKeyDown",value:function onKeyDown(e){switch(e.keyCode){case 13:e.preventDefault();return this._selectOptByHighlightedIndex();case 38:e.preventDefault();return this._arrowToOpt(-1);case 40:e.preventDefault();if(typeof this._mountTimeout!=='undefined')return;return this._arrowToOpt(1);default:return;}}},{key:"onMouseMove",value:function onMouseMove(){if(this.state.disableCursor)this.setState({disableCursor:false});}},{key:"onOptionMouseOver",value:function onOptionMouseOver(index){if(typeof this._mountTimeout!=='undefined')return;this.setState({highlight:index});}},{key:"onSelect",value:function onSelect(opt,isSelected){this.props.onSelect(opt,isSelected);}},{key:"_arrowToOpt",value:function _arrowToOpt(dir){var _this2=this;if(this.props.isBusy||!this.props.options.length)return;this._disableCursor();var toIndex=this.state.highlight+dir;if(dir>0){this.setState({highlight:toIndex<=this.props.options.length-1?toIndex:0},function(){return _this2._scrollToOption();});}else{this.setState({highlight:toIndex<0?this.props.options.length-1:toIndex},function(){return _this2._scrollToOption();});}}},{key:"_disableCursor",value:function _disableCursor(){if(this.state.disableCursor===false)this.setState({disableCursor:true});}},{key:"_handleMountTimeout",value:function _handleMountTimeout(){var _this3=this;this._mountTimeout=window.setTimeout(function(){window.clearTimeout(_this3._mountTimeout);_this3._mountTimeout=undefined;},30);}},{key:"_scrollToOption",value:function _scrollToOption(){var option=document.querySelector("[data-select-opt=\"".concat(this._uuid,"=").concat(this.state.highlight,"\"]"));if(option){var optDims=option.getBoundingClientRect();var menuDims=this._menu.getBoundingClientRect();if(optDims.top<menuDims.top){this._menu.scrollTop=this._menu.scrollTop-(menuDims.top-optDims.top);}else if(optDims.bottom>menuDims.bottom){this._menu.scrollTop=this._menu.scrollTop+(optDims.bottom-menuDims.bottom);}}}},{key:"_selectOptByHighlightedIndex",value:function _selectOptByHighlightedIndex(){var _this4=this;if(!this.props.options.length||this.props.isBusy)return;var opt=this.props.options.find(function(o,i){return i===_this4.state.highlight;});var isSelected=this.props.selected.find(function(s){return s.value===opt.value;})!==undefined;if(!opt.hasOwnProperty('disabled')||opt.hasOwnProperty('disabled')&&opt.disabled===false){this.onSelect(opt,isSelected);}}},{key:"_getList",value:function _getList(){if(this.props.isBusy)return this._getLoaderView();return this.props.options.length>0?this._getOptsListView():this._getNoResultsView();}},{key:"_getOptsListView",value:function _getOptsListView(){var _this5=this;var styles=this.props.styles;return this.props.options.map(function(o,i){var isSelected=_this5.props.selected.find(function(s){return s.value===o.value;})!==undefined;var optionClass=typeof _this5.props.templates.option==='function'?styles.optionCustom:styles.option;return _react["default"].createElement("div",{key:i,className:"".concat(optionClass," ").concat(_this5.state.highlight===i?styles.highlight:''),"data-select-opt":"".concat(_this5._uuid,"=").concat(i),onClick:function onClick(){if(!o.hasOwnProperty('disabled')||o.hasOwnProperty('disabled')&&o.disabled===false){_this5.onSelect(o,isSelected);}else{_this5.props.clearBlurTimeout();}},onMouseOver:function onMouseOver(){return _this5.onOptionMouseOver(i);}},_this5._getOptInnerView(o),isSelected&&_react["default"].createElement(_icon["default"],{name:"checkmark"}));});}},{key:"_getOptInnerView",value:function _getOptInnerView(opt){return typeof this.props.templates.option==='function'?this.props.templates.option(opt):this._getDefaultOptView(opt);}},{key:"_getDefaultOptView",value:function _getDefaultOptView(opt){var styles=this.props.styles;return _react["default"].createElement("span",{className:styles.label},this._getDefaultOptLabelView(opt));}},{key:"_getDefaultOptLabelView",value:function _getDefaultOptLabelView(opt){if(opt.hasOwnProperty('labelView')){return typeof opt.labelView==='function'?opt.labelView():opt.labelView;}else{return opt.label;}}},{key:"_getLoaderView",value:function _getLoaderView(){var styles=this.props.styles;return _react["default"].createElement("div",{className:styles.optionNoResult},"Loading...");}},{key:"_getNoResultsView",value:function _getNoResultsView(){var styles=this.props.styles;return _react["default"].createElement("div",{className:"".concat(styles.optionNoResult," ").concat(_typography["default"].bold)},"No results found",this._isCurrentValueAValidCreatableOpt()&&this._getCreatableButtonView());}},{key:"_isCurrentValueAValidCreatableOpt",value:function _isCurrentValueAValidCreatableOpt(){if(this.props.creatable===false)return false;var value=this.props.currentValue;return value.length>0&&this.props.selected.find(function(s){return(0,_predicates.doesStringsMatch)(s.label,value)||(0,_predicates.doesStringsMatch)(s.value,value);})===undefined;}},{key:"_getCreatableButtonView",value:function _getCreatableButtonView(){var _this6=this;if(typeof this.props.templates.actionable==='function'){return this.props.templates.actionable({disable:this.props.isBusy,inputValue:this.props.currentValue,onClick:this.onActionableClick});}
var btnText=function btnText(){return _this6.props.currentValue.length>0&&_this6.props.currentValue.length<30?"Create ".concat(_this6.props.currentValue):'Create option';};return _react["default"].createElement(_base["default"],{disable:this.props.isBusy,size:"sm",onClick:this.props.onActionableClick},typeof this.props.templates.actionableText==='function'?this.props.templates.actionableText({value:this.props.currentValue}):btnText());}},{key:"render",value:function render(){var _this7=this;var styles=this.props.styles;return _react["default"].createElement("div",{ref:function ref(c){return _this7._menu=c;},className:styles.root,onMouseMove:this.onMouseMove},_react["default"].createElement("div",{className:"".concat(styles.inner," ").concat(this.state.disableCursor?styles.disableMouseEvents:'')},this._getList()));}}]);return SelectMenu;}(_react.PureComponent);SelectMenu.propTypes={clearBlurTimeout:_propTypes["default"].func.isRequired,config:_propTypes["default"].shape({scrollBuffer:_propTypes["default"].number.isRequired,scrollToView:_propTypes["default"].bool.isRequired}).isRequired,creatable:_propTypes["default"].bool.isRequired,currentValue:_propTypes["default"].string.isRequired,isBusy:_propTypes["default"].bool.isRequired,onActionableClick:_propTypes["default"].func,onSelect:_propTypes["default"].func.isRequired,options:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,labelView:_propTypes["default"].any,value:_propTypes["default"].any})),selected:_propTypes["default"].array.isRequired,styles:_propTypes["default"].object.isRequired,templates:_propTypes["default"].shape({actionable:_propTypes["default"].func,actionableText:_propTypes["default"].func,option:_propTypes["default"].func})};SelectMenu.defaultProps={onActionableClick:function onActionableClick(){},options:[],templates:{actionable:null,actionableText:null,option:null}};var _default=SelectMenu;exports["default"]=_default;}),79463:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lodash=_interopRequireDefault(__webpack_require__(91296));var _AutosizeInput=_interopRequireDefault(__webpack_require__(90137));var _icon=_interopRequireDefault(__webpack_require__(44509));var _SelectMenu=_interopRequireDefault(__webpack_require__(17776));var _MultiSelected=_interopRequireDefault(__webpack_require__(41561));var _ring=_interopRequireDefault(__webpack_require__(49737));var _filterOptions2=_interopRequireDefault(__webpack_require__(350));var _themes=_interopRequireDefault(__webpack_require__(63386));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _types=__webpack_require__(88742);var _inputs=_interopRequireDefault(__webpack_require__(26241));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var GENERIC_RESOLVER=function GENERIC_RESOLVER(res){return Promise.resolve(res);};var Select=function(_PureComponent){_inherits(Select,_PureComponent);var _super=_createSuper(Select);function Select(props){var _this;_classCallCheck(this,Select);_this=_super.call(this,props);_this.state={initialized:false,isBusy:true,openMenu:false,options:props.options,selected:[],value:''};_this.debouncedRequest=(0,_lodash["default"])(_this.debouncedRequest.bind(_assertThisInitialized(_this)),150);_this.onBlur=_this.onBlur.bind(_assertThisInitialized(_this));_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onClear=_this.onClear.bind(_assertThisInitialized(_this));_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));_this.onKeyDown=_this.onKeyDown.bind(_assertThisInitialized(_this));_this.onSelect=_this.onSelect.bind(_assertThisInitialized(_this));_this.onSelectActionableClick=_this.onSelectActionableClick.bind(_assertThisInitialized(_this));_this.onUnselect=_this.onUnselect.bind(_assertThisInitialized(_this));_this.__resetState=_this.__resetState.bind(_assertThisInitialized(_this));_this.__triggerOnChangeForValue=_this.__triggerOnChangeForValue.bind(_assertThisInitialized(_this));_this._input;_this._blurTimeout;_this._ignoreClick=false;_this._asyncCache={};_this._theme=(0,_themes["default"])(props.theme);return _this;}
_createClass(Select,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this._init();}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;this._clearBlurTimeout();}},{key:"_init",value:function _init(){return this._isAsync()&&this.props.asyncOpts.initOnMount?this._initAsync():this._initSync();}},{key:"_initSync",value:function _initSync(){var resetValue=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;this.setState(Object.assign({initialized:true,isBusy:false},this._initStateValues(resetValue||this.props.value,this.props.options)));}},{key:"_initAsync",value:function _initAsync(){var _this2=this;var resetValue=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var resetRequestValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var resolver=(0,_types.isAFunction)(this.props.asyncOpts.resolver)?this.props.asyncOpts.resolver:GENERIC_RESOLVER;return this.props.asyncOpts.request(resetRequestValue||this.props.asyncOpts.initQuery||'').then(function(res){return resolver(res);}).then(function(_ref){var options=_ref.options;if(resetValue===null&&resetRequestValue===null&&!_this2._hasInAsyncCache('')){_this2._setInAsyncCache('',options);}
_this2._setStateIfMounted(Object.assign({initialized:true,isBusy:false},_this2._initStateValues(resetValue||_this2.props.value,options)));})["catch"](function(err){if((0,_types.isAFunction)(_this2.props.asyncOpts.onError))_this2.props.asyncOpts.onError(err);(0,_error_handler["default"])('Select _init: ',err);});}},{key:"_initStateValues",value:function _initStateValues(initVal,options){if(this.props.type==='default'){var value=(0,_types.isObject)(initVal)?initVal.value:initVal;var selectedOpt=options.find(function(o){return o.value===value;});var selected=selectedOpt?[selectedOpt]:[];var inputValue=selectedOpt?selectedOpt.label:value;return{options:options,selected:selected,value:inputValue};}else{if(!Array.isArray(initVal)){console.warn("Select got a value prop of: ".concat(initVal,", but expects an array of objects for type \"multi\""));return{options:options,selected:[],value:''};}
return{options:options,selected:initVal,value:''};}}},{key:"__resetState",value:function __resetState(){this.setState({openMenu:false,options:this.props.options,selected:[],value:''});}},{key:"__triggerOnChangeForValue",value:function __triggerOnChangeForValue(value,requestValue){return this._isAsync()?this._initAsync(value,requestValue):this._initSync(value);}},{key:"_getFromAsyncCache",value:function _getFromAsyncCache(key,val){return this._hasInAsyncCache(key)?this._asyncCache[key]:[];}},{key:"_hasInAsyncCache",value:function _hasInAsyncCache(key){return this._asyncCache.hasOwnProperty(key);}},{key:"_setInAsyncCache",value:function _setInAsyncCache(key,val){var overwrite=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(this._hasInAsyncCache(key)===false||overwrite===true){this._asyncCache[key]=val;}}},{key:"debouncedRequest",value:function debouncedRequest(fn){fn();}},{key:"onBlur",value:function onBlur(){var _this3=this;this._blurTimeout=window.setTimeout(function(){_this3._clearBlurTimeout();_this3.setState({openMenu:false,options:_this3._getOptionsForPotentialReset(),value:_this3._getInputValueOnBlur()});},150);}},{key:"onChange",value:function onChange(e){var value=e.target.value;return this._isAsync()?this._asyncOnChange(value):this._syncOnChange(value);}},{key:"_asyncOnChange",value:function _asyncOnChange(value){var _this4=this;var openMenu=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.setState({openMenu:openMenu,isBusy:true,value:value});return this.debouncedRequest(function(){var resolver=(0,_types.isAFunction)(_this4.props.asyncOpts.resolver)?_this4.props.asyncOpts.resolver:GENERIC_RESOLVER;return _this4.props.asyncOpts.request(value).then(function(res){return resolver(res);}).then(function(_ref2){var options=_ref2.options;if(value===''&&_this4._hasInAsyncCache('')===false){_this4._setInAsyncCache('',options);}
_this4._setStateIfMounted({isBusy:false,selected:_this4._isMulti()?_this4.state.selected:[],options:options});})["catch"](function(err){if((0,_types.isAFunction)(_this4.props.asyncOpts.onError))_this4.props.asyncOpts.onError(err);_this4._setStateIfMounted({isBusy:false});(0,_error_handler["default"])('Select _asyncOnChange',err);});});}},{key:"_syncOnChange",value:function _syncOnChange(value){var openMenu=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.setState({openMenu:openMenu,selected:this._isMulti()?this.state.selected:[],value:value});}},{key:"onClear",value:function onClear(){this._propagateSelected([],{openMenu:false,options:this._getOptionsForPotentialReset(),selected:[],value:''});}},{key:"onClick",value:function onClick(){if(this.state.initialized===false)return;if(this._ignoreClick){this._ignoreClick=false;return;}
if(this.state.openMenu===false&&!this.props.disabled){this._setStateAndFocusInput({openMenu:true});}}},{key:"onKeyDown",value:function onKeyDown(e){var _this5=this;switch(e.keyCode){case 8:if(this._isMulti()&&e.target.value===''&&this.state.value===''&&this.state.selected.length>0){var selected=this.state.selected.slice(0,this.state.selected.length-1);this._propagateSelected(selected,{selected:selected},function(state){return _this5.setState(state);});}
break;case 27:if(this.state.openMenu){this.setState({openMenu:false});}
break;case 40:if(this.state.openMenu===false&&!this.props.disabled){this.setState({openMenu:true});}
break;default:return;}}},{key:"onSelect",value:function onSelect(opt,isCurrentlySelected){var selected=isCurrentlySelected?this.state.selected.filter(function(s){return s.value!==opt.value;}):this._isMulti()?this.state.selected.concat(opt):[opt];var value=this._isMulti()||isCurrentlySelected===true?'':opt.label;var state={selected:selected,value:value,openMenu:false,options:this._getOptionsForPotentialReset()};this._propagateSelected(selected,state);}},{key:"onSelectActionableClick",value:function onSelectActionableClick(){return(0,_types.isAFunction)(this.props.creatableOpts.request)?this._createOptionAsync():this._createOptionSync();}},{key:"onUnselect",value:function onUnselect(opt){var _this6=this;var selected=this.state.selected.filter(function(s){return s.value!==opt.value;});this._propagateSelected(selected,{selected:selected},function(state){return _this6._setIngoreClickAndSetState(state);});}},{key:"_clearBlurTimeout",value:function _clearBlurTimeout(){if(this._blurTimeout){window.clearTimeout(this._blurTimeout);this._blurTimeout=undefined;}}},{key:"_createOptionAsync",value:function _createOptionAsync(){var _this7=this;this._setStateAndFocusInput({isBusy:true});var resolver=(0,_types.isAFunction)(this.props.creatableOpts.resolver)?this.props.creatableOpts.resolver:GENERIC_RESOLVER;return this.props.creatableOpts.request(this.state.value).then(function(res){return resolver(res);}).then(function(_ref3){var option=_ref3.option;return _this7.setState({isBusy:false,openMenu:false,options:[option].concat(_toConsumableArray(_this7.state.options)),selected:_this7._isMulti()?_this7.state.selected.concat(option):[option],value:_this7._isMulti()?'':option.label});})["catch"](function(err){if((0,_types.isAFunction)(_this7.props.creatableOpts.onError))_this7.props.creatableOpts.onError(err);(0,_error_handler["default"])('_createOptionAsync',err);});}},{key:"_createOptionSync",value:function _createOptionSync(){var value=this.state.value;var option={label:value,value:value};var selected=this._isMulti()?this.state.selected.concat(option):[option];this._propagateSelected(selected,{openMenu:false,options:[option].concat(_toConsumableArray(this.state.options)),selected:selected,value:this._isMulti()?'':option.label});}},{key:"_filterOptions",value:function _filterOptions(){if(this._isAsync())return this.state.options;return(0,_filterOptions2["default"])({options:this.state.options,value:this.state.value,opts:this.props.searchOpts});}},{key:"_getInputValueOnBlur",value:function _getInputValueOnBlur(){if(this.props.debugMode)return this.state.value;if(this._isMulti())return '';return this.state.selected.length>0?this.state.value:'';}},{key:"_getOptionsForPotentialReset",value:function _getOptionsForPotentialReset(){return this._isAsync()?this._getFromAsyncCache(''):this.state.options;}},{key:"_getSelectedToPropagate",value:function _getSelectedToPropagate(selected){return this._isMulti()?selected:selected.length>0?selected[0]:null;}},{key:"_isAsync",value:function _isAsync(){return(0,_types.isAFunction)(this.props.asyncOpts.request);}},{key:"_isMulti",value:function _isMulti(){return this.props.type==='multi';}},{key:"_propagateSelected",value:function _propagateSelected(selected){var state=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var cb=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return(0,_types.isAFunction)(this.props.onSelectOpts.request)?this._propagateSelectedAsync(this._getSelectedToPropagate(selected),state,cb):this._propagateSelectedSync(this._getSelectedToPropagate(selected),state,cb);}},{key:"_propagateSelectedAsync",value:function _propagateSelectedAsync(selected,stateToBe,cb){var _this8=this;this.setState({isBusy:true});var resolver=(0,_types.isAFunction)(this.props.onSelectOpts.resolver)?this.props.onSelectOpts.resolver:GENERIC_RESOLVER;return this.props.onSelectOpts.request(selected,stateToBe,this.state).then(function(res){return resolver(res);}).then(function(_ref4){var state=_ref4.state;var updatedState=Object.assign({},stateToBe,state,{isBusy:false});return(0,_types.isAFunction)(cb)?cb(updatedState):_this8._setStateAndFocusInput(updatedState);})["catch"](function(err){if((0,_types.isAFunction)(_this8.props.onSelectOpts.onError))_this8.props.onSelectOpts.onError(err);(0,_error_handler["default"])('_propagateSelectedAsync',err);});}},{key:"_propagateSelectedSync",value:function _propagateSelectedSync(selected,state,cb){this.props.onSelectedChange(selected);if((0,_types.isAFunction)(cb)){cb(state);}else if(state!==null){this._setStateAndFocusInput(state);}}},{key:"_setIngoreClickAndSetState",value:function _setIngoreClickAndSetState(state){this._ignoreClick=true;this._setStateAndFocusInput(state);}},{key:"_setStateAndFocusInput",value:function _setStateAndFocusInput(){var _this9=this;var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._clearBlurTimeout();this.setState(state,function(){if(_this9._input)_this9._input.focus();});}},{key:"_setStateIfMounted",value:function _setStateIfMounted(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this._isMounted)this.setState(state);}},{key:"_getCloseXView",value:function _getCloseXView(){if(!this.props.uiOpts.renderX)return null;var styles=this._theme.select;return _react["default"].createElement("span",{className:styles.closeXWrapper,onClick:this.onClear},_react["default"].createElement(_icon["default"],{className:styles.closeX,name:"close"}));}},{key:"_getInputView",value:function _getInputView(){return this._isMulti()?this._getInputAutosizeView():this._getInputDefaultView();}},{key:"_getInputAutosizeView",value:function _getInputAutosizeView(){var _this10=this;var styles=this._theme.select;return _react["default"].createElement(_AutosizeInput["default"],{getInputRef:function getInputRef(c){return _this10._input=c;},className:"".concat(_inputs["default"].input," ").concat(styles.input),disabled:this.state.initialized===false||this.props.disabled,id:this.props.uuid,name:this.props.name,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this._getPlaceholder(),value:this.state.value});}},{key:"_getInputDefaultView",value:function _getInputDefaultView(){var _this11=this;var styles=this._theme.select;return _react["default"].createElement("input",{ref:function ref(c){return _this11._input=c;},className:"".concat(_inputs["default"].input," ").concat(styles.input),disabled:this.state.initialized===false||this.props.disabled,id:this.props.uuid,name:this.props.name,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this._getPlaceholder(),value:this.state.value});}},{key:"_getLoaderOrCloseXView",value:function _getLoaderOrCloseXView(){if(this.state.isBusy){return this._getSpinnerView();}else if(this.state.selected.length>0){return this._getCloseXView();}}},{key:"_getPlaceholder",value:function _getPlaceholder(){if(this.state.initialized===false)return 'Loading...';if(this._isMulti()&&this.state.selected.length>0)return null;return this.props.placeholder;}},{key:"_getMultiSelectedView",value:function _getMultiSelectedView(){if(this._isMulti()===false)return;return _react["default"].createElement(_MultiSelected["default"],{onUnselect:this.onUnselect,selected:this.state.selected,styles:this._theme.select});}},{key:"_getSpinnerView",value:function _getSpinnerView(){var styles=this._theme.select;return _react["default"].createElement("span",{className:styles.closeXWrapper},_react["default"].createElement(_ring["default"],{size:"16"}));}},{key:"render",value:function render(){var _this12=this;var styles=this._theme.select;return _react["default"].createElement("div",{style:{maxWidth:this.props.maxWidth},className:styles.root},_react["default"].createElement("div",{className:"".concat(styles.container," ").concat(this.state.openMenu?styles.menuOpened:''," ").concat(this.props.hasErrors?styles.borderError:''," ").concat(this.props.disabled?styles.disabled:'')},this.props.uiOpts.leftIconName&&_react["default"].createElement("div",{className:styles.leftIconWrapper},_react["default"].createElement(_icon["default"],{className:styles.leftIcon,name:this.props.uiOpts.leftIconName,size:16})),_react["default"].createElement("div",{className:"".concat(styles.inputWrapper),onClick:this.onClick},this._getMultiSelectedView(),this._getInputView()),_react["default"].createElement("div",{className:"".concat(styles.actions," ").concat(this.props.disabled?styles.disabled:'')},this._getLoaderOrCloseXView(),_react["default"].createElement("span",{className:styles.arrowWrapper,onClick:function onClick(){return!_this12.props.disabled&&_this12._setStateAndFocusInput({openMenu:!_this12.state.openMenu});}},_react["default"].createElement(_icon["default"],{className:"".concat(styles.arrow," ").concat(this.state.openMenu?styles.arrowSelected:''),name:"arrow-down"})))),(this.props.debugMode||this.state.openMenu)&&_react["default"].createElement(_SelectMenu["default"],{clearBlurTimeout:function clearBlurTimeout(){return _this12._clearBlurTimeout();},config:this.props.menuOpts,creatable:this.props.creatableOpts.creatable,currentValue:this.state.value,isBusy:this.state.isBusy,onActionableClick:this.onSelectActionableClick,onSelect:this.onSelect,options:this._filterOptions(),selected:this.state.selected,styles:this._theme.menu,templates:{actionable:this.props.templates.menuActionable,actionableText:this.props.templates.menuActionableText,option:this.props.templates.menuOption},uuid:this.props.uuid}));}}]);return Select;}(_react.PureComponent);Select.propTypes={asyncOpts:_propTypes["default"].shape({initOnMount:_propTypes["default"].bool,initQuery:_propTypes["default"].any,onError:_propTypes["default"].func,request:_propTypes["default"].func,resolver:_propTypes["default"].func}),creatableOpts:_propTypes["default"].shape({creatable:_propTypes["default"].bool,onError:_propTypes["default"].func,request:_propTypes["default"].func,resolver:_propTypes["default"].func}),debugMode:_propTypes["default"].bool,disabled:_propTypes["default"].bool,hasErrors:_propTypes["default"].bool,maxWidth:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),menuOpts:_propTypes["default"].shape({scrollBuffer:_propTypes["default"].number,scrollToView:_propTypes["default"].bool}),name:_propTypes["default"].string,onSelectOpts:_propTypes["default"].shape({onError:_propTypes["default"].func,request:_propTypes["default"].func,resolver:_propTypes["default"].func}),onSelectedChange:_propTypes["default"].func,options:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].any})),placeholder:_propTypes["default"].string,searchOpts:_propTypes["default"].shape({rule:_propTypes["default"].oneOf(['absolute','default','norule','strict'])}),templates:_propTypes["default"].shape({menuActionable:_propTypes["default"].func,menuActionableText:_propTypes["default"].func,menuOption:_propTypes["default"].func}),theme:_propTypes["default"].oneOf(['default','bootstrap','search']),type:_propTypes["default"].oneOf(['default','multi']),uiOpts:_propTypes["default"].shape({leftIconName:_propTypes["default"].string,renderX:_propTypes["default"].bool}),uuid:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].any,_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].value}))])};Select.defaultProps={asyncOpts:{initOnMount:false,initQuery:'',onError:function onError(){},request:null,resolver:function resolver(options){return Promise.resolve({options:options});}},creatableOpts:{creatable:false,onError:function onError(){},request:null,resolver:null},debugMode:false,disabled:false,hasErrors:false,maxWidth:'100%',menuOpts:{scrollBuffer:0,scrollToView:false},name:null,onSelectOpts:{request:null,resolver:function resolver(state){return Promise.resolve({state:state});}},onSelectedChange:function onSelectedChange(){},options:[],placeholder:'',searchOpts:{rule:'default'},templates:{menuActionable:null,menuActionableText:null,menuOption:null},theme:'default',type:'default',uiOpts:{leftIconName:null,renderX:true},uuid:null,value:''};var _default=Select;exports["default"]=_default;}),63386:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=getStylesForTheme;var _default=_interopRequireDefault(__webpack_require__(20636));var _bootstrap=_interopRequireDefault(__webpack_require__(49547));var _search=_interopRequireDefault(__webpack_require__(71802));var _default2=_interopRequireDefault(__webpack_require__(96374));var _bootstrap2=_interopRequireDefault(__webpack_require__(48122));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var menuMap={bootstrap:_bootstrap2["default"],"default":_default2["default"],search:_default2["default"]};var selectMap={bootstrap:_bootstrap["default"],"default":_default["default"],search:_search["default"]};var getTheme=function getTheme(theme){return{menu:theme==='default'?_default2["default"]:Object.assign({},_default2["default"],menuMap[theme]),select:theme==='default'?_default["default"]:Object.assign({},_default["default"],selectMap[theme])};};function getStylesForTheme(theme){if(!selectMap.hasOwnProperty(theme)){console.warning("Theme: ".concat(theme," is not a valid theme!"));return getTheme('default');}else{return getTheme(theme);}};}),350:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=filterOptions;var looseEquality=function looseEquality(opt,val){return opt.label.toLowerCase().trim().indexOf(val)>=0;};var strictEquality=function strictEquality(opt,val){return opt.label.toLowerCase().trim().slice(0,val.length)===val;};var absoluteEquality=function absoluteEquality(opt,val){return opt.label.toLowerCase().trim()===val;};var getFilterFn=function getFilterFn(rule){switch(rule){case 'absolute':return absoluteEquality;case 'strict':return strictEquality;default:return looseEquality;}};function filterOptions(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$options=_ref.options,options=_ref$options===void 0?[]:_ref$options,_ref$value=_ref.value,value=_ref$value===void 0?"":_ref$value,_ref$opts=_ref.opts,opts=_ref$opts===void 0?{}:_ref$opts;if(value===''||!options.length||opts.rule&&opts.rule==='norule')return options;var rule=opts.rule||'default';var filterFn=getFilterFn(rule);var val=value.toLowerCase().trim();return options.filter(function(opt){var hasLabel=opt.label&&typeof opt.label==='string'&&opt.label.length>0;if(!hasLabel)return false;return filterFn(opt,val);});}}),15851:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _select=_interopRequireDefault(__webpack_require__(79463));var _templates=__webpack_require__(32797);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _graphql=__webpack_require__(2740);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ERROR='ERROR';var ERROR_MSG='Something went wrong. Please try again.';var CollectionCategorySelect=function(_PureComponent){_inherits(CollectionCategorySelect,_PureComponent);var _super=_createSuper(CollectionCategorySelect);function CollectionCategorySelect(props){var _this;_classCallCheck(this,CollectionCategorySelect);_this=_super.call(this,props);_this.state={status:null};_this.onSelect=_this.onSelect.bind(_assertThisInitialized(_this));return _this;}
_createClass(CollectionCategorySelect,[{key:"onSelect",value:function onSelect(selected,stateToBe,currState){var _this2=this;return new Promise(function(resolve){return(0,_graphql.graphMutate)({t:'update_project_collection'},{category_ids:selected.map(function(option){return option.value;}),id:_this2.props.collection_id}).then(function(){if(_this2.state.status===ERROR)_this2.setState({status:null});resolve({state:stateToBe});})["catch"](function(err){_this2.setState({status:ERROR});resolve({state:Object.assign({},currState,{openMenu:false})});(0,_error_handler["default"])('CollectionCategorySelect onSelect',err);});});}},{key:"render",value:function render(){var _this$props=this.props,options=_this$props.options,value=_this$props.value;return _react["default"].createElement("div",null,_react["default"].createElement(_select["default"],{hasErrors:this.state.status===ERROR,onSelectOpts:{request:this.onSelect},options:options,type:"multi",value:value}),this.state.status===ERROR&&(0,_templates.getErrorHelperView)(ERROR_MSG));}}]);return CollectionCategorySelect;}(_react.PureComponent);CollectionCategorySelect.propTypes={collection_id:_propTypes["default"].number.isRequired,options:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].any})),value:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].any}))};CollectionCategorySelect.defaultProps={options:[],value:[]};var _default=CollectionCategorySelect;exports["default"]=_default;}),43424:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _form_group=_interopRequireDefault(__webpack_require__(47310));var _location_select=_interopRequireDefault(__webpack_require__(87579));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var FormLocationSelect=function FormLocationSelect(props){return _react["default"].createElement(_form_group["default"],{errors:Array.isArray(props.errors)?props.errors.join(', '):props.errors,helperText:props.helperText,label:props.label,name:props.name,value:""},_react["default"].createElement(_location_select["default"],_extends({},props,{hasErrors:props.errors&&props.errors.length>0})));};FormLocationSelect.propTypes={disabled:_propTypes["default"].bool,errors:_propTypes["default"].oneOfType([_propTypes["default"].array,_propTypes["default"].string]),helperText:_propTypes["default"].string,historyStateEnabled:_propTypes["default"].bool,label:_propTypes["default"].string,name:_propTypes["default"].string,onChange:_propTypes["default"].func,placeholder:_propTypes["default"].string,renderDistanceInput:_propTypes["default"].bool,value:_propTypes["default"].shape({city:_propTypes["default"].string,countryCode:_propTypes["default"].string,state:_propTypes["default"].string,distance:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]),geoloc:_propTypes["default"].shape({lat:_propTypes["default"].number,lng:_propTypes["default"].number})})};FormLocationSelect.defaultProps={disabled:false,errors:null,helperText:null,name:null,historyStateEnabled:false,label:'Location',onChange:function onChange(){},placeholder:'Start typing to select a location!',renderDistanceInput:true,value:{}};var _default=FormLocationSelect;exports["default"]=_default;}),70154:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _form_group=_interopRequireDefault(__webpack_require__(47310));var _select=_interopRequireDefault(__webpack_require__(79463));var _generateRandomKey=_interopRequireDefault(__webpack_require__(89950));var _formatters=__webpack_require__(88231);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var LIMIT_WARNING=function LIMIT_WARNING(limit,countOverLimit){return "Please unselect ".concat(countOverLimit," ").concat((0,_formatters.pluralize)('item',countOverLimit),", the amount allowed is ").concat(limit," choices.");};var FormSelect=function(_Component){_inherits(FormSelect,_Component);var _super=_createSuper(FormSelect);function FormSelect(props){var _this;_classCallCheck(this,FormSelect);_this=_super.call(this,props);_this.state={warningText:null};_this.onSelectedChange=_this.onSelectedChange.bind(_assertThisInitialized(_this));_this._uuid=(0,_generateRandomKey["default"])();return _this;}
_createClass(FormSelect,[{key:"onSelectedChange",value:function onSelectedChange(selected){if(this.props.type==='multi')this._setSelectedWarningText(selected);this.props.onSelectedChange(selected);}},{key:"_setSelectedWarningText",value:function _setSelectedWarningText(selected){var limit=this.props.searchOpts.multiLimit;if(typeof limit==='number'){if(selected.length>limit){this.setState({warningText:LIMIT_WARNING(limit,selected.length-limit)});}else if(this.state.warningText!==null&&selected.length<=limit){this.setState({warningText:null});}}}},{key:"render",value:function render(){return _react["default"].createElement(_form_group["default"],{errors:this.props.errors,helperText:this.props.helperText,label:this.props.label,name:this.props.name,value:"",warningText:this.state.warningText,uuid:this._uuid},_react["default"].createElement(_select["default"],_extends({},this.props,{hasErrors:this.props.errors&&this.props.errors.length>0,onSelectedChange:this.onSelectedChange,uuid:this._uuid})));}}]);return FormSelect;}(_react.Component);FormSelect.propTypes={asyncOpts:_propTypes["default"].shape({initOnMount:_propTypes["default"].bool,onError:_propTypes["default"].func,request:_propTypes["default"].func,resolver:_propTypes["default"].func}),creatableOpts:_propTypes["default"].shape({creatable:_propTypes["default"].bool,onError:_propTypes["default"].func,request:_propTypes["default"].func,resolver:_propTypes["default"].func}),debugMode:_propTypes["default"].bool,disabled:_propTypes["default"].bool,errors:_propTypes["default"].string,helperText:_propTypes["default"].node,label:_propTypes["default"].node,maxWidth:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),menuOpts:_propTypes["default"].shape({scrollBuffer:_propTypes["default"].number,scrollToView:_propTypes["default"].bool}),name:_propTypes["default"].string,onSelectedChange:_propTypes["default"].func,options:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].any})),placeholder:_propTypes["default"].string,searchOpts:_propTypes["default"].shape({multiLimit:_propTypes["default"].number,rule:_propTypes["default"].oneOf(['absolute','default','norule','strict'])}),templates:_propTypes["default"].shape({menuActionable:_propTypes["default"].func,menuActionableText:_propTypes["default"].func,menuOption:_propTypes["default"].func}),theme:_propTypes["default"].oneOf(['default','bootstrap']),type:_propTypes["default"].oneOf(['default','multi']),value:_propTypes["default"].oneOfType([_propTypes["default"].any,_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].value}))])};FormSelect.defaultProps={asyncOpts:{initOnMount:false,onError:function onError(){},request:null,resolver:function resolver(options){return Promise.resolve({options:options});}},creatableOpts:{creatable:false,onError:function onError(){},request:null,resolver:null},debugMode:false,disabled:false,errors:null,helperText:null,label:null,maxWidth:'100%',menuOpts:{scrollBuffer:0,scrollToView:false},name:null,onSelectedChange:function onSelectedChange(){},options:[],placeholder:'',searchOpts:{multiLimit:null,rule:'default'},templates:{menuActionable:null,menuActionableText:null,menuOption:null},theme:'default',type:'default',value:''};var _default=FormSelect;exports["default"]=_default;}),87579:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=exports.DEFAULT_DISTANCE_OPT=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _deepEqual=_interopRequireDefault(__webpack_require__(10251));var _select=_interopRequireDefault(__webpack_require__(79463));var _mapbox=__webpack_require__(49895);var _formatters=__webpack_require__(97467);var _types=__webpack_require__(88742);var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DEFAULT_DISTANCE_OPT={label:'Within 5 miles',value:'5'};exports.DEFAULT_DISTANCE_OPT=DEFAULT_DISTANCE_OPT;var DISTANCE_OPTS=[{label:'Within 2 miles',value:'2'},{label:'Within 5 miles',value:'5'},{label:'Within 10 miles',value:'10'},{label:'Within 25 miles',value:'25'},{label:'Within 50 miles',value:'50'}];var DEFFAULT_LOCATION_OPT={label:'',location:{},value:''};var DEFAULT_STATE={distanceValue:{label:'Within 5 miles',value:'5'},initOnMount:false,locationValue:{label:'',value:''}};var LocationSelect=function(_Component){_inherits(LocationSelect,_Component);var _super=_createSuper(LocationSelect);function LocationSelect(props){var _this;_classCallCheck(this,LocationSelect);_this=_super.call(this,props);_this.state=Object.assign({},_this._init(props.value));_this.getLocationOptions=_this.getLocationOptions.bind(_assertThisInitialized(_this));_this.onDistanceChange=_this.onDistanceChange.bind(_assertThisInitialized(_this));_this.onLocationChange=_this.onLocationChange.bind(_assertThisInitialized(_this));_this._distanceInput;_this._locationInput;return _this;}
_createClass(LocationSelect,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(this.props.historyStateEnabled&&!(0,_deepEqual["default"])(prevProps.value,this.props.value)){this._triggerChangeForLocationInput(this.props.value);if(!(0,_deepEqual["default"])(prevProps.value.distance,this.props.value.distance)){this._triggerChangeForDistanceInput(this.props.value);}}}},{key:"_init",value:function _init(value){if(!value||!(0,_types.isObjectWithLength)(value))return DEFAULT_STATE;return{distanceValue:this._getDistanceFromOptsFromValue(value),initOnMount:true,locationValue:this._initFormatLocationForSelect(value)};}},{key:"_initFormatLocationForSelect",value:function _initFormatLocationForSelect(location){if(!location||!(0,_types.isObjectWithLength)(location))return DEFFAULT_LOCATION_OPT;var label=(0,_formatters.formatLocationForMapBoxOptions)(location);return{label:label,location:location,value:label};}},{key:"getLocationOptions",value:function getLocationOptions(query){var _this2=this;return new Promise(function(resolve,reject){return(0,_mapbox.fetchMapboxPlaces)(query).then(function(res){return resolve(_this2._formatMapboxResults(res));})["catch"](function(err){return reject(err);});});}},{key:"onDistanceChange",value:function onDistanceChange(opt){var _this3=this;this.setState({distanceValue:opt||DEFAULT_DISTANCE_OPT},function(){return _this3._propagateLocation();});}},{key:"onLocationChange",value:function onLocationChange(opt){var _this4=this;this.setState({locationValue:opt||DEFFAULT_LOCATION_OPT},function(){return _this4._propagateLocation();});}},{key:"_formatMapboxResults",value:function _formatMapboxResults(_ref){var features=_ref.features;if(!features||features&&!features.length)return{options:[]};return{options:features.map(function(feature){return(0,_formatters.formatMapboxPlacesRecordForSelectOpts)(feature);}).filter(function(n){return n!==null;})};}},{key:"_getDistanceFromOptsFromValue",value:function _getDistanceFromOptsFromValue(value){var distance=value.distance?value.distance.toString():null;return DISTANCE_OPTS.find(function(opt){return opt.value===distance;})||DEFAULT_DISTANCE_OPT;}},{key:"_propagateLocation",value:function _propagateLocation(){var location=(0,_types.isObjectWithLength)(this.state.locationValue.location)?Object.assign({},this.state.locationValue.location,{distance:this.state.distanceValue.value}):{};this.props.onChange(location);}},{key:"_triggerChangeForDistanceInput",value:function _triggerChangeForDistanceInput(value){if(this._distanceInput){var distanceValue=this._getDistanceFromOptsFromValue(value);this._distanceInput.__triggerOnChangeForValue(distanceValue.label);}}},{key:"_triggerChangeForLocationInput",value:function _triggerChangeForLocationInput(value){var resetValue=(0,_types.isObjectWithLength)(value)?(0,_formatters.formatLocationForMapBoxOptions)(value):'';if(resetValue.length>0){this._locationInput.__triggerOnChangeForValue(resetValue,resetValue);this.setState({locationValue:this._initFormatLocationForSelect(value)});}else{this._locationInput.__resetState();this.setState({locationValue:DEFFAULT_LOCATION_OPT});}}},{key:"render",value:function render(){var _this5=this;var _this$props=this.props,disabled=_this$props.disabled,hasErrors=_this$props.hasErrors,placeholder=_this$props.placeholder,renderDistanceInput=_this$props.renderDistanceInput,theme=_this$props.theme;return _react["default"].createElement("div",null,_react["default"].createElement(_select["default"],{ref:function ref(el){return _this5._locationInput=el;},asyncOpts:{initOnMount:this.state.initOnMount,initQuery:this.state.locationValue.location,request:this.getLocationOptions},disabled:disabled,hasErrors:hasErrors,onSelectedChange:this.onLocationChange,placeholder:placeholder,theme:this.props.theme,uiOpts:{leftIconName:theme==='search'?'search':null,renderX:true},value:this.state.locationValue}),renderDistanceInput&&_react["default"].createElement("div",{className:_layout["default"].marginTop10},_react["default"].createElement(_select["default"],{ref:function ref(el){return _this5._distanceInput=el;},disabled:disabled||!this.state.locationValue.value.length,options:DISTANCE_OPTS,onSelectedChange:this.onDistanceChange,searchOpts:{rule:'norule'},uiOpts:{renderX:false},value:this.state.distanceValue})));}}]);return LocationSelect;}(_react.Component);LocationSelect.propTypes={disabled:_propTypes["default"].bool,hasErrors:_propTypes["default"].bool,historyStateEnabled:_propTypes["default"].bool,onChange:_propTypes["default"].func,placeholder:_propTypes["default"].string,renderDistanceInput:_propTypes["default"].bool,theme:_propTypes["default"].oneOf(['default','search']),value:_propTypes["default"].shape({city:_propTypes["default"].string,countryCode:_propTypes["default"].string,state:_propTypes["default"].string,distance:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]),geoloc:_propTypes["default"].shape({lat:_propTypes["default"].number,lng:_propTypes["default"].number})})};LocationSelect.defaultProps={disabled:false,hasErrors:false,historyStateEnabled:false,onChange:function onChange(){},placeholder:'Start typing to select a location!',renderDistanceInput:true,theme:'default',value:{}};var _default=LocationSelect;exports["default"]=_default;}),14690:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _button_dropdown=_interopRequireDefault(__webpack_require__(32067));var _isMobileBrowser=_interopRequireDefault(__webpack_require__(63458));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));var _simple_select=_interopRequireDefault(__webpack_require__(27464));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _renderLabel=function _renderLabel(_ref){var classList=_ref.classList,_ref$open=_ref.open,open=_ref$open===void 0?false:_ref$open,options=_ref.options,selectedValueIndex=_ref.selectedValueIndex;return _react["default"].createElement("div",{className:"".concat(_simple_select["default"].label," ").concat(_layout["default"].flexCenterItems," ").concat(classList.label)},options[selectedValueIndex]?options[selectedValueIndex].label:null,_react["default"].createElement(_icon["default"],{className:open?_simple_select["default"].iconOpen:_simple_select["default"].icon,name:"arrow-down"}));};var _renderDesktop=function _renderDesktop(_ref2){var classList=_ref2.classList,options=_ref2.options,selectedValueIndex=_ref2.selectedValueIndex,selectOptionByIndex=_ref2.selectOptionByIndex;return _react["default"].createElement(_button_dropdown["default"],{classList:{button:_buttons["default"].blank,dropdown:_simple_select["default"].dropdown,wrapper:classList.root},closeOnSelect:true,label:_renderLabel({classList:classList,options:options,selectedValueIndex:selectedValueIndex}),labelOpen:_renderLabel({classList:classList,options:options,selectedValueIndex:selectedValueIndex,open:true})},_react["default"].createElement("ul",null,options.map(function(option,i){return shouldRenderOption(option)&&_react["default"].createElement("li",{key:i,className:selectedValueIndex===i?_simple_select["default"].optionSelected:_simple_select["default"].option,onClick:function onClick(e){return selectOptionByIndex({target:{value:i}});}},option.label);})));};var _renderTouch=function _renderTouch(_ref3){var classList=_ref3.classList,options=_ref3.options,selectedValueIndex=_ref3.selectedValueIndex,selectOptionByIndex=_ref3.selectOptionByIndex;return _react["default"].createElement("div",{className:"".concat(_simple_select["default"].selectWrapper," ").concat(classList.root)},_react["default"].createElement("select",{className:"".concat(_simple_select["default"].select," ").concat(classList.label),value:selectedValueIndex.toString(),onChange:selectOptionByIndex},options.map(function(option,i){return _react["default"].createElement("option",{key:i,disabled:option.disabled,hidden:option.hidden,value:i},option.labelText||option.label);})),_react["default"].createElement(_icon["default"],{className:_simple_select["default"].selectIcon,name:"arrow-down"}));};var shouldRenderOption=function shouldRenderOption(option){return!option.hidden;};var DefaultSimpleSelectView=function DefaultSimpleSelectView(props){return(0,_isMobileBrowser["default"])()?_renderTouch(props):_renderDesktop(props);};DefaultSimpleSelectView.propTypes={classList:_propTypes["default"].shape({label:_propTypes["default"].string,root:_propTypes["default"].string}),options:_propTypes["default"].arrayOf(_propTypes["default"].shape({active:_propTypes["default"].bool,label:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number,_propTypes["default"].element]).isRequired,labelText:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number,_propTypes["default"].object]),"default":_propTypes["default"].bool})).isRequired,selectOptionByIndex:_propTypes["default"].func.isRequired,selectedValueIndex:_propTypes["default"].number.isRequired};DefaultSimpleSelectView.defaultProps={classList:{label:'',root:''}};var _default=DefaultSimpleSelectView;exports["default"]=_default;}),60786:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _tabbed_header=_interopRequireDefault(__webpack_require__(96962));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var TabbedSimpleSelectView=function TabbedSimpleSelectView(_ref){var options=_ref.options,selectedValueIndex=_ref.selectedValueIndex,selectOptionByIndex=_ref.selectOptionByIndex,underline=_ref.underline;return _react["default"].createElement(_tabbed_header["default"],{activeIndex:selectedValueIndex,centered:false,onClick:function onClick(i){return selectOptionByIndex({target:{value:i}});},tabs:options,underline:underline});};TabbedSimpleSelectView.propTypes={options:_propTypes["default"].arrayOf(_propTypes["default"].shape({active:_propTypes["default"].bool,label:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number,_propTypes["default"].element]).isRequired,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number,_propTypes["default"].object]),"default":_propTypes["default"].bool})).isRequired,selectOptionByIndex:_propTypes["default"].func.isRequired,selectedValueIndex:_propTypes["default"].number.isRequired,underline:_propTypes["default"].bool};TabbedSimpleSelectView.defaultProps={underline:false};var _default=TabbedSimpleSelectView;exports["default"]=_default;}),76677:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DefaultSimpleSelectView=_interopRequireDefault(__webpack_require__(14690));var _TabbedSimpleSelectView=_interopRequireDefault(__webpack_require__(60786));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var VIEWS={"default":_DefaultSimpleSelectView["default"],tabbed:_TabbedSimpleSelectView["default"]};var SimpleSelect=function(_Component){_inherits(SimpleSelect,_Component);var _super=_createSuper(SimpleSelect);function SimpleSelect(props){var _this;_classCallCheck(this,SimpleSelect);_this=_super.call(this,props);_this.state={selectedValueIndex:_this._getActiveOrDefaultIndex(props.options)};_this.selectOptionByIndex=_this.selectOptionByIndex.bind(_assertThisInitialized(_this));return _this;}
_createClass(SimpleSelect,[{key:"_getActiveOrDefaultIndex",value:function _getActiveOrDefaultIndex(options){var activeIndex=options.findIndex(function(option){return option.active;});if(activeIndex>-1)return activeIndex;var defaultIndex=options.findIndex(function(option){return option["default"];});return defaultIndex>-1?defaultIndex:0;}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.options!==this.props.options){this.setState({selectedValueIndex:this._getActiveOrDefaultIndex(this.props.options)});}}},{key:"selectOptionByIndex",value:function selectOptionByIndex(e){var index=parseInt(e.target.value,10);if(!isNaN(index)){this._propagateSelectionByIndex(index);this.setState({selectedValueIndex:index});}}},{key:"_propagateSelectionByIndex",value:function _propagateSelectionByIndex(index){this.props.onSelection(this.props.options[index],index);}},{key:"render",value:function render(){return _react["default"].createElement(VIEWS[this.props.view],{classList:this.props.classList,options:this.props.options,selectedValueIndex:this.state.selectedValueIndex,selectOptionByIndex:this.selectOptionByIndex,underline:this.props.tabbedViewUnderline});}}]);return SimpleSelect;}(_react.Component);SimpleSelect.propTypes={classList:_propTypes["default"].shape({label:_propTypes["default"].string,root:_propTypes["default"].string}),onSelection:_propTypes["default"].func,options:_propTypes["default"].arrayOf(_propTypes["default"].shape({active:_propTypes["default"].bool,label:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number,_propTypes["default"].element]).isRequired,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number,_propTypes["default"].object]),"default":_propTypes["default"].bool})).isRequired,tabbedViewUnderline:_propTypes["default"].bool,view:_propTypes["default"].oneOf(['default','tabbed'])};SimpleSelect.defaultProps={classList:{label:'',root:''},onSelection:function onSelection(){},tabbedViewUnderline:true,view:'default'};var _default=SimpleSelect;exports["default"]=_default;}),59729:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _actionable=_interopRequireDefault(__webpack_require__(29362));var _base=_interopRequireDefault(__webpack_require__(6094));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ActionsSection=function ActionsSection(_ref){var classNames=_ref.classNames,disabled=_ref.disabled,isBusy=_ref.isBusy,mode=_ref.mode,primaryBtnConfig=_ref.primaryBtnConfig,secondaryBtnConfig=_ref.secondaryBtnConfig;return _react["default"].createElement("div",{className:classNames.root},_react["default"].createElement(_actionable["default"],{color:primaryBtnConfig.color||'',disabled:disabled,isBusy:isBusy,onClick:primaryBtnConfig.onClick||null,size:primaryBtnConfig.size||'lg',text:mode==='default'?primaryBtnConfig.text:primaryBtnConfig.editModeText||'Save changes'}),_react["default"].createElement(_base["default"],{colorStyle:"cancel",disabled:disabled||isBusy,onClick:secondaryBtnConfig.onClick||null,size:secondaryBtnConfig.size||'lg'},secondaryBtnConfig.text||'Cancel'));};ActionsSection.propTypes={classNames:_propTypes["default"].shape({root:_propTypes["default"].string}),disabled:_propTypes["default"].bool,isBusy:_propTypes["default"].bool,mode:_propTypes["default"].string,primaryBtnConfig:_propTypes["default"].shape({color:_propTypes["default"].string,editModeText:_propTypes["default"].string,onClick:_propTypes["default"].func,size:_propTypes["default"].string,text:_propTypes["default"].string.isRequired}),secondaryBtnConfig:_propTypes["default"].shape({color:_propTypes["default"].string,onClick:_propTypes["default"].func,size:_propTypes["default"].string,text:_propTypes["default"].string})};ActionsSection.defaultProps={classNames:{root:_layout["default"].marginTop60},disabled:false,isBusy:false,mode:'default',primaryBtnConfig:{color:'',editModeText:'Save changes',onClick:null,size:'lg'},secondaryBtnConfig:{color:'cancel',onClick:null,size:'lg',text:'Cancel'}};var _default=ActionsSection;exports["default"]=_default;}),32797:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports.getErrorHelperView=getErrorHelperView;exports.getErrorHelperViewWithoutWrapper=getErrorHelperViewWithoutWrapper;exports.getFormErrorView=getFormErrorView;var _react=_interopRequireWildcard(__webpack_require__(67294));var _inputs=_interopRequireDefault(__webpack_require__(26241));var _types=__webpack_require__(88742);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function getErrorHelperView(error,helperText,warningText){return _react["default"].createElement("div",{className:_inputs["default"].msgWrapper},_react["default"].createElement("div",null,getErrorHelperViewWithoutWrapper(error,helperText,warningText)));}
function getErrorHelperViewWithoutWrapper(error,helperText,warningText){return _react["default"].createElement(_react.Fragment,null,!(0,_types.isBlank)(error)&&_react["default"].createElement("div",{className:_inputs["default"].error},error),(0,_types.isBlank)(error)&&!(0,_types.isBlank)(warningText)&&_react["default"].createElement("div",{className:_inputs["default"].warning},warningText),!(0,_types.isBlank)(helperText)&&_react["default"].createElement("div",{className:_inputs["default"].help},helperText));}
function getFormErrorView(error){return!(0,_types.isBlank)(error)&&_react["default"].createElement("div",{className:_inputs["default"].formError},error);}}),47310:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _types=__webpack_require__(88742);var _inputs=_interopRequireDefault(__webpack_require__(26241));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var getCharCountView=function getCharCountView(charCount,value){var maxVal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"You forgot to pass a maxVal prop!";if(typeof charCount!=='number'&&!charCount)return null;if(typeof charCount==='function')return charCount({value:value,maxVal:maxVal});return _react["default"].createElement("div",{className:"".concat(_inputs["default"].charCount," ").concat(value.length>maxVal?_inputs["default"].error:'')},"".concat(value.length,"/").concat(maxVal));};var getErrorsView=function getErrorsView(errors,errorsView){if(!errors)return null;if(typeof errorsView==='function')return errorsView({errors:errors});return _react["default"].createElement("div",{className:_inputs["default"].error},errors);};var getUuid=function getUuid(_ref){var label=_ref.label,name=_ref.name,uuid=_ref.uuid;if(typeof uuid==='string'&&uuid.length>0)return uuid;var base=[label,name].filter(function(v){return v&&v!=='';}).join('_');return base.toLowerCase().replace(/[^a-z0-9]/g,'_');};var getMsgView=function getMsgView(_ref2){var element=_ref2.element,errors=_ref2.errors,errorsView=_ref2.errorsView,charCount=_ref2.charCount,helperText=_ref2.helperText,maxVal=_ref2.maxVal,msgView=_ref2.msgView,value=_ref2.value,warningText=_ref2.warningText;if(typeof msgView==='function')return msgView({errors:errors,value:value,maxVal:maxVal});return _react["default"].createElement("div",{className:_inputs["default"].msgWrapper},_react["default"].createElement("div",null,getErrorsView(errors,errorsView),(0,_types.isBlank)(errors)&&warningText&&_react["default"].createElement("div",{className:_inputs["default"].warning},warningText),helperText&&_react["default"].createElement("div",{className:_inputs["default"].help},helperText)),getCharCountView(charCount,value,maxVal));};var FormGroup=function FormGroup(props){return _react["default"].createElement("div",{className:"".concat(_inputs["default"].inputWrapper," ").concat(props.classList.root)},props.label&&_react["default"].createElement("label",{className:"".concat(_inputs["default"].label," ").concat(props.classList.label?props.classList.label:''),htmlFor:getUuid(props)},props.label),props.children,getMsgView(props));};FormGroup.propTypes={charCount:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].func]),classList:_propTypes["default"].shape({root:_propTypes["default"].string,label:_propTypes["default"].string}),errors:_propTypes["default"].string,errorsView:_propTypes["default"].func,helperText:_propTypes["default"].node,label:_propTypes["default"].node,maxVal:_propTypes["default"].number,msgView:_propTypes["default"].func,name:_propTypes["default"].string,uuid:_propTypes["default"].string,value:_propTypes["default"].string.isRequired,warningText:_propTypes["default"].string};FormGroup.defaultProps={charCount:null,classList:{root:'',label:''},errors:null,errorsView:null,helperText:null,label:null,maxVal:null,msgView:null,name:null,uuid:null,warningText:null};var _default=FormGroup;exports["default"]=_default;}),89284:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _Dialog=_interopRequireDefault(__webpack_require__(27408));var _dispatchers=__webpack_require__(10912);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var INIT_STATE={open:false,getChildren:null,dialogProps:{}};var GlobalDialog=function(_Component){_inherits(GlobalDialog,_Component);var _super=_createSuper(GlobalDialog);function GlobalDialog(props){var _this;_classCallCheck(this,GlobalDialog);_this=_super.call(this,props);_this.state=INIT_STATE;_this.handleDismiss=_this.handleDismiss.bind(_assertThisInitialized(_this));_this.handleSummon=_this.handleSummon.bind(_assertThisInitialized(_this));return _this;}
_createClass(GlobalDialog,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener(_dispatchers.SUMMON_GLOBAL_DIALOG,this.handleSummon);}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener(_dispatchers.SUMMON_GLOBAL_DIALOG,this.handleSummon);}},{key:"handleDismiss",value:function handleDismiss(){this.setState(INIT_STATE);}},{key:"handleSummon",value:function handleSummon(e){var _e$detail=e.detail,dialogProps=_e$detail.dialogProps,getChildren=_e$detail.getChildren;this.setState({open:true,dialogProps:dialogProps||{},getChildren:getChildren});}},{key:"render",value:function render(){var _this$state=this.state,open=_this$state.open,dialogProps=_this$state.dialogProps,getChildren=_this$state.getChildren;return _react["default"].createElement(_Dialog["default"],_extends({},dialogProps,{open:open,dismiss:this.handleDismiss}),open&&typeof getChildren==='function'&&getChildren(this.handleDismiss));}}]);return GlobalDialog;}(_react.Component);var _default=GlobalDialog;exports["default"]=_default;}),61472:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _types=__webpack_require__(88742);var _base=_interopRequireDefault(__webpack_require__(6094));var _index=_interopRequireDefault(__webpack_require__(96659));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _local_storage_popover=_interopRequireDefault(__webpack_require__(6362));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
var STICKY_WRAPPER_ID='localStoragePopoverWrapper';var OLD_KEYS=['survey22'];var cleanupOldLS=function cleanupOldLS(){OLD_KEYS.forEach(function(key){if(!(0,_types.isBlank)(window.localStorage.getItem(key))){window.localStorage.removeItem(key);}});};var MainSiteContentWrapper=function MainSiteContentWrapper(_ref){var children=_ref.children;return _react["default"].createElement("div",{id:STICKY_WRAPPER_ID,className:"".concat(_layout["default"].flexJustifyCenter)},_react["default"].createElement("div",{className:"".concat(_local_storage_popover["default"].flexLargeRightSmallCenter," ").concat(_layout["default"].wrapper1170," ").concat(_util["default"].posRelative)},_react["default"].createElement("div",{className:"".concat(_local_storage_popover["default"].flexLargeRightSmallCenter," ").concat(_util["default"].posAbsolute)},children)));};var LocalStoragePopover=function LocalStoragePopover(_ref2){var buttonText=_ref2.buttonText,ctaLink=_ref2.ctaLink,mainText=_ref2.mainText,storageKey=_ref2.storageKey;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),showPopover=_useState2[0],setShowPopover=_useState2[1];(0,_react.useEffect)(function(){var localStorageRes=window.localStorage.getItem(storageKey);if((0,_types.isBlank)(localStorageRes))setShowPopover(true);cleanupOldLS();},[]);var handleButtonClick=function handleButtonClick(){window.localStorage.setItem(storageKey,'1');setShowPopover(false);};return _react["default"].createElement("div",null,showPopover&&_react["default"].createElement(MainSiteContentWrapper,null,_react["default"].createElement(_index["default"],{parentId:STICKY_WRAPPER_ID,className:"".concat(_local_storage_popover["default"].container," ").concat(_layout["default"].padding15," ").concat(_util["default"].borderRadiusLarge," ").concat(_util["default"].boxShadow2),startPos:"top"},_react["default"].createElement("div",{className:_layout["default"].paddingBottom22},_react["default"].createElement("h4",{className:_typography["default"].h4},mainText.primary),_react["default"].createElement("p",{className:_typography["default"].bodyM},mainText.secondary)),_react["default"].createElement("div",null,_react["default"].createElement("a",{href:ctaLink,rel:"noopener noreferrer",target:"_blank",title:"ctaLink"},_react["default"].createElement(_base["default"],{onClick:handleButtonClick},buttonText.primary)),_react["default"].createElement(_base["default"],{colorStyle:"blank",className:_layout["default"].paddingLeft15,onClick:handleButtonClick},buttonText.secondary)))));};var _default=LocalStoragePopover;exports["default"]=_default;LocalStoragePopover.propTypes={buttonText:_propTypes["default"].shape({primary:_propTypes["default"].string.isRequired,secondary:_propTypes["default"].string.isRequired}).isRequired,ctaLink:_propTypes["default"].string.isRequired,mainText:_propTypes["default"].shape({primary:_propTypes["default"].string.isRequired,secondary:_propTypes["default"].string.isRequired}).isRequired,storageKey:_propTypes["default"].string.isRequired};}),12081:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactTransitionGroup=__webpack_require__(72165);var _messenger=_interopRequireDefault(__webpack_require__(55471));var _transitions=_interopRequireDefault(__webpack_require__(3101));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var EVENT_NAME='react:messenger';var GlobalMessenger=function(_Component){_inherits(GlobalMessenger,_Component);var _super=_createSuper(GlobalMessenger);function GlobalMessenger(props){var _this;_classCallCheck(this,GlobalMessenger);_this=_super.call(this,props);_this.state={initMsg:props.initMsg||'Changes saved!',msg:'Changes saved!',show:false,type:'success'};_this.handleDismiss=_this.handleDismiss.bind(_assertThisInitialized(_this));_this.handleExitedState=_this.handleExitedState.bind(_assertThisInitialized(_this));_this.handleShow=_this.handleShow.bind(_assertThisInitialized(_this));_this.timeout;return _this;}
_createClass(GlobalMessenger,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener(EVENT_NAME,this.handleShow);}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._clearTimeout();window.removeEventListener(EVENT_NAME,this.handleShow);}},{key:"handleDismiss",value:function handleDismiss(){this._clearTimeout();this.setState({show:false});}},{key:"handleExitedState",value:function handleExitedState(){if(this.state.msg!==this.state.initMsg||this.state.type!=='success'){this.setState({msg:this.state.initMsg,type:'success'});}}},{key:"handleShow",value:function handleShow(e){var _this2=this;this.setState(Object.assign({},e.detail,{show:true}));this._clearTimeout();this.timeout=setTimeout(function(){_this2.handleDismiss();_this2.timeout=undefined;},3000);}},{key:"_clearTimeout",value:function _clearTimeout(){if(typeof this.timeout==='number')window.clearTimeout(this.timeout);}},{key:"render",value:function render(){return _react["default"].createElement(_reactTransitionGroup.CSSTransition,{classNames:_transitions["default"],"in":this.state.show,onExited:this.handleExitedState,timeout:{enter:500,exit:300},unmountOnExit:true},_react["default"].createElement("div",{className:_messenger["default"].root},_react["default"].createElement("div",{className:_messenger["default"][this.state.type]},_react["default"].createElement("div",{className:_messenger["default"].body},_react["default"].createElement("span",null,this.state.msg),_react["default"].createElement("button",{className:_messenger["default"].closeBtn,onClick:this.handleDismiss},"\xD7")))));}}]);return GlobalMessenger;}(_react.Component);exports["default"]=GlobalMessenger;GlobalMessenger.propTypes={initMsg:_propTypes["default"].string};}),62044:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getErrorMsg=void 0;var getErrorMsg=function getErrorMsg(withAction){return "Sorry, there was an error ".concat(withAction,". Please try again.");};exports.getErrorMsg=getErrorMsg;}),79953:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _shapes=_interopRequireDefault(__webpack_require__(34022));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var CustomIcon=function CustomIcon(_ref){var className=_ref.className,name=_ref.name,size=_ref.size,style=_ref.style;var icon=_shapes["default"][name];var sizeClass=_typography["default"]["icon".concat(size)];return _react["default"].createElement("svg",_extends({className:"".concat(_typography["default"].icon," ").concat(sizeClass," ").concat(className),style:style},icon.svgProps),icon.shape);};CustomIcon.propTypes={className:_propTypes["default"].string,name:_propTypes["default"].string.isRequired,size:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),style:_propTypes["default"].object};CustomIcon.defaultProps={className:_typography["default"].iconfill,style:{}};var _default=CustomIcon;exports["default"]=_default;}),34022:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var shapes={arduino:{shape:_react["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor"},_react["default"].createElement("path",{strokeWidth:"60",d:"M176 30C95.62 30 30.46 92.68 30.46 170S95.62 310 176 310C366 320 346 30 546 30c80.38 0 145.54 62.68 145.54 140S626.38 310 546 310C356 320 376 30 176 30"}),_react["default"].createElement("path",{fill:"currentColor",fillRule:"nonzero",strokeWidth:"20",d:"M530.07 204.67v-32.78h-32.54V158.2h32.54v-32.54h13.86v32.54h32.54v13.69h-32.54v32.78z"}),_react["default"].createElement("path",{fill:"currentColor",fillRule:"nonzero",strokeWidth:"28.23",d:"M139.1 170.73V159.6h83.31v11.14z"})),svgProps:{viewBox:'0 0 722 341'}},'existing-project':{shape:_react["default"].createElement("g",{fillRule:"nonzero"},_react["default"].createElement("path",{d:"M7 4a1 1 0 0 0-1 1v35a1 1 0 0 0 1 1h31a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H7zm0-2h31a3 3 0 0 1 3 3v35a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3z"}),_react["default"].createElement("path",{d:"M13 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 2a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm5-4V9h16v2zm0 4v-2h8v2zm-8 21v-2h19v2zm0-5v-2h25v2zm2-10v3h21v-3H12zm-2-2h25v7H10v-7z"})),svgProps:{viewBox:'0 0 45 45'}},google:{shape:_react["default"].createElement("g",null,_react["default"].createElement("defs",null,_react["default"].createElement("path",{id:"a",d:"M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"})),_react["default"].createElement("clipPath",{id:"b"},_react["default"].createElement("use",{xlinkHref:"#a",overflow:"visible"})),_react["default"].createElement("path",{clipPath:"url(#b)",fill:"#FBBC05",d:"M0 37V11l17 13z"}),_react["default"].createElement("path",{clipPath:"url(#b)",fill:"#EA4335",d:"M0 11l17 13 7-6.1L48 14V0H0z"}),_react["default"].createElement("path",{clipPath:"url(#b)",fill:"#34A853",d:"M0 37l30-23 7.9 1L48 0v48H0z"}),_react["default"].createElement("path",{clipPath:"url(#b)",fill:"#4285F4",d:"M48 48L17 24l-4-3 35-10z"})),svgProps:{viewBox:'0 0 48 48'}},'new-project':{shape:_react["default"].createElement("g",{fillRule:"nonzero"},_react["default"].createElement("path",{d:"M36 22.194h2v15.382A3.424 3.424 0 0 1 34.576 41H8.424A3.424 3.424 0 0 1 5 37.576V11.424A3.424 3.424 0 0 1 8.424 8h15.843v2H8.424C7.637 10 7 10.637 7 11.424v26.152C7 38.363 7.637 39 8.424 39h26.152c.787 0 1.424-.637 1.424-1.424V22.194z"}),_react["default"].createElement("path",{d:"M20.765 22.248v3.536h3.536L41.239 8.845 37.703 5.31 20.765 22.248zM44.067 8.845L25.13 27.784h-6.364V21.42L37.703 2.48l6.364 6.364z"}),_react["default"].createElement("path",{d:"M33.793 8.207l1.414-1.414 4.528 4.528-1.414 1.414z"})),svgProps:{viewBox:'0 0 45 45'}},star:{shape:_react["default"].createElement("path",{d:"M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"}),svgProps:{viewBox:'0 0 24 24'}},bold_editor_tool:{shape:_react["default"].createElement("path",{d:"M22.12 15.145C23.293 13.753 24 11.957 24 10a8.01 8.01 0 0 0-8-8H6v28h12a8.01 8.01 0 0 0 8-8c0-2.905-1.556-5.453-3.88-6.855zM12 6h3.172c1.75 0 3.172 1.794 3.172 4s-1.423 4-3.172 4H12V6zm4.97 20H12v-8h4.97c1.827 0 3.313 1.794 3.313 4s-1.486 4-3.313 4z"}),svgProps:{viewBox:'0 0 40 40'}},code_editor_tool:{shape:_react["default"].createElement("path",{d:"M18 23l3 3 10-10L21 6l-3 3 7 7zM14 9l-3-3L1 16l10 10 3-3-7-7z"}),svgProps:{viewBox:'0 0 35 35'}},italic_editor_tool:{shape:_react["default"].createElement("path",{d:"M28 2v2h-4L14 28h4v2H4v-2h4L18 4h-4V2z"}),svgProps:{viewBox:'0 0 40 40'}},bullet_list_editor_tool:{shape:_react["default"].createElement("path",{d:"M12 2h20v4H12V2zm0 12h20v4H12v-4zm0 12h20v4H12v-4zM0 4a4 4 0 1 1 8 0 4 4 0 1 1-8 0zm0 12a4 4 0 1 1 8 0 4 4 0 1 1-8 0zm0 12a4 4 0 1 1 8 0 4 4 0 1 1-8 0z"}),svgProps:{viewBox:'0 0 40 40'}},markdown_logo:{shape:_react["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"208",height:"128"},_react["default"].createElement("mask",{id:"a"},_react["default"].createElement("rect",{width:"100%",height:"100%",fill:"#fff"}),_react["default"].createElement("path",{d:"M30 98V30h20l20 25 20-25h20v68H90V59L70 84 50 59v39zm125 0l-30-33h20V30h20v35h20z"})),_react["default"].createElement("rect",{width:"100%",height:"100%",mask:"url(#a)",ry:"15"})),svgProps:{viewBox:'0 0 208 128'}},quote_editor_tool:{shape:_react["default"].createElement("path",{d:"M7.03 14a7 7 0 1 1 0 14 7 7 0 0 1-7-7L0 20C0 12.268 6.268 6 14 6v4c-2.67 0-5.182 1.04-7.07 2.93a10.24 10.24 0 0 0-.995 1.157A7.08 7.08 0 0 1 7.031 14zm18 0a7 7 0 1 1 0 14 7 7 0 0 1-7-7L18 20c0-7.732 6.268-14 14-14v4c-2.67 0-5.182 1.04-7.07 2.93a10.24 10.24 0 0 0-.995 1.157A7.09 7.09 0 0 1 25.031 14z"}),svgProps:{viewBox:'0 0 35 35'}}};var _default=shapes;exports["default"]=_default;}),44509:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Icon=function Icon(_ref){var className=_ref.className,disabled=_ref.disabled,name=_ref.name,onClick=_ref.onClick,size=_ref.size,style=_ref.style;var _onClickProxy=function _onClickProxy(e){if(disabled)return e.preventDefault();onClick();};var sizeClass=_typography["default"]["icon".concat(size)];return _react["default"].createElement("svg",{className:"".concat(_typography["default"].icon," ").concat(sizeClass," ").concat(className," ").concat(disabled&&_typography["default"].iconDisabled),onClick:_onClickProxy,style:style},_react["default"].createElement("use",{xlinkHref:"#svg-".concat(name)}));};Icon.propTypes={className:_propTypes["default"].string,disabled:_propTypes["default"].bool,name:_propTypes["default"].string.isRequired,onClick:_propTypes["default"].func,size:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),style:_propTypes["default"].object};Icon.defaultProps={className:'',disabled:false,onClick:function onClick(){},size:'',style:{}};var _default=Icon;exports["default"]=_default;}),84708:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _MediaElement=_interopRequireDefault(__webpack_require__(94140));var _helpers=__webpack_require__(90041);var _layout=_interopRequireDefault(__webpack_require__(42721));var _lazy_image=_interopRequireDefault(__webpack_require__(79310));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var BasicImage=function(_PureComponent){_inherits(BasicImage,_PureComponent);var _super=_createSuper(BasicImage);function BasicImage(){_classCallCheck(this,BasicImage);return _super.apply(this,arguments);}
_createClass(BasicImage,[{key:"_processProps",value:function _processProps(_ref){var fit=_ref.fit,queryParams=_ref.queryParams,ratio=_ref.ratio,setStyle=_ref.setStyle,src=_ref.src,width=_ref.width;var processed=(0,_helpers.processURL)({fit:fit,queryParams:queryParams,ratio:ratio,src:src,width:width,useSrcSet:true});var style=setStyle?{height:processed.height,width:width}:null;return{format:processed.format,src:processed.src,srcSet:processed.srcSet,style:style};}},{key:"render",value:function render(){var _this$props=this.props,alt=_this$props.alt,className=_this$props.className,onClick=_this$props.onClick,onMouseLeave=_this$props.onMouseLeave,onMouseOver=_this$props.onMouseOver;var _this$_processProps=this._processProps(this.props),format=_this$_processProps.format,src=_this$_processProps.src,srcSet=_this$_processProps.srcSet,style=_this$_processProps.style;return _react["default"].createElement("div",{className:"".concat(className," ").concat(_lazy_image["default"].root),onClick:onClick,onMouseLeave:onMouseLeave,onMouseOver:onMouseOver,style:style},_react["default"].createElement(_MediaElement["default"],{className:_layout["default"].fullWidth,alt:alt,format:format,src:src,srcSet:srcSet}));}}]);return BasicImage;}(_react.PureComponent);BasicImage.propTypes={alt:_propTypes["default"].string,className:_propTypes["default"].string,fit:_propTypes["default"].string,onClick:_propTypes["default"].func,onMouseLeave:_propTypes["default"].func,onMouseOver:_propTypes["default"].func,queryParams:_propTypes["default"].object,ratio:_propTypes["default"].string.isRequired,setStyle:_propTypes["default"].bool,src:_propTypes["default"].string.isRequired,width:_propTypes["default"].number.isRequired};BasicImage.defaultProps={alt:'',className:'',fit:'min',onClick:function onClick(){},onMouseLeave:function onMouseLeave(){},onMouseOver:function onMouseOver(){},queryParams:{},setStyle:true};var _default=BasicImage;exports["default"]=_default;}),93010:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _animation=_interopRequireDefault(__webpack_require__(61461));var _colors=_interopRequireDefault(__webpack_require__(5941));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ImagePlaceholder=function ImagePlaceholder(_ref){var animated=_ref.animated,aspectRatio=_ref.aspectRatio,backgroundColor=_ref.backgroundColor,className=_ref.className;return _react["default"].createElement("div",{className:"".concat(_layout["default"].fullWidth," ").concat(className," ").concat(animated?_animation["default"].loader:''),style:{backgroundColor:backgroundColor,paddingTop:"".concat(1/aspectRatio*100,"%")}});};ImagePlaceholder.propTypes={animated:_propTypes["default"].bool,aspectRatio:_propTypes["default"].number,backgroundColor:_propTypes["default"].string,className:_propTypes["default"].string};ImagePlaceholder.defaultProps={animated:false,aspectRatio:4/3,backgroundColor:_colors["default"]['v-fog'],className:''};var _default=ImagePlaceholder;exports["default"]=_default;}),48844:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lazy_component=_interopRequireDefault(__webpack_require__(99171));var _helpers=__webpack_require__(90041);var _window=__webpack_require__(33852);var _util=_interopRequireDefault(__webpack_require__(48161));var _lazy_image=_interopRequireDefault(__webpack_require__(79310));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var LazyBackgroundImage=function(_Component){_inherits(LazyBackgroundImage,_Component);var _super=_createSuper(LazyBackgroundImage);function LazyBackgroundImage(props){var _this;_classCallCheck(this,LazyBackgroundImage);_this=_super.call(this,props);_this.state={initStyles:{height:(0,_helpers.getHeight)(props.ratio,props.width),width:props.width},fadeIn:false,src:''};_this.fetchImage=_this.fetchImage.bind(_assertThisInitialized(_this));_this.handleError=_this.handleError.bind(_assertThisInitialized(_this));_this.handleLoad=_this.handleLoad.bind(_assertThisInitialized(_this));_this._isMounted;_this._shadowImg;return _this;}
_createClass(LazyBackgroundImage,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;this._shadowImg=null;}},{key:"fetchImage",value:function fetchImage(){var _this$props=this.props,fit=_this$props.fit,queryParams=_this$props.queryParams,ratio=_this$props.ratio,src=_this$props.src,width=_this$props.width;var processed=(0,_helpers.processURL)({fit:fit,forceImg:true,queryParams:Object.assign({},queryParams,{dpr:(0,_window.windowDPR)()}),ratio:ratio,src:src,width:width});this._shadowLoad(processed.src);this.setState({src:processed.src});}},{key:"handleError",value:function handleError(err){this._setStateIfMounted({fadeIn:false,src:''});}},{key:"handleLoad",value:function handleLoad(){this._setStateIfMounted({fadeIn:true});this._shadowImg=null;}},{key:"_getStyle",value:function _getStyle(){return this.props.setStyle?this.state.initStyles:{};}},{key:"_setStateIfMounted",value:function _setStateIfMounted(state,cb){if(this._isMounted)this.setState(state,cb);}},{key:"_shadowLoad",value:function _shadowLoad(src){this._shadowImg=new Image();this._shadowImg.onload=this.handleLoad;this._shadowImg.onerror=this.handleError;this._shadowImg.src=src;}},{key:"render",value:function render(){var _this$props2=this.props,alt=_this$props2.alt,classList=_this$props2.classList,loadBuffer=_this$props2.loadBuffer,onClick=_this$props2.onClick,onMouseLeave=_this$props2.onMouseLeave,onMouseOver=_this$props2.onMouseOver;return _react["default"].createElement(_lazy_component["default"],{className:"".concat(classList.root," ").concat(_lazy_image["default"].root),onClick:onClick,horizontalOffset:loadBuffer,onMouseLeave:onMouseLeave,onMouseOver:onMouseOver,onReveal:this.fetchImage,style:this._getStyle(),verticalOffset:loadBuffer},_react["default"].createElement("div",{className:"".concat(classList.image," ").concat(_lazy_image["default"].imageBG," ").concat(_util["default"].absolutePlaceholderChild," ").concat(this.state.fadeIn?_lazy_image["default"].fadeIn:''),style:this.state.src?{backgroundImage:"url(\"".concat(this.state.src,"\")")}:null,title:alt}));}}]);return LazyBackgroundImage;}(_react.Component);LazyBackgroundImage.propTypes={classList:_propTypes["default"].shape({image:_propTypes["default"].string,root:_propTypes["default"].string}),fit:_propTypes["default"].string,loadBuffer:_propTypes["default"].number,onClick:_propTypes["default"].func,onMouseLeave:_propTypes["default"].func,onMouseOver:_propTypes["default"].func,queryParams:_propTypes["default"].object,ratio:_propTypes["default"].string.isRequired,setStyle:_propTypes["default"].bool,src:_propTypes["default"].string,width:_propTypes["default"].number.isRequired};LazyBackgroundImage.defaultProps={alt:'',classList:{},className:'',loadBuffer:0,fit:'min',onClick:function onClick(){},onMouseLeave:function onMouseLeave(){},onMouseOver:function onMouseOver(){},queryParams:{},setStyle:true,src:''};var _default=LazyBackgroundImage;exports["default"]=_default;}),94140:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _helpers=__webpack_require__(90041);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var VIDEO_ROLE_PROPS={gif:{autoPlay:true,loop:true,muted:true},video:{controls:true,preload:'metadata'}};var _getImgView=function _getImgView(_ref){var alt=_ref.alt,className=_ref.className,onClick=_ref.onClick,onError=_ref.onError,onLoad=_ref.onLoad,src=_ref.src,srcSet=_ref.srcSet;return _react["default"].createElement("img",{className:className,alt:alt,onClick:onClick,onError:onError,onLoad:onLoad,srcSet:srcSet,src:src});};var _getVideoView=function _getVideoView(_ref2){var alt=_ref2.alt,className=_ref2.className,onClick=_ref2.onClick,onError=_ref2.onError,onLoad=_ref2.onLoad,src=_ref2.src,videoRole=_ref2.videoRole;return _react["default"].createElement("video",_extends({className:className,alt:alt,onClick:onClick,onLoadedData:onLoad,onError:onError,playsInline:true},VIDEO_ROLE_PROPS[videoRole]),_react["default"].createElement("source",{src:src,type:"video/mp4"}));};var MediaElement=function MediaElement(props){return props.format===_helpers.VIDEO?_getVideoView(props):_getImgView(props);};MediaElement.propTypes={alt:_propTypes["default"].string,className:_propTypes["default"].string,format:_propTypes["default"].string,onClick:_propTypes["default"].func,onError:_propTypes["default"].func,onLoad:_propTypes["default"].func,src:_propTypes["default"].string,srcSet:_propTypes["default"].string,videoRole:_propTypes["default"].oneOf(['gif','video'])};MediaElement.defaultProps={alt:'',className:'',format:'',onClick:function onClick(){},onError:function onError(){},onLoad:function onLoad(){},src:'',srcSet:'',videoRole:'gif'};var _default=MediaElement;exports["default"]=_default;}),90041:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.canConvertToMP4=canConvertToMP4;exports.getHeight=getHeight;exports.parseRatio=parseRatio;exports.processURL=processURL;exports.VIDEO=exports.IMG=void 0;var _videoTagSupported=_interopRequireDefault(__webpack_require__(31539));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
var IMG='IMG';exports.IMG=IMG;var VIDEO='VIDEO';exports.VIDEO=VIDEO;function _buildOptions(){var queryParams=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var keys=Object.keys(queryParams);return keys.length?'&'+keys.map(function(key){return "".concat(key,"=").concat(queryParams[key]);}).join('&'):'';}
function _buildSrc(_ref){var format=_ref.format,fit=_ref.fit,height=_ref.height,queryParams=_ref.queryParams,src=_ref.src,width=_ref.width;return "".concat(src,"?").concat(_getDefaultParams(format,src),"&w=").concat(width,"&h=").concat(height,"&fit=").concat(fit).concat(_buildOptions(queryParams));}
function _buildSrcSet(_ref2){var fit=_ref2.fit,height=_ref2.height,queryParams=_ref2.queryParams,src=_ref2.src,width=_ref2.width;return[1,2,3].map(function(density){return "".concat(_buildSrc({fit:fit,height:height,queryParams:Object.assign({},queryParams,{dpr:density}),src:src,width:width})," ").concat(density,"x");}).join(', ');}
function _getDefaultParams(format){var src=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var isGIF=src.includes('.gif');return format===VIDEO||isGIF?'gifq=35':'auto=compress%2Cformat';}
function _getImageProps(_ref3){var src=_ref3.src,ratio=_ref3.ratio,width=_ref3.width,fit=_ref3.fit,queryParams=_ref3.queryParams,useSrcSet=_ref3.useSrcSet;var height=getHeight(ratio,width);return{format:IMG,height:height,src:_buildSrc({fit:fit,height:height,queryParams:queryParams,src:src,width:width}),srcSet:useSrcSet?_buildSrcSet({fit:fit,height:height,queryParams:queryParams,src:src,width:width}):null};}
function _getVideoProps(_ref4){var src=_ref4.src,ratio=_ref4.ratio,width=_ref4.width,fit=_ref4.fit,queryParams=_ref4.queryParams;var height=getHeight(ratio,width);return{format:VIDEO,height:height,src:_buildSrc({fit:fit,format:VIDEO,height:height,queryParams:Object.assign({},queryParams,{fm:'mp4'}),src:src,width:width})};}
function _removeQueryParamsFromSrc(src){return src.split('?')[0];}
function canConvertToMP4(src){return(0,_videoTagSupported["default"])()&&/\.gif/.test(src);}
function getHeight(ratio,width){var _parseRatio=parseRatio(ratio),h=_parseRatio.h,w=_parseRatio.w;return parseInt(width,10)*(h/w);}
function parseRatio(ratio){var _ratio$split=ratio.split(':'),_ratio$split2=_slicedToArray(_ratio$split,2),width=_ratio$split2[0],height=_ratio$split2[1];return{h:parseInt(height,10),w:parseInt(width,10)};}
function processURL(_ref5){var _ref5$fit=_ref5.fit,fit=_ref5$fit===void 0?'min':_ref5$fit,_ref5$forceImg=_ref5.forceImg,forceImg=_ref5$forceImg===void 0?false:_ref5$forceImg,_ref5$queryParams=_ref5.queryParams,queryParams=_ref5$queryParams===void 0?{}:_ref5$queryParams,ratio=_ref5.ratio,_ref5$src=_ref5.src,src=_ref5$src===void 0?'':_ref5$src,_ref5$useSrcSet=_ref5.useSrcSet,useSrcSet=_ref5$useSrcSet===void 0?false:_ref5$useSrcSet,width=_ref5.width;if(!/hackster?.*\.imgix\.net/.test(src)){return{format:IMG,height:getHeight(ratio,width),src:src,srcSet:null};}
var bareSrc=_removeQueryParamsFromSrc(src);if(canConvertToMP4(bareSrc)&&!forceImg){return _getVideoProps({src:bareSrc,ratio:ratio,width:width,fit:fit,queryParams:queryParams});}
return _getImageProps({src:bareSrc,ratio:ratio,width:width,fit:fit,queryParams:queryParams,useSrcSet:useSrcSet});};}),70794:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _BasicImage=_interopRequireDefault(__webpack_require__(84708));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Image=function Image(props){return props.lazy?_react["default"].createElement(_LazyImage["default"],props):_react["default"].createElement(_BasicImage["default"],props);};Image.propTypes={lazy:_propTypes["default"].bool};Image.defaultProps={lazy:false};var _default=Image;exports["default"]=_default;}),49357:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=clearApiTokensIfUserSignedOut;var _oauth=_interopRequireDefault(__webpack_require__(97523));var _window=__webpack_require__(33852);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function clearApiTokensIfUserSignedOut(){if(!(0,_window.doesBodyHaveUserId)()&&(0,_window.doesWindowLocationHaveParam)('logged_out')){_oauth["default"].clearApiTokens();}}}),4464:((__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _clearApiTokensIfUserSignedOut=_interopRequireDefault(__webpack_require__(49357));var _initCurrentUser=_interopRequireDefault(__webpack_require__(38737));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
(function critcalLoadInit(){(0,_clearApiTokensIfUserSignedOut["default"])();(0,_initCurrentUser["default"])();})();}),38737:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=initCurrentUser;var _current_user=_interopRequireDefault(__webpack_require__(94691));var _window=__webpack_require__(33852);var _error_handler=_interopRequireDefault(__webpack_require__(84616));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function fetchCurrentUser(){return _current_user["default"].getStoreAsync()["catch"](function(err){return(0,_error_handler["default"])('initCurrentUser fetchCurrentUser: ',err);});}
function initCurrentUser(){if((0,_window.doesBodyHaveUserId)()){fetchCurrentUser();}}}),22553:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);Object.defineProperty(exports,"__esModule",({value:true}));exports.unmountComponents=unmountComponents;exports["default"]=renderComponents;var _react=_interopRequireDefault(__webpack_require__(67294));var _reactDom=_interopRequireDefault(__webpack_require__(73935));var _json=__webpack_require__(50129);var _app=_interopRequireDefault(__webpack_require__(69110));var _app2=_interopRequireDefault(__webpack_require__(84826));var _dialog=_interopRequireDefault(__webpack_require__(83989));var _panel=_interopRequireDefault(__webpack_require__(32876));var _bookmark_button=_interopRequireDefault(__webpack_require__(53121));var _bookmark_list_page=_interopRequireDefault(__webpack_require__(87320));var _app3=_interopRequireDefault(__webpack_require__(12915));var _editor_group=_interopRequireDefault(__webpack_require__(28549));var _prize_editor=_interopRequireDefault(__webpack_require__(12258));var _collection_category_select=_interopRequireDefault(__webpack_require__(15851));var _app4=_interopRequireDefault(__webpack_require__(78647));var _discussion=_interopRequireDefault(__webpack_require__(17739));var _course_wizard=_interopRequireDefault(__webpack_require__(20082));var _dialog_action=_interopRequireDefault(__webpack_require__(17898));var _event_form_page=_interopRequireDefault(__webpack_require__(1322));var _RailsFormFileUploader=_interopRequireDefault(__webpack_require__(57104));var _flag_button=_interopRequireDefault(__webpack_require__(81322));var _global_dialog=_interopRequireDefault(__webpack_require__(89284));var _messenger=_interopRequireDefault(__webpack_require__(12081));var _GlobalPopover=_interopRequireDefault(__webpack_require__(47309));var _rails_form_image_uploader=_interopRequireDefault(__webpack_require__(74877));var _local_storage_popover=_interopRequireDefault(__webpack_require__(61472));var _mark_spam_button=_interopRequireDefault(__webpack_require__(60922));var _NewFeatureTooltip=_interopRequireDefault(__webpack_require__(72993));var _admin_page=_interopRequireDefault(__webpack_require__(20071));var _project_comments=_interopRequireDefault(__webpack_require__(6136));var _project_count_banner=_interopRequireDefault(__webpack_require__(80874));var _project_editor_image_uploader=_interopRequireDefault(__webpack_require__(67216));var _respect_button=_interopRequireDefault(__webpack_require__(9782));var _similar_projects=_interopRequireDefault(__webpack_require__(6091));var _app5=_interopRequireDefault(__webpack_require__(27143));var _HelpBox=_interopRequireDefault(__webpack_require__(56261));var _confirmation_button=_interopRequireDefault(__webpack_require__(80173));var _home=_interopRequireDefault(__webpack_require__(86201));var _members=_interopRequireDefault(__webpack_require__(4632));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DATA_KEY='hacksternova-key';var PROPS_KEY='hacksternova-props';var COMPONENTS={AddressBook:_app["default"],AddressForm:_app2["default"],AuthDialog:_dialog["default"],AuthPanel:_panel["default"],BookmarkButton:_bookmark_button["default"],BookmarkList:_bookmark_list_page["default"],ChallengeIdeaAddressForm:_app3["default"],ChallengeFormEditorGroup:_editor_group["default"],ChallengePrizeEditor:_prize_editor["default"],ChannelManageConfirmationButton:_confirmation_button["default"],ChannelManageHome:_home["default"],ChannelManageMembers:_members["default"],CollectionCategorySelect:_collection_category_select["default"],ContestCsvExporter:_app4["default"],ContestDiscussion:_discussion["default"],CourseWizard:_course_wizard["default"],DialogAction:_dialog_action["default"],EventFormPage:_event_form_page["default"],GlobalDialog:_global_dialog["default"],GlobalMessenger:_messenger["default"],GlobalPopover:_GlobalPopover["default"],FileUploader:_RailsFormFileUploader["default"],FlagButton:_flag_button["default"],ImageUploader:_rails_form_image_uploader["default"],LocalStoragePopover:_local_storage_popover["default"],MarkSpamButton:_mark_spam_button["default"],NewFeatureTooltip:_NewFeatureTooltip["default"],NewsAdminPage:_admin_page["default"],ProjectComments:_project_comments["default"],ProjectCountBanner:_project_count_banner["default"],ProjectEditorImageUploader:_project_editor_image_uploader["default"],RespectButton:_respect_button["default"],SimilarProjects:_similar_projects["default"],StoryEditor:_app5["default"],StoryEditorHelpBox:_HelpBox["default"]};var getNodesWithData=function getNodesWithData(){var container=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document;var nodes=container.querySelectorAll("[data-".concat(DATA_KEY,"]"));return[].reduce.call(nodes,function(acc,node){var name=node.getAttribute("data-".concat(DATA_KEY));if(!COMPONENTS.hasOwnProperty(name)){console.warn("renderComponents found an element that has no matching Component. You likely forgot to import it or mispelled the Component name.",name);return acc;}
var props=(0,_json.tryJSONParse)(node.getAttribute("data-".concat(PROPS_KEY)),{});return acc.concat({node:node,data:{name:name,props:props}});},[]);};function unmountComponents(){var container=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document;var payloads=getNodesWithData(container);payloads.forEach(function(payload){var node=payload.node;_reactDom["default"].unmountComponentAtNode(node);});}
function renderComponents(){var container=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document;var payloads=getNodesWithData(container);payloads.forEach(function(payload){var node=payload.node,data=payload.data;var element=_react["default"].createElement(COMPONENTS[data.name],data.props);_reactDom["default"].render(element,node);});};}),48961:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _mainServiceOperators=__webpack_require__(90375);var _eventTypeTemplates=__webpack_require__(10853);var _linkConstants=__webpack_require__(24275);var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var DEFAULT_EXTERNAL_LINK_ATTRIBUTES={rel:"noopener noreferrer",target:"_blank"};var _buildLinkData=function _buildLinkData(item,linkType,location,value){return{entity_id:item.id,entity_type:(0,_linkConstants.getEntityType)(linkType),href:item.url,location:location,type:linkType,value:value};};var _getOtherAttributes=function _getOtherAttributes(isExternal,customAttributes){var externalLinkAttributes=isExternal?DEFAULT_EXTERNAL_LINK_ATTRIBUTES:{};return Object.assign({},externalLinkAttributes,customAttributes);};var _reportLink=function _reportLink(linkData,shouldDelayRedirect,itemUrl,e){return shouldDelayRedirect?(0,_mainServiceOperators.fireClickedLinkAnalyticsWithRedirect)(linkData,itemUrl,e):(0,_mainServiceOperators.fireClickedLinkAnalytics)(linkData,e);};var handleClick=function handleClick(_ref){var e=_ref.e,item=_ref.item,itemIndex=_ref.itemIndex,linkType=_ref.linkType,location=_ref.location,overrideTracking=_ref.overrideTracking,shouldDelayRedirect=_ref.shouldDelayRedirect,value=_ref.value;var linkData=_buildLinkData(item,linkType,location,value);if(typeof overrideTracking==='function'){var event=(0,_eventTypeTemplates.getClickedLinkArgs)(linkData,e);overrideTracking(e,{},{id:item.id,index:itemIndex,type:linkType},[event]);}else{_reportLink(linkData,shouldDelayRedirect,item.url,e);}};var AnalyticsLink=function AnalyticsLink(_ref2){var className=_ref2.className,customAttributes=_ref2.customAttributes,isExternal=_ref2.isExternal,item=_ref2.item,itemIndex=_ref2.itemIndex,linkType=_ref2.linkType,children=_ref2.children,location=_ref2.location,overrideTracking=_ref2.overrideTracking,shouldDelayRedirect=_ref2.shouldDelayRedirect,style=_ref2.style,value=_ref2.value;return _react["default"].createElement("a",_extends({className:"".concat(_typography["default"].link," ").concat(className),onClick:function onClick(e){return handleClick({e:e,item:item,itemIndex:itemIndex,linkType:linkType,location:location,overrideTracking:overrideTracking,shouldDelayRedirect:shouldDelayRedirect,value:value});},href:item.url,style:style},_getOtherAttributes(isExternal,customAttributes)),children);};AnalyticsLink.propTypes={className:_propTypes["default"].string,customAttributes:_propTypes["default"].object,isExternal:_propTypes["default"].bool,item:_propTypes["default"].shape({id:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]),url:_propTypes["default"].string.isRequired}).isRequired,itemIndex:_propTypes["default"].number,linkType:_propTypes["default"].string.isRequired,location:_propTypes["default"].string,overrideTracking:_propTypes["default"].func,shouldDelayRedirect:_propTypes["default"].bool,style:_propTypes["default"].object,value:_propTypes["default"].string};AnalyticsLink.defaultProps={className:'',customAttributes:{},isExternal:false,itemIndex:null,location:'',overrideTracking:null,shouldDelayRedirect:false,style:null,value:''};var _default=AnalyticsLink;exports["default"]=_default;}),97533:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Link=function Link(_ref){var bold=_ref.bold,children=_ref.children,className=_ref.className,color=_ref.color,href=_ref.href,onClick=_ref.onClick,onKeyDown=_ref.onKeyDown,size=_ref.size,target=_ref.target;var classNames="".concat(size?_typography["default"]["body".concat(size)]:''," ").concat(_typography["default"]["link".concat(color)]," ").concat(className," ").concat(bold?_typography["default"].bold:'');return _react["default"].createElement("a",{className:classNames,href:href,onClick:onClick,onKeyDown:onKeyDown},children);};Link.propTypes={bold:_propTypes["default"].bool,className:_propTypes["default"].string,color:_propTypes["default"].oneOf(['','Blue','Charcoal','Pebble','White']),onClick:_propTypes["default"].func,onKeyDown:_propTypes["default"].func,size:_propTypes["default"].oneOf(['','S','M','L']),target:_propTypes["default"].string};Link.defaultProps={bold:false,className:'',color:'',onKeyDown:function onKeyDown(){},onClick:function onClick(){},size:'M',target:null};var _default=Link;exports["default"]=_default;}),39223:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Store=_interopRequireDefault(__webpack_require__(67200));var _graphql=__webpack_require__(2740);var _CommunityCard=_interopRequireDefault(__webpack_require__(58594));var _user_card_horizontal=_interopRequireDefault(__webpack_require__(47319));var _dispatchers=__webpack_require__(10912);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _generateRandomKey=_interopRequireDefault(__webpack_require__(89950));var _strings=__webpack_require__(9263);var _typography=_interopRequireDefault(__webpack_require__(68163));var _markdown_viewer=_interopRequireDefault(__webpack_require__(8812));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ELLIPSES=' ...';var store=new _Store["default"]();var resourceToRequestMap={community:function community(id){return(0,_graphql.graphQuery)({t:'get_community_hover_data_for_global'},{id:id});},user:function user(id){return(0,_graphql.graphQuery)({t:'get_user_hover_data_for_global'},{id:id});}};var resourceToComponentMap={community:_CommunityCard["default"],user:_user_card_horizontal["default"]};var MarkdownViewer=function(_PureComponent){_inherits(MarkdownViewer,_PureComponent);var _super=_createSuper(MarkdownViewer);function MarkdownViewer(props){var _this;_classCallCheck(this,MarkdownViewer);_this=_super.call(this,props);_this.state={content:_this._initContent(props),uuid:(0,_generateRandomKey["default"])()};_this.handlePopoverEnter=_this.handlePopoverEnter.bind(_assertThisInitialized(_this));_this.handlePopoverLeave=_this.handlePopoverLeave.bind(_assertThisInitialized(_this));_this._popovers=[];_this._hoveredPopovers=[];_this._currentTarget=null;return _this;}
_createClass(MarkdownViewer,[{key:"_compoundKey",value:function _compoundKey(data){return "".concat(data.type,"_").concat(data.id);}},{key:"componentDidMount",value:function componentDidMount(){this._bindEventListeners();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var _this2=this;if(prevProps.content!==this.props.content||prevState.content!==this.state.content){this._unbindEventListeners(function(){return _this2._bindEventListeners();});}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._unbindEventListeners();}},{key:"_initContent",value:function _initContent(props){if(!props.truncateHtml.truncate||props.truncateHtml.limit>props.content.length)return props.content;return(0,_strings.sliceRichTextAt)(props.content,props.truncateHtml.limit).concat(ELLIPSES);}},{key:"_bindEventListeners",value:function _bindEventListeners(){var _this3=this;var popovers=Array.from(this.root.querySelectorAll("a[data-mv-key=\"".concat(this.state.uuid,"\"]")));if(popovers.length){popovers.forEach(function(popover){popover.addEventListener('mouseenter',_this3.handlePopoverEnter.bind(_this3,popover));popover.addEventListener('mouseleave',_this3.handlePopoverLeave.bind(_this3,popover));_this3._popovers.push(popover);});}}},{key:"_unbindEventListeners",value:function _unbindEventListeners(done){var _this4=this;if(this._popovers.length){this._popovers.forEach(function(popover){popover.removeEventListener('mouseenter',_this4.handlePopoverEnter);popover.removeEventListener('mouseleave',_this4.handlePopoverLeave);});this._popovers=[];}
if(done&&typeof done==='function')done();}},{key:"handlePopoverEnter",value:function handlePopoverEnter(popover,e){var _this5=this;this._currentTarget=e.target;this._hoveredPopovers=this._hoveredPopovers||[];this._hoveredPopovers.push(popover);return this._delay(popover).then(function(delayed){return _this5._parseJSON(delayed);}).then(function(json){return Promise.all([_this5._fetchResource(json),Promise.resolve(json)]);}).then(function(res){_this5._hoveredPopovers=[];if(_this5._currentTarget!==null){return(0,_dispatchers.summonGlobalPopover)(_this5._getEventDetails(res[0],res[1]));}})["catch"](function(err){if(err.message&&err.message==='early reject')return;return(0,_error_handler["default"])('PopoverPortal onMouseEnter: ',err);});}},{key:"_delay",value:function _delay(popover){var _this6=this;return new Promise(function(resolve,reject){setTimeout(function(){if(popover===_this6._currentTarget){resolve(popover);}else{reject(new Error('early reject'));}},250);});}},{key:"_parseJSON",value:function _parseJSON(popover){return new Promise(function(resolve,reject){try{var data=JSON.parse(popover.getAttribute('data-react-popover'));resolve(data);}catch(err){reject(err);}});}},{key:"handlePopoverLeave",value:function handlePopoverLeave(popover,e){this._hoveredPopovers=this._hoveredPopovers.filter(function(p){return p!==popover;});if(this._currentTarget!==null){this._currentTarget=null;(0,_dispatchers.closeGlobalPopover)();}}},{key:"_fetchResource",value:function _fetchResource(data){var _this7=this;return new Promise(function(resolve,reject){var compoundKey=_this7._compoundKey(data);setTimeout(function(){if(store.has(compoundKey)){return resolve(store.get(compoundKey));}
return resourceToRequestMap[data['type']](data.id).then(function(res){var record=res[Object.keys(res)[0]];var resource=Object.assign({},record,{id:data.id});store.set(compoundKey,resource);resolve(resource);})["catch"](function(err){return reject(err);});},500);});}},{key:"_getEventDetails",value:function _getEventDetails(componentProps,data){var props=Object.assign({},componentProps,{updateResource:function updateResource(id,type,path,createOrDeleteBool){}});var adjustmentsForResource={community:{arrowOffset:0,popoverOffsetVertical:-120,targetOffset:15},user:{arrowOffset:0,targetOffset:10}};var adjustments=adjustmentsForResource[data['type']]||{};return{adjustments:Object.assign({},adjustments),component:_react["default"].createElement(resourceToComponentMap[data['type']],props),position:'bottom',target:this._currentTarget,uuid:this._compoundKey(data)};}},{key:"_renderMarkdownSafely",value:function _renderMarkdownSafely(){try{return this.props.markdownService.render(this.state.content,{uuid:this.state.uuid});}catch(err){(0,_error_handler["default"])('Markdown renderer error',err);return 'There was an error parsing into markdown.';}}},{key:"_getMoreButton",value:function _getMoreButton(){var _this8=this;if(this.state.content===this.props.content)return null;return _react["default"].createElement("p",{className:"".concat(_typography["default"].linkBlue," ").concat(_typography["default"].bodyS),onClick:function onClick(){return _this8.setState({content:_this8.props.content},function(){return _this8.props.viewMoreClicked();});}},'More');}},{key:"render",value:function render(){var _this9=this;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("div",{ref:function ref(el){return _this9.root=el;},className:"".concat(_markdown_viewer["default"].root," ").concat(this.props.collapse?_markdown_viewer["default"].collapse:''),dangerouslySetInnerHTML:{__html:this._renderMarkdownSafely()}}),this._getMoreButton());}}]);return MarkdownViewer;}(_react.PureComponent);MarkdownViewer.propTypes={content:_propTypes["default"].string.isRequired,markdownService:_propTypes["default"].object.isRequired,truncateHtml:_propTypes["default"].shape({truncate:_propTypes["default"].bool,limit:_propTypes["default"].number}),viewMoreClicked:_propTypes["default"].func};MarkdownViewer.defaultProps={truncateHtml:{truncate:false,limit:0},viewMoreClicked:function viewMoreClicked(){}};var _default=MarkdownViewer;exports["default"]=_default;}),8760:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _links=__webpack_require__(22463);var _typography=_interopRequireDefault(__webpack_require__(68163));var _social_icons=_interopRequireDefault(__webpack_require__(35277));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var icons=[{name:'newsletter',title:'Sign up for our Newsletter',url:_links.socialLinks.newsletter},{name:'facebook',url:_links.socialLinks.facebook},{name:'instagram',url:_links.socialLinks.instagram},{name:'twitter',url:_links.socialLinks.twitter},{name:'youtube-2',url:_links.socialLinks.youtube},{name:'linkedin',url:_links.socialLinks.linkedin}];var SocialIcons=function SocialIcons(_ref){var className=_ref.className,trackLinkClick=_ref.trackLinkClick;return _react["default"].createElement("div",{className:className},icons.map(function(icon,i){return _react["default"].createElement("a",{key:i,className:"".concat(_social_icons["default"].icon," ").concat(_typography["default"].charcoal),href:icon.url,onClick:function onClick(e){return trackLinkClick({delayRedirect:false,type:'social',value:icon.name});},rel:"noopener noreferrer",target:"_blank",title:icon.title||''},_react["default"].createElement(_icon["default"],{className:_typography["default"].iconClickable,name:icon.name,size:"16"}));}));};SocialIcons.propTypes={className:_propTypes["default"].string,trackLinkClick:_propTypes["default"].func};SocialIcons.defaultProps={className:'',trackLinkClick:function trackLinkClick(){}};var _default=SocialIcons;exports["default"]=_default;}),13050:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _link=_interopRequireDefault(__webpack_require__(97533));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Breadcrumb=function Breadcrumb(_ref){var classList=_ref.classList,color=_ref.color,direction=_ref.direction,href=_ref.href,onClick=_ref.onClick,size=_ref.size,text=_ref.text;return _react["default"].createElement("div",{className:classList.root?classList.root:_layout["default"].marginBottom30},_react["default"].createElement(_link["default"],{className:classList.link,bold:true,color:color,href:href,onClick:onClick,size:size},_react["default"].createElement("span",{className:_layout["default"].flexCenterItems},direction==='left'&&_react["default"].createElement(_icon["default"],{className:_layout["default"].marginRight15,name:"arrow-left",size:12}),_react["default"].createElement("span",{className:classList.text},text),direction==='right'&&_react["default"].createElement(_icon["default"],{className:_layout["default"].marginLeft15,name:"arrow-right",size:12}))));};Breadcrumb.propTypes={classList:_propTypes["default"].shape({link:_propTypes["default"].string,root:_propTypes["default"].string,text:_propTypes["default"].string}),color:_propTypes["default"].oneOf(['','Blue','Charcoal','Pebble']),direction:_propTypes["default"].string,href:_propTypes["default"].string,onClick:_propTypes["default"].func,size:_propTypes["default"].oneOf(['S','M','L']),text:_propTypes["default"].string};Breadcrumb.defaultProps={classList:{link:'',root:null,text:''},color:'',direction:'left',href:'',onClick:function onClick(){},size:'S',text:''};var _default=Breadcrumb;exports["default"]=_default;}),40418:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=createPagination;function createHeadRange(currentPage,pages){return currentPage>3?pages.slice(0,currentPage+2):pages.slice(0,5);}
function createRange(currentPage,max){return Array.from(Array(5)).reduce(function(acc,n,i){if(i===0)return acc;if(currentPage+i<=max&&acc[acc.length-1]<currentPage+2){acc.push(currentPage+i);}else{acc.unshift(acc[0]-1);}
return acc;},[currentPage]);}
function insertBuffers(head,pages,currentPage){var buffer=['buffer'];if(head.length>2){var lastOfHead=head[head.length-1];var tail=pages.slice(pages.length-2).filter(function(n){return n!==lastOfHead;});var noBufferWhenNextIsConsecutive=head[head.length-1]+1===tail[0]?[]:buffer;var nextPageOrBuffer=noBufferWhenNextIsConsecutive.length&&lastOfHead+1===tail[0]-1?[lastOfHead+1]:noBufferWhenNextIsConsecutive;return head.concat(nextPageOrBuffer).concat(tail);}else{var firstPart=head.concat(buffer).concat(createRange(currentPage,pages.length));var lastOfFirstPart=firstPart[firstPart.length-1];if(lastOfFirstPart===pages.length)return firstPart;var _tail=pages.slice(pages.length-2).filter(function(n){return n!==lastOfFirstPart;});var hasCollision=lastOfFirstPart+1===_tail[0];var _nextPageOrBuffer=!hasCollision&&lastOfFirstPart+1===_tail[0]-1?[lastOfFirstPart+1]:buffer;var lastPart=_tail.length>1&&!hasCollision?_nextPageOrBuffer.concat(_tail):_tail;return firstPart.concat(lastPart);}}
function createPagination(currentPage,totalPages){if(totalPages<=1)return[];if(totalPages<=8)return Array.from(Array(totalPages)).map(function(n,i){return i+1;});var pages=Array.from(Array(totalPages)).map(function(n,i){return i+1;});var head=currentPage>6?[1,2]:createHeadRange(currentPage,pages);return insertBuffers(head,pages,currentPage);}}),67556:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));var _icon=_interopRequireDefault(__webpack_require__(44509));var _converters=__webpack_require__(39719);var _createPagination=_interopRequireDefault(__webpack_require__(40418));var _links=__webpack_require__(22463);var _paginator=_interopRequireDefault(__webpack_require__(24326));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _buildHref=function _buildHref(currentQuery,pageNum){if(currentQuery===null)return _links.NOOP_HREF;var params=(0,_converters.mapifyStringQuery)(currentQuery);return '?'+(0,_converters.mapToStringQuery)(Object.assign({},params,{page:pageNum}));};var _shouldEnableLeftArrow=function _shouldEnableLeftArrow(currentPage){return currentPage>1;};var _shouldEnableRightArrow=function _shouldEnableRightArrow(currentPage,nextPage,totalPages){return currentPage<totalPages||!!nextPage;};var getLeftArrowButton=function getLeftArrowButton(_ref){var currentPage=_ref.currentPage,currentQuery=_ref.currentQuery,disabled=_ref.disabled,_onClick=_ref.onClick;var isEnabled=!disabled&&_shouldEnableLeftArrow(currentPage);return _react["default"].createElement("a",{className:"".concat(_paginator["default"].arrow," ").concat(isEnabled?'':_paginator["default"].disabled),href:isEnabled?_buildHref(currentQuery,currentPage-1):null,onClick:function onClick(e){e.preventDefault();if(isEnabled)return _onClick(currentPage-1);}},_react["default"].createElement(_icon["default"],{name:"arrow-left"}));};var getRightArrowButton=function getRightArrowButton(_ref2){var currentPage=_ref2.currentPage,currentQuery=_ref2.currentQuery,disabled=_ref2.disabled,nextPage=_ref2.nextPage,_onClick2=_ref2.onClick,totalPages=_ref2.totalPages;var isEnabled=!disabled&&_shouldEnableRightArrow(currentPage,nextPage,totalPages);return _react["default"].createElement("a",{className:"".concat(_paginator["default"].arrow," ").concat(isEnabled?'':_paginator["default"].disabled),href:isEnabled?_buildHref(currentQuery,currentPage+1):null,onClick:function onClick(e){e.preventDefault();if(isEnabled)return _onClick2(currentPage+1);}},_react["default"].createElement(_icon["default"],{name:"arrow-right"}));};var getPageItems=function getPageItems(_ref3){var currentPage=_ref3.currentPage,currentQuery=_ref3.currentQuery,disabled=_ref3.disabled,_onClick3=_ref3.onClick,totalPages=_ref3.totalPages;return(0,_createPagination["default"])(currentPage,totalPages).map(function(page,i){return page==='buffer'?_react["default"].createElement("span",{key:"".concat(page,"_").concat(i),className:_paginator["default"].buffer},"..."):_react["default"].createElement("a",{key:"".concat(page,"_").concat(i),className:"".concat(_paginator["default"].number," ").concat(disabled?_paginator["default"].disabled:currentPage===page?_paginator["default"].currentPage:''),href:_buildHref(currentQuery,page),onClick:function onClick(e){e.preventDefault();if(!disabled&&currentPage!==page)return _onClick3(page);}},page.toString());});};var Paginator=function Paginator(props){return _react["default"].createElement("div",{className:"".concat(_paginator["default"].root," ").concat(props.classList.root)},getLeftArrowButton(props),props.totalPages>0&&getPageItems(props),getRightArrowButton(props));};Paginator.propTypes={classList:_propTypes["default"].shape({root:_propTypes["default"].string}),currentPage:_propTypes["default"].number.isRequired,currentQuery:_propTypes["default"].string,disabled:_propTypes["default"].bool,nextPage:_propTypes["default"].number,onClick:_propTypes["default"].func.isRequired,prevPage:_propTypes["default"].number,totalPages:_propTypes["default"].number};Paginator.defaultProps={classList:{root:''},currentQuery:null,disabled:false,nextPage:null,prevPage:null,totalPages:null};var _default=Paginator;exports["default"]=_default;}),96962:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _accessors=__webpack_require__(4887);var _links=__webpack_require__(22463);var _layout=_interopRequireDefault(__webpack_require__(42721));var _navbar=_interopRequireDefault(__webpack_require__(26761));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var getHref=function getHref(tab){if(typeof tab==='string')return _links.NOOP_HREF;return tab.hasOwnProperty('href')?tab.href:_links.NOOP_HREF;};var getTabLabel=function getTabLabel(tab){return typeof tab==='string'?tab:tab.label;};var getAnchor=function getAnchor(props){return(0,_accessors.getInObj)(['external'],props.tab)===true?_getExternalAnchor(props):_getDefaultAnchor(props);};var _getExternalAnchor=function _getExternalAnchor(_ref){var i=_ref.i,isActive=_ref.isActive,isDisabled=_ref.isDisabled,_onClick=_ref.onClick,tab=_ref.tab;return _react["default"].createElement("a",{className:isActive?_navbar["default"].linkFocused:_navbar["default"].link,href:getHref(tab),onClick:function onClick(){if(!isDisabled)_onClick(i,tab);},target:"_blank"},getTabLabel(tab));};var _getDefaultAnchor=function _getDefaultAnchor(_ref2){var i=_ref2.i,isActive=_ref2.isActive,isDisabled=_ref2.isDisabled,_onClick2=_ref2.onClick,tab=_ref2.tab;return _react["default"].createElement("a",{className:isActive?_navbar["default"].linkFocused:_navbar["default"].link,href:getHref(tab),onClick:function onClick(e){e.preventDefault();if(!isDisabled)_onClick2(i,tab);}},getTabLabel(tab));};var TabbedHeader=function TabbedHeader(_ref3){var activeIndex=_ref3.activeIndex,centered=_ref3.centered,onClick=_ref3.onClick,tabs=_ref3.tabs,underline=_ref3.underline;return _react["default"].createElement("div",{className:"".concat(_navbar["default"].center," ").concat(_navbar["default"].themeLight," ").concat(underline?_util["default"].borderBottom:'')},_react["default"].createElement("ul",{className:"".concat(_navbar["default"].list," ").concat(_layout["default"].noScrollBar," ").concat(centered?_layout["default"].flexJustifyCenter:'')},tabs.map(function(tab,i){var isActive=activeIndex===i;var isDisabled=(0,_accessors.getInObj)(['disabled'],tab);return _react["default"].createElement("li",{key:i,className:"".concat(_navbar["default"].listItem," ").concat(isDisabled?_typography["default"].linkDisabled:'')},_react["default"].createElement("div",{className:isActive?_navbar["default"].linkWrapperFocused:_navbar["default"].linkWrapper},getAnchor({i:i,isActive:isActive,isDisabled:isDisabled,onClick:onClick,tab:tab})));})));};TabbedHeader.propTypes={activeIndex:_propTypes["default"].number,centered:_propTypes["default"].bool,onClick:_propTypes["default"].func,tabs:_propTypes["default"].array,underline:_propTypes["default"].bool};TabbedHeader.defaultProps={activeIndex:0,centered:true,onClick:function onClick(){},tabs:[],underline:true};var _default=TabbedHeader;exports["default"]=_default;}),14909:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=__webpack_require__(67294);var _reactDom=_interopRequireDefault(__webpack_require__(73935));var _propTypes=_interopRequireDefault(__webpack_require__(45697));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var GenericPortal=function(_PureComponent){_inherits(GenericPortal,_PureComponent);var _super=_createSuper(GenericPortal);function GenericPortal(props){var _this;_classCallCheck(this,GenericPortal);_this=_super.call(this,props);_this._el;return _this;}
_createClass(GenericPortal,[{key:"componentDidMount",value:function componentDidMount(){this._el=document.getElementById(this.props.id);this.forceUpdate();}},{key:"render",value:function render(){if(!this._el)return null;return _reactDom["default"].createPortal(this.props.children,this._el);}}]);return GenericPortal;}(_react.PureComponent);GenericPortal.propTypes={id:_propTypes["default"].string.isRequired};var _default=GenericPortal;exports["default"]=_default;}),39356:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=__webpack_require__(67294);var _reactDom=_interopRequireDefault(__webpack_require__(73935));var _execEnvironment=__webpack_require__(63509);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var domExists=(0,_execEnvironment.canUseDOM)();var rootEl=domExists?document.getElementById('reactGlobalPortal'):null;var GlobalPortal=function(_Component){_inherits(GlobalPortal,_Component);var _super=_createSuper(GlobalPortal);function GlobalPortal(props){var _this;_classCallCheck(this,GlobalPortal);_this=_super.call(this,props);_this._el=domExists?document.createElement('div'):null;return _this;}
_createClass(GlobalPortal,[{key:"componentDidMount",value:function componentDidMount(){if(rootEl&&this._el)rootEl.appendChild(this._el);}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(rootEl&&this._el)rootEl.removeChild(this._el);}},{key:"render",value:function render(){return this._el?_reactDom["default"].createPortal(this.props.children,this._el):null;}}]);return GlobalPortal;}(_react.Component);var _default=GlobalPortal;exports["default"]=_default;}),15180:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _DummyCard=_interopRequireDefault(__webpack_require__(6405));var _SmallDummyCard=_interopRequireDefault(__webpack_require__(75066));var _getGridClassNames=_interopRequireDefault(__webpack_require__(66254));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
var typeMap={regular:_DummyCard["default"],small:_SmallDummyCard["default"]};var DummyProjectsList=function DummyProjectsList(_ref){var _ref$className=_ref.className,className=_ref$className===void 0?'':_ref$className,_ref$cardBorder=_ref.cardBorder,cardBorder=_ref$cardBorder===void 0?true:_ref$cardBorder,_ref$grid=_ref.grid,grid=_ref$grid===void 0?true:_ref$grid,_ref$maxCols=_ref.maxCols,maxCols=_ref$maxCols===void 0?4:_ref$maxCols,_ref$type=_ref.type,type=_ref$type===void 0?'regular':_ref$type;var classNames=grid?(0,_getGridClassNames["default"])(true,maxCols):{grid:'',cell:''};return _react["default"].createElement("div",{className:"".concat(classNames.grid," ").concat(className)},_toConsumableArray(new Array(maxCols)).map(function(e,i){return _react["default"].createElement("div",{key:i,className:"".concat(classNames.cell," ").concat(_layout["default"].flex)},_react["default"].createElement(typeMap[type],{cardBorder:cardBorder}));}));};var _default=DummyProjectsList;exports["default"]=_default;}),66254:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=getGridClassNames;var _grid=_interopRequireDefault(__webpack_require__(56211));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var CELL_WIDTH_CLASSNAMES=[_grid["default"].cell_1,_grid["default"].cell_1_2_sm,_grid["default"].cell_1_3_md,_grid["default"].cell_1_4_ml];var getGridClassName=function getGridClassName(horizontal){var gutterSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:15;var gutterClassH=_grid["default"]["guttersH".concat(gutterSize)]||null;var gutterClassV=_grid["default"]["guttersV".concat(gutterSize)]||null;var horizontalClass=horizontal?_grid["default"].hScrollSm:null;return[_grid["default"].grid,gutterClassH,gutterClassV,horizontalClass].filter(function(c){return c;}).join(' ');};var getCellClassName=function getCellClassName(){var maxCols=arguments.length>0&&arguments[0]!==undefined?arguments[0]:4;var responsiveWidths=CELL_WIDTH_CLASSNAMES.slice(0,maxCols);return "".concat(_layout["default"].flex," ").concat(_grid["default"].cell," ").concat(responsiveWidths.join(' '));};function getGridClassNames(horizontal,maxCols,gutterSize){return{cell:getCellClassName(maxCols),grid:getGridClassName(horizontal,gutterSize)};}}),5827:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));var _ContentPlaceholder=_interopRequireDefault(__webpack_require__(136));var _grid_list=_interopRequireDefault(__webpack_require__(68201));var _project_card=_interopRequireDefault(__webpack_require__(12680));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _projects_list=_interopRequireDefault(__webpack_require__(20395));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function renderPlaceholderView(_ref){var canManage=_ref.canManage,placeholder=_ref.placeholder;if(placeholder)return placeholder;return _react["default"].createElement(_ContentPlaceholder["default"],{classList:{content:_projects_list["default"].placeholderContent,placeholderLink:_buttons["default"].md,placeholderText:_projects_list["default"].placeholderLabel},templateArgs:{canManage:canManage},type:'no-projects'});}
var ProjectsList=function ProjectsList(_ref2){var canManage=_ref2.canManage,cardBorder=_ref2.cardBorder,className=_ref2.className,config=_ref2.config,currentUser=_ref2.currentUser,horizontal=_ref2.horizontal,location=_ref2.location,maxCols=_ref2.maxCols,placeholder=_ref2.placeholder,records=_ref2.records,toggleRespect=_ref2.toggleRespect;return _react["default"].createElement(_grid_list["default"],{className:className,ItemComponent:_project_card["default"],itemKey:"project",itemProps:{cardBorder:cardBorder,config:config,currentUser:currentUser,location:location,toggleRespect:toggleRespect},horizontal:horizontal,maxCols:maxCols,placeholder:renderPlaceholderView({canManage:canManage,placeholder:placeholder}),records:records});};ProjectsList.propTypes={canManage:_propTypes["default"].bool,cardBorder:_propTypes["default"].bool,className:_propTypes["default"].string,config:_propTypes["default"].shape({controlledRespects:_propTypes["default"].bool}),currentUser:_propTypes["default"].shape({id:_propTypes["default"].number}),horizontal:_propTypes["default"].bool,location:_propTypes["default"].string,maxCols:_propTypes["default"].number,placeholder:_propTypes["default"].node,records:_propTypes["default"].array,toggleRespect:_propTypes["default"].func};ProjectsList.defaultProps={canManage:false,cardBorder:false,className:'',config:{controlledRespects:false},currentUser:{},horizontal:false,location:null,maxCols:4,placeholder:null,records:[],toggleRespect:function toggleRespect(){}};var _default=ProjectsList;exports["default"]=_default;}),44889:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _AnalyticsLink=_interopRequireDefault(__webpack_require__(48961));var _icon=_interopRequireDefault(__webpack_require__(44509));var _lazy_component=_interopRequireDefault(__webpack_require__(99171));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _similar_projects_bar=_interopRequireDefault(__webpack_require__(18676));var _linkConstants=__webpack_require__(24275);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var renderProject=function renderProject(project){return _react["default"].createElement(_AnalyticsLink["default"],{className:"".concat(_similar_projects_bar["default"].container," ").concat(_typography["default"].link),item:project,linkType:_linkConstants.PROJECT_CARD,location:"bottom_bar"},_react["default"].createElement("div",{className:_similar_projects_bar["default"].text},_react["default"].createElement("h5",{className:_typography["default"].h5},"Next project"),_react["default"].createElement("div",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].bold," ").concat(_similar_projects_bar["default"].link)},project.name)),_react["default"].createElement("div",{className:_layout["default"].marginLeft15},_react["default"].createElement(_icon["default"],{name:"arrow-right"})));};var BarView=function BarView(_ref){var initialized=_ref.initialized,onReveal=_ref.onReveal,records=_ref.records;return _react["default"].createElement(_lazy_component["default"],{onReveal:onReveal},initialized&&!!records.length?renderProject(records[0]):null);};BarView.propTypes={initialized:_propTypes["default"].bool.isRequired,onReveal:_propTypes["default"].func.isRequired,records:_propTypes["default"].array.isRequired};var _default=BarView;exports["default"]=_default;}),54245:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DummyProjectsList=_interopRequireDefault(__webpack_require__(15180));var _lazy_component=_interopRequireDefault(__webpack_require__(99171));var _projects_list=_interopRequireDefault(__webpack_require__(5827));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var BottomView=function BottomView(_ref){var initialized=_ref.initialized,onReveal=_ref.onReveal,records=_ref.records;return _react["default"].createElement(_lazy_component["default"],{onReveal:onReveal,verticalOffset:250},_react["default"].createElement("div",{className:"".concat(_layout["default"].container," ").concat(_layout["default"].paddingBottom45," ").concat(_layout["default"].paddingTop45)},_react["default"].createElement("div",{className:_layout["default"].wrapper1170},_react["default"].createElement("h2",{className:"".concat(_typography["default"].h2," ").concat(_layout["default"].marginBottom15)},"Similar projects you might like"),initialized?_react["default"].createElement(_projects_list["default"],{className:_layout["default"].marginBottom30,location:"project_similar",records:records}):_react["default"].createElement(_DummyProjectsList["default"],null))));};BottomView.propTypes={initialized:_propTypes["default"].bool.isRequired,onReveal:_propTypes["default"].func.isRequired,records:_propTypes["default"].array.isRequired};var _default=BottomView;exports["default"]=_default;}),48784:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DummyProjectsList=_interopRequireDefault(__webpack_require__(15180));var _lazy_component=_interopRequireDefault(__webpack_require__(99171));var _small_project_card=_interopRequireDefault(__webpack_require__(73265));var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var SideView=function SideView(_ref){var count=_ref.count,initialized=_ref.initialized,onReveal=_ref.onReveal,records=_ref.records;return _react["default"].createElement(_lazy_component["default"],{onReveal:onReveal},_react["default"].createElement("div",null,(!initialized||!!records.length)&&_react["default"].createElement("h5",{className:"".concat(_typography["default"].h5," ").concat(_layout["default"].marginBottom15)},"Related projects"),initialized?records.map(function(record){return _react["default"].createElement(_small_project_card["default"],{key:record.id,location:"project_similar_side",project:record});}):_react["default"].createElement(_DummyProjectsList["default"],{cardBorder:false,grid:false,maxCols:count,type:"small"}),(!initialized||!!records.length)&&_react["default"].createElement("a",{href:"#similar-projects",className:"".concat(_typography["default"].linkPebble," ").concat(_typography["default"].bold," ").concat(_typography["default"].bodyS),onClick:function onClick(e){e.preventDefault();(0,_smoothScroll["default"])(document.getElementById('similar-projects'));}},"View more related projects")));};SideView.propTypes={count:_propTypes["default"].number.isRequired,initialized:_propTypes["default"].bool.isRequired,onReveal:_propTypes["default"].func.isRequired,records:_propTypes["default"].array.isRequired};var _default=SideView;exports["default"]=_default;}),6091:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _graphql=__webpack_require__(2740);var _accessors=__webpack_require__(4887);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _BarView=_interopRequireDefault(__webpack_require__(44889));var _BottomView=_interopRequireDefault(__webpack_require__(54245));var _SideView=_interopRequireDefault(__webpack_require__(48784));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var SimilarProjects=function(_Component){_inherits(SimilarProjects,_Component);var _super=_createSuper(SimilarProjects);function SimilarProjects(props){var _this;_classCallCheck(this,SimilarProjects);_this=_super.call(this,props);_this.state={initialized:false,records:[]};_this.initialize=_this.initialize.bind(_assertThisInitialized(_this));return _this;}
_createClass(SimilarProjects,[{key:"initialize",value:function initialize(){return this.fetchRecords({count:this.props.count,hid:this.props.project.hid,offset:this.props.offset});}},{key:"fetchRecords",value:function fetchRecords(_ref){var _this2=this;var count=_ref.count,hid=_ref.hid,offset=_ref.offset;return(0,_graphql.graphQuery)({t:'get_related_projects_for_project'},{hid:hid,offset:offset,count:count}).then(function(res){return _this2.setState({initialized:true,records:(0,_accessors.getInObj)(['project','related_projects'],res)||[]});})["catch"](function(err){return(0,_error_handler["default"])('SimilarProjects initialize: ',err);});}},{key:"_renderBarView",value:function _renderBarView(){return _react["default"].createElement(_BarView["default"],{initialized:this.state.initialized,onReveal:this.initialize,records:this.state.records});}},{key:"_renderBottomView",value:function _renderBottomView(){return _react["default"].createElement(_BottomView["default"],{initialized:this.state.initialized,onReveal:this.initialize,records:this.state.records});}},{key:"_renderSideView",value:function _renderSideView(){return _react["default"].createElement(_SideView["default"],{count:this.props.count,initialized:this.state.initialized,onReveal:this.initialize,records:this.state.records});}},{key:"_renderView",value:function _renderView(){switch(this.props.view){case 'bar':return this._renderBarView();case 'side':return this._renderSideView();default:return this._renderBottomView();}}},{key:"render",value:function render(){return this._renderView();}}]);return SimilarProjects;}(_react.Component);SimilarProjects.propTypes={count:_propTypes["default"].number,offset:_propTypes["default"].number,project:_propTypes["default"].shape({hid:_propTypes["default"].string.isRequired}).isRequired,view:_propTypes["default"].string};SimilarProjects.defaultProps={count:8,offset:0,view:'bottom'};var _default=SimilarProjects;exports["default"]=_default;}),15575:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _whitelabel=__webpack_require__(79645);var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ConfirmEmailMessage=function ConfirmEmailMessage(_ref){var actionText=_ref.actionText;return _react["default"].createElement("div",{className:_typography["default"].bodyM,style:{maxWidth:600}},"To ".concat(actionText,", you first need to confirm your email address by clicking the link in the email we sent you. Haven't received it? "),_react["default"].createElement("a",{className:_typography["default"].linkBlue,href:(0,_whitelabel.whitelabelUrlHelper)().appendToRootPath('/users/confirmation/new')},"Resend confirmation email"));};ConfirmEmailMessage.propTypes={actionText:_propTypes["default"].string};ConfirmEmailMessage.defaultProps={actionText:'do this'};var _default=ConfirmEmailMessage;exports["default"]=_default;}),136:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));var _placeholders=_interopRequireDefault(__webpack_require__(34656));var _url_service=_interopRequireDefault(__webpack_require__(78379));var _content_placeholder=_interopRequireDefault(__webpack_require__(83584));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
var ContentPlaceholder=function ContentPlaceholder(_ref){var classList=_ref.classList,content=_ref.content,label=_ref.label,type=_ref.type,isProfileOwner=_ref.isProfileOwner,templateArgs=_ref.templateArgs;var styles=Object.assign({},_content_placeholder["default"],classList);function assembleSegments(segments,type){return segments.map(function(segment,i){return getSegment(segment,getClassNames(type,i),"".concat(type,"-segment-").concat(i),i);});}
function getClassNames(type,idx){var labelSegments=styles.labelSegments,placeholderSegments=styles.placeholderSegments;return type==='label'?{link:styles.labelLink,text:styles.label,bySegmentIdx:labelSegments&&labelSegments[idx]||''}:{link:styles.placeholderLink,text:styles.placeholderText,bySegmentIdx:placeholderSegments&&labelSegments[idx]||''};}
function getSegment(segment,classNames,key,idx){var link=classNames.link,text=classNames.text,bySegmentIdx=classNames.bySegmentIdx;return _typeof(segment)==='object'&&segment!==null?_react["default"].createElement("a",{key:key,className:"".concat(link," ").concat(bySegmentIdx),href:_url_service["default"].url(segment.href)},segment.text):_react["default"].createElement("span",{key:key,className:"".concat(text," ").concat(bySegmentIdx)},segment);}
return _react["default"].createElement("div",{className:styles.container},assembleSegments(label,'label'),_react["default"].createElement("div",{className:styles.content},assembleSegments((0,_placeholders["default"])(isProfileOwner,type,templateArgs)||content,'placeholder')));};ContentPlaceholder.propTypes={classList:_propTypes["default"].shape({container:_propTypes["default"].string,content:_propTypes["default"].string,label:_propTypes["default"].string,labelLink:_propTypes["default"].string,placeholderText:_propTypes["default"].string,placeholderLink:_propTypes["default"].string,labelSegments:_propTypes["default"].object,placeholderSegments:_propTypes["default"].object}),content:_propTypes["default"].array,isProfileOwner:_propTypes["default"].bool,label:_propTypes["default"].array,templateArgs:_propTypes["default"].object,type:_propTypes["default"].string};ContentPlaceholder.defaultProps={classList:{},content:[],isProfileOwner:false,label:[],templateArgs:{},type:''};var _default=ContentPlaceholder;exports["default"]=_default;}),34656:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=getPlaceholderText;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function getPlaceholderText(isProfileOwner,type){var _asProfileViewer,_asProfileOwner;var args=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var asProfileViewer=(_asProfileViewer={},_defineProperty(_asProfileViewer,'no-communities',["".concat(args.name," has not joined a community.")]),_defineProperty(_asProfileViewer,'no-follows',["".concat(args.name," isn't following anyone.")]),_defineProperty(_asProfileViewer,'no-followers',["".concat(args.name," has no followers.")]),_defineProperty(_asProfileViewer,'no-product',['This product does not exist']),_defineProperty(_asProfileViewer,'no-products',['There are no products.',args.canManage&&{href:args.manageProductsLink,text:'Add products'}]),_defineProperty(_asProfileViewer,'no-projects',['There are no projects.',args.canManage&&{href:'/projects/new',text:'Create a new project'}]),_defineProperty(_asProfileViewer,'no-public-projects',["".concat(args.name," hasn't publicly shared any projects.")]),_defineProperty(_asProfileViewer,'no-published-articles',["".concat(args.name," hasn't published any articles.")]),_defineProperty(_asProfileViewer,'no-respects',["".concat(args.name," has no respects.")]),_defineProperty(_asProfileViewer,'no-tools',["".concat(args.name," hasn't added any products to their toolbox.")]),_asProfileViewer);var asProfileOwner=(_asProfileOwner={},_defineProperty(_asProfileOwner,'no-bio',[{text:'Add a bio',href:'/dashboard/profile'}]),_defineProperty(_asProfileOwner,'no-communities',[{href:'/channels',text:'Join a community'}]),_defineProperty(_asProfileOwner,'no-draft-projects',['You aren\'t currently working on any projects.  ',{href:'/projects/new',text:'Create a new project'}]),_defineProperty(_asProfileOwner,'no-follows',['You aren\'t following anyone.']),_defineProperty(_asProfileOwner,'no-followers',["No one is following you."]),_defineProperty(_asProfileOwner,'no-forHire',[{text:'Add availability',href:'/dashboard/profile'}]),_defineProperty(_asProfileOwner,'no-location',[{text:'Add your location',href:'/dashboard/profile'}]),_defineProperty(_asProfileOwner,'no-notifications',["You don't have any notifications. Get updates from your projects, connections, and communities by managing your ",{href:'/users/notifications/edit',text:'notification settings'}]),_defineProperty(_asProfileOwner,'no-projects',[{href:'/projects/new',text:'Create a new project '},'and start sharing your work!']),_defineProperty(_asProfileOwner,'no-public-projects',["You haven't publicly shared any projects. ",{href:'/projects/new',text:'Create a project'}]),_defineProperty(_asProfileOwner,'no-published-articles',['You haven\'t published any articles. ',{href:'/news/admin/new',text:'Write an article'}]),_defineProperty(_asProfileOwner,'no-skills',[{text:'Add skills',href:'/dashboard/profile'}]),_defineProperty(_asProfileOwner,'no-tools',[{href:'/users/preferences',text:'Add tools'}]),_defineProperty(_asProfileOwner,'with-public-without-drafts',['You aren\'t currently working on any projects.  ',{href:'/projects/new',text:'Create a new project'},' or ',{href:'/dashboard/projects',text:'view your existing projects'},'.']),_asProfileOwner);return isProfileOwner?asProfileOwner[type]:asProfileViewer[type];};}),19439:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _actionable=_interopRequireDefault(__webpack_require__(29362));var _base=_interopRequireDefault(__webpack_require__(6094));var _index=_interopRequireDefault(__webpack_require__(27408));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _prompt=_interopRequireDefault(__webpack_require__(49012));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Body=function Body(_ref){var body=_ref.body,classList=_ref.classList;return _react["default"].createElement("div",{className:"".concat(_typography["default"].bodyM," ").concat(classList.body)},body);};var Title=function Title(_ref2){var classList=_ref2.classList,title=_ref2.title;return _react["default"].createElement("h2",{className:"".concat(_typography["default"].h2," ").concat(_layout["default"].marginBottom15," ").concat(classList.title)},title);};var buildActions=function buildActions(_ref3){var action=_ref3.action,actionColor=_ref3.actionColor,dismiss=_ref3.dismiss,isBusy=_ref3.isBusy,okay=_ref3.okay;return[_react["default"].createElement(_actionable["default"],{color:actionColor,isBusy:isBusy,onClick:okay,text:action}),_react["default"].createElement(_base["default"],{colorStyle:"cancel",disabled:isBusy,onClick:dismiss},"Cancel")];};var buildTitle=function buildTitle(_ref4){var classList=_ref4.classList,title=_ref4.title;if(!title)return null;return _react["default"].createElement(Title,{classList:classList.title,title:title});};var Prompt=function Prompt(_ref5){var action=_ref5.action,actionColor=_ref5.actionColor,body=_ref5.body,classList=_ref5.classList,dismiss=_ref5.dismiss,isBusy=_ref5.isBusy,message=_ref5.message,okay=_ref5.okay,open=_ref5.open,title=_ref5.title;return _react["default"].createElement(_index["default"],{actions:buildActions({action:action,actionColor:actionColor,dismiss:dismiss,isBusy:isBusy,okay:okay}),actionsContainerStyle:{marginTop:30},dismiss:dismiss,enableCloseButton:false,message:message,open:open,title:buildTitle({classList:classList,title:title}),wrapperClassName:_prompt["default"].wrapper},_react["default"].createElement(Body,{classList:classList,body:body}));};Prompt.propTypes={action:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].element]),actionColor:_propTypes["default"].string,body:_propTypes["default"].node,classList:_propTypes["default"].shape({body:_propTypes["default"].string,title:_propTypes["default"].string}),dismiss:_propTypes["default"].func,isBusy:_propTypes["default"].bool,message:_propTypes["default"].element,okay:_propTypes["default"].func,open:_propTypes["default"].bool.isRequired,title:_propTypes["default"].string};Prompt.defaultProps={action:'Okay',actionColor:'',body:'',classList:{body:'',title:''},dismiss:function dismiss(){},isBusy:false,message:null,okay:function okay(){},title:null};var _default=Prompt;exports["default"]=_default;}),27408:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactTransitionGroup=__webpack_require__(72165);var _uuid=__webpack_require__(21614);var _dismiss_button=_interopRequireDefault(__webpack_require__(10283));var _transitions=_interopRequireDefault(__webpack_require__(19156));var _themes=_interopRequireDefault(__webpack_require__(81940));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Dialog=function(_Component){_inherits(Dialog,_Component);var _super=_createSuper(Dialog);function Dialog(props){var _this;_classCallCheck(this,Dialog);_this=_super.call(this,props);_this.state={open:props.open};_this.dismiss=_this.dismiss.bind(_assertThisInitialized(_this));_this.dismissOnClick=_this.dismissOnClick.bind(_assertThisInitialized(_this));_this.onKeyDown=_this.onKeyDown.bind(_assertThisInitialized(_this));_this.dataRef=(0,_uuid.v4)();return _this;}
_createClass(Dialog,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener('keydown',this.onKeyDown);if(this.state.open)this._noScrollClassHandler(true);}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(nextProps){var _this2=this;if(nextProps.open!==this.state.open){this.setState({open:nextProps.open},function(){return _this2._noScrollClassHandler(nextProps.open);});}}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener('keydown',this.onKeyDown);if(document.querySelectorAll('[data-nested-dialog]').length===1&&document.body.classList.contains('no-scroll')){document.body.classList.remove('no-scroll');}}},{key:"onKeyDown",value:function onKeyDown(e){if(!this.state.open)return;if(e.keyCode===27){if(document&&document.activeElement){var activeElement=e.target;var attrib=activeElement&&activeElement.getAttribute('data-react-type');var isInputType=attrib&&attrib==='input';if(activeElement.nodeName&&['input','textarea'].includes(activeElement.nodeName.toLowerCase())||isInputType){return;}}
var dialogs=document.querySelectorAll('[data-nested-dialog]');if(dialogs.length===1)return this._dismissByDataRef(dialogs[0]);var deepestDialog=[].slice.call(dialogs).reduce(function(acc,dialog){var prev=JSON.parse(acc.getAttribute('data-nested-dialog'));var curr=JSON.parse(dialog.getAttribute('data-nested-dialog'));return parseInt(curr[0],10)>parseInt(prev[0],10)?dialog:acc;},[].slice.call(dialogs).shift());this._dismissByDataRef(deepestDialog);}}},{key:"dismiss",value:function dismiss(){this.props.dismiss();this._noScrollClassHandler(false);this.setState({open:false});}},{key:"dismissOnClick",value:function dismissOnClick(e){if(e.target&&e.target.getAttribute('data-ref')&&e.target.getAttribute('data-ref')===this.dataRef){this.dismiss();}}},{key:"_dismissByDataRef",value:function _dismissByDataRef(dialog){if(JSON.parse(dialog.getAttribute('data-nested-dialog'))[1]===this.dataRef){this.dismiss();}}},{key:"_noScrollClassHandler",value:function _noScrollClassHandler(open){if(open&&!document.body.classList.contains('no-scroll')){document.body.classList.add('no-scroll');}else if(!open&&document.querySelectorAll('[data-nested-dialog]').length<=1&&document.body.classList.contains('no-scroll')){document.body.classList.remove('no-scroll');}}},{key:"_getTitle",value:function _getTitle(title,titleStyle,styles){return title&&_react["default"].isValidElement(title)?title:title&&typeof title==='string'?this._buildTitle({style:titleStyle,styles:styles,title:title}):null;}},{key:"_buildTitle",value:function _buildTitle(_ref){var style=_ref.style,styles=_ref.styles,title=_ref.title;return _react["default"].createElement("div",null,_react["default"].createElement("h4",{style:style,className:styles.title},title));}},{key:"_renderChildren",value:function _renderChildren(_ref2){var children=_ref2.children,dataRef=_ref2.dataRef;if(!children)return null;return typeof children.type==='function'?_react["default"].cloneElement(children,{dialogRef:dataRef}):children;}},{key:"render",value:function render(){var _this$props=this.props,actions=_this$props.actions,actionsContainerStyle=_this$props.actionsContainerStyle,bodyClassName=_this$props.bodyClassName,bodyStyle=_this$props.bodyStyle,children=_this$props.children,className=_this$props.className,dismissClassName=_this$props.dismissClassName,dismissStyle=_this$props.dismissStyle,enableCloseButton=_this$props.enableCloseButton,fullScreen=_this$props.fullScreen,message=_this$props.message,nestedDialogLevel=_this$props.nestedDialogLevel,style=_this$props.style,theme=_this$props.theme,title=_this$props.title,titleStyle=_this$props.titleStyle,transition=_this$props.transition,wrapperClassName=_this$props.wrapperClassName,wrapperStyle=_this$props.wrapperStyle;var styles=_themes["default"][theme];return _react["default"].createElement(_reactTransitionGroup.TransitionGroup,{appear:true},this.state.open&&_react["default"].createElement(_reactTransitionGroup.CSSTransition,{classNames:transition,timeout:250},_react["default"].createElement("div",{style:style,className:"".concat(styles.dialog," ").concat(className),"data-ref":this.dataRef,"data-nested-dialog":JSON.stringify([nestedDialogLevel,this.dataRef]),onClick:this.dismissOnClick},_react["default"].createElement("div",{style:wrapperStyle,className:"".concat(this.state.open?styles.wrapper:''," ").concat(wrapperClassName," ").concat(fullScreen?styles.fullScreen:'')},enableCloseButton&&_react["default"].createElement(_dismiss_button["default"],{className:"".concat(styles.dismiss," ").concat(dismissClassName),fullscreen:fullScreen,onClick:this.dismiss,style:dismissStyle}),this._getTitle(title,titleStyle,styles),_react["default"].createElement("div",{className:bodyClassName,style:bodyStyle},this._renderChildren({children:children,dataRef:this.dataRef})),_react["default"].createElement("div",null,actions&&Array.isArray(actions)&&actions.length>0&&_react["default"].createElement("div",{style:actionsContainerStyle,className:styles.actions},_react["default"].Children.toArray(actions)),message)))));}}]);return Dialog;}(_react.Component);Dialog.propTypes={actions:_propTypes["default"].array,actionsContainerStyle:_propTypes["default"].object,bodyClassName:_propTypes["default"].string,bodyStyle:_propTypes["default"].object,className:_propTypes["default"].string,dismiss:_propTypes["default"].func,dismissClassName:_propTypes["default"].string,enableCloseButton:_propTypes["default"].bool,fullScreen:_propTypes["default"].bool,message:_propTypes["default"].element,nestedDialogLevel:_propTypes["default"].number,open:_propTypes["default"].bool,style:_propTypes["default"].object,theme:_propTypes["default"].string,title:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].element]),transition:_propTypes["default"].object,wrapperClassName:_propTypes["default"].string,wrapperStyle:_propTypes["default"].object};Dialog.defaultProps={actions:[],actionsContainerStyle:{},bodyClassName:'',bodyStyle:{},className:'',dismiss:function dismiss(){},dismissClassName:'',enableCloseButton:true,fullScreen:false,message:null,open:false,nestedDialogLevel:0,style:{},theme:'light',transition:_transitions["default"],wrapperClassName:'',wrapperStyle:{}};var _default=Dialog;exports["default"]=_default;}),81940:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _styles=_interopRequireDefault(__webpack_require__(67111));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var themes={light:_styles["default"],dark:Object.assign({},_styles["default"],{dialog:_styles["default"].dialogDark,dismiss:_styles["default"].dismissDark,wrapper:_styles["default"].wrapperDark})};var _default=themes;exports["default"]=_default;}),61640:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=exports.SortableItem=exports.DragItem=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _core=__webpack_require__(79752);var _sortable=__webpack_require__(45587);var _utilities=__webpack_require__(24285);var _util=_interopRequireDefault(__webpack_require__(48161));var _excluded=["ItemComponent"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}
var DragItem=(0,_react.forwardRef)(function(_ref,ref){var ItemComponent=_ref.ItemComponent,props=_objectWithoutProperties(_ref,_excluded);return _react["default"].createElement(ItemComponent,_extends({},props,{ref:ref}));});exports.DragItem=DragItem;var ItemsList=function ItemsList(_ref2){var classNames=_ref2.classNames,children=_ref2.children;return classNames&&classNames.hasOwnProperty('container')?_react["default"].createElement("div",{className:classNames.container},children):children;};var SortableItem=function SortableItem(_ref3){var itemStyles=_ref3.itemStyles,hasDragHandle=_ref3.hasDragHandle,isActive=_ref3.isActive,isDisabled=_ref3.isDisabled,item=_ref3.item,ItemComponent=_ref3.ItemComponent,itemIndex=_ref3.itemIndex,itemProps=_ref3.itemProps;var _useSortable=(0,_sortable.useSortable)(Object.assign({id:item.id},isDisabled?{disabled:true}:{})),attributes=_useSortable.attributes,listeners=_useSortable.listeners,setNodeRef=_useSortable.setNodeRef,transform=_useSortable.transform,transition=_useSortable.transition;var style=Object.assign({transform:_utilities.CSS.Transform.toString(transform),transition:transition},isActive?{opacity:'50%'}:{});return hasDragHandle?_react["default"].createElement("div",{ref:setNodeRef,style:style,className:itemStyles},_react["default"].createElement(ItemComponent,_extends({attributes:attributes,itemIndex:itemIndex,item:item,listeners:listeners},itemProps))):_react["default"].createElement("div",_extends({ref:setNodeRef,style:style,className:itemStyles},attributes,listeners),_react["default"].createElement(ItemComponent,_extends({itemIndex:itemIndex,item:item},itemProps)));};exports.SortableItem=SortableItem;var DragAndDropList=function DragAndDropList(_ref4){var classNames=_ref4.classNames,dragEndCallback=_ref4.dragEndCallback,hasDragHandle=_ref4.hasDragHandle,items=_ref4.items,ItemComponent=_ref4.ItemComponent,sortingStrategy=_ref4.sortingStrategy,itemProps=_ref4.itemProps;var _useState=(0,_react.useState)(null),_useState2=_slicedToArray(_useState,2),activeId=_useState2[0],setActiveId=_useState2[1];var sensors=(0,_core.useSensors)((0,_core.useSensor)(_core.PointerSensor),(0,_core.useSensor)(_core.KeyboardSensor,{coordinateGetter:_sortable.sortableKeyboardCoordinates}));var handleDragStart=function handleDragStart(event){setActiveId(event.active.id);};var handleDragEnd=function handleDragEnd(event){var active=event.active,over=event.over;if(active.id===0||over.id===0)console.warn("A sortable list item with an ID of 0 detected. This is likely a result of mapping a sortable item's ID key to an index of 0.");if(active.id!==over.id){var oldIdx=items.findIndex(function(el){return el.id===active.id;});var newIdx=items.findIndex(function(el){return el.id===over.id;});dragEndCallback?dragEndCallback((0,_sortable.arrayMove)(items,oldIdx,newIdx)):(0,_sortable.arrayMove)(items,oldIdx,newIdx);}
setActiveId(null);};return _react["default"].createElement(_core.DndContext,{collisionDetection:_core.closestCenter,onDragEnd:function onDragEnd(e){return handleDragEnd(e);},onDragStart:function onDragStart(e){return handleDragStart(e);},sensors:sensors},_react["default"].createElement(_sortable.SortableContext,{items:items.map(function(item){return item.id;}),strategy:sortingStrategy},_react["default"].createElement(ItemsList,{classNames:classNames},items.map(function(item,i){return _react["default"].createElement(SortableItem,{key:item.id,hasDragHandle:hasDragHandle,isActive:activeId===item.id,item:item,ItemComponent:ItemComponent,itemIndex:i,itemProps:itemProps,itemStyles:classNames.item});}))),_react["default"].createElement(_core.DragOverlay,{className:_util["default"].boxShadow},activeId&&_react["default"].createElement(DragItem,_extends({item:items[items.findIndex(function(el){return el.id===activeId;})],ItemComponent:ItemComponent,itemIndex:0},itemProps))));};var _default=DragAndDropList;exports["default"]=_default;DragAndDropList.propTypes={ItemComponent:_propTypes["default"].func.isRequired,classNames:_propTypes["default"].shape({container:_propTypes["default"].string,item:_propTypes["default"].string}),dragEndCallback:_propTypes["default"].func,hasDragHandle:_propTypes["default"].bool,itemProps:_propTypes["default"].object,items:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]).isRequired})).isRequired,sortingStrategy:_propTypes["default"].func};DragAndDropList.defaultProps={dragEndCallback:null,classNames:{},hasDragHandle:false,itemProps:{},sortingStrategy:_sortable.verticalListSortingStrategy};}),12813:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lodash=_interopRequireDefault(__webpack_require__(93096));var _ring=_interopRequireDefault(__webpack_require__(49737));var _window=__webpack_require__(33852);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _infinite_scroll=_interopRequireDefault(__webpack_require__(37989));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var InfiniteScroll=function(_Component){_inherits(InfiniteScroll,_Component);var _super=_createSuper(InfiniteScroll);function InfiniteScroll(props){var _this;_classCallCheck(this,InfiniteScroll);_this=_super.call(this,props);_this.checkConditionsAndFetch=_this.checkConditionsAndFetch.bind(_assertThisInitialized(_this));_this.fetchMore=_this.fetchMore.bind(_assertThisInitialized(_this));_this.state={loading:false};_this._containerMount;_this._itemsContainer;_this._errorCounter=0;return _this;}
_createClass(InfiniteScroll,[{key:"componentDidMount",value:function componentDidMount(){this._containerMount=this.props.mountInContainer?document.querySelector(this.props.mountInContainer.querySelector)||window:window;this.throttledScroll=(0,_lodash["default"])(this.checkConditionsAndFetch,100);this._containerMount.addEventListener('scroll',this.throttledScroll);this.checkConditionsAndFetch();}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._containerMount.removeEventListener('scroll',this.throttledScroll);}},{key:"checkConditionsAndFetch",value:function checkConditionsAndFetch(){return this._shouldLoadMore()?this.fetchMore():Promise.resolve();}},{key:"fetchMore",value:function fetchMore(){var _this2=this;this.setState({loading:true});return this.props.fetchMore().then(function(){_this2.setState({loading:false},function(){return _this2._errorCounter=0;});_this2.checkConditionsAndFetch();})["catch"](function(err){(0,_error_handler["default"])('Scroll Error',err);_this2.setState({loading:false});_this2._errorCounter+=1;});}},{key:"_isThereRoomOnScreen",value:function _isThereRoomOnScreen(){if(!this._itemsContainer)return false;var containerBottom=this._itemsContainer.getBoundingClientRect().bottom;return(0,_window.windowInnerHeight)()+this.props.buffer>containerBottom;}},{key:"_shouldLoadMore",value:function _shouldLoadMore(){return!this.state.loading&&this._errorCounter<=5&&this.props.recordsCount<this.props.totalRecordsCount&&this._isThereRoomOnScreen();}},{key:"_getDefaultLoader",value:function _getDefaultLoader(styles){return _react["default"].createElement("div",{className:styles.loader},_react["default"].createElement(_ring["default"],{size:""})," ");}},{key:"_getLoader",value:function _getLoader(styles){return this.props.renderLoader?this.props.renderLoader(styles):this._getDefaultLoader(styles);}},{key:"render",value:function render(){var _this3=this;var styles=Object.assign({},_infinite_scroll["default"],this.props.classList);return _react["default"].createElement("div",{ref:function ref(el){return _this3._itemsContainer=el;},className:styles.container},this.props.children,this.state.loading&&this._getLoader(styles));}}]);return InfiniteScroll;}(_react.Component);InfiniteScroll.propTypes={buffer:_propTypes["default"].number,classList:_propTypes["default"].shape({container:_propTypes["default"].string,loader:_propTypes["default"].string}),fetchMore:_propTypes["default"].func.isRequired,mountInContainer:_propTypes["default"].shape({querySelector:_propTypes["default"].string.isRequired}),recordsCount:_propTypes["default"].number.isRequired,renderLoader:_propTypes["default"].func,totalRecordsCount:_propTypes["default"].number.isRequired};InfiniteScroll.defaultProps={buffer:200,classList:{},mountInContainer:null,renderLoader:null};var _default=InfiniteScroll;exports["default"]=_default;}),44322:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _MediaElement=_interopRequireDefault(__webpack_require__(94140));var _lazy_component=_interopRequireDefault(__webpack_require__(99171));var _requestTimeout=_interopRequireDefault(__webpack_require__(47030));var _helpers=__webpack_require__(90041);var _window=__webpack_require__(33852);var _lazy_image=_interopRequireDefault(__webpack_require__(79310));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var LazyImage=function(_Component){_inherits(LazyImage,_Component);var _super=_createSuper(LazyImage);function LazyImage(props){var _this;_classCallCheck(this,LazyImage);_this=_super.call(this,props);_this.state={initStyles:{height:(0,_helpers.getHeight)(props.ratio,props.width),width:props.width},fadeIn:false,format:null,src:''};_this.errorHandler=_this.errorHandler.bind(_assertThisInitialized(_this));_this.fetchImage=_this.fetchImage.bind(_assertThisInitialized(_this));_this.loadHandler=_this.loadHandler.bind(_assertThisInitialized(_this));_this._clearTimeout;_this._isMounted;return _this;}
_createClass(LazyImage,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this._clearTimeout)this._clearTimeout();this._isMounted=false;}},{key:"errorHandler",value:function errorHandler(err){if(this.state.format===_helpers.VIDEO){this._setStateIfMounted({format:_helpers.IMG});}else{this._setStateIfMounted({fadeIn:false,format:null,src:''});}}},{key:"fetchImage",value:function fetchImage(){var _this$props=this.props,fit=_this$props.fit,forceImg=_this$props.forceImg,queryParams=_this$props.queryParams,ratio=_this$props.ratio,src=_this$props.src,width=_this$props.width;var processed=(0,_helpers.processURL)({fit:fit,forceImg:forceImg,queryParams:Object.assign({},queryParams,{dpr:(0,_window.windowDPR)()}),ratio:ratio,src:src,width:width});this.setState({fetched:true,format:processed.format,src:processed.src});}},{key:"loadHandler",value:function loadHandler(){var _this2=this;this._clearTimeout=(0,_requestTimeout["default"])(function(){return _this2._revealImage();},17);}},{key:"_getStyle",value:function _getStyle(){return this.props.setStyle?this.state.initStyles:{};}},{key:"_revealImage",value:function _revealImage(){this._setStateIfMounted({fadeIn:true});this._clearTimeout=null;this.props.onLoad();}},{key:"_setStateIfMounted",value:function _setStateIfMounted(state,cb){if(this._isMounted){this.setState(state,cb);}}},{key:"render",value:function render(){var _this$props2=this.props,alt=_this$props2.alt,classList=_this$props2.classList,className=_this$props2.className,loadBuffer=_this$props2.loadBuffer,onClick=_this$props2.onClick,onMouseLeave=_this$props2.onMouseLeave,onMouseOver=_this$props2.onMouseOver;return _react["default"].createElement(_lazy_component["default"],{className:"".concat(className," ").concat(classList.root," ").concat(_lazy_image["default"].root),onClick:onClick,horizontalOffset:loadBuffer,onMouseLeave:onMouseLeave,onMouseOver:onMouseOver,onReveal:this.fetchImage,style:this._getStyle(),verticalOffset:loadBuffer},!!this.state.src&&_react["default"].createElement(_MediaElement["default"],{className:"".concat(_lazy_image["default"].image," ").concat(classList.image," ").concat(this.state.fadeIn?_lazy_image["default"].fadeIn:''),alt:alt,format:this.state.format,onError:this.errorHandler,onLoad:this.loadHandler,src:this.state.src}));}}]);return LazyImage;}(_react.Component);LazyImage.propTypes={alt:_propTypes["default"].string,captureScroll:_propTypes["default"].bool,classList:_propTypes["default"].shape({image:_propTypes["default"].string,wrapper:_propTypes["default"].string,root:_propTypes["default"].string}),className:_propTypes["default"].string,fit:_propTypes["default"].string,forceImg:_propTypes["default"].bool,loadBuffer:_propTypes["default"].number,onClick:_propTypes["default"].func,onLoad:_propTypes["default"].func,onMouseLeave:_propTypes["default"].func,onMouseOver:_propTypes["default"].func,queryParams:_propTypes["default"].object,ratio:_propTypes["default"].string.isRequired,setStyle:_propTypes["default"].bool,src:_propTypes["default"].string,width:_propTypes["default"].number.isRequired};LazyImage.defaultProps={alt:'',classList:{},className:'',loadBuffer:0,fit:'min',forceImg:false,onClick:function onClick(){},onLoad:function onLoad(){},onMouseLeave:function onMouseLeave(){},onMouseOver:function onMouseOver(){},queryParams:{},setStyle:true,src:''};var _default=LazyImage;exports["default"]=_default;}),24155:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactTransitionGroup=__webpack_require__(72165);var _Markdown=_interopRequireDefault(__webpack_require__(6654));var _transitions=_interopRequireDefault(__webpack_require__(14359));var _NewFeatureTooltip=_interopRequireDefault(__webpack_require__(82943));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DefaultView=function DefaultView(_ref){var arrowPosition=_ref.arrowPosition,containerStyle=_ref.containerStyle,closeMsg=_ref.closeMsg,handleClick=_ref.handleClick,isVisible=_ref.isVisible,msg=_ref.msg,position=_ref.position,showIcon=_ref.showIcon,title=_ref.title;return _react["default"].createElement(_reactTransitionGroup.CSSTransition,{classNames:_transitions["default"],timeout:250},_react["default"].createElement("div",null,isVisible&&_react["default"].createElement("div",{className:"".concat(_NewFeatureTooltip["default"].container," ").concat(position&&_NewFeatureTooltip["default"][position]),style:containerStyle},arrowPosition!==null&&position!==null&&_react["default"].createElement("div",{className:_NewFeatureTooltip["default"].arrow,style:{left:arrowPosition}}),_react["default"].createElement("div",{className:_NewFeatureTooltip["default"].inner},_react["default"].createElement("div",{className:_NewFeatureTooltip["default"].msg},showIcon===true&&_react["default"].createElement("i",{className:"fa fa-bullhorn"}),title&&_react["default"].createElement("h4",null,title),_react["default"].createElement("div",{dangerouslySetInnerHTML:{__html:_Markdown["default"].render(msg)}})),_react["default"].createElement("button",{className:_NewFeatureTooltip["default"].dismissBtn,onClick:handleClick},_react["default"].createElement("span",null,closeMsg))))));};DefaultView.propTypes={arrowPosition:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]),closeMsg:_propTypes["default"].string,containerStyle:_propTypes["default"].shape({}),handleClick:_propTypes["default"].func.isRequired,isVisible:_propTypes["default"].bool.isRequired,msg:_propTypes["default"].string,position:_propTypes["default"].string,showIcon:_propTypes["default"].bool,title:_propTypes["default"].string};DefaultView.defaultProps={};var _default=DefaultView;exports["default"]=_default;}),72993:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _DefaultView=_interopRequireDefault(__webpack_require__(24155));var _sticky_footer=_interopRequireDefault(__webpack_require__(84870));var _main=_interopRequireDefault(__webpack_require__(85061));var _store=_interopRequireDefault(__webpack_require__(26670));var _tooltips=_interopRequireDefault(__webpack_require__(97449));var _error_handler=_interopRequireDefault(__webpack_require__(84616));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var NewFeatureTooltip=function(_Component){_inherits(NewFeatureTooltip,_Component);var _super=_createSuper(NewFeatureTooltip);function NewFeatureTooltip(props){var _this;_classCallCheck(this,NewFeatureTooltip);_this=_super.call(this,props);_this.state={isVisible:true,config:_this._initConfig()};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this;}
_createClass(NewFeatureTooltip,[{key:"_initConfig",value:function _initConfig(){var tooltipDef=(0,_store["default"])(this.props.id);return{arrowPosition:tooltipDef.arrowPosition,containerStyle:tooltipDef.containerStyle||{},closeMsg:tooltipDef.closeMsg||'OK got it',msg:tooltipDef.msg||'',position:tooltipDef.position,showIcon:tooltipDef.showIcon,title:tooltipDef.title,view:tooltipDef.view||'default'};}},{key:"handleClick",value:function handleClick(){if(this.state.isVisible===false)return;this.setState({isVisible:false});(0,_tooltips["default"])(this.props.id).then(function(res){return _main["default"].recordEvent({eventName:'Dismissed tooltip'});})["catch"](function(err){(0,_error_handler["default"])('setTooltipAsViewed Error: ',err);});}},{key:"_getViewForType",value:function _getViewForType(){switch(this.state.config.view){case 'custom':return _react["default"].createElement(this.props.customView,{handleClick:this.handleClick,isVisible:this.state.isVisible});case 'StickyFooter':return this._renderStickyFooterView();default:return this._renderDefaultView();}}},{key:"_renderStickyFooterView",value:function _renderStickyFooterView(){return _react["default"].createElement(_sticky_footer["default"],_extends({},this.state.config,{handleClick:this.handleClick,isVisible:this.state.isVisible}));}},{key:"_renderDefaultView",value:function _renderDefaultView(){return _react["default"].createElement(_DefaultView["default"],_extends({},this.state.config,{handleClick:this.handleClick,isVisible:this.state.isVisible}));}},{key:"render",value:function render(){return this._getViewForType();}}]);return NewFeatureTooltip;}(_react.Component);NewFeatureTooltip.propTypes={customView:_propTypes["default"].oneOfType([_propTypes["default"].element,_propTypes["default"].func]),id:_propTypes["default"].number.isRequired};NewFeatureTooltip.defaultProps={customView:null};var _default=NewFeatureTooltip;exports["default"]=_default;}),34929:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _social_icons=_interopRequireDefault(__webpack_require__(8760));var _main=_interopRequireDefault(__webpack_require__(85061));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _sticky_footer=_interopRequireDefault(__webpack_require__(19709));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var handleSocialClick=function handleSocialClick(_ref){var delayRedirect=_ref.delayRedirect,e=_ref.e,type=_ref.type,value=_ref.value;_main["default"].recordLinkClick({},{location:'Welcome footer',type:type,value:value},delayRedirect,e);};var SocialFooterView=function SocialFooterView(){return _react["default"].createElement("div",{className:_layout["default"].flexJustifyCenter},_react["default"].createElement("div",{className:_sticky_footer["default"].socialFooterBodyWrapper},_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyL," ").concat(_sticky_footer["default"].socialFooterBody)},_react["default"].createElement("strong",{className:_layout["default"].marginRight10},"Welcome to Hackster!"),_react["default"].createElement("span",null,"Be sure to follow us to stay up to date with the latest news & projects.")),_react["default"].createElement(_social_icons["default"],{className:_sticky_footer["default"].socialList,trackLinkClick:handleSocialClick})));};var _default=SocialFooterView;exports["default"]=_default;}),84870:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactTransitionGroup=__webpack_require__(72165);var _Markdown=_interopRequireDefault(__webpack_require__(6654));var _icon=_interopRequireDefault(__webpack_require__(44509));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _sticky_footer=_interopRequireDefault(__webpack_require__(19709));var _transitions=_interopRequireDefault(__webpack_require__(14359));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
var renderMsgType=function renderMsgType(){var msg=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var props=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};switch(_typeof(msg)){case 'function':return msg(props);case 'string':return _react["default"].createElement("div",{dangerouslySetInnerHTML:{__html:_Markdown["default"].render(msg)}});default:return null;}};var StickyFooterView=function StickyFooterView(_ref){var handleClick=_ref.handleClick,isVisible=_ref.isVisible,msg=_ref.msg;return _react["default"].createElement(_reactTransitionGroup.CSSTransition,{classNames:_transitions["default"],timeout:250},_react["default"].createElement("div",null,isVisible&&_react["default"].createElement("div",{className:_sticky_footer["default"].root},_react["default"].createElement("div",{className:_sticky_footer["default"].bodyWrapper},renderMsgType(msg)),_react["default"].createElement("button",{className:"".concat(_buttons["default"].blank," ").concat(_sticky_footer["default"].closeBtn),onClick:handleClick},_react["default"].createElement(_icon["default"],{name:"close"})))));};StickyFooterView.propTypes={handleClick:_propTypes["default"].func.isRequired,isVisible:_propTypes["default"].bool.isRequired,msg:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].element,_propTypes["default"].func]).isRequired};var _default=StickyFooterView;exports["default"]=_default;}),26670:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _SocialFooterView=_interopRequireDefault(__webpack_require__(34929));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _default=function _default(id){return{1:{arrowPosition:30,containerStyle:{marginBottom:6},msg:"Share cool stuff or ask for help by using our new Post feature. All posts are public. Click below to get started!",position:'top',showIcon:true,title:'Share with the community!'},2:{arrowPosition:'calc(100% - 32px)',containerStyle:{marginTop:-6},msg:'Switch between your personal feed - posts from people and communities you follow - and global - posts from everyone in the Hackster community.',position:'bottom'},3:{arrowPosition:30,containerStyle:{marginBottom:6},msg:"You can now share directly with members of community hubs! Try sharing something cool or asking a question below.",position:'top',showIcon:true},4:{closeMsg:'Close',containerStyle:{marginBottom:20},msg:"Would you like to become a beta tester for Hackster and preview new features before everyone else? Apply here: https://goo.gl/forms/tfOAkQFBiZVITT792"},5:{arrowPosition:195,containerStyle:{marginBottom:6},position:'top',showIcon:true,msg:"We've changed the tag system to make it more useful. We want tags to become a convenient way to browse projects that are related by topic. For this reason, we've started consolidating tags into broader categories as well as restricting which tags can be used. If you're a power contributor on Hackster.io with over 1,000 reputation points, you have the ability to create your own tags. Use this wisely!\n\nLearn more: http://help.hackster.io/knowledgebase/posting-a-project/learn-more-about-tags\n\nPlease let us know what you think on hackster.io/feedback!",title:"Tags have changed!"},6:{containerStyle:{marginBottom:20},showIcon:true,msg:"It's never fun when your computer crashes and you lose hours of work. For that reason, we're now auto-saving your story as you type. Note that your updates go live immediately. If you'd prefer not to auto-save, for instance if you're updating a published project, you can toggle off auto-saving in the right sidebar.\n\nPlease let us know what you think on hackster.io/feedback!",title:"We've added auto-save to the editor!"},7:{},8:{msg:_SocialFooterView["default"],view:'StickyFooter'},9:{},10:{view:'custom'},11:{containerStyle:{margin:'15px auto 0',maxWidth:1170,paddingTop:0},msg:"We've updated our Privacy Policy to include a description of additional rights granted to California residents under the California Consumer Privacy Act (CCPA). [More info](/privacy/ccpa)"}}[id];};exports["default"]=_default;}),47309:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lodash=_interopRequireDefault(__webpack_require__(93096));var _reactTransitionGroup=__webpack_require__(72165);var _PopoverArrow=_interopRequireDefault(__webpack_require__(64095));var _getPosition2=__webpack_require__(57745);var _document=__webpack_require__(26208);var _colors=_interopRequireDefault(__webpack_require__(5941));var _transitions=_interopRequireDefault(__webpack_require__(19156));var _popover=_interopRequireDefault(__webpack_require__(77350));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
function getArrowDirection(popoverPosition){return{right:'left',left:'right',top:'bottom',bottom:'top'}[popoverPosition];}
var defaultState={adjustments:{targetOffset:20},arrowDirection:getArrowDirection('bottom'),arrowStyles:{},bodyStyles:{},component:null,position:'bottom',show:false,uuid:null};var GlobalPopover=function(_Component){_inherits(GlobalPopover,_Component);var _super=_createSuper(GlobalPopover);function GlobalPopover(props){var _this;_classCallCheck(this,GlobalPopover);_this=_super.call(this,props);_this.state=defaultState;_this.getPopupPosition=_this.getPopupPosition.bind(_assertThisInitialized(_this));_this.handleGlobalCloseEvent=_this.handleGlobalCloseEvent.bind(_assertThisInitialized(_this));_this.handleGlobalOpenEvent=_this.handleGlobalOpenEvent.bind(_assertThisInitialized(_this));_this.handleResize=_this.handleResize.bind(_assertThisInitialized(_this));_this.onMouseEnter=_this.onMouseEnter.bind(_assertThisInitialized(_this));_this.onMouseLeave=_this.onMouseLeave.bind(_assertThisInitialized(_this));_this.popover;_this._isMounted=false;_this._popoverHovered=false;_this._target=null;return _this;}
_createClass(GlobalPopover,[{key:"componentDidMount",value:function componentDidMount(){this.throttledScroll=(0,_lodash["default"])(this.handleScroll,1000).bind(this);window.addEventListener('scroll',this.throttledScroll);window.addEventListener('resize',this.handleResize);window.addEventListener('open:GlobalPopover',this.handleGlobalOpenEvent);window.addEventListener('close:GlobalPopover',this.handleGlobalCloseEvent);this._isMounted=true;}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener('scroll',this.throttledScroll);window.removeEventListener('resize',this.handleResize);window.removeEventListener('open:GlobalPopover',this.handleGlobalOpenEvent);window.removeEventListener('close:GlobalPopover',this.handleGlobalCloseEvent);this._isMounted=false;this._target=null;}},{key:"getPopupPosition",value:function getPopupPosition(){if(!this.popover||this._target===null||!(0,_document.isDomElement)(this._target))return;var _getPosition=(0,_getPosition2.getPosition)(this.state.position,this._target.getBoundingClientRect(),this.popover.getBoundingClientRect(),this.state.adjustments),adjustedArrowDirection=_getPosition.adjustedArrowDirection,arrowStyles=_getPosition.arrowStyles,bodyStyles=_getPosition.bodyStyles;var arrowDirection=adjustedArrowDirection||getArrowDirection(this.state.position);this.setState({arrowDirection:arrowDirection,arrowStyles:arrowStyles,bodyStyles:bodyStyles});}},{key:"handleGlobalOpenEvent",value:function handleGlobalOpenEvent(e){var _this2=this;var _e$detail=e.detail,adjustments=_e$detail.adjustments,component=_e$detail.component,position=_e$detail.position,target=_e$detail.target,uuid=_e$detail.uuid;if((0,_document.isDomElement)(target)&&this._shouldRender()){this._target=target;this.setState({adjustments:adjustments,component:component,position:position,uuid:uuid,arrowDirection:getArrowDirection(position),show:true},function(){return _this2._waitForRef();});}}},{key:"_shouldRender",value:function _shouldRender(){return window.innerWidth>this.props.hideAtScreenWidth;}},{key:"_waitForRef",value:function _waitForRef(){var _this3=this;var loop=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(!this.popover&&loop<=100){setTimeout(function(){return _this3._waitForRef(loop+10);},10);}else{this.getPopupPosition();}}},{key:"handleGlobalCloseEvent",value:function handleGlobalCloseEvent(e){this._delayedDismiss();}},{key:"_delayedDismiss",value:function _delayedDismiss(){var _this4=this;setTimeout(function(){if(_this4._isMounted&&_this4._target!==null&&_this4._popoverHovered===false){_this4.setState(Object.assign({},defaultState,{position:_this4.state.position}));_this4._target=null;}},100);}},{key:"handleResize",value:function handleResize(){this.getPopupPosition();}},{key:"handleScroll",value:function handleScroll(){if(this._target!==null){this._delayedDismiss();}}},{key:"onMouseEnter",value:function onMouseEnter(e){this._popoverHovered=true;}},{key:"onMouseLeave",value:function onMouseLeave(){this._popoverHovered=false;this._delayedDismiss();}},{key:"render",value:function render(){var _this5=this;return _react["default"].createElement(_reactTransitionGroup.TransitionGroup,null,this.state.show&&_react["default"].createElement(_reactTransitionGroup.CSSTransition,{classNames:_transitions["default"],timeout:250},_react["default"].createElement("div",{ref:function ref(el){return _this5.popover=el;},key:this.state.uuid,style:this.state.bodyStyles,className:_popover["default"].root,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.state.component,this.state.component&&_react["default"].createElement(_PopoverArrow["default"],{borderColor:_colors["default"]['v-asphalt'],color:"white",direction:this.state.arrowDirection,style:this.state.arrowStyles}))));}}]);return GlobalPopover;}(_react.Component);GlobalPopover.propTypes={hideAtScreenWidth:_propTypes["default"].number};GlobalPopover.defaultProps={hideAtScreenWidth:1100};var _default=GlobalPopover;exports["default"]=_default;}),64095:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.ARROW_SIZE=exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ROOT_2=Math.sqrt(2);var ARROW_ANGLE_ADJUSTMENT=2;var BASE_SIZE=10;var ARROW_SIZE=BASE_SIZE+ROOT_2;exports.ARROW_SIZE=ARROW_SIZE;var PopoverArrow=function PopoverArrow(props){var landscape=props.direction==='top'||props.direction==='bottom';var mirror=props.direction==='left'||props.direction==='top';var borderDiagonal=props.borderWidth*ROOT_2;var halfBorderDiagonal=borderDiagonal/2;var primary=BASE_SIZE+borderDiagonal;var secondary=2*BASE_SIZE+2*borderDiagonal;var primaryStart=mirror?primary:0;var primaryEnd=mirror?halfBorderDiagonal:primary-halfBorderDiagonal;var secondaryStart=halfBorderDiagonal;var secondaryMiddle=secondary/2;var secondaryEnd=secondary-halfBorderDiagonal;var pathData=landscape?['M',secondaryStart,primaryStart,'L',secondaryMiddle,primaryEnd,'L',secondaryEnd,primaryStart]:['M',primaryStart,secondaryStart+ARROW_ANGLE_ADJUSTMENT,'L',primaryEnd,secondaryMiddle,'L',primaryStart,secondaryEnd-ARROW_ANGLE_ADJUSTMENT];return _react["default"].createElement("svg",{style:Object.assign({position:'absolute'},props.style),className:props.classList,height:landscape?primary:secondary,width:landscape?secondary:primary,xmlns:"http://www.w3.org/svg/2000"},_react["default"].createElement("path",{d:pathData.join(' '),fill:props.color,stroke:props.borderColor,strokeWidth:props.borderWidth,strokeLinecap:"square"}));};PopoverArrow.propTypes={borderColor:_propTypes["default"].string,borderWidth:_propTypes["default"].number,classList:_propTypes["default"].string,color:_propTypes["default"].string.isRequired,direction:_propTypes["default"].oneOf(['top','right','bottom','left']).isRequired,style:_propTypes["default"].object};PopoverArrow.defaultProps={borderWidth:1,borderColor:'transparent',classList:'',style:{}};var _default=PopoverArrow;exports["default"]=_default;}),57745:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);Object.defineProperty(exports,"__esModule",({value:true}));exports.getPosition=getPosition;exports.REPOSITION_OFFSET=exports.ARROW_ADJUSTMENT=void 0;var _PopoverArrow=__webpack_require__(64095);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var ARROW_ADJUSTMENT=1;exports.ARROW_ADJUSTMENT=ARROW_ADJUSTMENT;var REPOSITION_OFFSET=5;exports.REPOSITION_OFFSET=REPOSITION_OFFSET;function composePositionObject(domRect){var top=domRect.top,bottom=domRect.bottom,left=domRect.left,right=domRect.right;var width=getElementWidth(left,right);var height=getElementHeight(top,bottom);return{top:top+window.pageYOffset,bottom:bottom+window.pageYOffset,left:left+window.pageXOffset,right:right+window.pageXOffset,width:width,height:height};}
function getAdjustedPosition(alignment,targetPositionObj,popoverDimensions,styles){var adjustmentProps=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};var bodyStyles=styles.bodyStyles,arrowStyles=styles.arrowStyles;var axis=alignment==='left'||alignment==='right'?'vertical':'horizontal';var adjustments=repositionAdjustments(bodyStyles,popoverDimensions)[axis];var rules=repositionRules(bodyStyles,popoverDimensions)[axis];var adjustedBodyStyles={};var adjustedArrowStyles={};var adjustedArrowDirection;switch(axis){case 'vertical':var _rules$popoverOutOf=rules['popover-out-of-view'](),obVerticalTop=_rules$popoverOutOf.obVerticalTop,obVerticalBottom=_rules$popoverOutOf.obVerticalBottom;adjustedBodyStyles=obVerticalTop?{top:adjustments['reposition-popover-down']()}:obVerticalBottom?{top:adjustments['reposition-popover-up']()}:{};var arrowAdjustment=adjustments['recenter-arrow'](adjustedBodyStyles,targetPositionObj);rules['will-arrow-fit-on-popover'](arrowAdjustment,popoverDimensions)?adjustedArrowStyles.top=arrowAdjustment:adjustedBodyStyles.top=bodyStyles.top;break;case 'horizontal':var _rules$popoverOutOf2=rules['popover-out-of-view'](),obHorizontalTop=_rules$popoverOutOf2.obHorizontalTop,obHorizontalBottom=_rules$popoverOutOf2.obHorizontalBottom;var flip={};if(obHorizontalBottom){flip=adjustments['flip-popover-up'](targetPositionObj,adjustmentProps);adjustedArrowDirection='bottom';}else if(obHorizontalTop){flip=adjustments['flip-popover-down'](targetPositionObj,adjustmentProps);adjustedArrowDirection='top';}
adjustedBodyStyles=flip.bodyStyles||{};adjustedArrowStyles=flip.arrowStyles||{};break;default:console.warn('axis value should always be horizontal or vertical. Somehow got:',axis);}
var newArrowDirection=adjustedArrowDirection?{adjustedArrowDirection:adjustedArrowDirection}:{};return Object.assign({bodyStyles:Object.assign({},bodyStyles,adjustedBodyStyles),arrowStyles:Object.assign({},arrowStyles,adjustedArrowStyles)},newArrowDirection);}
function getElementHeight(top,bottom){return bottom-top;}
function getElementWidth(left,right){return right-left;}
function getStyles(){var alignment=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var targetPositions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var popoverDimensions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var adjustmentProps=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var _top=targetPositions.top,_right=targetPositions.right,_left=targetPositions.left,width=targetPositions.width,height=targetPositions.height;var popoverOffsetVertical=adjustmentProps.popoverOffsetVertical||0;var targetOffset=adjustmentProps.targetOffset||0;var styles={top:function top(){return{bodyStyles:{top:_top-popoverDimensions.height-targetOffset,left:_left-(popoverDimensions.width-width)/2},arrowStyles:{top:popoverDimensions.height-ARROW_ADJUSTMENT-1,left:popoverDimensions.width/2-_PopoverArrow.ARROW_SIZE-ARROW_ADJUSTMENT}};},right:function right(){return{bodyStyles:{top:_top+popoverOffsetVertical,left:_right+targetOffset},arrowStyles:{top:height/2-_PopoverArrow.ARROW_SIZE-popoverOffsetVertical,left:-_PopoverArrow.ARROW_SIZE}};},bottom:function bottom(){return{bodyStyles:{top:_top+height+targetOffset,left:_left-(popoverDimensions.width-width)/2},arrowStyles:{top:-_PopoverArrow.ARROW_SIZE,left:popoverDimensions.width/2-_PopoverArrow.ARROW_SIZE-ARROW_ADJUSTMENT}};},left:function left(){return{bodyStyles:{top:_top+popoverOffsetVertical,left:_left-popoverDimensions.width-targetOffset},arrowStyles:{top:height/2-_PopoverArrow.ARROW_SIZE-popoverOffsetVertical,left:popoverDimensions.width-(ARROW_ADJUSTMENT+1)}};}};return styles[alignment]();}
function getViewportBoundaries(){return{top:window.pageYOffset,right:window.innerWidth+window.pageXOffset,bottom:window.innerHeight+window.pageYOffset,left:window.pageXOffset};}
function repositionAdjustments(bodyStyles,popoverDimensions){var _vertical,_horizontal;var view=getViewportBoundaries();var popoverBottom=bodyStyles.top+popoverDimensions.height;return{vertical:(_vertical={},_defineProperty(_vertical,'reposition-popover-up',function repositionPopoverUp(){return bodyStyles.top-(popoverBottom-view.bottom+REPOSITION_OFFSET);}),_defineProperty(_vertical,'reposition-popover-down',function repositionPopoverDown(){return bodyStyles.top+(view.top-bodyStyles.top+REPOSITION_OFFSET);}),_defineProperty(_vertical,'recenter-arrow',function recenterArrow(adjustedBodyStyles,targetPositionObj){return targetPositionObj.top+targetPositionObj.height/2-adjustedBodyStyles.top-_PopoverArrow.ARROW_SIZE;}),_vertical),horizontal:(_horizontal={},_defineProperty(_horizontal,'flip-popover-up',function flipPopoverUp(targetPositions,adjustmentProps){return getStyles('top',targetPositions,popoverDimensions,adjustmentProps);}),_defineProperty(_horizontal,'flip-popover-down',function flipPopoverDown(targetPositions,adjustmentProps){return getStyles('bottom',targetPositions,popoverDimensions,adjustmentProps);}),_horizontal)};}
function repositionRules(bodyStyles,popoverDimensions){var _vertical2;var view=getViewportBoundaries();var popoverBottom=bodyStyles.top+popoverDimensions.height;return{vertical:(_vertical2={},_defineProperty(_vertical2,'popover-out-of-view',function popoverOutOfView(){return{obVerticalTop:bodyStyles.top<view.top,obVerticalBottom:popoverBottom>view.bottom};}),_defineProperty(_vertical2,'will-arrow-fit-on-popover',function willArrowFitOnPopover(arrowTop,popoverDimensions){var cutoffOffset=3;var arrowBottom=arrowTop+_PopoverArrow.ARROW_SIZE*2;return arrowBottom+cutoffOffset<popoverDimensions.height&&arrowTop-cutoffOffset>0;}),_vertical2),horizontal:_defineProperty({},'popover-out-of-view',function popoverOutOfView(){return{obHorizontalTop:bodyStyles.top<view.top,obHorizontalBottom:popoverBottom>view.bottom};})};}
function getPosition(alignment){var targetPosition=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var popoverDimensions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var adjustmentProps=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var targetPositionObj=composePositionObject(targetPosition);var styles=getStyles(alignment,targetPositionObj,popoverDimensions,adjustmentProps);return getAdjustedPosition(alignment,targetPositionObj,popoverDimensions,styles,adjustmentProps);};}),48067:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ErrorPage=function ErrorPage(_ref){var basePath=_ref.basePath,history=_ref.history,transition=_ref.transition;return _react["default"].createElement("div",{style:{padding:'10%',textAlign:'center'}},_react["default"].createElement("h1",null,'Sorry, this page does not exist'),history.length>1&&_react["default"].createElement("a",{href:"javascript:void(0);",onClick:function onClick(e){e.preventDefault();history.goBack();}},'Go back to the previous page'),history.length>1&&_react["default"].createElement("span",null,' or '),_react["default"].createElement("a",{href:"javascript:void(0);",onClick:function onClick(e){e.preventDefault();transition(history,'/');}},"Go to ".concat(basePath.slice(1).slice(0,1).toUpperCase()).concat(basePath.slice(2))));};ErrorPage.propTypes={basePath:_propTypes["default"].string.isRequired,history:_propTypes["default"].object.isRequired,transition:_propTypes["default"].func.isRequired};var _default=ErrorPage;exports["default"]=_default;}),97107:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactTransitionGroup=__webpack_require__(72165);var _events=__webpack_require__(64770);var _link_transitions=_interopRequireDefault(__webpack_require__(90123));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Link=function(_Component){_inherits(Link,_Component);var _super=_createSuper(Link);function Link(props){var _this;_classCallCheck(this,Link);_this=_super.call(this,props);_this.close=_this.close.bind(_assertThisInitialized(_this));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.onMouseLeave=_this.onMouseLeave.bind(_assertThisInitialized(_this));_this.state={menuFocused:false,showChildren:false};return _this;}
_createClass(Link,[{key:"close",value:function close(e){e.stopPropagation();this.setState({menuFocused:false,showChildren:false});}},{key:"handleClick",value:function handleClick(e){if(!(this.props.redirect||(0,_events.clickEventHasModifierKey)(e))){e.preventDefault();this.props.onClick(this.props.links.internal||this.props.href);}}},{key:"onMouseLeave",value:function onMouseLeave(){var fromChild=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(fromChild&&this.state.menuFocused){this.setState({menuFocused:false});}else if(this.state.showChildren){this.setState({showChildren:false});}}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,children=_this$props.children,classList=_this$props.classList,href=_this$props.href,links=_this$props.links,name=_this$props.name,zIndex=_this$props.zIndex;var _links$external=links.external,external=_links$external===void 0?href:_links$external;return _react["default"].createElement("div",{className:classList.root,onMouseEnter:function onMouseEnter(){if(children&&!_this2.state.showChildren)_this2.setState({showChildren:true});},onMouseLeave:function onMouseLeave(){if(children&&_this2.state.showChildren)_this2.onMouseLeave();}},_react["default"].createElement("a",{className:classList.anchor,href:external,onClick:this.handleClick},name),this.props.children&&_react["default"].createElement(_reactTransitionGroup.CSSTransition,{classNames:_link_transitions["default"],timeout:{enter:500,exit:300}},_react["default"].createElement("div",null,this.state.showChildren&&_react["default"].createElement("div",{style:{position:'absolute',zIndex:zIndex},onClick:function onClick(e){return _this2.close(e);},onMouseEnter:function onMouseEnter(){return _this2.setState({menuFocused:true});},onMouseLeave:function onMouseLeave(){return _this2.onMouseLeave(true);}},children))));}}]);return Link;}(_react.Component);Link.propTypes={classList:_propTypes["default"].shape({anchor:_propTypes["default"].string,root:_propTypes["default"].string}),href:_propTypes["default"].string.isRequired,links:_propTypes["default"].shape({internal:_propTypes["default"].string,external:_propTypes["default"].string}),name:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].element]).isRequired,onClick:_propTypes["default"].func.isRequired,redirect:_propTypes["default"].bool,zIndex:_propTypes["default"].number};Link.defaultProps={classList:{anchor:'',root:''},links:{},redirect:false,zIndex:1000};var _default=Link;exports["default"]=_default;}),85292:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Loader=function Loader(props){return _react["default"].createElement("div",{style:{padding:'10%',textAlign:'center'}},_react["default"].createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-3x"}));};var _default=Loader;exports["default"]=_default;}),69382:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Loader=_interopRequireDefault(__webpack_require__(85292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Route=function(_Component){_inherits(Route,_Component);var _super=_createSuper(Route);function Route(props){var _this;_classCallCheck(this,Route);_this=_super.call(this,props);_this.fetchState=_this.fetchState.bind(_assertThisInitialized(_this));_this.state={working:true};return _this;}
_createClass(Route,[{key:"componentDidMount",value:function componentDidMount(){this.fetchState(this.props);}},{key:"UNSAFE_componentWillUpdate",value:function UNSAFE_componentWillUpdate(nextProps){if(nextProps.path!==this.props.path){if(this.state.working)this.setState({working:false});this.fetchState(nextProps);}}},{key:"fetchState",value:function fetchState(props){var _this2=this;var store=props.store,path=props.path,request=props.request;if(request&&typeof request==='function'&&!store.has(path)){this.setState({working:true});return store.dispatch(request,path).then(function(){return _this2.setState({working:false});})["catch"](function(){return _this2.setState({working:false});});}else{this.setState({working:false});}}},{key:"render",value:function render(){var storeData=this.props.store.has(this.props.path)?this.props.store.get(this.props.path):{};var waitForProps=this.props.request&&typeof this.props.request==='function'&&!this.props.store.has(this.props.path);return _react["default"].createElement("div",null,waitForProps||this.state.working?_react["default"].createElement(_Loader["default"],null):_react["default"].createElement(this.props.component,Object.assign({},this.props.routerProps,storeData,{history:this.props.history,key:this.props.path,path:this.props.path,setMessage:this.props.setMessage,store:this.props.store})));}}]);return Route;}(_react.Component);Route.propTypes={component:_propTypes["default"].func.isRequired,history:_propTypes["default"].object,path:_propTypes["default"].string.isRequired,request:_propTypes["default"].func,routerProps:_propTypes["default"].object,setMessage:_propTypes["default"].func,store:_propTypes["default"].object};Route.defaultProps={history:{},request:null,routerProps:{},setMessage:function setMessage(){},store:{}};var _default=Route;exports["default"]=_default;}),67200:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function getRecordFromList(list,key){return Array.isArray(key)?list.find(function(item){return item[key[0]]===key[1];}):new Error("Expected next in path to be a [key: value] list! Key: ".concat(key));}
function removeFromList(list,key){return list.filter(function(item){return item[key[0]]!==key[1];});}
function updateList(list,key,record){var found=false;return list.reduce(function(acc,item,i){if(i===list.length-1&&item[key[0]]!==key[1]&&!found){return acc.concat(record);}else if(item[key[0]]===key[1]){found=true;return acc.concat(Object.assign({},item,record));}else{return acc.concat(item);}},[]);}
var Store=function(){function Store(){_classCallCheck(this,Store);this.previous={};this.store={};}
_createClass(Store,[{key:"delete",value:function _delete(key){var bucket=this.store[key];if(this.store[key]){this.previous[key]=bucket;delete this.store[key];return bucket;}else{return new Error('Resource is not in store!');}}},{key:"deleteIn",value:function deleteIn(path){var _this=this;return path.reduce(function(acc,key,i){if(typeof acc==='error')return acc;if(Array.isArray(acc)){if(i===path.length-1){acc=removeFromList(acc,key);_this.updateRecords(path.slice(0,-1),acc);}else{acc=getRecordFromList(acc,key);}}else if(i!==path.length-1&&!acc[key]){acc=new Error("Incorrect path for setIn! Path: ".concat(path));}else if(i===path.length-1){delete acc[key];}else{acc=acc[key];}
return acc;},this.store);}},{key:"dispatch",value:function dispatch(request,key){var _this2=this;var refetch=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return new Promise(function(resolve,reject){if(_this2.has(key)&&refetch===false)return resolve(_this2.get(key));return request().then(function(result){_this2.set(key,result);return resolve(result);})["catch"](function(err){return reject(err);});});}},{key:"get",value:function get(key){return this.store[key];}},{key:"getIn",value:function getIn(path){if(!Array.isArray(path))return new Error("getIn argument must be an array!  Arg: ".concat(path));return path.reduce(function(acc,key){if(typeof acc==='error')return acc;if(Array.isArray(acc)){acc=getRecordFromList(acc,key);}else if(acc[key]){acc=acc[key];}else{acc=new Error("Incorrect path for getIn! Path: ".concat(path,", Key: ").concat(key));}
return acc;},this.store);}},{key:"getPrevious",value:function getPrevious(key){return this.previous[key];}},{key:"getStore",value:function getStore(){return this.store;}},{key:"has",value:function has(key){return this.store.hasOwnProperty(key);}},{key:"hasIn",value:function hasIn(path){if(!Array.isArray(path))return new Error("hasIn argument must be an array!  Arg: ".concat(path));var hasIn=true;path.reduce(function(acc,key){if(!hasIn)return acc;if(Array.isArray(acc)){var record=getRecordFromList(acc,key);if(typeof record!=='error'&&typeof record!=='undefined'){acc=record;}else{hasIn=false;}}else if(acc[key]){acc=acc[key];}else{hasIn=false;}
return acc;},this.store);return hasIn;}},{key:"set",value:function set(key,value){if(this.has(key)){this.previous[key]=this.store[key];}
this.store[key]=value;return this.store;}},{key:"setAll",value:function setAll(obj){this.store=Object.assign({},this.store,obj);return this.store;}},{key:"setIn",value:function setIn(path,record){var _this3=this;return path.reduce(function(acc,key,i){if(typeof acc==='error')return acc;if(Array.isArray(acc)){if(i===path.length-1){acc=updateList(acc,key,record);_this3.updateRecords(path.slice(0,-1),acc);}else{acc=getRecordFromList(acc,key);}}else if(i!==path.length-1&&!acc[key]){acc=new Error("Incorrect path for setIn! Path: ".concat(path));}else if(i===path.length-1){acc[key]=record;}else{acc=acc[key];}
return acc;},this.store);}},{key:"updateRecords",value:function updateRecords(path,records){path.reduce(function(acc,key,i){if(i===path.length-1){acc[key]=records;}else{acc=acc[key];}
return acc;},this.store);}}]);return Store;}();exports["default"]=Store;}),58886:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.arePathsEqual=arePathsEqual;exports.cleanPreAndPostSlashes=cleanPreAndPostSlashes;exports.getPath=getPath;exports.transition=transition;exports.transitionWithSearch=transitionWithSearch;exports["default"]=createHistory;exports.createSimpleHistory=createSimpleHistory;var _history=__webpack_require__(13821);var _urls=__webpack_require__(13380);var _window=__webpack_require__(33852);function supportsHistory(){var ua=window.navigator.userAgent;if((ua.indexOf('Android 2.')!==-1||ua.indexOf('Android 4.0')!==-1)&&ua.indexOf('Mobile Safari')!==-1&&ua.indexOf('Chrome')===-1&&ua.indexOf('Windows Phone')===-1)return false;return window.history&&'pushState'in window.history;}
function arePathsEqual(configPath,realPath){var realPathParts=cleanPreAndPostSlashes(realPath).split('/');var configPathParts=cleanPreAndPostSlashes(configPath).split('/');if(realPathParts.length!==configPathParts.length){return false;}
var isEqual=true;configPathParts.forEach(function(path,i,list){if(isEqual===false)return;if(path==='*'||path===realPathParts[i]){isEqual=true;}else{isEqual=false;}});return isEqual;}
function getMemoryHistoryEntriesFromBasePath(){var basePath=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var fullPath=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';if(_window.isWindowDefined&&window.location){return[cleanPreAndPostSlashes(window.location.pathname.slice(basePath.length))];}else{var params=fullPath.split('?')[1];return[{pathname:'/',search:params&&params.length?"?".concat(params):''}];}}
function createMemoryHistoryEntries(basePath,fullPath){return getMemoryHistoryEntriesFromBasePath(basePath,fullPath);}
function cleanPreAndPostSlashes(path){return(0,_urls.cleanPreAndPostSlashes)(path);}
function getPath(history){return history.location.pathname;}
function transition(history,path){var prompt=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var state=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(!arePathsEqual(history.location.pathname,path)){history.push({pathname:path,state:Object.assign({prompt:prompt},state)});}}
function transitionWithSearch(_ref){var history=_ref.history,path=_ref.path,search=_ref.search,_ref$prompt=_ref.prompt,prompt=_ref$prompt===void 0?false:_ref$prompt,_ref$state=_ref.state,state=_ref$state===void 0?{}:_ref$state;if(!arePathsEqual(history.location.pathname,path)){history.push({pathname:path,search:search,state:Object.assign({prompt:prompt},state)});}}
function createHistory(){var basePath=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var fullPath=arguments.length>1?arguments[1]:undefined;return _window.isWindowDefined&&supportsHistory()?(0,_history.createBrowserHistory)({basename:basePath}):(0,_history.createMemoryHistory)({initialEntries:createMemoryHistoryEntries(basePath,fullPath),initialIndex:0});};function createSimpleHistory(basename){return _window.isWindowDefined&&supportsHistory()?(0,_history.createBrowserHistory)({basename:basename}):(0,_history.createMemoryHistory)({initialEntries:getMemoryHistoryEntriesFromBasePath(basename),initialIndex:0});}}),5986:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports.goTo=goTo;exports.initCurrentPath=initCurrentPath;exports.isCurrentPath=isCurrentPath;Object.defineProperty(exports,"Link",({enumerable:true,get:function get(){return _Link["default"];}}));Object.defineProperty(exports,"Route",({enumerable:true,get:function get(){return _Route["default"];}}));Object.defineProperty(exports,"getPath",({enumerable:true,get:function get(){return _history.getPath;}}));Object.defineProperty(exports,"transition",({enumerable:true,get:function get(){return _history.transition;}}));exports["default"]=exports.history=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _ErrorPage=_interopRequireDefault(__webpack_require__(48067));var _Link=_interopRequireDefault(__webpack_require__(97107));var _messenger=_interopRequireDefault(__webpack_require__(26425));var _Prompt=_interopRequireDefault(__webpack_require__(19439));var _Route=_interopRequireDefault(__webpack_require__(69382));var _Store=_interopRequireDefault(__webpack_require__(67200));var _history=_interopRequireWildcard(__webpack_require__(58886));var _execEnvironment=__webpack_require__(63509);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var MESSENGER_TOP=108;var history;exports.history=history;function goTo(e,path){e.preventDefault();(0,_history.transition)(history,path);}
function isCurrentPath(hist,route){var initPath=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'/';var pathname=(0,_execEnvironment.canUseDOM)()?(0,_history.getPath)(hist):initPath;if(route.href!=='/'){return pathname.split('/').filter(function(s){return s.length;})[0]===(0,_history.cleanPreAndPostSlashes)(route.href);}else{return pathname==='/'&&route.href==='/';}}
function initCurrentPath(fullPath,basePath){var basePathParts=basePath.split('/').filter(function(p){return p.length>0;});var startToCare=false;return fullPath.split('?')[0].split('/').reduce(function(acc,part,i,list){if(part.length>0&&part===basePathParts[0]){startToCare=true;}
if(!basePathParts.includes(part)&&startToCare){acc=acc.concat(part);}
return i===list.length-1&&!acc.length?['/']:acc;},[]).join('/');}
var Router=function(_Component){_inherits(Router,_Component);var _super=_createSuper(Router);function Router(props){var _this;_classCallCheck(this,Router);_this=_super.call(this,props);_this.getStore=_this.getStore.bind(_assertThisInitialized(_this));_this.preLocationChange=_this.preLocationChange.bind(_assertThisInitialized(_this));_this.postLocationChange=_this.postLocationChange.bind(_assertThisInitialized(_this));_this.state={message:null,nextLocation:null,showPrompt:false};exports.history=history=(0,_history["default"])(props.basePath);_this.store=new _Store["default"]();_this._isMounted=false;return _this;}
_createClass(Router,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){if(this.props.initializeStoreFn){this.props.initializeStoreFn(this);}}},{key:"componentDidMount",value:function componentDidMount(){this.unblock=history.block(this.preLocationChange);this.unlisten=history.listen(this.postLocationChange);}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.unblock();this.unlisten();}},{key:"_getRouteByInitPath",value:function _getRouteByInitPath(routes,initPath){var route=[].slice.call(routes).find(function(route){return(0,_history.arePathsEqual)(route.props.path,initPath);});if(!this._isMounted){this._isMounted=true;}
return route;}},{key:"_getRouteByHistoryPath",value:function _getRouteByHistoryPath(routes,hist){return[].slice.call(routes).find(function(route){return(0,_history.arePathsEqual)(route.props.path,(0,_history.getPath)(hist));});}},{key:"getStore",value:function getStore(){return this.store;}},{key:"preLocationChange",value:function preLocationChange(location,action){if(location.state&&location.state.prompt){this.setState({showPrompt:true,nextLocation:location.pathname});return false;}
return true;}},{key:"postLocationChange",value:function postLocationChange(location,action){this.props.onUpdate(location,action);if(this.state.message){this.setState({message:null});}else{this.forceUpdate();}}},{key:"_renderChildren",value:function _renderChildren(children){if(children[0].type!==_Route["default"]){var firstChild=children[0];var routeToRender=this._getRouteToRender(children.slice(1));return _react["default"].Children.toArray([_react["default"].cloneElement(firstChild,{store:this.store}),routeToRender]);}else{return this._getRouteToRender(children);}}},{key:"_getRouteToRender",value:function _getRouteToRender(routes){var _this2=this;var route=this._isMounted?this._getRouteByHistoryPath(routes,history):this._getRouteByInitPath(routes,this.props.initPath);return!route?_react["default"].createElement(_ErrorPage["default"],{basePath:this.props.basePath,history:history,transition:_history.transition}):_react["default"].cloneElement(route,{basePath:this.props.basePath,history:history,setMessage:function setMessage(message){return _this2.setState({message:message});},store:this.store});}},{key:"render",value:function render(){var _this3=this;return _react["default"].createElement("div",{className:this.props.classList},this._renderChildren(this.props.children),_react["default"].createElement(_Prompt["default"],{action:"Leave",dismiss:function dismiss(){return _this3.setState({showPrompt:false});},okay:function okay(){var nextLocation=_this3.state.nextLocation;_this3.setState({showPrompt:false,nextLocation:null},function(){_this3.store.set('showPrompt',false);(0,_history.transition)(history,nextLocation);});},open:this.state.showPrompt,title:"Are you sure you want to leave without saving?"}),this.state.message&&_react["default"].createElement(_messenger["default"],{dismiss:function dismiss(){return _this3.setState({message:null});},message:this.state.message,top:MESSENGER_TOP}));}}]);return Router;}(_react.Component);Router.propTypes={basePath:_propTypes["default"].string.isRequired,classList:_propTypes["default"].string,initPath:_propTypes["default"].string,initializeStoreFn:_propTypes["default"].func,onUpdate:_propTypes["default"].func};Router.defaultProps={classList:'',initPath:'/',initializeStoreFn:null,onUpdate:function onUpdate(){}};var _default=Router;exports["default"]=_default;}),26425:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));var _messenger=_interopRequireDefault(__webpack_require__(70335));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Messenger=function Messenger(_ref){var dismiss=_ref.dismiss,message=_ref.message,top=_ref.top;return _react["default"].createElement("div",{style:{top:top},className:_messenger["default"][message.type]},_react["default"].createElement("p",{className:_messenger["default"].message},message.msg,message.link&&message.link.length&&_react["default"].createElement("span",null,message.action.length?' ':'',_react["default"].createElement("a",{className:"".concat(_messenger["default"].link," ").concat(_messenger["default"]['link-'+message.type]),href:message.link},message.action),message.msg2.length?' ':''),message.msg2.length?message.msg2:''),_react["default"].createElement("button",{className:_messenger["default"].dismiss,type:"button",onClick:function onClick(){return dismiss();}},"\xD7"));};Messenger.propTypes={dismiss:_propTypes["default"].func.isRequired,message:_propTypes["default"].shape({action:_propTypes["default"].string,link:_propTypes["default"].string,msg:_propTypes["default"].string,msg2:_propTypes["default"].string,type:_propTypes["default"].string}).isRequired,top:_propTypes["default"].number};Messenger.defaultProps={top:0};var _default=Messenger;exports["default"]=_default;}),58330:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _tooltip_target=_interopRequireDefault(__webpack_require__(71018));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var TooltipBody=function TooltipBody(_ref){var children=_ref.children,classList=_ref.classList,multiline=_ref.multiline,offsetX=_ref.offsetX,offsetY=_ref.offsetY,position=_ref.position,innerWidth=_ref.innerWidth;return _react["default"].createElement("div",{className:"".concat(classList.tooltip," ").concat(_tooltip_target["default"].tooltip," ").concat(_tooltip_target["default"][position])},_react["default"].createElement("div",{className:"".concat(_tooltip_target["default"].tooltipInner," ").concat(classList.tooltipInner," ").concat(multiline?_tooltip_target["default"].tooltipInnerMultiline:''),style:{left:offsetX,top:offsetY,width:innerWidth}},children));};TooltipBody.propTypes={classList:_propTypes["default"].shape({tooltip:_propTypes["default"].string,tooltipInner:_propTypes["default"].string}),innerWidth:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),multiline:_propTypes["default"].bool,offsetX:_propTypes["default"].number,offsetY:_propTypes["default"].number,position:_propTypes["default"].string};TooltipBody.defaultProps={classList:{},innerWidth:null,multiline:false,offsetX:0,offsetY:0,position:'bottom'};var _default=TooltipBody;exports["default"]=_default;}),13164:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _TooltipBody=_interopRequireDefault(__webpack_require__(58330));var _tooltip_target=_interopRequireDefault(__webpack_require__(71018));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var TooltipTarget=function TooltipTarget(_ref){var children=_ref.children,classList=_ref.classList,multiline=_ref.multiline,offsetX=_ref.offsetX,offsetY=_ref.offsetY,position=_ref.position,tooltip=_ref.tooltip,tooltipWidth=_ref.tooltipWidth;return _react["default"].createElement("span",{className:"".concat(_tooltip_target["default"].wrapper," ").concat(classList.wrapper)},children,tooltip!==null&&_react["default"].createElement(_TooltipBody["default"],{classList:classList,innerWidth:tooltipWidth,multiline:multiline,offsetX:offsetX,offsetY:offsetY,position:position},tooltip));};TooltipTarget.propTypes={classList:_propTypes["default"].shape({tooltip:_propTypes["default"].string,tooltipInner:_propTypes["default"].string,wrapper:_propTypes["default"].string}),multiline:_propTypes["default"].bool,offsetX:_propTypes["default"].number,offsetY:_propTypes["default"].number,position:_propTypes["default"].string,tooltip:_propTypes["default"].node,tooltipWidth:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string])};TooltipTarget.defaultProps={classList:{},multiline:false,offsetX:0,offsetY:0,position:'bottom',tooltip:null,tooltipWidth:null};var _default=TooltipTarget;exports["default"]=_default;}),42259:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var TriangleDown=function TriangleDown(_ref){var className=_ref.className;return _react["default"].createElement("svg",{className:className,viewBox:"130 288 10 5",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},_react["default"].createElement("polygon",{stroke:"none",fill:"#7E7E7E",fillRule:"evenodd",transform:"translate(135.166667, 290.500000) rotate(180.000000) translate(-135.166667, -290.500000) ",points:"135.166667 288 139.333333 293 131 293"}));};var _default=TriangleDown;exports["default"]=_default;}),49737:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _animation=_interopRequireDefault(__webpack_require__(13394));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var RingSpinner=function RingSpinner(_ref){var className=_ref.className,size=_ref.size;return _react["default"].createElement("svg",{className:"".concat(_animation["default"].ringSpinner," ").concat(_typography["default"]['icon'+size]," ").concat(className),viewBox:"25 25 50 50"},_react["default"].createElement("circle",{cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"}));};RingSpinner.propTypes={className:_propTypes["default"].string,size:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string])};RingSpinner.defaultProps={className:'',size:'fill'};var _default=RingSpinner;exports["default"]=_default;}),56261:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lodash=_interopRequireDefault(__webpack_require__(93096));var _button_dropdown=_interopRequireDefault(__webpack_require__(32067));var _icon=_interopRequireDefault(__webpack_require__(44509));var _window=__webpack_require__(33852);var _dispatchers=__webpack_require__(10912);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _commonDropdown=_interopRequireDefault(__webpack_require__(1876));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _story_editor=_interopRequireDefault(__webpack_require__(29957));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DOC_X_FILE_INPUT_ID='docXFileInput';var HASH='#story';var MENU_OPTS=['docX'];var StoryEditorHelpBox=function(_Component){_inherits(StoryEditorHelpBox,_Component);var _super=_createSuper(StoryEditorHelpBox);function StoryEditorHelpBox(props){var _this;_classCallCheck(this,StoryEditorHelpBox);_this=_super.call(this,props);_this.state={autosaveEnabled:props.initAutoSaveEnabled,boundary:null,isEditorBusy:false,isFixed:false,show:false,showTips:false};_this.handleHashChange=_this.handleHashChange.bind(_assertThisInitialized(_this));_this.handleStoryEditorRequest=_this.handleStoryEditorRequest.bind(_assertThisInitialized(_this));_this.onAutoCompleteChange=_this.onAutoCompleteChange.bind(_assertThisInitialized(_this));_this.onScroll=_this.onScroll.bind(_assertThisInitialized(_this));_this.root;return _this;}
_createClass(StoryEditorHelpBox,[{key:"componentDidMount",value:function componentDidMount(){this.throttledScroll=(0,_lodash["default"])(this.onScroll,50);window.addEventListener('scroll',this.throttledScroll);window.addEventListener('hashchange',this.handleHashChange);window.addEventListener('StoryEditorRequest',this.handleStoryEditorRequest);this._verifyHash();}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener('scroll',this.throttledScroll);window.removeEventListener('hashchange',this.handleHashChange);window.removeEventListener('StoryEditorRequest',this.handleStoryEditorRequest);}},{key:"_getPrevSiblingDims",value:function _getPrevSiblingDims(){if(this.state.boundary)return;if(this.root&&this.root.parentNode&&this.root.parentNode.parentNode){var checklist=this.root.parentNode.parentNode.querySelector('.box');if(checklist){var dims=checklist.getBoundingClientRect();var boundary=dims.top+dims.height+window.scrollY;this.setState({boundary:boundary});}}}},{key:"_verifyHash",value:function _verifyHash(){var _this2=this;if(!this.state.show&&_window.windowLocationHash.get()===HASH){this.setState({show:true},function(){return _this2._getPrevSiblingDims();});}else if(this.state.show&&_window.windowLocationHash.get()!==HASH){this.setState({show:false});}}},{key:"handleHashChange",value:function handleHashChange(){this._verifyHash();}},{key:"handleStoryEditorRequest",value:function handleStoryEditorRequest(e){var isEditorBusy=e.detail.isEditorBusy;if(this.state.isEditorBusy!==isEditorBusy){this.setState({isEditorBusy:isEditorBusy});}}},{key:"onAutoCompleteChange",value:function onAutoCompleteChange(e){(0,_dispatchers.dispatchEvent)('StoryHelpBox',{autosaveEnabled:e.target.checked});this.setState({autosaveEnabled:e.target.checked});}},{key:"onScroll",value:function onScroll(){if(!this.state.boundary)return;var scrollY=window.scrollY;if(scrollY<=this.state.boundary&&this.state.isFixed){this.setState({isFixed:false});}else if(scrollY>this.state.boundary&&!this.state.isFixed){this.setState({isFixed:true});}}},{key:"_autocompleteCopy",value:function _autocompleteCopy(){return this.state.autosaveEnabled?'Autosave on':'Autosave off';}},{key:"handleDocXClick",value:function handleDocXClick(){var input=document.getElementById(DOC_X_FILE_INPUT_ID);if(input)input.click();}},{key:"_onOptClick",value:function _onOptClick(opt){switch(opt){case 'docX':return this.handleDocXClick();default:return;}}},{key:"_statusCopy",value:function _statusCopy(){return this.state.isEditorBusy?_react["default"].createElement("span",{className:_story_editor["default"].saving},"Saving..."):'Saved';}},{key:"_getLabelForOpt",value:function _getLabelForOpt(opt){switch(opt){case 'docX':return 'Upload docx file';default:'';}}},{key:"render",value:function render(){var _this3=this;if(!this.state.show)return null;return _react["default"].createElement("div",{ref:function ref(el){return _this3.root=el;},className:"".concat(_story_editor["default"].helpBox," ").concat(this.state.isFixed?_story_editor["default"].fixed:'')},_react["default"].createElement("div",{className:_layout["default"].flex10Auto},_react["default"].createElement("div",null,_react["default"].createElement("label",{className:_story_editor["default"].autosaveLabel},_react["default"].createElement("input",{className:_story_editor["default"].autosaveInput,checked:this.state.autosaveEnabled,disabled:this.state.isEditorBusy,type:"checkbox",onChange:this.onAutoCompleteChange}),this._autocompleteCopy())),_react["default"].createElement("div",{className:_story_editor["default"].statusWrapper},_react["default"].createElement("span",null,"Status: "),_react["default"].createElement("strong",null,this._statusCopy())),this.state.showTips&&_react["default"].createElement("ul",{className:_story_editor["default"].tips},_react["default"].createElement("li",null,_react["default"].createElement("strong",null,"Undo"),": Ctrl or Cmd+Z"),_react["default"].createElement("li",null,_react["default"].createElement("strong",null,"Redo"),": Ctrl or Cmd+Shift+Y"),_react["default"].createElement("li",null,_react["default"].createElement("strong",null,"Save"),": Ctrl or Cmd+S")),_react["default"].createElement("button",{className:"".concat(_buttons["default"].blank),onClick:function onClick(){return _this3.setState({showTips:!_this3.state.showTips});}},_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].linkBlue)},"".concat(this.state.showTips?'Hide':'Show'," tips")))),_react["default"].createElement("div",null,_react["default"].createElement(_button_dropdown["default"],{alignRight:true,classList:{button:_buttons["default"].blank},closeOnSelect:true,label:_react["default"].createElement(_icon["default"],{className:_typography["default"].iconClickable,name:"view-more",size:12})},_react["default"].createElement("ul",{className:_commonDropdown["default"].list},MENU_OPTS.map(function(opt,i){return _react["default"].createElement("li",{key:i,className:_commonDropdown["default"].listItem,onClick:function onClick(){return _this3._onOptClick(opt);}},_this3._getLabelForOpt(opt));})))));}}]);return StoryEditorHelpBox;}(_react.Component);StoryEditorHelpBox.propTypes={initAutoSaveEnabled:_propTypes["default"].bool};StoryEditorHelpBox.defaultProps={initAutoSaveEnabled:true};var _default=StoryEditorHelpBox;exports["default"]=_default;}),27143:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lodash=_interopRequireDefault(__webpack_require__(91296));var _draftster_core=_interopRequireDefault(__webpack_require__(66220));var _PromiseQueue=_interopRequireDefault(__webpack_require__(34101));var _convertToJSONModel=_interopRequireDefault(__webpack_require__(60260));var _docx_uploader=_interopRequireDefault(__webpack_require__(53244));var _helpers=__webpack_require__(48887);var _dispatchers=__webpack_require__(10912);var _requests=__webpack_require__(84990);__webpack_require__(29957);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var SUCCESSFUL_SAVE_MSG='Saved successfully.';var DOC_X_ACCEPT='.docx,application/vnd.openxmlformats-officedocument.wordprocessingml.document';var DOC_X_MSG='Heads up, uploading a docx file can take a bit of time and resources (when image heavy). This will OVERWRITE your entire story, so please make sure this is what you want to do. Are you sure you want to continue?';var StoryEditor=function(_Component){_inherits(StoryEditor,_Component);var _super=_createSuper(StoryEditor);function StoryEditor(props){var _this;_classCallCheck(this,StoryEditor);_this=_super.call(this,props);_this.state={autosaveEnabled:props.initAutoSaveEnabled,saving:false,shouldRender:false,uploadingDoc:false};_this.autosave=_this.autosave.bind(_assertThisInitialized(_this));_this.handleDocXUpload=_this.handleDocXUpload.bind(_assertThisInitialized(_this));_this.handleHelpBoxEvent=_this.handleHelpBoxEvent.bind(_assertThisInitialized(_this));_this.handleNavClick=_this.handleNavClick.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleSubmitComplete=_this.handleSubmitComplete.bind(_assertThisInitialized(_this));_this.promiseQueue=new _PromiseQueue["default"]();var debouncedAutosave=(0,_lodash["default"])(_this.autosave,3000);_this.config={className:'story-editor',editorWasUpdated:function editorWasUpdated(){if(_this.state.autosaveEnabled){if(!_this.state.saving)_this._toggleSaveState(true);debouncedAutosave();}else{_this._showPePanel();}},handleImageUpload:function handleImageUpload(image,callback){return(0,_helpers.uploadImageToServer)(image,props.S3BucketURL,props.AWSAccessKeyId,props.projectId,props.modelType).then(function(mergedImage){return callback(null,mergedImage);})["catch"](function(err){return callback(err,image);});},hideEditor:function hideEditor(){if(window&&window.location.hash!=='#story'){return true;}
return false;},isEditorBusy:function isEditorBusy(bool){if(bool&&_this._isEditorBusy)return;_this._isEditorBusy=bool;var containerName=_this.state.autosaveEnabled?'#story .pe-save2':'.pe-save';var container=document.querySelectorAll(containerName)[0];if(!container)return;var button=container.querySelector('.pe-submit');if(!button)return;if(bool&&button.innerText!=='Uploading image'){button.innerText='Uploading image';button.setAttribute('disabled',true);}else if(!bool&&button.innerText!=='Save changes'){button.innerText='Save changes';button.removeAttribute('disabled');}},processImage:function processImage(image){return new Promise(function(resolve,reject){_this.promiseQueue.push(_helpers.processRemoteImage,[image,props.S3BucketURL,props.AWSAccessKeyId],resolve,reject);});},setInitialContent:function setInitialContent(){return new Promise(function(resolve,reject){return(0,_helpers.getStory)(props.projectId).then(function(story){_this._lastSavedState=story;return resolve(story);})["catch"](function(err){return reject(err);});});}};_this.storyEditor;_this._isEditorBusy=false;_this._lastSavedState='';return _this;}
_createClass(StoryEditor,[{key:"componentDidMount",value:function componentDidMount(){if(!window)return;window.addEventListener('pe:submit',this.handleSubmit);window.addEventListener('StoryHelpBox',this.handleHelpBoxEvent);this._deferRender();}},{key:"componentWillUnmount",value:function componentWillUnmount(){var _this2=this;if(!window)return;window.removeEventListener('pe:submit',this.handleSubmit);window.removeEventListener('StoryHelpBox',this.handleHelpBoxEvent);[].slice.call(document.querySelectorAll('.pe-nav li a')).forEach(function(el){el.removeEventListener('click',_this2.handleNavClick);});}},{key:"_deferRender",value:function _deferRender(){var _this3=this;if(typeof document!=='undefined'){document.addEventListener('DOMContentLoaded',function(){_this3.setState({shouldRender:true});[].slice.call(document.querySelectorAll('.pe-nav li a')).forEach(function(el){el.addEventListener('click',_this3.handleNavClick);});});}}},{key:"autosave",value:function autosave(){if(this.storyEditor&&this.storyEditor.hasUnsavedChanges()){if(!this.state.saving)this._toggleSaveState(true);this.handleSubmit(null,false);}}},{key:"handleDocXUpload",value:function handleDocXUpload(e){var _this4=this;var okay=window.confirm(DOC_X_MSG);if(!okay){this._docXInput.value='';return;}
this.setState({uploadingDoc:true});return(0,_docx_uploader["default"])(e).then(function(html){_this4.storyEditor.__resetEditorState(html);_this4._docXInput.value='';_this4.setState({uploadingDoc:false});})["catch"](function(err){_this4.storyEditor.triggerMessenger('There was an error trying to upload your file.','error');_this4._docXInput.value='';_this4.setState({uploadingDoc:false});});}},{key:"handleHelpBoxEvent",value:function handleHelpBoxEvent(e){var _this5=this;var autosaveEnabled=e.detail.autosaveEnabled;this.setState({autosaveEnabled:autosaveEnabled},function(){if(autosaveEnabled){if(_this5.storyEditor.hasUnsavedChanges())_this5.handleSubmit(null,false);_this5._dismissPePanel();}});}},{key:"handleNavClick",value:function handleNavClick(e){if(window.location.hash==='#story'&&(this.state.saving||this.storyEditor.hasUnsavedChanges())){var c=confirm("There are unsaved changes\nAre you sure you want to move away?");if(c){this.handleSubmitComplete(false);this.storyEditor.__resetEditorState(this._lastSavedState);}else{e.preventDefault();}}}},{key:"handleSubmit",value:function handleSubmit(evt){var _this6=this;var showMessage=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!this.state.saving)this._toggleSaveState(true);var content=this.storyEditor.getEditorContent();return(0,_convertToJSONModel["default"])(content).then(function(json){if(document){var panel=document.querySelector('.pe-panel');if(panel)panel.dispatchEvent(new CustomEvent('dismiss'));}
return Promise.all([json,(0,_requests.patchStory)(_this6.props.projectHid,json)]);}).then(function(_ref){var _ref2=_slicedToArray(_ref,1),json=_ref2[0];_this6._lastSavedState=json;_this6.handleSubmitComplete(showMessage);})["catch"](function(err){_this6._toggleSaveState(false);_this6.storyEditor.triggerMessenger("Oops, your project didn't save correctly. Please check for errors and try again.",'error');});}},{key:"handleSubmitComplete",value:function handleSubmitComplete(showMessage){this._toggleSaveState(false);this._dismissPePanel();this._serializeJQueryForm();if(showMessage)this.storyEditor.triggerMessenger(SUCCESSFUL_SAVE_MSG,'success');}},{key:"_dismissPePanel",value:function _dismissPePanel(){if(window&&window.pe&&window.pe.isSavePanelShown()&&window.location.hash==='#story'){window.pe.hideSavePanel();}}},{key:"_showPePanel",value:function _showPePanel(){if(window&&window.pe&&window.pe.isSavePanelShown()===false&&typeof window.$serializedForm!=='undefined'&&window.location.hash==='#story'&&this.state.saving===false){window.$serializedForm+=' ';window.pe.showSavePanel();}}},{key:"_serializeJQueryForm",value:function _serializeJQueryForm(){if(window&&window.pe&&typeof window.$serializedForm!=='undefined'&&window.location.hash==='#story'){window.pe.serializeForm();window.pe.updateChecklist();}}},{key:"_toggleSaveState",value:function _toggleSaveState(isSaving){if(isSaving){this._togglePeSaveState(true);this.setState({saving:true},function(){return(0,_dispatchers.dispatchEvent)('StoryEditorRequest',{isEditorBusy:true});});}else{this._togglePeSaveState(false);this.setState({saving:false},function(){return(0,_dispatchers.dispatchEvent)('StoryEditorRequest',{isEditorBusy:false});});}}},{key:"_togglePeSaveState",value:function _togglePeSaveState(bool){if(this.state.autosaveEnabled){var container=document.querySelectorAll('#story .pe-save2')[0];if(!container)return;var button=container.querySelector('.pe-submit');if(!button)return;if(bool){button.innerText='Saving...';button.setAttribute('disabled',true);}else{button.innerText='Save changes';button.removeAttribute('disabled');}}}},{key:"render",value:function render(){var _this7=this;if(!this.state.shouldRender)return null;return _react["default"].createElement("div",null,_react["default"].createElement("input",{ref:function ref(el){return _this7._docXInput=el;},id:"docXFileInput",style:{display:'none'},accept:DOC_X_ACCEPT,type:"file",onChange:this.handleDocXUpload}),_react["default"].createElement(_draftster_core["default"],{ref:function ref(el){return _this7.storyEditor=el;},config:this.config}));}}]);return StoryEditor;}(_react.Component);StoryEditor.propTypes={AWSAccessKeyId:_propTypes["default"].string.isRequired,S3BucketURL:_propTypes["default"].string.isRequired,initAutoSaveEnabled:_propTypes["default"].bool,projectHid:_propTypes["default"].string.isRequired,projectId:_propTypes["default"].number.isRequired};StoryEditor.defaultProps={initAutoSaveEnabled:true};var _default=StoryEditor;exports["default"]=_default;}),84990:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.patchStory=patchStory;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _oauth=_interopRequireDefault(__webpack_require__(97523));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function patchStory(projectId,story){return _oauth["default"].apiRequest(_superagent["default"].patch("".concat(_oauth["default"].getApiPath(),"/private/projects/").concat(projectId,"/update_story")).send({'story_json':JSON.stringify(story)}),true,false);}}),82829:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _typography=_interopRequireDefault(__webpack_require__(68163));var _table=_interopRequireDefault(__webpack_require__(87509));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Cell=function Cell(_ref){var body=_ref.body,className=_ref.className,disabled=_ref.disabled;return _react["default"].createElement("td",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].breakWord," ").concat(_table["default"].cell," ").concat(className," ").concat(disabled?_table["default"].disabled:'')},typeof body==='function'?body():body);};Cell.propTypes={body:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func]).isRequired,className:_propTypes["default"].string,disabled:_propTypes["default"].bool};Cell.defaultProps={className:'',disabled:false};var _default=Cell;exports["default"]=_default;}),52110:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _typography=_interopRequireDefault(__webpack_require__(68163));var _cells=_interopRequireDefault(__webpack_require__(1859));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Cell=function Cell(_ref){var body=_ref.body,className=_ref.className,disabled=_ref.disabled;return _react["default"].createElement("div",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].breakWord," ").concat(_cells["default"].cell," ").concat(className," ").concat(disabled?_cells["default"].disabled:'')},typeof body==='function'?body():body);};Cell.propTypes={body:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func]).isRequired,className:_propTypes["default"].string,disabled:_propTypes["default"].bool};Cell.defaultProps={className:'',disabled:false};var _default=Cell;exports["default"]=_default;}),80854:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _custom=_interopRequireDefault(__webpack_require__(30294));var _typography=_interopRequireDefault(__webpack_require__(68163));var _table=_interopRequireDefault(__webpack_require__(87509));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var SelectableCell=function SelectableCell(_ref){var body=_ref.body,className=_ref.className,disabled=_ref.disabled,isSelected=_ref.isSelected,onCheckboxChange=_ref.onCheckboxChange;return _react["default"].createElement("td",{className:className},_react["default"].createElement("span",{className:"".concat(isSelected?_table["default"].selectableCellHighlight:_table["default"].selectableCellPlaceholder)}),_react["default"].createElement("span",{className:_table["default"].selectableCellInner},_react["default"].createElement(_custom["default"],{disabled:disabled,isChecked:isSelected,onChange:onCheckboxChange}),_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyM," ").concat(_table["default"].selectableCellBody," ").concat(disabled?_table["default"].disabled:'')},body)));};SelectableCell.propTypes={body:_propTypes["default"].string.isRequired,className:_propTypes["default"].string,disabled:_propTypes["default"].bool,isSelected:_propTypes["default"].bool.isRequired,onCheckboxChange:_propTypes["default"].func};SelectableCell.defaultProps={className:'',disabled:false,onCheckboxChange:function onCheckboxChange(){}};var _default=SelectableCell;exports["default"]=_default;}),88331:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _TriangleDown=_interopRequireDefault(__webpack_require__(42259));var _table=_interopRequireDefault(__webpack_require__(87509));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var OrderableHeader=function(_Component){_inherits(OrderableHeader,_Component);var _super=_createSuper(OrderableHeader);function OrderableHeader(props){var _this;_classCallCheck(this,OrderableHeader);_this=_super.call(this,props);_this.state={};_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));return _this;}
_createClass(OrderableHeader,[{key:"onClick",value:function onClick(){if(this.props.header.orderable)this.props.setHeaderActive(this.props.header,this.props.position);}},{key:"_getOrderableTitleStyle",value:function _getOrderableTitleStyle(){return this.props.header.status.isActive?_table["default"].thActive:this.props.header.orderable?_table["default"].thInteractive:'';}},{key:"render",value:function render(){return _react["default"].createElement("th",{style:this.props.config,className:"".concat(this.props.position===0?_table["default"].thSelectableCell:_table["default"].thCell)},_react["default"].createElement("div",{className:"".concat(_table["default"].thTitleWrapper," ").concat(this._getOrderableTitleStyle()),onClick:this.onClick},_react["default"].createElement("span",{className:_table["default"].thTitle},this.props.header.title),_react["default"].createElement("span",{className:_table["default"].triangleWrapper},this.props.header.orderable&&_react["default"].createElement(_TriangleDown["default"],{className:"".concat(_table["default"].triangle," ").concat(this.props.header.status.state===1?_table["default"].triangleActive:'')}))));}}]);return OrderableHeader;}(_react.Component);OrderableHeader.propTypes={config:_propTypes["default"].shape({width:_propTypes["default"].number}),header:_propTypes["default"].shape({orderable:_propTypes["default"].bool.isRequired,sort:_propTypes["default"].string,status:_propTypes["default"].shape({isActive:_propTypes["default"].bool.isRequired,state:_propTypes["default"].number.isRequired}).isRequired,title:_propTypes["default"].string.isRequired}),position:_propTypes["default"].number.isRequired,setHeaderActive:_propTypes["default"].func.isRequired};OrderableHeader.defaultProps={config:{}};var _default=OrderableHeader;exports["default"]=_default;}),9485:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _custom=_interopRequireDefault(__webpack_require__(30294));var _TriangleDown=_interopRequireDefault(__webpack_require__(42259));var _layout=_interopRequireDefault(__webpack_require__(42721));var _table=_interopRequireDefault(__webpack_require__(87509));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var SelectableHeader=function SelectableHeader(_ref){var config=_ref.config,header=_ref.header,isSelected=_ref.isSelected,onCheck=_ref.onCheck,position=_ref.position,setHeaderActive=_ref.setHeaderActive;var getOrderableTitleStyle=function getOrderableTitleStyle(){return header.status.isActive?_table["default"].thActive:header.orderable?_table["default"].thInteractive:'';};var handleClick=function handleClick(){if(header.orderable)setHeaderActive(header,position);};return _react["default"].createElement("th",{style:config,className:_table["default"].thSelectableCell},_react["default"].createElement("div",{className:_layout["default"].flex},_react["default"].createElement(_custom["default"],{isChecked:isSelected,onChange:onCheck}),_react["default"].createElement("div",{className:"".concat(_table["default"].thTitleWrapper," ").concat(getOrderableTitleStyle()," ").concat(_layout["default"].marginLeft15),onClick:function onClick(){return handleClick();}},_react["default"].createElement("span",{className:_table["default"].thTitle},header.title),_react["default"].createElement("span",{className:_table["default"].triangleWrapper},header.orderable&&_react["default"].createElement(_TriangleDown["default"],{className:"".concat(_table["default"].triangle," ").concat(header.status.state===1?_table["default"].triangleActive:'')})))));};SelectableHeader.propTypes={config:_propTypes["default"].shape({width:_propTypes["default"].number}),header:_propTypes["default"].shape({orderable:_propTypes["default"].bool.isRequired,sort:_propTypes["default"].string,status:_propTypes["default"].shape({isActive:_propTypes["default"].bool.isRequired,state:_propTypes["default"].number.isRequired}).isRequired,title:_propTypes["default"].string.isRequired}).isRequired,isSelected:_propTypes["default"].bool.isRequired,onCheck:_propTypes["default"].func.isRequired,position:_propTypes["default"].number.isRequired,setHeaderActive:_propTypes["default"].func.isRequired};SelectableHeader.defaultProps={config:{}};var _default=SelectableHeader;exports["default"]=_default;}),76274:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Cell=_interopRequireDefault(__webpack_require__(82829));var _paginator=_interopRequireDefault(__webpack_require__(67556));var _SelectableCell=_interopRequireDefault(__webpack_require__(80854));var _SelectableHeader=_interopRequireDefault(__webpack_require__(9485));var _OrderableHeader=_interopRequireDefault(__webpack_require__(88331));var _typography=_interopRequireDefault(__webpack_require__(68163));var _table=_interopRequireDefault(__webpack_require__(87509));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var SelectableTable=function(_Component){_inherits(SelectableTable,_Component);var _super=_createSuper(SelectableTable);function SelectableTable(props){var _this;_classCallCheck(this,SelectableTable);_this=_super.call(this,props);_this.state={headers:_this._initHeaders()};_this.handleSelectableHeader=_this.handleSelectableHeader.bind(_assertThisInitialized(_this));_this.onCheckboxChange=_this.onCheckboxChange.bind(_assertThisInitialized(_this));_this.setHeaderActive=_this.setHeaderActive.bind(_assertThisInitialized(_this));return _this;}
_createClass(SelectableTable,[{key:"_initHeaders",value:function _initHeaders(){return this.props.headers.map(function(header){return Object.assign({},header,{status:{isActive:header["default"]||false,state:0}});});}},{key:"handleSelectableHeader",value:function handleSelectableHeader(bool,header){var updatedIndexes=bool?_toConsumableArray(Array(this.props.tableItems.length)).map(function(u,i){return i;}):[];this.props.reportSelected(updatedIndexes);}},{key:"onCheckboxChange",value:function onCheckboxChange(isSelected,index,record){var updatedIndexes=isSelected?this.props.selectedIndexes.concat(index):this.props.selectedIndexes.filter(function(item){return item!==index;});this.props.reportSelected(updatedIndexes,isSelected,record);}},{key:"setHeaderActive",value:function setHeaderActive(header,position){var activeHeaderStatus=header.status.isActive?{isActive:true,state:header.status.state===1?0:1}:{isActive:true,state:0};var updatedHeaders=this.state.headers.map(function(header,i){return Object.assign({},header,{status:i===position?activeHeaderStatus:{isActive:false,state:0}});});this.props.onSort({sort:header.sort,status:activeHeaderStatus.state});this.setState({headers:updatedHeaders});}},{key:"_createBodyView",value:function _createBodyView(){var _this2=this;return this.props.tableItems.map(function(item,itemIndex){var isSelected=_this2.props.selectedIndexes.includes(itemIndex);return _react["default"].createElement("tr",{key:item.record.id,className:_table["default"].row},item.columns.map(function(col,i){return i===0?_this2._createSelectableCell(col,i,itemIndex,item.record,isSelected):_this2._createCell(col,i,itemIndex,item.record.id,isSelected);}));});}},{key:"_createCell",value:function _createCell(body,index,tableItemIndex,id,isSelected){return _react["default"].createElement(_Cell["default"],{key:"".concat(id,"_").concat(index),className:_table["default"].cell,body:body,disabled:this.props.disabledState&&!isSelected});}},{key:"_createOrderableHeader",value:function _createOrderableHeader(header,i){return _react["default"].createElement(_OrderableHeader["default"],{key:i,config:this.props.config[i],header:header,position:i,setHeaderActive:this.setHeaderActive});}},{key:"_createNoContentView",value:function _createNoContentView(){return _react["default"].createElement("tr",null,_react["default"].createElement("td",{className:"".concat(_table["default"].noContent," ").concat(_typography["default"].bodyM),colSpan:this.props.headers.length},"No content"));}},{key:"_createSelectableCell",value:function _createSelectableCell(body,index,tableItemIndex,record,isSelected){var _this3=this;return _react["default"].createElement(_SelectableCell["default"],{key:"".concat(record.id,"_").concat(index),className:_table["default"].selectableCell,body:body,disabled:this.props.disabledState&&!isSelected,isSelected:isSelected,onCheckboxChange:function onCheckboxChange(bool){return _this3.onCheckboxChange(bool,tableItemIndex,record);}});}},{key:"_createSelectableHeader",value:function _createSelectableHeader(header,i){var _this4=this;return _react["default"].createElement(_SelectableHeader["default"],{key:i,config:this.props.config[i],header:header,isSelected:this.props.tableItems.length>0&&this.props.selectedIndexes.length===this.props.tableItems.length,onCheck:function onCheck(bool){return _this4.handleSelectableHeader(bool,header);},position:i,setHeaderActive:this.setHeaderActive});}},{key:"_getBodyView",value:function _getBodyView(){if(!this.props.tableItems.length)return this._createNoContentView();return this._createBodyView();}},{key:"_getHeaderView",value:function _getHeaderView(){var _this5=this;return this.state.headers.map(function(header,i){return i===0&&header.selectable?_this5._createSelectableHeader(header,i):_this5._createOrderableHeader(header,i);});}},{key:"_getPaginatorView",value:function _getPaginatorView(){if(!this.props.tableItems.length)return null;return this.props.pagination.hasOwnProperty('total_pages')?this._getDefaultPaginator():this._getSimplifiedPaginator();}},{key:"_getDefaultPaginator",value:function _getDefaultPaginator(){var _this6=this;return _react["default"].createElement(_paginator["default"],{currentPage:this.props.pagination.current_page,onClick:function onClick(page){return _this6.props.onPagination(page);},totalPages:this.props.pagination.total_pages});}},{key:"_getSimplifiedPaginator",value:function _getSimplifiedPaginator(){var _this7=this;if(this.props.pagination.current_page===1&&this.props.pagination.next_page===null)return null;return _react["default"].createElement(_paginator["default"],{currentPage:this.props.pagination.current_page,nextPage:this.props.pagination.next_page,onClick:function onClick(page){return _this7.props.onPagination(page);},prevPage:this.props.pagination.prev_page});}},{key:"render",value:function render(){return _react["default"].createElement("div",null,_react["default"].createElement("table",{className:_table["default"].table},_react["default"].createElement("thead",{className:""},_react["default"].createElement("tr",null,this._getHeaderView())),_react["default"].createElement("tbody",{className:_table["default"].body},this._getBodyView(),this.props.isBusy&&_react["default"].createElement("tr",null,_toConsumableArray(new Array(this.props.headers.length)).map(function(n,i){return i===0?_react["default"].createElement("td",{key:i,className:_table["default"].loadingOverlay}):_react["default"].createElement("td",{key:i});})))),this._getPaginatorView());}}]);return SelectableTable;}(_react.Component);SelectableTable.propTypes={config:_propTypes["default"].arrayOf(_propTypes["default"].shape({width:_propTypes["default"].number})),disabledState:_propTypes["default"].bool,headers:_propTypes["default"].arrayOf(_propTypes["default"].shape({title:_propTypes["default"].string.isRequired,orderable:_propTypes["default"].bool,sort:_propTypes["default"].string})).isRequired,isBusy:_propTypes["default"].bool.isRequired,onPagination:_propTypes["default"].func.isRequired,onSort:_propTypes["default"].func.isRequired,pagination:_propTypes["default"].shape({current_page:_propTypes["default"].integer,per_page:_propTypes["default"].integer,total_pages:_propTypes["default"].integer,total_records:_propTypes["default"].integer,next_page:_propTypes["default"].integer,prev_page:_propTypes["default"].integer}),reportSelected:_propTypes["default"].func,tableItems:_propTypes["default"].arrayOf(_propTypes["default"].shape({columns:_propTypes["default"].array.isRequired,record:_propTypes["default"].object})).isRequired};SelectableTable.defaultProps={config:[],disabledState:false,reportSelected:function reportSelected(){}};var _default=SelectableTable;exports["default"]=_default;}),61936:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _TooltipTarget=_interopRequireDefault(__webpack_require__(13164));var _tooltip_target=_interopRequireDefault(__webpack_require__(71018));var _util=_interopRequireDefault(__webpack_require__(48161));var _question_mark=_interopRequireDefault(__webpack_require__(52062));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var QuestionMarkTooltip=function QuestionMarkTooltip(_ref){var offsetX=_ref.offsetX,offsetY=_ref.offsetY,position=_ref.position,tooltip=_ref.tooltip,theme=_ref.theme;return _react["default"].createElement(_TooltipTarget["default"],{classList:{tooltipInner:_question_mark["default"].tooltipInner,wrapper:_tooltip_target["default"].tooltipV2},offsetX:offsetX,offsetY:offsetY,multiline:true,position:position,tooltip:tooltip},_react["default"].createElement("span",{className:"".concat(_util["default"].circle," ").concat(_question_mark["default"][theme])},"?"));};QuestionMarkTooltip.propTypes={offsetX:_propTypes["default"].number,offsetY:_propTypes["default"].number,position:_propTypes["default"].string,theme:_propTypes["default"].string,tooltip:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].element]).isRequired};QuestionMarkTooltip.defaultProps={offsetX:0,offsetY:0,position:'right',theme:'light'};var _default=QuestionMarkTooltip;exports["default"]=_default;}),14451:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var IFrame=function(_Component){_inherits(IFrame,_Component);var _super=_createSuper(IFrame);function IFrame(props){var _this;_classCallCheck(this,IFrame);_this=_super.call(this,props);_this.onload=_this.onload.bind(_assertThisInitialized(_this));_this._iframe;return _this;}
_createClass(IFrame,[{key:"componentDidMount",value:function componentDidMount(){if(this._iframe){this._iframe.contentWindow.document.write(this.props.html);this._iframe.contentWindow.document.close();this._iframe.height=this._iframe.contentWindow.document.body.scrollHeight;}}},{key:"onload",value:function onload(){if(this._iframe){this._iframe.height=this._iframe.contentWindow.document.body.scrollHeight;}}},{key:"render",value:function render(){var _this2=this;return _react["default"].createElement("iframe",{ref:function ref(el){return _this2._iframe=el;},style:{minWidth:this.props.minWidth},allowFullScreen:true,frameBorder:"0",onLoad:this.onload,width:"100%"});}}]);return IFrame;}(_react.Component);IFrame.propTypes={html:_propTypes["default"].string,minWidth:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number])};IFrame.defaultProps={html:'<html><body>You forgot to seed the iframe!</body></html>',minWidth:'100%'};var _default=IFrame;exports["default"]=_default;}),7020:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var arrayToSentence=function arrayToSentence(){var items=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(items.length===0)return null;var list=items.reduce(function(acc,item,i){if(i===items.length-1){return acc.concat([item]);}else if(i===items.length-2){return acc.concat([item,' and ']);}else{return acc.concat([item,', ']);}},[]);return _react["default"].Children.toArray(list);};var _default=arrayToSentence;exports["default"]=_default;}),62238:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var joinComponents=function joinComponents(){var arr=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var divider=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return _react["default"].Children.toArray(arr.reduce(function(acc,node,i){return i===arr.length-1?acc.concat([node]):acc.concat([node,divider]);},[]));};var _default=joinComponents;exports["default"]=_default;}),72224:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.China=exports.Mexico=exports.Australia=exports.Canada=exports.States=exports.Countries=void 0;var Countries=["Andorra","Afghanistan","Antigua and Barbuda","Anguilla","Albania","Armenia","Netherlands Antilles","Angola","Antarctica","Argentina","American Samoa","Austria","Australia","Aruba","Åland Islands","Azerbaijan","Bosnia and Herzegovina","Barbados","Bangladesh","Belgium","Burkina Faso","Bulgaria","Bahrain","Burundi","Benin","Saint Barthélemy","Bermuda","Brunei Darussalam","Bolivia","Bonaire, Sint Eustatius and Saba","Brazil","Bahamas","Bhutan","Bouvet Island","Botswana","Belarus","Belize","Canada","Cocos (Keeling) Islands","Congo, The Democratic Republic Of The","Central African Republic","Congo","Switzerland","Côte D'Ivoire","Cook Islands","Chile","Cameroon","China","Colombia","Costa Rica","Cuba","Cape Verde","Curaçao","Christmas Island","Cyprus","Czech Republic","Germany","Djibouti","Denmark","Dominica","Dominican Republic","Algeria","Ecuador","Estonia","Egypt","Western Sahara","Eritrea","Spain","Ethiopia","Finland","Fiji","Falkland Islands (Malvinas)","Micronesia, Federated States Of","Faroe Islands","France","Gabon","United Kingdom","Grenada","Georgia","French Guiana","Guernsey","Ghana","Gibraltar","Greenland","Gambia","Guinea","Guadeloupe","Equatorial Guinea","Greece","South Georgia and the South Sandwich Islands","Guatemala","Guam","Guinea-Bissau","Guyana","Hong Kong","Heard and McDonald Islands","Honduras","Croatia","Haiti","Hungary","Indonesia","Ireland","Israel","Isle of Man","India","British Indian Ocean Territory","Iraq","Iran, Islamic Republic Of","Iceland","Italy","Jersey","Jamaica","Jordan","Japan","Kenya","Kyrgyzstan","Cambodia","Kiribati","Comoros","Saint Kitts And Nevis","Korea, Democratic People's Republic Of","Korea, Republic of","Kuwait","Cayman Islands","Kazakhstan","Lao People's Democratic Republic","Lebanon","Saint Lucia","Liechtenstein","Sri Lanka","Liberia","Lesotho","Lithuania","Luxembourg","Latvia","Libya","Morocco","Monaco","Moldova, Republic of","Montenegro","Saint Martin","Madagascar","Marshall Islands","Macedonia, the Former Yugoslav Republic Of","Mali","Myanmar","Mongolia","Macao","Northern Mariana Islands","Martinique","Mauritania","Montserrat","Malta","Mauritius","Maldives","Malawi","Mexico","Malaysia","Mozambique","Namibia","New Caledonia","Niger","Norfolk Island","Nigeria","Nicaragua","Netherlands","Norway","Nepal","Nauru","Niue","New Zealand","Oman","Panama","Peru","French Polynesia","Papua New Guinea","Philippines","Pakistan","Poland","Saint Pierre And Miquelon","Pitcairn","Puerto Rico","Palestine, State of","Portugal","Palau","Paraguay","Qatar","Réunion","Romania","Serbia","Russian Federation","Rwanda","Saudi Arabia","Solomon Islands","Seychelles","Sudan","Sweden","Singapore","Saint Helena","Slovenia","Svalbard And Jan Mayen","Slovakia","Sierra Leone","San Marino","Senegal","Somalia","Suriname","South Sudan","Sao Tome and Principe","El Salvador","Sint Maarten","Syrian Arab Republic","Swaziland","Turks and Caicos Islands","Chad","French Southern Territories","Togo","Thailand","Tajikistan","Tokelau","Timor-Leste","Turkmenistan","Tunisia","Tonga","Turkey","Trinidad and Tobago","Tuvalu","Taiwan, Republic Of China","Tanzania, United Republic of","Ukraine","United Arab Emirates","Uganda","United States Minor Outlying Islands","United States","Uruguay","Uzbekistan","Holy See (Vatican City State)","Saint Vincent And The Grenadines","Venezuela, Bolivarian Republic of","Virgin Islands, British","Virgin Islands, U.S.","Vietnam","Vanuatu","Wallis and Futuna","Samoa","Yemen","Mayotte","South Africa","Zambia","Zimbabwe"];exports.Countries=Countries;var States=[{"short":"AL","name":"Alabama","country":"US"},{"short":"AK","name":"Alaska","country":"US"},{"short":"AZ","name":"Arizona","country":"US"},{"short":"AR","name":"Arkansas","country":"US"},{"short":"CA","name":"California","country":"US"},{"short":"CO","name":"Colorado","country":"US"},{"short":"CT","name":"Connecticut","country":"US"},{"short":"DC","name":"District of Columbia","country":"US"},{"short":"DE","name":"Delaware","country":"US"},{"short":"FL","name":"Florida","country":"US"},{"short":"GA","name":"Georgia","country":"US"},{"short":"HI","name":"Hawaii","country":"US"},{"short":"ID","name":"Idaho","country":"US"},{"short":"IL","name":"Illinois","country":"US"},{"short":"IN","name":"Indiana","country":"US"},{"short":"IA","name":"Iowa","country":"US"},{"short":"KS","name":"Kansas","country":"US"},{"short":"KY","name":"Kentucky","country":"US"},{"short":"LA","name":"Louisiana","country":"US"},{"short":"ME","name":"Maine","country":"US"},{"short":"MD","name":"Maryland","country":"US"},{"short":"MA","name":"Massachusetts","country":"US"},{"short":"MI","name":"Michigan","country":"US"},{"short":"MN","name":"Minnesota","country":"US"},{"short":"MS","name":"Mississippi","country":"US"},{"short":"MO","name":"Missouri","country":"US"},{"short":"MT","name":"Montana","country":"US"},{"short":"NE","name":"Nebraska","country":"US"},{"short":"NV","name":"Nevada","country":"US"},{"short":"NH","name":"New Hampshire","country":"US"},{"short":"NJ","name":"New Jersey","country":"US"},{"short":"NM","name":"New Mexico","country":"US"},{"short":"NY","name":"New York","country":"US"},{"short":"NC","name":"North Carolina","country":"US"},{"short":"ND","name":"North Dakota","country":"US"},{"short":"OH","name":"Ohio","country":"US"},{"short":"OK","name":"Oklahoma","country":"US"},{"short":"OR","name":"Oregon","country":"US"},{"short":"PA","name":"Pennsylvania","country":"US"},{"short":"RI","name":"Rhode Island","country":"US"},{"short":"SC","name":"South Carolina","country":"US"},{"short":"SD","name":"South Dakota","country":"US"},{"short":"TN","name":"Tennessee","country":"US"},{"short":"TX","name":"Texas","country":"US"},{"short":"UT","name":"Utah","country":"US"},{"short":"VT","name":"Vermont","country":"US"},{"short":"VA","name":"Virginia","country":"US"},{"short":"WA","name":"Washington","country":"US"},{"short":"WV","name":"West Virginia","country":"US"},{"short":"WI","name":"Wisconsin","country":"US"},{"short":"WY","name":"Wyoming","country":"US"},{"short":"AS","name":"American Samoa","country":"US"},{"short":"GU","name":"Guam","country":"US"},{"short":"MP","name":"Northern Mariana Islands","country":"US"},{"short":"PR","name":"Puerto Rico","country":"US"},{"short":"UM","name":"United States Minor Outlying Islands","country":"US"},{"short":"VI","name":"Virgin Islands","country":"US"}];exports.States=States;var Canada=[{"short":"AB","name":"Alberta","country":"CA"},{"short":"BC","name":"British Columbia","country":"CA"},{"short":"MB","name":"Manitoba","country":"CA"},{"short":"NB","name":"New Brunswick","country":"CA"},{"short":"NL","name":"Newfoundland and Labrador","country":"CA","alt":["Newfoundland","Labrador"]},{"short":"NS","name":"Nova Scotia","country":"CA"},{"short":"NU","name":"Nunavut","country":"CA"},{"short":"NT","name":"Northwest Territories","country":"CA"},{"short":"ON","name":"Ontario","country":"CA"},{"short":"PE","name":"Prince Edward Island","country":"CA"},{"short":"QC","name":"Quebec","country":"CA"},{"short":"SK","name":"Saskatchewan","country":"CA"},{"short":"YT","name":"Yukon","country":"CA"}];exports.Canada=Canada;var Australia=[{"short":"ACT","name":"Australian Capital Territory","country":"AU"},{"short":"CX","name":"Christmas Island","country":"AU"},{"short":"CC","name":"Cocos Islands","alt":["Keeling Islands"],"country":"AU"},{"short":"HM","name":"Heard Island and McDonald Islands","country":"AU"},{"short":"JBT","name":"Jervis Bay Territory","country":"AU"},{"short":"NSW","name":"New South Wales","country":"AU"},{"short":"NF","name":"Norfolk Island","country":"AU"},{"short":"NT","name":"Northern Territory","country":"AU"},{"short":"QLD","name":"Queensland","country":"AU"},{"short":"SA","name":"South Australia","country":"AU"},{"short":"TAS","name":"Tasmania","country":"AU"},{"short":"VIC","name":"Victoria","country":"AU"},{"short":"WA","name":"Western Australia","country":"AU"}];exports.Australia=Australia;var Mexico=[{"name":"Aguascalientes","short":"AG","alt":["AGS"],"country":"MX"},{"name":"Baja California","short":"BC","alt":["BCN"],"country":"MX"},{"name":"Baja California Sur","short":"BS","alt":["BCS"],"country":"MX"},{"name":"Campeche","short":"CM","alt":["Camp","CAM"],"country":"MX"},{"name":"Chiapas","short":"CS","alt":["Chis","CHP"],"country":"MX"},{"name":"Chihuahua","short":"CH","alt":["Chih","CHH"],"country":"MX"},{"name":"Coahuila","short":"MX","alt":["Coah","COA"],"country":"MX"},{"name":"Colima","short":"CL","alt":["COL"],"country":"MX"},{"name":"Federal District","short":"DF","alt":["DIF"],"country":"MX"},{"name":"Durango","short":"DG","alt":["Dgo","DUR"],"country":"MX"},{"name":"Guanajuato","short":"GT","alt":["Gto","GUA"],"country":"MX"},{"name":"Guerrero","short":"GR","alt":["Gro","GRO"],"country":"MX"},{"name":"Hidalgo","short":"HG","alt":["Hgo","HID"],"country":"MX"},{"name":"Jalisco","short":"JA","alt":["Jal","JAL"],"country":"MX"},{"name":"Mexico","short":"ME","alt":["Edomex","MEX"],"country":"MX"},{"name":"Michoacán","short":"MI","alt":["Mich","MIC"],"country":"MX"},{"name":"Morelos","short":"MO","alt":["Mor","MOR"],"country":"MX"},{"name":"Nayarit","short":"NA","alt":["Nay","NAY"],"country":"MX"},{"name":"Nuevo León","short":"NL","alt":["NLE"],"country":"MX"},{"name":"Oaxaca","short":"OA","alt":["Oax","OAX"],"country":"MX"},{"name":"Puebla","short":"PU","alt":["Pue","PUE"],"country":"MX"},{"name":"Querétaro","short":"QE","alt":["Qro","QUE"],"country":"MX"},{"name":"Quintana Roo","short":"QR","alt":["Q Roo","ROO"],"country":"MX"},{"name":"San Luis Potosí","short":"SL","alt":["SLP"],"country":"MX"},{"name":"Sinaloa","short":"SI","alt":["SIN"],"country":"MX"},{"name":"Sonora","short":"SO","alt":["SON"],"country":"MX"},{"name":"Tabasco","short":"TB","alt":["TAB"],"country":"MX"},{"name":"Tamaulipas","short":"TM","alt":["Tamps","TAM"],"country":"MX"},{"name":"Tlaxcala","short":"TL","alt":["Tlax","TLA"],"country":"MX"},{"name":"Veracruz","short":"VE","alt":["VER"],"country":"MX"},{"name":"Yucatán","short":"YU","alt":["YUC"],"country":"MX"},{"name":"Zacatecas","short":"ZA","alt":["ZAC"],"country":"MX"}];exports.Mexico=Mexico;var China=[{"name":"重庆","short":"渝","country":"CN"},{"name":"黑龙江","short":"黑","country":"CN"},{"name":"吉林","short":"吉","country":"CN"},{"name":"海南","short":"琼","country":"CN"},{"name":"北京","short":"京","country":"CN"},{"name":"辽宁","short":"辽","country":"CN"},{"name":"内蒙古","short":"蒙","country":"CN"},{"name":"西藏","short":"藏","country":"CN"},{"name":"青海","short":"青","country":"CN"},{"name":"宁夏","short":"宁","country":"CN"},{"name":"新疆","short":"新","country":"CN"},{"name":"甘肃","short":"甘","country":"CN"},{"name":"河北","short":"冀","country":"CN"},{"name":"河南","short":"豫","country":"CN"},{"name":"湖北","short":"鄂","country":"CN"},{"name":"湖南","short":"湘","country":"CN"},{"name":"山东","short":"鲁","country":"CN"},{"name":"江苏","short":"苏","country":"CN"},{"name":"安徽","short":"皖","country":"CN"},{"name":"山西","short":"晋","country":"CN"},{"name":"陕西","short":"陕","country":"CN"},{"name":"四川","short":"川","country":"CN"},{"name":"云南","short":"滇","country":"CN"},{"name":"贵州","short":"黔","country":"CN"},{"name":"浙江","short":"浙","country":"CN"},{"name":"福建","short":"闽","country":"CN"},{"name":"广西","short":"桂","country":"CN"},{"name":"上海","short":"沪","country":"CN"},{"name":"天津","short":"津","country":"CN"},{"name":"香港","short":"港","country":"CN"},{"name":"澳门","short":"澳","country":"CN"},{"name":"台湾","short":"台","country":"CN"},{"name":"江西","short":"赣","country":"CN"},{"name":"广东","short":"粤","country":"CN"}];exports.China=China;}),96190:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.canvasToBlob=canvasToBlob;exports.createDataURLFromURL=createDataURLFromURL;exports.dataURIToBlob=dataURIToBlob;exports.promisifiedFileReader=promisifiedFileReader;var _uuid=__webpack_require__(21614);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function canvasToBlob(canvasElement){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return new Promise(function(resolve,reject){if(HTMLCanvasElement.prototype.toBlob){canvasElement.toBlob.apply(canvasElement,[function(blob){return resolve(blob);}].concat(_toConsumableArray(options)));}else{resolve(dataURIToBlob(canvasElement.toDataURL.apply(canvasElement,_toConsumableArray(options))));}});}
function createDataURLFromURL(src,dimensions){return new Promise(function(resolve,reject){var image=new Image();image.crossOrigin='use credentials';var canvas=document.createElement('canvas');var canvasContext=canvas.getContext('2d');image.onload=function(){var width=dimensions?dimensions.width:image.width;var height=dimensions?dimensions.height:image.height;canvas.width=width;canvas.height=height;canvasContext.drawImage(image,0,0,width,height);resolve(canvas.toDataURL());};image.onerror=function(err){return reject(err);};image.src=src;});}
function dataURIToBlob(dataURI){return new Promise(function(resolve,reject){var _dataURI$split=dataURI.split(','),_dataURI$split2=_slicedToArray(_dataURI$split,2),header=_dataURI$split2[0],data=_dataURI$split2[1];var byteString=header.indexOf('base64')!==-1?atob(data):decodeURI(data);var mimestring=header.split(':')[1].split(';')[0];var content=[];for(var i=0;i<byteString.length;i++){content[i]=byteString.charCodeAt(i);}
resolve(new Blob([new Uint8Array(content)],{type:mimestring}));});}
function promisifiedFileReader(file){return new Promise(function(resolve,reject){var reader=new FileReader();reader.onload=function(upload){return resolve({dataUrl:upload.target.result,hash:(0,_uuid.v4)(),rawFile:file});};reader.onerror=function(err){return reject(err);};reader.readAsDataURL(file);});}}),6654:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _markdownIt=_interopRequireDefault(__webpack_require__(9980));var _markdownItEmoji=_interopRequireDefault(__webpack_require__(46635));var _highlightjs=_interopRequireDefault(__webpack_require__(8546));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var markdown=new _markdownIt["default"]({breaks:true,linkify:true,xhtmlOut:true}).use(_markdownItEmoji["default"]).use(_highlightjs["default"]).disable(['image','hr','heading','lheading']);var defaultRender=markdown.renderer.rules.link_open||function(tokens,idx,options,env,self){return self.renderToken(tokens,idx,options);};markdown.renderer.rules.link_open=function(tokens,idx,options,env,self){var aIndex=tokens[idx].attrIndex('target');if(aIndex<0){tokens[idx].attrPush(['target','_blank']);}else{tokens[idx].attrs[aIndex][1]='_blank';}
var bIndex=tokens[idx].attrIndex('rel');if(bIndex<0){tokens[idx].attrPush(['rel','noopener noreferrer nofollow']);}else{tokens[idx].attrs[aIndex][1]='noopener noreferrer nofollow';}
return defaultRender(tokens,idx,options,env,self);};var _default=markdown;exports["default"]=_default;}),15911:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=smoothScroll;var _requestAnimationFrame=__webpack_require__(93637);function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
function doAbort(){return noWindow()||oldBrowser();}
function easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1;}
function getEdge(element,start){var side=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'top';if(element.nodeName==='HTML')return-start;return element.getBoundingClientRect()[side]+start;}
function noWindow(){return(typeof window==="undefined"?"undefined":_typeof(window))!=='object'||(typeof document==="undefined"?"undefined":_typeof(document))!=='object';}
function oldBrowser(){return document.querySelectorAll===void 0||window.pageYOffset===void 0||history.pushState===void 0;}
function position(start,end,elapsed,duration){if(elapsed>duration)return end;return start+(end-start)*easeInOutCubic(elapsed/duration);}
function scrollInContainer(target,duration,container,horizontal){var scrollCoord=horizontal?'scrollLeft':'scrollTop';var posCoord=horizontal?'left':'top';var start=container[scrollCoord];var end=typeof target==='number'?parseInt(target):target.getBoundingClientRect()[posCoord]+container[scrollCoord];var action=function action(newPosition){container[scrollCoord]=newPosition;};return{action:action,start:start,end:end};}
function scrollInWindow(target,duration,horizontal){var start=horizontal?window.pageXOffset:window.pageYOffset;var otherCoord=horizontal?window.pageYOffset:window.pageXOffset;var end=typeof target==='number'?parseInt(target):getEdge(target,start,horizontal?'left':'top');var action=horizontal?function(newPosition){return window.scroll(newPosition,otherCoord);}:function(newPosition){return window.scroll(otherCoord,newPosition);};return{action:action,start:start,end:end};}
function step(_ref){var start=_ref.start,end=_ref.end,clock=_ref.clock,duration=_ref.duration,action=_ref.action,callback=_ref.callback,target=_ref.target;var elapsed=Date.now()-clock;action(position(start,end,elapsed,duration));if(elapsed>duration){if(typeof callback==='function'){callback(target);}}else{(0,_requestAnimationFrame.requestAnimationFrame)(function(){return step({start:start,end:end,clock:clock,duration:duration,action:action,callback:callback,target:target});});}}
function smoothScroll(target){var duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var callback=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var container=arguments.length>3&&arguments[3]!==undefined?arguments[3]:window;var horizontal=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;if(doAbort())return;var _ref2=container===window?scrollInWindow(target,duration,horizontal):scrollInContainer(target,duration,container,horizontal),action=_ref2.action,start=_ref2.start,end=_ref2.end;var clock=Date.now();step({start:start,end:end,clock:clock,duration:duration,action:action,callback:callback,target:target});}}),6112:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _video_info=_interopRequireDefault(__webpack_require__(13913));var _video_viewer=_interopRequireDefault(__webpack_require__(73259));var _push_state_dialog=_interopRequireDefault(__webpack_require__(64200));var _createImpression=_interopRequireDefault(__webpack_require__(71203));var _seoConfig=_interopRequireDefault(__webpack_require__(72889));var _history=__webpack_require__(58886);var _layout=_interopRequireDefault(__webpack_require__(42721));var _video_dialog=_interopRequireDefault(__webpack_require__(95829));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DialogBody=function DialogBody(_ref){var entity=_ref.entity;return _react["default"].createElement("div",{className:"".concat(_layout["default"].container," ").concat(_video_dialog["default"].container)},_react["default"].createElement("div",{className:_layout["default"].wrapper960},entity&&_react["default"].createElement("div",null,_react["default"].createElement(_video_viewer["default"],{video:entity}),_react["default"].createElement(_video_info["default"],{inDialog:true,video:entity}))));};var VideoDialog=function(_Component){_inherits(VideoDialog,_Component);var _super=_createSuper(VideoDialog);function VideoDialog(props){var _this;_classCallCheck(this,VideoDialog);_this=_super.call(this,props);_this.buildPath=_this.buildPath.bind(_assertThisInitialized(_this));_this.handleDismiss=_this.handleDismiss.bind(_assertThisInitialized(_this));_this.handleOpen=_this.handleOpen.bind(_assertThisInitialized(_this));_this.history=(0,_history.createSimpleHistory)(_this.props.pathHelpers.rootPath);_this._dialog;return _this;}
_createClass(VideoDialog,[{key:"_summonDialog",value:function _summonDialog(video){if(this._dialog)this._dialog._summonDialog(video);}},{key:"buildPath",value:function buildPath(video){return "".concat(this.props.pathHelpers.videosPath,"/").concat(video.id);}},{key:"handleDismiss",value:function handleDismiss(fromPopAction){this.props.onDismiss();}},{key:"handleOpen",value:function handleOpen(fromPopAction,video){this.props.seoHandler.reportView({config:_seoConfig["default"],data:video,path:'/*'});(0,_createImpression["default"])({type:'Video',id:video.id,a:'modal',c:'videos'});}},{key:"render",value:function render(){var _this2=this;return _react["default"].createElement(_push_state_dialog["default"],{ref:function ref(c){return _this2._dialog=c;},BodyComponent:DialogBody,buildPath:this.buildPath,fullScreen:true,history:this.history,onDismiss:this.handleDismiss,onOpen:this.handleOpen,theme:"dark",wrapperClassName:_video_dialog["default"].dialogWrapper});}}]);return VideoDialog;}(_react.Component);VideoDialog.propTypes={onDismiss:_propTypes["default"].func,pathHelpers:_propTypes["default"].shape({rootPath:_propTypes["default"].string.isRequired,videosPath:_propTypes["default"].string.isRequired}).isRequired,seoHandler:_propTypes["default"].shape({reportView:_propTypes["default"].func.isRequired}).isRequired};VideoDialog.defaultProps={onDismiss:function onDismiss(){}};var _default=VideoDialog;exports["default"]=_default;}),13913:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Markdown=_interopRequireDefault(__webpack_require__(6654));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _video_info=_interopRequireDefault(__webpack_require__(88563));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var VideoInfo=function VideoInfo(_ref){var inDialog=_ref.inDialog,video=_ref.video;return _react["default"].createElement("div",null,_react["default"].createElement("header",{className:_layout["default"].marginTop30},_react["default"].createElement("h1",{className:"".concat(_typography["default"].h2," ").concat(inDialog?_typography["default"].white:'')},video.title)),_react["default"].createElement("div",{className:"".concat(_typography["default"].bodyM," ").concat(inDialog?_typography["default"].white:'')},_react["default"].createElement("section",{className:_layout["default"].marginTop10},video.category),_react["default"].createElement("section",{className:"".concat(_layout["default"].marginTop15," ").concat(inDialog?_video_info["default"].hasLinksWhite:_video_info["default"].hasLinks),dangerouslySetInnerHTML:{__html:_Markdown["default"].render(video.description)}})));};VideoInfo.propTypes={inDialog:_propTypes["default"].bool,video:_propTypes["default"].shape({category:_propTypes["default"].string.isRequired,description:_propTypes["default"].string.isRequired,id:_propTypes["default"].number.isRequired,title:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired};VideoInfo.defaultProps={inDialog:false};var _default=VideoInfo;exports["default"]=_default;}),73259:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _responsive_iframe=_interopRequireDefault(__webpack_require__(20114));var _video=__webpack_require__(59359);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var VideoViewer=function VideoViewer(_ref){var video=_ref.video;var src=(0,_video.getEmbedUrl)(video.url,true);return _react["default"].createElement(_responsive_iframe["default"],{src:src});};VideoViewer.propTypes={video:_propTypes["default"].shape({url:_propTypes["default"].string.isRequired}).isRequired};var _default=VideoViewer;exports["default"]=_default;}),63904:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _clickOutsideListener=_interopRequireDefault(__webpack_require__(99167));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ClickOutsideWrapper=function(_Component){_inherits(ClickOutsideWrapper,_Component);var _super=_createSuper(ClickOutsideWrapper);function ClickOutsideWrapper(props){var _this;_classCallCheck(this,ClickOutsideWrapper);_this=_super.call(this,props);_this._listener;_this._wrapper=_react["default"].createRef();return _this;}
_createClass(ClickOutsideWrapper,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;if(this._wrapper){setTimeout(function(){return _this2._addListener();},10);}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this._listener)this._listener.remove();}},{key:"_addListener",value:function _addListener(){var _this3=this;this._listener=(0,_clickOutsideListener["default"])(function(){return _this3._wrapper.current;},function(e){return _this3.props.onClickOutside(e);},this.props.targetWillUnmount);}},{key:"render",value:function render(){return _react["default"].createElement("div",{className:this.props.className,ref:this._wrapper,onClick:this.props.onClick,style:this.props.style},this.props.children);}}]);return ClickOutsideWrapper;}(_react.Component);ClickOutsideWrapper.propTypes={className:_propTypes["default"].string,onClick:_propTypes["default"].func,onClickOutside:_propTypes["default"].func,style:_propTypes["default"].object,targetWillUnmount:_propTypes["default"].bool};ClickOutsideWrapper.defaultProps={className:'',onClick:function onClick(){},onClickOutside:function onClickOutside(){},style:null,targetWillUnmount:false};var _default=ClickOutsideWrapper;exports["default"]=_default;}),88286:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _window=__webpack_require__(33852);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ClientRectReporter=function(_PureComponent){_inherits(ClientRectReporter,_PureComponent);var _super=_createSuper(ClientRectReporter);function ClientRectReporter(props){var _this;_classCallCheck(this,ClientRectReporter);_this=_super.call(this,props);_this._root;return _this;}
_createClass(ClientRectReporter,[{key:"componentDidMount",value:function componentDidMount(){this._reportDims();}},{key:"_reportDims",value:function _reportDims(){if(this._root){var dims=this._root.getBoundingClientRect();this.props.reportDims({dims:dims,offset:dims.top+(0,_window.windowPageYOffset)()});}}},{key:"render",value:function render(){var _this2=this;return _react["default"].createElement("div",{ref:function ref(el){return _this2._root=el;}},this.props.children);}}]);return ClientRectReporter;}(_react.PureComponent);ClientRectReporter.propTypes={reportDims:_propTypes["default"].func.isRequired};var _default=ClientRectReporter;exports["default"]=_default;}),46530:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DropZone=function(_Component){_inherits(DropZone,_Component);var _super=_createSuper(DropZone);function DropZone(props){var _this;_classCallCheck(this,DropZone);_this=_super.call(this,props);_this.state={isDragActive:false};_this.handleDragLeave=_this.handleDragLeave.bind(_assertThisInitialized(_this));_this.handleDragOver=_this.handleDragOver.bind(_assertThisInitialized(_this));_this.handleDrop=_this.handleDrop.bind(_assertThisInitialized(_this));return _this;}
_createClass(DropZone,[{key:"handleDragLeave",value:function handleDragLeave(e){this.setState({isDragActive:false});}},{key:"handleDragOver",value:function handleDragOver(e){e.preventDefault();if(e.dataTransfer){e.dataTransfer.dropEffect='copy';this.setState({isDragActive:true});}}},{key:"handleDrop",value:function handleDrop(e){e.preventDefault();this.setState({isDragActive:false});this.props.onDrop(e);}},{key:"render",value:function render(){var _this$props=this.props,children=_this$props.children,disabled=_this$props.disabled,getClassName=_this$props.getClassName;return _react["default"].createElement("div",{className:getClassName(!disabled&&this.state.isDragActive),onDragLeave:disabled?null:this.handleDragLeave,onDragOver:disabled?null:this.handleDragOver,onDrop:disabled?null:this.handleDrop},children);}}]);return DropZone;}(_react.Component);DropZone.propTypes={disabled:_propTypes["default"].bool,getClassName:_propTypes["default"].func,onDrop:_propTypes["default"].func};DropZone.defaultProps={disabled:false,getClassName:function getClassName(){return '';},onDrop:function onDrop(){}};var _default=DropZone;exports["default"]=_default;}),87327:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _click_outside_wrapper=_interopRequireDefault(__webpack_require__(63904));var _util=_interopRequireDefault(__webpack_require__(48161));var _dropdown=_interopRequireDefault(__webpack_require__(94049));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _getClassName=function _getClassName(_ref){var alignRight=_ref.alignRight,alignTop=_ref.alignTop,className=_ref.className,elevation=_ref.elevation;var hPos=alignRight?_dropdown["default"].right:_dropdown["default"].left;var vPos=alignTop?_dropdown["default"].top:_dropdown["default"].bottom;var shadow=elevation===1?_util["default"].boxShadow:elevation===2?_util["default"].boxShadow2:'';return "".concat(_dropdown["default"].dropdown," ").concat(className," ").concat(hPos," ").concat(vPos," ").concat(shadow);};var Dropdown=function Dropdown(props){return _react["default"].createElement(_click_outside_wrapper["default"],{className:_getClassName(props),onClick:props.onClick,onClickOutside:props.dismiss,style:props.style,targetWillUnmount:props.targetWillUnmount},props.children);};Dropdown.propTypes={alignRight:_propTypes["default"].bool,alignTop:_propTypes["default"].bool,className:_propTypes["default"].string,dismiss:_propTypes["default"].func,elevation:_propTypes["default"].oneOf([0,1,2]),onClick:_propTypes["default"].func,style:_propTypes["default"].object,targetWillUnmount:_propTypes["default"].bool};Dropdown.defaultProps={alignRight:false,alignTop:false,className:'',elevation:1,dismiss:function dismiss(){},onClick:function onClick(){},style:null,targetWillUnmount:false};var _default=Dropdown;exports["default"]=_default;}),27605:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=__webpack_require__(67294);var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _types=__webpack_require__(88742);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ErrorBoundary=function(_Component){_inherits(ErrorBoundary,_Component);var _super=_createSuper(ErrorBoundary);function ErrorBoundary(props){var _this;_classCallCheck(this,ErrorBoundary);_this=_super.call(this,props);_this.state={hasError:false};return _this;}
_createClass(ErrorBoundary,[{key:"componentDidCatch",value:function componentDidCatch(error,info){(0,_error_handler["default"])(error,info);this.props.onError(error,info);}},{key:"_getFallbackView",value:function _getFallbackView(){return(0,_types.isAFunction)(this.props.fallbackView)?this.props.fallbackView():this.props.fallbackView;}},{key:"render",value:function render(){if(this.state.hasError){return this._getFallbackView();}
return this.props.children;}}],[{key:"getDerivedStateFromError",value:function getDerivedStateFromError(error){return{hasError:true};}}]);return ErrorBoundary;}(_react.Component);ErrorBoundary.propTypes={fallbackView:_propTypes["default"].any,onError:_propTypes["default"].func};ErrorBoundary.defaultProps={fallbackView:null,onError:function onError(){}};var _default=ErrorBoundary;exports["default"]=_default;}),78960:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lodash=_interopRequireDefault(__webpack_require__(91296));var _deepEqual=_interopRequireDefault(__webpack_require__(10251));var _global_portal=_interopRequireDefault(__webpack_require__(39356));var _window=__webpack_require__(33852);var _document=__webpack_require__(26208);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var GlobalPortalPositioner=function(_Component){_inherits(GlobalPortalPositioner,_Component);var _super=_createSuper(GlobalPortalPositioner);function GlobalPortalPositioner(props){var _this;_classCallCheck(this,GlobalPortalPositioner);_this=_super.call(this,props);_this.state={position:_this._getPosition()};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleResize=(0,_lodash["default"])(_this.handleChange,200);return _this;}
_createClass(GlobalPortalPositioner,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener('scroll',this.handleChange,true);window.addEventListener('resize',this.handleResize);}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener('scroll',this.handleChange,true);window.removeEventListener('resize',this.handleResize);}},{key:"handleChange",value:function handleChange(e){var position=this._getPosition();if(!(0,_deepEqual["default"])(position,this.state.position))this.setState({position:position});}},{key:"_getPosition",value:function _getPosition(){var target=this.props.getTarget();if(!(0,_document.isDomElement)(target))return null;var rect=target.getBoundingClientRect();var top=rect.top+rect.height/2+(0,_window.windowPageYOffset)();var tryLeft=rect.left+(0,_window.windowPageXOffset)()-this.props.width;var left=tryLeft>0?tryLeft:rect.right+(0,_window.windowPageXOffset)();return{left:left,top:top};}},{key:"_getStyle",value:function _getStyle(){if(!this.state.position)return{position:'absolute',visibility:'hidden'};return Object.assign({position:'absolute',width:this.props.width},this.state.position);}},{key:"render",value:function render(){return _react["default"].createElement(_global_portal["default"],null,_react["default"].createElement("div",{style:this._getStyle()},this.props.children));}}]);return GlobalPortalPositioner;}(_react.Component);GlobalPortalPositioner.propTypes={getTarget:_propTypes["default"].func.isRequired,width:_propTypes["default"].number.isRequired};GlobalPortalPositioner.defaultProps={};var _default=GlobalPortalPositioner;exports["default"]=_default;}),44511:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _paginated_list=_interopRequireDefault(__webpack_require__(11683));var _execEnvironment=__webpack_require__(63509);var _accessors=__webpack_require__(4887);var _predicates=__webpack_require__(20918);var _window=__webpack_require__(33852);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var GraphQLPaginatedList=function(_Component){_inherits(GraphQLPaginatedList,_Component);var _super=_createSuper(GraphQLPaginatedList);function GraphQLPaginatedList(props){var _this;_classCallCheck(this,GraphQLPaginatedList);_this=_super.call(this,props);_this.state={currentQuery:{metadata:{current_page:0,next_page:null,prev_page:null,total_pages:0},records:[]},filters:props.filters,initialized:false,isLoading:true};_this.onFilterSelect=_this.onFilterSelect.bind(_assertThisInitialized(_this));_this.onPaginatorClick=_this.onPaginatorClick.bind(_assertThisInitialized(_this));_this._isMounted;return _this;}
_createClass(GraphQLPaginatedList,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;if((0,_execEnvironment.canUseDOM)()){if(this.props.getPaginatorHook)this.props.getPaginatorHook(this.__onPaginatorHook.bind(this));this.props.reportPageView();this._initializeFromUrl();this._readyUIFilterState();}}},{key:"UNSAFE_componentWillUpdate",value:function UNSAFE_componentWillUpdate(nextProps){this._onHistoryChange(nextProps);}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;if(this.props.getRequestPageHook){this.props.getRequestPageHook(undefined);}}},{key:"__onPaginatorHook",value:function __onPaginatorHook(page){return this.onPaginatorClick(page);}},{key:"_initializeFromUrl",value:function _initializeFromUrl(){var _this2=this;var shouldPushToHistory=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;return this.props.graphQLService.initializeFromUrl(this.props.graphQLArguments,shouldPushToHistory).then(function(currentQuery){_this2._safelySetState(function(){return _this2.setState({currentQuery:currentQuery,initialized:true,isLoading:false});});_this2.props.propagateQuery(currentQuery);})["catch"](function(err){return(0,_error_handler["default"])("GraphQLPaginatedList _initializeFromUrl",err);});}},{key:"_readyUIFilterState",value:function _readyUIFilterState(){var _this3=this;if(!this.state.filters)return;return this.props.graphQLService.mapifySearchQuery().then(function(map){return _this3._getUpdatedFilterState(map);}).then(function(filters){return _this3._safelySetState(function(){return _this3.setState({filters:filters});});})["catch"](function(err){return(0,_error_handler["default"])('_readyUIFilterState',err);});}},{key:"_getUpdatedFilterState",value:function _getUpdatedFilterState(filterMap){var _this4=this;return new Promise(function(resolve,reject){var filterMapKeys=Object.keys(filterMap);var updatedFilters=_this4.state.filters.map(function(filter){return filter.type==='search'?_this4._getUpdatedSearchFilter(filterMap,filterMapKeys,filter):_this4._getUpdatedOptionsFilter(filterMap,filterMapKeys,filter);});resolve(updatedFilters);});}},{key:"_getUpdatedOptionsFilter",value:function _getUpdatedOptionsFilter(filterMap,filterMapKeys,filter){if(filter.key&&filterMapKeys.includes(filter.key)){return Object.assign({},filter,{options:this._updateFilterOptions(filter.options,filterMap[filter['key']])});}else{return Object.assign({},filter,{options:this._resetFilterToDefaultOptions(filter)});}}},{key:"_getUpdatedSearchFilter",value:function _getUpdatedSearchFilter(filterMap,filterMapKeys,filter){if(filter.key&&filterMapKeys.includes(filter.key)){return Object.assign({},filter,{value:filterMap[filter.key]});}else{return Object.assign({},filter,{value:filter["default"]});}}},{key:"_updateFilterOptions",value:function _updateFilterOptions(options,newDefaultValue){return options.reduce(function(acc,option){if(option.active&&!(0,_predicates.doesValuesMatch)(option.value,newDefaultValue)){acc.push(Object.assign({},option,{active:false}));}else if((0,_predicates.doesValuesMatch)(option.value,newDefaultValue)){acc.push(Object.assign({},option,{active:true}));}else{acc.push(option);}
return acc;},[]);}},{key:"_resetFilterToDefaultOptions",value:function _resetFilterToDefaultOptions(filter){var defaultFilter=this.props.filters.filter(function(f){return f.key===filter.key;})[0];return defaultFilter.options.map(function(option,i){if(option["default"]){option.active=true;}else if(option.active){option.active=false;}
return option;});}},{key:"onFilterSelect",value:function onFilterSelect(optionWithQuery){var _this5=this;this.setState({isLoading:true});this.props.reportPageView();return this.props.graphQLService.searchWithFilterString(optionWithQuery.queryString,this.props.graphQLArguments,true).then(function(currentQuery){_this5._safelySetState(function(){return _this5.setState({currentQuery:currentQuery,isLoading:false});});_this5.props.propagateQuery(currentQuery);_this5._readyUIFilterState();})["catch"](function(err){return _this5._safelySetState(function(){return _this5.setState({isLoading:false},function(){return(0,_error_handler["default"])('onFilterSelect',err);});});});}},{key:"onPaginatorClick",value:function onPaginatorClick(page){var _this6=this;this.setState({isLoading:true});this.props.reportPageView();return this.props.graphQLService.searchWithFilterString("page=".concat(page),this.props.graphQLArguments).then(function(currentQuery){_this6._safelySetState(function(){return _this6.setState({currentQuery:currentQuery,isLoading:false},function(){return _this6._scrollTo();});});_this6.props.propagateQuery(currentQuery);})["catch"](function(err){return _this6._safelySetState(function(){return _this6.setState({isLoading:false},function(){return(0,_error_handler["default"])('onPaginatorClick',err);});});});}},{key:"_shouldRefetchOnHistoryChange",value:function _shouldRefetchOnHistoryChange(nextProps){return nextProps.currentHistoryData&&this.props.currentHistoryData&&(0,_accessors.getInObj)(['currentHistoryData','action'],nextProps)==='POP'&&!(0,_predicates.doesObjectPropsMatch)(nextProps.currentHistoryData,this.props.currentHistoryData,'search')&&this.props.validateRefetch(this.props,nextProps);}},{key:"_onHistoryChange",value:function _onHistoryChange(nextProps){if(this._shouldRefetchOnHistoryChange(nextProps)){this.props.reportPageView();this.setState({isLoading:true});this._initializeFromUrl(false);this._readyUIFilterState();}}},{key:"_safelySetState",value:function _safelySetState(){var fn=arguments.length>0&&arguments[0]!==undefined?arguments[0]:function(){};if(this._isMounted)fn();}},{key:"_scrollTo",value:function _scrollTo(){if(this.props.scrollId){var node=document.getElementById(this.props.scrollId);if(node)(0,_smoothScroll["default"])(node);}else{(0,_window.windowScrollTo)(0,0);}}},{key:"_getListView",value:function _getListView(){return this.state.initialized?this._renderListView():this._renderLoaderView();}},{key:"_renderFilters",value:function _renderFilters(){return this.state.initialized?this.state.filters:null;}},{key:"_renderListView",value:function _renderListView(){return _react["default"].createElement(this.props.listComponent,Object.assign({},this.props.listProps,{isLoading:this.state.isLoading,records:this.state.currentQuery.records,transition:this.props.transition}));}},{key:"_renderLoaderView",value:function _renderLoaderView(){if(this.props.loaderComponent===null)return null;return _react["default"].createElement(this.props.loaderComponent,this.props.listProps);}},{key:"render",value:function render(){return _react["default"].createElement(_paginated_list["default"],{filters:this._renderFilters(),onFilterSelect:this.onFilterSelect,onPaginatorClick:this.onPaginatorClick,paginator:{currentPage:this.state.currentQuery.metadata.current_page,nextPage:this.state.currentQuery.metadata.next_page,prevPage:this.state.currentQuery.metadata.prev_page,totalPages:this.state.currentQuery.metadata.total_pages},renderFilters:this.props.renderFilters},this._getListView());}}]);return GraphQLPaginatedList;}(_react.Component);GraphQLPaginatedList.propTypes={currentHistoryData:_propTypes["default"].shape({pathname:_propTypes["default"].string,search:_propTypes["default"].string}),filters:_propTypes["default"].arrayOf(_propTypes["default"].shape({})),getPaginatorHook:_propTypes["default"].func,graphQLArguments:_propTypes["default"].object,graphQLService:_propTypes["default"].object.isRequired,listComponent:_propTypes["default"].func.isRequired,listProps:_propTypes["default"].object,loaderComponent:_propTypes["default"].func,propagateQuery:_propTypes["default"].func,renderFilters:_propTypes["default"].func,reportPageView:_propTypes["default"].func,scrollId:_propTypes["default"].string,transition:_propTypes["default"].func,validateRefetch:_propTypes["default"].func};GraphQLPaginatedList.defaultProps={currentHistoryData:null,filters:null,getPaginatorHook:null,graphQLArguments:{},listProps:{},loaderComponent:null,propagateQuery:function propagateQuery(){},renderFilters:null,reportPageView:function reportPageView(){},scrollId:null,transition:function transition(){},validateRefetch:function validateRefetch(){return true;}};var _default=GraphQLPaginatedList;exports["default"]=_default;}),28600:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=exports.getDummyCells=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _getGridClassNames=_interopRequireDefault(__webpack_require__(66254));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
var getDummyCells=function getDummyCells(ItemComponent,maxCols,className){return _toConsumableArray(new Array(maxCols).keys()).map(function(i){return _react["default"].createElement("div",{key:i,className:className},_react["default"].createElement(ItemComponent,null));});};exports.getDummyCells=getDummyCells;var DummyList=function DummyList(_ref){var ItemComponent=_ref.ItemComponent,_ref$className=_ref.className,className=_ref$className===void 0?'':_ref$className,gutterSize=_ref.gutterSize,_ref$horizontal=_ref.horizontal,horizontal=_ref$horizontal===void 0?false:_ref$horizontal,_ref$maxCols=_ref.maxCols,maxCols=_ref$maxCols===void 0?4:_ref$maxCols;var classNames=(0,_getGridClassNames["default"])(horizontal,maxCols,gutterSize);return _react["default"].createElement("div",{className:"".concat(className," ").concat(classNames.grid)},getDummyCells(ItemComponent,maxCols,classNames.cell));};var _default=DummyList;exports["default"]=_default;}),68201:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DummyList=__webpack_require__(28600);var _getGridClassNames=_interopRequireDefault(__webpack_require__(66254));var _commonOverlay=_interopRequireDefault(__webpack_require__(68506));var _excluded=["isLoading","placeholder","validationFn"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var renderList=function renderList(_ref){var DummyComponent=_ref.DummyComponent,ItemComponent=_ref.ItemComponent,className=_ref.className,injectableConfig=_ref.injectableConfig,gutterSize=_ref.gutterSize,horizontal=_ref.horizontal,isLoading=_ref.isLoading,itemKey=_ref.itemKey,itemProps=_ref.itemProps,loadingIndicator=_ref.loadingIndicator,maxCols=_ref.maxCols,records=_ref.records;var classNames=(0,_getGridClassNames["default"])(horizontal,maxCols,gutterSize);var items=injectableConfig!==null&&records.length>0?_injectComponent(records,injectableConfig):records;return _react["default"].createElement("div",{className:"".concat(classNames.grid," ").concat(className)},items.map(function(item,i){var _Object$assign;var props=Object.assign({},itemProps,(_Object$assign={},_defineProperty(_Object$assign,itemKey,item),_defineProperty(_Object$assign,"itemIndex",i),_Object$assign));return _react["default"].createElement("div",{key:injectableConfig?i:item.hid||item.id||i,className:classNames.cell},_shouldDisplayComponent(i,injectableConfig)?_react["default"].createElement(injectableConfig.component,item):_react["default"].createElement(ItemComponent,props));}),isLoading&&loadingIndicator==='dummy'&&(0,_DummyList.getDummyCells)(DummyComponent,maxCols,classNames.cell));};var _injectComponent=function _injectComponent(records,_ref2){var index=_ref2.index,props=_ref2.props;return records.slice(0,index).concat([props]).concat(records.slice(index));};var _shouldDisplayComponent=function _shouldDisplayComponent(index,injectableConfig){return injectableConfig!==null&&index===injectableConfig.index;};var renderPlaceholder=function renderPlaceholder(placeholder,props){return typeof placeholder==='function'?placeholder(props):placeholder;};var defaultValidationFn=function defaultValidationFn(_ref3){var records=_ref3.records;return records.length>0;};var GridList=function GridList(_ref4){var isLoading=_ref4.isLoading,placeholder=_ref4.placeholder,validationFn=_ref4.validationFn,listProps=_objectWithoutProperties(_ref4,_excluded);return _react["default"].createElement("div",{className:_commonOverlay["default"].parent},validationFn({isLoading:isLoading,records:listProps.records})?renderList(Object.assign({isLoading:isLoading},listProps)):renderPlaceholder(placeholder,listProps),isLoading&&listProps.loadingIndicator==='overlay'&&_react["default"].createElement("div",{className:_commonOverlay["default"].overlay}));};GridList.propTypes={DummyComponent:_propTypes["default"].func,ItemComponent:_propTypes["default"].func,className:_propTypes["default"].string,gutterSize:_propTypes["default"].number,horizontal:_propTypes["default"].bool,injectableConfig:_propTypes["default"].shape({component:_propTypes["default"].func,index:_propTypes["default"].number,props:_propTypes["default"].shape({ad:_propTypes["default"].object,initialized:_propTypes["default"].bool})}),isLoading:_propTypes["default"].bool,itemKey:_propTypes["default"].string,itemProps:_propTypes["default"].object,loadingIndicator:_propTypes["default"].oneOf(['overlay','dummy']),maxCols:_propTypes["default"].number,placeholder:_propTypes["default"].oneOfType([_propTypes["default"].element,_propTypes["default"].func,_propTypes["default"].string]),records:_propTypes["default"].array,validationFn:_propTypes["default"].func};GridList.defaultProps={DummyComponent:function DummyComponent(){return null;},ItemComponent:function ItemComponent(){return null;},className:'',injectableConfig:null,gutterSize:15,horizontal:false,itemKey:'item',itemProps:{},isLoading:false,loadingIndicator:'overlay',maxCols:4,placeholder:'No results',records:[],validationFn:defaultValidationFn};var _default=GridList;exports["default"]=_default;}),26759:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lodash=_interopRequireDefault(__webpack_require__(91296));var _lodash2=_interopRequireDefault(__webpack_require__(93096));var _icon=_interopRequireDefault(__webpack_require__(44509));var _promises=__webpack_require__(25426);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _horizontal_scroll=_interopRequireDefault(__webpack_require__(75481));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var HorizontalScroll=function(_Component){_inherits(HorizontalScroll,_Component);var _super=_createSuper(HorizontalScroll);function HorizontalScroll(props){var _this;_classCallCheck(this,HorizontalScroll);_this=_super.call(this,props);_this.state={leftArrow:false,loading:false,rightArrow:false};_this.fetchMore=_this.fetchMore.bind(_assertThisInitialized(_this));_this.scroll=_this.scroll.bind(_assertThisInitialized(_this));_this.updateInfiniteScrollAndArrows=_this.updateInfiniteScrollAndArrows.bind(_assertThisInitialized(_this));_this.handleScroll=(0,_lodash2["default"])(_this.updateInfiniteScrollAndArrows,100);_this._innerContainer;_this._outerContainer;_this._activePromise;_this._errorCounter=0;return _this;}
_createClass(HorizontalScroll,[{key:"componentDidMount",value:function componentDidMount(){this.handleResize=(0,_lodash["default"])(this.updateInfiniteScrollAndArrows,300);window.addEventListener('resize',this.handleResize);this.updateInfiniteScrollAndArrows();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props.recordsCount!==prevProps.recordsCount||this.state.loading!==prevState.loading){this.updateInfiniteScrollAndArrows();}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this._activePromise)this._activePromise.cancel();window.removeEventListener('resize',this.handleResize);}},{key:"_isScrolledToEnd",value:function _isScrolledToEnd(innerBox,outerBox){return outerBox.right+this.props.buffer>innerBox.right;}},{key:"_setArrowDisplay",value:function _setArrowDisplay(innerBox,outerBox){var isWideEnough=outerBox.right-outerBox.left>=this.props.minWithForArrows;var leftArrow=innerBox.left<outerBox.left&&isWideEnough;var rightArrow=innerBox.right>outerBox.right+2&&isWideEnough;if(leftArrow!==this.state.leftArrow||rightArrow!==this.state.rightArrow){this.setState({leftArrow:leftArrow,rightArrow:rightArrow});}}},{key:"_shouldLoadMore",value:function _shouldLoadMore(innerBox,outerBox){return!this.state.loading&&this._errorCounter<=5&&this.props.recordsCount<this.props.totalRecordsCount&&this._isScrolledToEnd(innerBox,outerBox);}},{key:"fetchMore",value:function fetchMore(){var _this2=this;this.setState({loading:true});this._activePromise=(0,_promises.cancelablePromise)(this.props.fetchMore());return this._activePromise.promise.then(function(res){if(res.promiseCanceled)return;_this2.setState({loading:false},function(){return _this2._errorCounter=0;});})["catch"](function(err){if(err.promiseCanceled)return;(0,_error_handler["default"])('HorizontalScroll fetch error',err);_this2.setState({loading:false});_this2._errorCounter+=1;});}},{key:"scroll",value:function scroll(direction){if(this._outerContainer){var left=this._outerContainer.scrollLeft;var scrollTo=left+this.props.scrollDistance*direction;(0,_smoothScroll["default"])(scrollTo,350,function(){},this._outerContainer,true);}}},{key:"updateInfiniteScrollAndArrows",value:function updateInfiniteScrollAndArrows(){if(this._outerContainer&&this._innerContainer){var innerBox=this._innerContainer.getBoundingClientRect();var outerBox=this._outerContainer.getBoundingClientRect();this._setArrowDisplay(innerBox,outerBox);if(this._shouldLoadMore(innerBox,outerBox)){this.fetchMore();}}}},{key:"render",value:function render(){var _this3=this;var _this$props=this.props,children=_this$props.children,classList=_this$props.classList;return _react["default"].createElement("div",{className:"".concat(_horizontal_scroll["default"].wrapper," ").concat(classList.wrapper)},_react["default"].createElement("div",{ref:function ref(el){return _this3._outerContainer=el;},className:"".concat(_horizontal_scroll["default"].scrollContainer," ").concat(_layout["default"].noScrollBar),onScroll:this.handleScroll},_react["default"].createElement("div",{ref:function ref(el){return _this3._innerContainer=el;},className:"".concat(_horizontal_scroll["default"].itemsContainer," ").concat(classList.scrollerInner)},children,this.state.loading&&_react["default"].createElement("div",{className:_horizontal_scroll["default"].loader},_react["default"].createElement("i",{className:"fa fa-circle-o-notch fa-spin"})))),this.state.leftArrow&&_react["default"].createElement("button",{className:_horizontal_scroll["default"].scrollLeft,onClick:function onClick(e){return _this3.scroll(-1);}},_react["default"].createElement(_icon["default"],{className:_typography["default"].pebble,name:"arrow-left",size:16})),this.state.rightArrow&&_react["default"].createElement("button",{className:_horizontal_scroll["default"].scrollRight,onClick:function onClick(e){return _this3.scroll(1);}},_react["default"].createElement(_icon["default"],{className:_typography["default"].pebble,name:"arrow-right",size:16})));}}]);return HorizontalScroll;}(_react.Component);HorizontalScroll.propTypes={buffer:_propTypes["default"].number,classList:_propTypes["default"].shape({scrollerInner:_propTypes["default"].string,scrollerItem:_propTypes["default"].string,wrapper:_propTypes["default"].string}),fetchMore:_propTypes["default"].func,minWithForArrows:_propTypes["default"].number,recordsCount:_propTypes["default"].number.isRequired,scrollDistance:_propTypes["default"].number,totalRecordsCount:_propTypes["default"].number.isRequired};HorizontalScroll.defaultProps={buffer:150,classList:{},fetchMore:function fetchMore(){return Promise.resolve();},minWithForArrows:480,scrollDistance:250};var _default=HorizontalScroll;exports["default"]=_default;}),56072:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _icon=_interopRequireDefault(__webpack_require__(44509));var _lodash=__webpack_require__(96486);var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _layout=_interopRequireDefault(__webpack_require__(42721));var _horizontal_scroll_box=_interopRequireDefault(__webpack_require__(44490));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var LEFT=-1;var RIGHT=1;var HorizontalScrollBox=function(_Component){_inherits(HorizontalScrollBox,_Component);var _super=_createSuper(HorizontalScrollBox);function HorizontalScrollBox(props){var _this;_classCallCheck(this,HorizontalScrollBox);_this=_super.call(this,props);_this.state={leftArrow:false,rightArrow:false};_this.scroll=_this.scroll.bind(_assertThisInitialized(_this));_this.setArrowsDisplay=_this.setArrowsDisplay.bind(_assertThisInitialized(_this));_this.handleScroll=(0,_lodash.throttle)(_this.setArrowsDisplay,100);_this._scrollContainer;return _this;}
_createClass(HorizontalScrollBox,[{key:"componentDidMount",value:function componentDidMount(){this.setArrowsDisplay();this.handleResize=(0,_lodash.debounce)(this.setArrowsDisplay,500);window.addEventListener('resize',this.handleResize);}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener('resize',this.handleResize);}},{key:"scroll",value:function scroll(direction){if(this._scrollContainer){var scrollTo=this._scrollContainer.scrollLeft+this.props.scrollDistance*direction;(0,_smoothScroll["default"])(scrollTo,350,function(){},this._scrollContainer,true);}}},{key:"setArrowsDisplay",value:function setArrowsDisplay(){if(this._scrollContainer){var containerViewWidth=this._scrollContainer.getBoundingClientRect().width;var leftArrow=this._scrollContainer.scrollLeft>0;var rightArrow=Math.ceil(this._scrollContainer.scrollLeft+containerViewWidth)<this._scrollContainer.scrollWidth;if(leftArrow!==this.state.leftArrow||rightArrow!==this.state.rightArrow){this.setState({leftArrow:leftArrow,rightArrow:rightArrow});}}}},{key:"_displayArrowLeft",value:function _displayArrowLeft(){var _this2=this;return this.state.leftArrow&&_react["default"].createElement("div",{className:"".concat(_layout["default"].flexCenterItems," ").concat(_horizontal_scroll_box["default"].arrowLeft," ").concat(this.props.classList.arrowLeft),onClick:function onClick(){return _this2.scroll(LEFT);}},_react["default"].createElement(_icon["default"],{name:"arrow-left",size:12}));}},{key:"_displayArrowRight",value:function _displayArrowRight(){var _this3=this;return this.state.rightArrow&&_react["default"].createElement("div",{className:"".concat(_layout["default"].flexCenterItems," ").concat(_horizontal_scroll_box["default"].arrowRight," ").concat(this.props.classList.arrowRight),onClick:function onClick(){return _this3.scroll(RIGHT);}},_react["default"].createElement(_icon["default"],{name:"arrow-right",size:12}));}},{key:"render",value:function render(){var _this4=this;var _this$props=this.props,children=_this$props.children,classList=_this$props.classList;return _react["default"].createElement("div",{className:"".concat(_horizontal_scroll_box["default"].wrapper," ").concat(classList.wrapper)},_react["default"].createElement("div",{ref:function ref(el){return _this4._scrollContainer=el;},className:"".concat(_layout["default"].noScrollBar," ").concat(_horizontal_scroll_box["default"].scrollContainer," ").concat(classList.scrollContainer),onScroll:this.handleScroll},children),this._displayArrowLeft(),this._displayArrowRight());}}]);return HorizontalScrollBox;}(_react.Component);HorizontalScrollBox.propTypes={classList:_propTypes["default"].shape({arrowLeft:_propTypes["default"].string,arrowRight:_propTypes["default"].string,scrollContainer:_propTypes["default"].string,wrapper:_propTypes["default"].string}),scrollDistance:_propTypes["default"].number};HorizontalScrollBox.defaultProps={classList:{arrowLeft:'',arrowRight:'',scrollContainer:'',wrapper:''},scrollDistance:200};var _default=HorizontalScrollBox;exports["default"]=_default;}),99171:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _uuid=__webpack_require__(21614);var _intersection_observer=_interopRequireWildcard(__webpack_require__(75784));var _types=__webpack_require__(88742);var _document=__webpack_require__(26208);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var LazyComponent=function(_Component){_inherits(LazyComponent,_Component);var _super=_createSuper(LazyComponent);function LazyComponent(props){var _this;_classCallCheck(this,LazyComponent);_this=_super.call(this,props);_this.addEventListeners=_this.addEventListeners.bind(_assertThisInitialized(_this));_this.removeEventListeners=_this.removeEventListeners.bind(_assertThisInitialized(_this));_this.handleIntersection=_this.handleIntersection.bind(_assertThisInitialized(_this));_this.handleReveal=_this.handleReveal.bind(_assertThisInitialized(_this));_this.state={dataRef:null,isRevealed:false};_this.unobserve;_this._container;return _this;}
_createClass(LazyComponent,[{key:"componentDidMount",value:function componentDidMount(){this._revealOrListen();}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.removeEventListeners();}},{key:"_getRootMargin",value:function _getRootMargin(){return "".concat(this.props.verticalOffset,"px ").concat(this.props.horizontalOffset,"px");}},{key:"_isInView",value:function _isInView(){return(0,_document.isElementInView)(this._container,{bufferH:this.props.horizontalOffset,bufferV:this.props.verticalOffset});}},{key:"_revealOrListen",value:function _revealOrListen(){return this._isInView()?this.handleReveal():this.addEventListeners();}},{key:"addEventListeners",value:function addEventListeners(){var _this2=this;if(this._container){this.setState({dataRef:(0,_uuid.v4)()},function(){_this2.unobserve=_intersection_observer["default"].observe({callback:_this2.handleIntersection,id:_this2.state.dataRef,options:{rootMargin:_this2._getRootMargin()},target:_this2._container});});}}},{key:"removeEventListeners",value:function removeEventListeners(){if(this.unobserve){this.unobserve();this.unobserve=undefined;}}},{key:"handleIntersection",value:function handleIntersection(entry){if(entry.isIntersecting&&!this.state.isRevealed&&this._container){this.handleReveal();}}},{key:"handleReveal",value:function handleReveal(){var _this3=this;this.setState({isRevealed:true},function(){_this3.props.onReveal();_this3.removeEventListeners();});}},{key:"_renderChildren",value:function _renderChildren(){return(0,_types.isAFunction)(this.props.children)?this.props.children(this.state.isRevealed):this.props.children;}},{key:"render",value:function render(){var _this4=this,_props;var props=(_props={ref:function ref(el){return _this4._container=el;}},_defineProperty(_props,_intersection_observer.INTERSECTION_DATA_ATTR,this.state.dataRef),_defineProperty(_props,"className",this.props.className),_defineProperty(_props,"onClick",this.props.onClick),_defineProperty(_props,"onMouseLeave",this.props.onMouseLeave),_defineProperty(_props,"onMouseOver",this.props.onMouseOver),_defineProperty(_props,"style",this.props.style),_props);var children=this.props.alwaysRenderChildren||this.state.isRevealed?this._renderChildren():null;return _react["default"].createElement(this.props.component,props,children);}}]);return LazyComponent;}(_react.Component);LazyComponent.propTypes={alwaysRenderChildren:_propTypes["default"].bool,className:_propTypes["default"].string,component:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func]),horizontalOffset:_propTypes["default"].number,onClick:_propTypes["default"].func,onMouseLeave:_propTypes["default"].func,onMouseOver:_propTypes["default"].func,onReveal:_propTypes["default"].func,style:_propTypes["default"].object,verticalOffset:_propTypes["default"].number};LazyComponent.defaultProps={alwaysRenderChildren:false,className:'',component:'div',horizontalOffset:0,onMouseLeave:null,onMouseOver:null,onReveal:function onReveal(){},style:{},verticalOffset:100};var _default=LazyComponent;exports["default"]=_default;}),99890:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _simple_select=_interopRequireDefault(__webpack_require__(76677));var _keen=_interopRequireDefault(__webpack_require__(64194));var _filters=__webpack_require__(58429);var _paginated_list=_interopRequireDefault(__webpack_require__(1055));var _buttons=_interopRequireDefault(__webpack_require__(9010));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var keenService=new _keen["default"]();var Filters=function(_Component){_inherits(Filters,_Component);var _super=_createSuper(Filters);function Filters(props){var _this;_classCallCheck(this,Filters);_this=_super.call(this,props);_this.state={open:false,enactedFilters:_this._initFilterCount(props.filters)};return _this;}
_createClass(Filters,[{key:"_initFilterCount",value:function _initFilterCount(filters){return filters.reduce(function(acc,filter){if(filter.key!=='sort'){var isActive=filter.options.find(function(option){return option.active===true&&!option["default"];});acc=isActive?Object.assign({},acc,_defineProperty({},filter.key,true)):acc;}
return acc;},{});}},{key:"_handleSelection",value:function _handleSelection(filter,option){var queryString=filter.hasOwnProperty('key')?"".concat(filter.key,"=").concat(option.value):'';this._handleFilterCounter(filter,option);this.props.onSelection({queryString:queryString,option:option});keenService.recordEvent({eventName:'Clicked filter value'},{filter_name:filter.key,filter_value:option.value});}},{key:"_handleFilterCounter",value:function _handleFilterCounter(filter,option){if(!filter.key||filter.key==='sort')return;if(this.state.enactedFilters.hasOwnProperty(filter.key)&&option.hasOwnProperty('default')){this.setState({enactedFilters:(0,_filters.removeFromObject)(this.state.enactedFilters,filter.key)});}else if(!this.state.enactedFilters.hasOwnProperty(filter.key)&&!option.hasOwnProperty('default')){this.setState({enactedFilters:Object.assign({},this.state.enactedFilters,_defineProperty({},filter.key,true))});}}},{key:"_renderMobileFiltersToggle",value:function _renderMobileFiltersToggle(){var _this2=this;var enactedFiltersLength=Object.keys(this.state.enactedFilters).length;return _react["default"].createElement("div",{className:_paginated_list["default"].filtersToggle},_react["default"].createElement("button",{className:"".concat(_buttons["default"].blank," ").concat(_paginated_list["default"].filtersButton),onClick:function onClick(){return _this2.setState({open:!_this2.state.open});},type:"button"},"Filters",enactedFiltersLength>0&&_react["default"].createElement("span",{className:_paginated_list["default"].filtersToggleCount},_react["default"].createElement("span",{className:enactedFiltersLength===1?_paginated_list["default"].marginLeftOnOne:''},enactedFiltersLength))));}},{key:"render",value:function render(){var _this3=this;var filters=this.props.filters;return _react["default"].createElement("div",{className:_paginated_list["default"].wrapper},this._renderMobileFiltersToggle(),_react["default"].createElement("div",{className:"".concat(_paginated_list["default"].filterGroup," ").concat(this.state.open?'':_paginated_list["default"].filterGroupClosed)},filters.map(function(filter,i){return _react["default"].createElement("span",{key:i,className:_paginated_list["default"].filter},_react["default"].createElement(_simple_select["default"],{onSelection:function onSelection(option){return _this3._handleSelection(filter,option);},options:filter.options}));})));}}]);return Filters;}(_react.Component);Filters.propTypes={filters:_propTypes["default"].arrayOf(_propTypes["default"].shape({})).isRequired,onSelection:_propTypes["default"].func};Filters.defaultProps={onSelection:function onSelection(){}};var _default=Filters;exports["default"]=_default;}),11683:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Filters=_interopRequireDefault(__webpack_require__(99890));var _paginator=_interopRequireDefault(__webpack_require__(67556));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));var _paginated_list=_interopRequireDefault(__webpack_require__(1055));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var shouldShowDefaultPaginator=function shouldShowDefaultPaginator(_ref){var currentPage=_ref.currentPage,totalPages=_ref.totalPages;return totalPages>1&&currentPage<=totalPages;};var shouldShowSimplePaginator=function shouldShowSimplePaginator(_ref2){var nextPage=_ref2.nextPage,prevPage=_ref2.prevPage;return!!prevPage||!!nextPage;};var shouldShowPaginator=function shouldShowPaginator(paginator){return shouldShowDefaultPaginator(paginator)||shouldShowSimplePaginator(paginator);};var getPaginatorViewForType=function getPaginatorViewForType(props){return props.type==='paginator'?getPaginatorView(props):getButtonView(props);};var getButtonView=function getButtonView(_ref3){var buttonText=_ref3.buttonText,disabled=_ref3.disabled,onPaginatorClick=_ref3.onPaginatorClick,paginator=_ref3.paginator;if(!paginator.nextPage)return null;return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifyCenter," ").concat(_layout["default"].fullWidth," ").concat(_layout["default"].marginTop45)},_react["default"].createElement("button",{className:_buttons["default"].md,disabled:disabled,onClick:onPaginatorClick},buttonText));};var getPaginatorView=function getPaginatorView(_ref4){var currentQuery=_ref4.currentQuery,onPaginatorClick=_ref4.onPaginatorClick,paginator=_ref4.paginator;return shouldShowPaginator(paginator)&&_react["default"].createElement(_paginator["default"],_extends({classList:{root:_paginated_list["default"].paginatorRoot},currentQuery:currentQuery,onClick:onPaginatorClick},paginator));};var getFilterView=function getFilterView(_ref5){var filters=_ref5.filters,onFilterSelect=_ref5.onFilterSelect,renderFilters=_ref5.renderFilters;if(!filters)return null;if(typeof renderFilters==='function')return renderFilters(filters,onFilterSelect);return _react["default"].createElement(_Filters["default"],{filters:filters,onSelection:onFilterSelect});};var PaginatedList=function PaginatedList(props){return _react["default"].createElement("div",null,getFilterView(props),props.children,getPaginatorViewForType(props));};PaginatedList.propTypes={buttonText:_propTypes["default"].string,currentQuery:_propTypes["default"].string,disabled:_propTypes["default"].bool,filters:_propTypes["default"].arrayOf(_propTypes["default"].shape({})),onFilterSelect:_propTypes["default"].func,onPaginatorClick:_propTypes["default"].func.isRequired,paginator:_propTypes["default"].shape({currentPage:_propTypes["default"].number,nextPage:_propTypes["default"].number,prevPage:_propTypes["default"].number,totalPages:_propTypes["default"].number}),renderFilters:_propTypes["default"].func,type:_propTypes["default"].oneOf(['button','paginator'])};PaginatedList.defaultProps={buttonText:'',currentQuery:'',disabled:false,filters:null,onFilterSelect:function onFilterSelect(){},renderFilters:null,type:'paginator'};var _default=PaginatedList;exports["default"]=_default;}),64200:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Dialog=_interopRequireDefault(__webpack_require__(27408));var _accessors=__webpack_require__(4887);var _excluded=["BodyComponent","buildPath","children","history","onDismiss","onOpen"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var PushStateDialog=function(_Component){_inherits(PushStateDialog,_Component);var _super=_createSuper(PushStateDialog);function PushStateDialog(props){var _this;_classCallCheck(this,PushStateDialog);_this=_super.call(this,props);_this.state={entity:null,open:false};_this.handleDismiss=_this.handleDismiss.bind(_assertThisInitialized(_this));_this.handleLocationChange=_this.handleLocationChange.bind(_assertThisInitialized(_this));_this.popHistory=_this.popHistory.bind(_assertThisInitialized(_this));_this.pushHistory=_this.pushHistory.bind(_assertThisInitialized(_this));_this._dismissPopStatePending=false;return _this;}
_createClass(PushStateDialog,[{key:"componentDidMount",value:function componentDidMount(){this.unlisten=this.props.history.listen(this.handleLocationChange);}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.unlisten();}},{key:"_summonDialog",value:function _summonDialog(entity){var _this2=this;var shouldPushHistory=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.props.onOpen(!shouldPushHistory,entity);this.setState({entity:entity,open:true},function(){_this2._afterSummon(entity,shouldPushHistory);});}},{key:"_buildPath",value:function _buildPath(entity){return this.props.buildPath(entity);}},{key:"_dismiss",value:function _dismiss(){var _this3=this;var shouldPopHistory=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.setState({open:false},function(){return _this3._afterDismiss(shouldPopHistory);});}},{key:"_afterDismiss",value:function _afterDismiss(shouldPopHistory){if(shouldPopHistory){this._dismissPopStatePending=true;this.popHistory();}else{this.props.onDismiss(true);}}},{key:"_afterSummon",value:function _afterSummon(entity,shouldPushHistory){if(shouldPushHistory)this.pushHistory(entity);}},{key:"handleDismiss",value:function handleDismiss(){this._dismiss();}},{key:"handleLocationChange",value:function handleLocationChange(location,action){if(action==='POP'){if(this._dismissPopStatePending){this._dismissPopStatePending=false;this.props.onDismiss(false);}else if(!this.state.open&&(0,_accessors.getInObj)(['state','entity'],location)){this._summonDialog(location.state.entity,false);}else if(this.state.open){this._dismiss(false);}}}},{key:"popHistory",value:function popHistory(){this.props.history.goBack();}},{key:"pushHistory",value:function pushHistory(){var entity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.props.history.push(this._buildPath(entity),{entity:entity});}},{key:"_renderChildren",value:function _renderChildren(){var _this$props=this.props,BodyComponent=_this$props.BodyComponent,children=_this$props.children;return typeof BodyComponent==='function'?_react["default"].createElement(BodyComponent,{entity:this.state.entity}):_react["default"].Children.count(children)===1?_react["default"].cloneElement(children,{entity:this.state.entity}):children;}},{key:"render",value:function render(){var _this$props2=this.props,BodyComponent=_this$props2.BodyComponent,buildPath=_this$props2.buildPath,children=_this$props2.children,history=_this$props2.history,onDismiss=_this$props2.onDismiss,onOpen=_this$props2.onOpen,dialogProps=_objectWithoutProperties(_this$props2,_excluded);return _react["default"].createElement(_Dialog["default"],_extends({},dialogProps,{dismiss:this.handleDismiss,open:this.state.open}),this.state.entity!==null&&this._renderChildren());}}]);return PushStateDialog;}(_react.Component);PushStateDialog.propTypes={BodyComponent:_propTypes["default"].func,buildPath:_propTypes["default"].func.isRequired,history:_propTypes["default"].object.isRequired,onDismiss:_propTypes["default"].func,onOpen:_propTypes["default"].func};PushStateDialog.defaultProps={BodyComponent:null,onDismiss:function onDismiss(fromPopAction){},onOpen:function onOpen(fromPopAction,entity){}};var _default=PushStateDialog;exports["default"]=_default;}),5110:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lazy_component=_interopRequireDefault(__webpack_require__(99171));var _math=__webpack_require__(45498);var _lazy_image=_interopRequireDefault(__webpack_require__(79310));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var LazyResponsiveIframe=function(_PureComponent){_inherits(LazyResponsiveIframe,_PureComponent);var _super=_createSuper(LazyResponsiveIframe);function LazyResponsiveIframe(props){var _this;_classCallCheck(this,LazyResponsiveIframe);_this=_super.call(this,props);_this.state={isLoaded:false};return _this;}
_createClass(LazyResponsiveIframe,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,allowFullScreen=_this$props.allowFullScreen,aspectRatio=_this$props.aspectRatio,className=_this$props.className,src=_this$props.src,verticalOffset=_this$props.verticalOffset;return _react["default"].createElement(_lazy_component["default"],{className:"".concat(_util["default"].absolutePlaceholderParent," ").concat(className," ").concat(_lazy_image["default"].fade," ").concat(this.state.isLoaded?_lazy_image["default"].fadeIn:''),style:{paddingBottom:(0,_math.aspectRatioPadding)({aspectRatio:aspectRatio})},verticalOffset:verticalOffset},function(){return _react["default"].createElement("iframe",{allowFullScreen:allowFullScreen,className:"".concat(_util["default"].absolutePlaceholderChild," ").concat(_util["default"].overflowHidden),frameBorder:0,height:"100%",onLoad:function onLoad(){return _this2.setState({isLoaded:true});},src:src,width:"100%"});});}}]);return LazyResponsiveIframe;}(_react.PureComponent);LazyResponsiveIframe.propTypes={allowFullScreen:_propTypes["default"].bool,aspectRatio:_propTypes["default"].number,className:_propTypes["default"].string,lazy:_propTypes["default"].bool,src:_propTypes["default"].string,verticalOffset:_propTypes["default"].number};LazyResponsiveIframe.defaultProps={allowFullScreen:true,aspectRatio:16/9,className:'',lazy:false,src:'',verticalOffset:100};var _default=LazyResponsiveIframe;exports["default"]=_default;}),20114:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _math=__webpack_require__(45498);var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ResponsiveIframe=function ResponsiveIframe(_ref){var allowFullScreen=_ref.allowFullScreen,aspectRatio=_ref.aspectRatio,className=_ref.className,src=_ref.src;return _react["default"].createElement("div",{className:"".concat(_util["default"].absolutePlaceholderParent," ").concat(className),style:{paddingBottom:(0,_math.aspectRatioPadding)({aspectRatio:aspectRatio})}},_react["default"].createElement("iframe",{allowFullScreen:allowFullScreen,className:"".concat(_util["default"].absolutePlaceholderChild," ").concat(_util["default"].overflowHidden),frameBorder:0,height:"100%",src:src,width:"100%"}));};ResponsiveIframe.propTypes={allowFullScreen:_propTypes["default"].bool,aspectRatio:_propTypes["default"].number,className:_propTypes["default"].string,src:_propTypes["default"].string};ResponsiveIframe.defaultProps={allowFullScreen:true,aspectRatio:16/9,className:'',src:''};var _default=ResponsiveIframe;exports["default"]=_default;}),96659:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _observers=__webpack_require__(44014);var _window=__webpack_require__(33852);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var StickyWrapper=function(_PureComponent){_inherits(StickyWrapper,_PureComponent);var _super=_createSuper(StickyWrapper);function StickyWrapper(props){var _this;_classCallCheck(this,StickyWrapper);_this=_super.call(this,props);_this.state={position:null};_this.setPosition=_this.setPosition.bind(_assertThisInitialized(_this));_this._intersectionObserver;_this._resizeObserver;_this._sentinelEnd;_this._sentinelStart;return _this;}
_createClass(StickyWrapper,[{key:"componentDidMount",value:function componentDidMount(){this._addObservers();this.setPosition();}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._removeObservers();}},{key:"setPosition",value:function setPosition(entries){var _this2=this;var position=this._getPosition();if(this.state.position!==position){this.setState({position:position},function(){return _this2.props.reportPosition(position);});}}},{key:"_addObservers",value:function _addObservers(){window.addEventListener('load',this.setPosition);this._intersectionObserver=new _observers.IntersectionObserver(this.setPosition);if(this._sentinelStart)this._intersectionObserver.observe(this._sentinelStart);if(this._sentinelEnd)this._intersectionObserver.observe(this._sentinelEnd);this._resizeObserver=new _observers.ResizeObserver(this.setPosition);this._resizeObserver.observe(document.getElementById(this.props.parentId));}},{key:"_doesStartAtTop",value:function _doesStartAtTop(){return this.props.startPos==='top';}},{key:"_getEndPosKey",value:function _getEndPosKey(){return this._doesStartAtTop()?'bottom':'top';}},{key:"_getPosition",value:function _getPosition(){if(this._shouldStickToStart())return 'start';if(this._shouldStickToEnd())return 'end';return 'fixed';}},{key:"_getSentinelStyle",value:function _getSentinelStyle(){var _ref;return _ref={},_defineProperty(_ref,this.props.startPos,this._negateBuffer()),_defineProperty(_ref,"position",'absolute'),_ref;}},{key:"_getStyle",value:function _getStyle(){var _ref2;switch(this.state.position){case 'end':return _ref2={},_defineProperty(_ref2,this._getEndPosKey(),0),_defineProperty(_ref2,"position",'absolute'),_ref2;case 'fixed':return _defineProperty({position:'fixed'},this.props.startPos,this.props.startBuffer);default:return{};}}},{key:"_negateBuffer",value:function _negateBuffer(){if(typeof this.props.startBuffer==='number')return this.props.startBuffer*-1;return "calc((".concat(this.props.startBuffer,") * -1)");}},{key:"_removeObservers",value:function _removeObservers(){window.removeEventListener('load',this.setPosition);this._intersectionObserver.disconnect();this._intersectionObserver=undefined;this._resizeObserver.disconnect();this._resizeObserver=undefined;}},{key:"_shouldStickToEnd",value:function _shouldStickToEnd(){if(!this.props.stickToEnd||!this._sentinelEnd)return false;if(this._doesStartAtTop()){return this._sentinelEnd.getBoundingClientRect().top<=0;}
return this._sentinelEnd.getBoundingClientRect().bottom>=(0,_window.windowInnerHeight)();}},{key:"_shouldStickToStart",value:function _shouldStickToStart(){if(this._doesStartAtTop()){return this._sentinelStart.getBoundingClientRect().top>=0;}
return this._sentinelStart.getBoundingClientRect().bottom<=(0,_window.windowInnerHeight)();}},{key:"_getEndPlaceholder",value:function _getEndPlaceholder(){var _ref4,_this3=this;return _react["default"].createElement("div",{style:(_ref4={},_defineProperty(_ref4,this._getEndPosKey(),0),_defineProperty(_ref4,"position",'absolute'),_defineProperty(_ref4,"visibility",'hidden'),_ref4)},_react["default"].createElement("div",{ref:function ref(el){return _this3._sentinelEnd=el;},style:this._getSentinelStyle()}),this.props.renderPlaceholder?this.props.renderPlaceholder():this.props.children);}},{key:"_renderContent",value:function _renderContent(){return _react["default"].createElement("div",{className:this.props.className,style:this._getStyle()},this.props.children);}},{key:"_renderEnd",value:function _renderEnd(){return this.props.stickToEnd&&this._getEndPlaceholder();}},{key:"_renderStart",value:function _renderStart(){var _this4=this;return _react["default"].createElement("div",{ref:function ref(el){return _this4._sentinelStart=el;},style:this._getSentinelStyle()});}},{key:"render",value:function render(){var partsInOrder=this._doesStartAtTop()?[this._renderStart(),this._renderContent(),this._renderEnd()]:[this._renderEnd(),this._renderContent(),this._renderStart()];return _react["default"].createElement(_react.Fragment,null,_react["default"].Children.toArray(partsInOrder));}}]);return StickyWrapper;}(_react.PureComponent);StickyWrapper.propTypes={className:_propTypes["default"].string,parentId:_propTypes["default"].string.isRequired,renderPlaceholder:_propTypes["default"].func,reportPosition:_propTypes["default"].func,startBuffer:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),startPos:_propTypes["default"].oneOf(['top','bottom']),stickToEnd:_propTypes["default"].bool};StickyWrapper.defaultProps={className:'',renderPlaceholder:null,reportPosition:function reportPosition(){},startBuffer:0,startPos:'top',stickToEnd:false};var _default=StickyWrapper;exports["default"]=_default;}),1985:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _view_all=_interopRequireDefault(__webpack_require__(10076));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var EmptyViewAll=function EmptyViewAll(_ref){var msg=_ref.msg,title=_ref.title;return _react["default"].createElement("div",{className:_view_all["default"].container},_react["default"].createElement("div",{className:_view_all["default"].header},_react["default"].createElement("p",{className:_view_all["default"].title},title)),_react["default"].createElement("div",{className:_view_all["default"].emptyMsg},msg));};EmptyViewAll.propTypes={msg:_propTypes["default"].string,title:_propTypes["default"].string.isRequired};EmptyViewAll.defaultProps={msg:"No projects match this section's settings."};var _default=EmptyViewAll;exports["default"]=_default;}),76271:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _horizontal_scroll=_interopRequireDefault(__webpack_require__(26759));var _index=_interopRequireDefault(__webpack_require__(85749));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ViewAllList=function ViewAllList(_ref){var cardTemplateFn=_ref.cardTemplateFn,fetchMore=_ref.fetchMore,links=_ref.links,onClick=_ref.onClick,records=_ref.records,scrollDistance=_ref.scrollDistance,sectionIndex=_ref.sectionIndex,title=_ref.title,totalRecordsCount=_ref.totalRecordsCount;return _react["default"].createElement(_index["default"],{links:links,onClick:onClick,title:title},_react["default"].createElement(_horizontal_scroll["default"],{fetchMore:fetchMore,scrollDistance:scrollDistance,recordsCount:records.length,totalRecordsCount:totalRecordsCount},_react["default"].Children.toArray(records.map(function(record,i){return cardTemplateFn(record,i,{overrideTracking:onClick,sectionIndex:sectionIndex});}))));};ViewAllList.propTypes={cardTemplateFn:_propTypes["default"].func.isRequired,fetchMore:_propTypes["default"].func,links:_propTypes["default"].shape({external:_propTypes["default"].string,intrenal:_propTypes["default"].string}),onClick:_propTypes["default"].func,records:_propTypes["default"].array,scrollDistance:_propTypes["default"].number,sectionIndex:_propTypes["default"].number,title:_propTypes["default"].string,totalRecordsCount:_propTypes["default"].number.isRequired};ViewAllList.defaultProps={fetchMore:function fetchMore(){},links:{},onClick:null,records:[],scrollDistance:540,sectionIndex:null,title:''};var _default=ViewAllList;exports["default"]=_default;}),85749:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _typography=_interopRequireDefault(__webpack_require__(68163));var _view_all=_interopRequireDefault(__webpack_require__(10076));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ViewAllWrapper=function ViewAllWrapper(_ref){var children=_ref.children,links=_ref.links,_onClick=_ref.onClick,title=_ref.title;return _react["default"].createElement("div",{className:_view_all["default"].container},_react["default"].createElement("div",{className:_view_all["default"].header},_react["default"].createElement("p",{className:_view_all["default"].title},title),_react["default"].createElement("a",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].bold," ").concat(_typography["default"].linkPebble," ").concat(_typography["default"].link),href:links.view_all||links.external,onClick:function onClick(e){return _onClick(e,links,{type:'view_all_link'});}},"View all")),children);};ViewAllWrapper.propTypes={links:_propTypes["default"].shape({external:_propTypes["default"].string,internal:_propTypes["default"].string}).isRequired,onClick:_propTypes["default"].func,title:_propTypes["default"].string.isRequired};ViewAllWrapper.defaultProps={links:{external:'javascipt:void(0);',internal:'/'},onClick:function onClick(){}};var _default=ViewAllWrapper;exports["default"]=_default;}),61558:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lodash=_interopRequireDefault(__webpack_require__(93096));var _client_rect_reporter=_interopRequireDefault(__webpack_require__(88286));var _window=__webpack_require__(33852);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var BACKWARD='BACKWARD';var FORWARD='FORWARD';var Window=function(_PureComponent){_inherits(Window,_PureComponent);var _super=_createSuper(Window);function Window(props){var _this;_classCallCheck(this,Window);_this=_super.call(this,props);_this.state={bufferBottom:0,bufferTop:0,end:_this.props.renderCount-1,start:0};_this.handleScroll=_this.handleScroll.bind(_assertThisInitialized(_this));_this._childMetadata=[];_this._prevPageYOffset=0;_this._root;return _this;}
_createClass(Window,[{key:"componentDidMount",value:function componentDidMount(){this.throttledScroll=(0,_lodash["default"])(this.handleScroll,30,{trailing:true,leading:true});window.addEventListener('scroll',this.throttledScroll);}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener('scroll',this.throttledScroll);}},{key:"__reset",value:function __reset(){this._childMetadata=[];this.setState({bufferBottom:0,bufferTop:0,end:this.props.renderCount-1,start:0});}},{key:"__deleteFromMeta",value:function __deleteFromMeta(id){this._childMetadata=this._childMetadata.filter(function(m){return m.id!==id;});this.setState(Object.assign({},this._getBuffers(this.state.start,this.state.end)));}},{key:"handleScroll",value:function handleScroll(){if(!this._root||!this.props.children.length)return;var pageYOffset=(0,_window.windowPageYOffset)();if(pageYOffset>this._prevPageYOffset){this._handleScrollingDown();}else{this._handleScrollingUp();}
this._prevPageYOffset=pageYOffset;}},{key:"_getBuffers",value:function _getBuffers(start,end){var bufferTop=this._childMetadata.slice(0,start).reduce(function(acc,meta){return acc+=meta.dims.height;},0);var bufferBottom=this._childMetadata.slice(end).reduce(function(acc,meta){return acc+=meta.dims.height;},0);return{bufferBottom:bufferBottom,bufferTop:bufferTop};}},{key:"_getRangeToRender",value:function _getRangeToRender(direction){var yOffset=(0,_window.windowPageYOffset)();var childMetadata=this._childMetadata;var startIndex=null;for(var i=0;i<=childMetadata.length-1;i++){if(startIndex!==null)break;var bucket=this._childMetadata[i];var prevBucket=this._childMetadata[Math.max(i-1,0)];if(direction===FORWARD&&i===childMetadata.length-1&&yOffset>=bucket.offset){startIndex=i;}else if(direction===BACKWARD&&i===0&&bucket.offset>=yOffset){startIndex=i;}else if(yOffset>=prevBucket.offset&&yOffset<=bucket.offset){startIndex=i;}}
if(startIndex===null)return[this.state.start,this.state.end];var start=Math.max(startIndex-(this.props.renderCount/2+1),0);var end=start+(this.props.renderCount-1);return[start,end];}},{key:"_getRootDims",value:function _getRootDims(){var attr=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return this._root.getBoundingClientRect();}},{key:"_handleScrollingDown",value:function _handleScrollingDown(){if(!this.props.isBusy&&this.state.end<this.props.records.length&&this._isAtBottom(this._getRootDims().bottom,this.props.scrollForwardBuffer)){this._setRangeAndBuffers(FORWARD);}}},{key:"_handleScrollingUp",value:function _handleScrollingUp(){if(this.state.start>0&&this._isAtTop(this._getRootDims().top)){this._setRangeAndBuffers(BACKWARD);}}},{key:"_isAtBottom",value:function _isAtBottom(bottom){var buffer=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(this.state.bufferBottom>0){return Math.abs(parseInt(bottom,10)-buffer)<=Math.abs(parseInt(this.state.bufferBottom,10));}else{return parseInt(bottom,10)-buffer<=window.innerHeight;}}},{key:"_isAtTop",value:function _isAtTop(top){return Math.abs(parseInt(top,10)+1000)<=Math.abs(parseInt(this.state.bufferTop,10));}},{key:"_setRangeAndBuffers",value:function _setRangeAndBuffers(direction){var _this$_getRangeToRend=this._getRangeToRender(direction),_this$_getRangeToRend2=_slicedToArray(_this$_getRangeToRend,2),nextStart=_this$_getRangeToRend2[0],nextEnd=_this$_getRangeToRend2[1];var _this$_getBuffers=this._getBuffers(nextStart,nextEnd),bufferBottom=_this$_getBuffers.bufferBottom,bufferTop=_this$_getBuffers.bufferTop;this.setState({bufferBottom:bufferBottom,bufferTop:bufferTop,end:nextEnd,start:nextStart});}},{key:"_getVisibleRange",value:function _getVisibleRange(){var _this2=this;var start=this.state.start;return this.props.records.slice(start,this.state.end).map(function(record,i){return _react["default"].createElement(_client_rect_reporter["default"],{key:record.id,reportDims:function reportDims(dims){return _this2._childMetadata[i+start]=Object.assign({},dims,{id:record.id});}},_this2.props.children({record:record}));});}},{key:"render",value:function render(){var _this3=this;return _react["default"].createElement("div",{ref:function ref(el){return _this3._root=el;}},_react["default"].createElement("div",{style:{height:this.state.bufferTop}}),this._getVisibleRange(),_react["default"].createElement("div",{style:{height:this.state.bufferBottom}}));}}]);return Window;}(_react.PureComponent);Window.propTypes={isBusy:_propTypes["default"].bool,records:_propTypes["default"].array,renderCount:_propTypes["default"].number,scrollForwardBuffer:_propTypes["default"].number};Window.defaultProps={isBusy:false,records:[],renderCount:20,scrollForwardBuffer:500};var _default=Window;exports["default"]=_default;}),34813:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _button=_interopRequireDefault(__webpack_require__(94904));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Button=function(_Component){_inherits(Button,_Component);var _super=_createSuper(Button);function Button(props){var _this;_classCallCheck(this,Button);_this=_super.call(this,props);_this.state={hovered:false,tooltipWidth:0};_this.tooltipRef;return _this;}
_createClass(Button,[{key:"UNSAFE_componentWillUpdate",value:function UNSAFE_componentWillUpdate(_nextProps,nextState){if(nextState.hovered&&!this.state.hovered&&typeof this.tooltipRef!=='undefined'){var dimensions=this.tooltipRef.getBoundingClientRect();this.setState({tooltipWidth:parseInt(dimensions.width,10)+12});}}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,buttonStyle=_this$props.buttonStyle,classList=_this$props.classList,disabled=_this$props.disabled,icon=_this$props.icon,iconStyle=_this$props.iconStyle,tooltip=_this$props.tooltip;return _react["default"].createElement("span",null,_react["default"].createElement("button",{style:buttonStyle,className:"".concat(classList," draftster-button-with-tooltip"),disabled:disabled,onClick:function onClick(e){e.preventDefault();_this2.props.onClick(e);},onMouseOver:function onMouseOver(){return _this2.setState({hovered:true});},onMouseLeave:function onMouseLeave(){return _this2.setState({hovered:false});}},_react["default"].createElement("i",{style:iconStyle,className:"".concat(icon," ").concat(_button["default"].icon)}),tooltip.length&&!disabled&&_react["default"].createElement("div",{style:{marginLeft:-Math.abs((parseInt(this.state.tooltipWidth,10)-6)/2)},className:_button["default"].tWrapper},_react["default"].createElement("span",{ref:function ref(el){return _this2.tooltipRef=el;},style:this.state.hovered?{opacity:0.9,width:this.state.tooltipWidth}:{opacity:0},className:_button["default"].tooltip},tooltip))));}}]);return Button;}(_react.Component);Button.propTypes={buttonStyle:_propTypes["default"].object,classList:_propTypes["default"].string,disabled:_propTypes["default"].bool,icon:_propTypes["default"].string.isRequired,iconStyle:_propTypes["default"].object,onClick:_propTypes["default"].func.isRequired,tooltip:_propTypes["default"].string};Button.defaultProps={buttonStyle:{},classList:'',disabled:false,iconStyle:{},tooltip:''};var _default=Button;exports["default"]=_default;}),17422:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactDom=_interopRequireDefault(__webpack_require__(73935));var _reactTransitionGroup=__webpack_require__(72165);var _immutable=__webpack_require__(43393);var _EmbedToolbar=_interopRequireDefault(__webpack_require__(4626));var _Dialog=_interopRequireDefault(__webpack_require__(50605));var _CarouselEditor=_interopRequireDefault(__webpack_require__(80712));var _Figcaption=_interopRequireDefault(__webpack_require__(25240));var _Spinner=_interopRequireDefault(__webpack_require__(5159));var _processImageFiles=_interopRequireDefault(__webpack_require__(97561));var _Helpers=__webpack_require__(53581);var _carousel=_interopRequireDefault(__webpack_require__(19077));var _buttons=_interopRequireDefault(__webpack_require__(82809));var _slideUpTransitions=_interopRequireDefault(__webpack_require__(54235));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Carousel=function(_Component){_inherits(Carousel,_Component);var _super=_createSuper(Carousel);function Carousel(props){var _this;_classCallCheck(this,Carousel);_this=_super.call(this,props);_this.state={hovered:false,isImageUploading:false,openDialog:false,toolbarData:{height:0}};_this.handleCaptionKeyDown=_this.handleCaptionKeyDown.bind(_assertThisInitialized(_this));_this.handleMouseOver=_this.handleMouseOver.bind(_assertThisInitialized(_this));_this.handleNavigation=_this.handleNavigation.bind(_assertThisInitialized(_this));_this.pushImagesToCarousel=_this.pushImagesToCarousel.bind(_assertThisInitialized(_this));_this.removeImageFromCarousel=_this.removeImageFromCarousel.bind(_assertThisInitialized(_this));_this.reorderImages=_this.reorderImages.bind(_assertThisInitialized(_this));_this.carouselEditorRef;return _this;}
_createClass(Carousel,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;var entity=this.props.block.getEntityAt(0);var pendingImagesToProcess=this.props.contentState.getEntity(entity).getData().images.filter(function(image){return image.get('pending');});if(pendingImagesToProcess.size){pendingImagesToProcess.toJS().forEach(function(image){return _this2.props.blockProps.processImage(image,entity,_this2.props.block.getKey());});this.setState({isImageUploading:true});}}},{key:"UNSAFE_componentWillUpdate",value:function UNSAFE_componentWillUpdate(_nextProps,nextState){if(nextState.openDialog!==this.state.openDialog){this.props.blockProps.actions.toggleDialogStatus(nextState.openDialog);}}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this3=this;var entity=this.props.block.getEntityAt(0);if(entity&&this.props.contentState.getEntity(entity).getData().images!==prevProps.contentState.getEntity(prevProps.block.getEntityAt(0)).getData().images){var images=this.props.contentState.getEntity(entity).getData().images.filter(function(image){return image.get('pending');});if(images.size){images.toJS().forEach(function(image){return _this3.props.blockProps.processImage(image,entity,_this3.props.block.getKey());});this.setState({isImageUploading:true});}else if(!images.size&&this.state.isImageUploading){this.setState({isImageUploading:false});}}}},{key:"handleCaptionKeyDown",value:function handleCaptionKeyDown(e){switch(e.keyCode){case 38:this._moveSelectionTo(e,'previous');break;case 40:case 13:case 9:this._moveSelectionTo(e,'next');break;default:break;}}},{key:"handleMouseOver",value:function handleMouseOver(e){if(e.target.classList.contains('react-editor-image')||e.target.classList.contains('react-editor-image-wrapper')){var height=_reactDom["default"].findDOMNode(this).getBoundingClientRect().height;this.setState({hovered:true,toolbarData:{height:height}});}}},{key:"handleNavigation",value:function handleNavigation(direction,e){e.preventDefault();var _this$props=this.props,block=_this$props.block,contentState=_this$props.contentState;var images=contentState.getEntity(block.getEntityAt(0)).getData().images;var activeIndex=images.findIndex(function(image){return image.get('show');});var updatedImages=images.setIn([activeIndex,'show'],false);if(direction==='left'){var navigatedImages=activeIndex===0?updatedImages.setIn([updatedImages.size-1,'show'],true):updatedImages.setIn([activeIndex-1,'show'],true);this.props.blockProps.updateEntityData(block.getEntityAt(0),{images:navigatedImages});}else{var _navigatedImages=activeIndex===updatedImages.size-1?updatedImages.setIn([0,'show'],true):updatedImages.setIn([activeIndex+1,'show'],true);this.props.blockProps.updateEntityData(block.getEntityAt(0),{images:_navigatedImages});}
this.setState({hovered:false});}},{key:"pushImagesToCarousel",value:function pushImagesToCarousel(e){var _this4=this;var files=e.target.files;var filteredFiles=[].slice.call(files).filter(function(file){return(0,_Helpers.isImageValid)(file.type);});if(!filteredFiles.length)return;return(0,_processImageFiles["default"])(filteredFiles).then(function(newImages){newImages[0].show=true;var _this4$props=_this4.props,block=_this4$props.block,contentState=_this4$props.contentState;var images=_this4.props.contentState.getEntity(block.getEntityAt(0)).getData().images;var activeIndex=images.findIndex(function(image){return image.get('show');});var updatedImages=images.setIn([activeIndex,'show'],false);var mergedImages=updatedImages.concat((0,_immutable.fromJS)(newImages));_this4.props.blockProps.updateContentState(contentState.replaceEntityData(block.getEntityAt(0),{images:mergedImages}));_this4.props.blockProps.uploadImages(newImages,block.getEntityAt(0),block.getKey());_this4.setState({hovered:false});})["catch"](function(err){return console.log('Image Upload Error: ',err);});}},{key:"removeImageFromCarousel",value:function removeImageFromCarousel(){var _this$props2=this.props,block=_this$props2.block,contentState=_this$props2.contentState;var images=this.props.contentState.getEntity(block.getEntityAt(0)).getData().images;var activeIndex=images.findIndex(function(image){return image.get('show');});var filteredImages=images.filter(function(image,idx){return idx!==activeIndex;});if(filteredImages.size){var updatedImages=activeIndex>filteredImages.size-1?filteredImages.setIn([0,'show'],true):filteredImages.setIn([activeIndex,'show'],true);this.props.blockProps.updateContentState(contentState.replaceEntityData(block.getEntityAt(0),{images:updatedImages}));this.props.blockProps.setUnsavedChanges();this.setState({hovered:false});}else{this.props.blockProps.remove(block);}}},{key:"_moveSelectionTo",value:function _moveSelectionTo(e,direction){e.preventDefault();this.props.blockProps.moveSelectionTo(this.props.block,direction);}},{key:"reorderImages",value:function reorderImages(e){e.preventDefault();e.stopPropagation();var block=this.props.block;this.props.blockProps.updateEntityData(block.getEntityAt(0),{images:this.carouselEditorRef.getImages()});this.setState({openDialog:false});}},{key:"_getImages",value:function _getImages(){var entityKey=this.props.block.getEntityAt(0);return entityKey?this.props.contentState.getEntity(entityKey).getData().images:[];}},{key:"_getImageUniqueId",value:function _getImageUniqueId(image,index){return image.has('id')?image.get('id'):image.has('uuid')?image.get('uuid'):index;}},{key:"_handleFigcaptionChange",value:function _handleFigcaptionChange(image,value){var _this5=this;var _this$props3=this.props,block=_this$props3.block,blockProps=_this$props3.blockProps,contentState=_this$props3.contentState;var images=this.props.contentState.getEntity(block.getEntityAt(0)).getData().images;var newImages=images.map(function(img){return _this5._getMatchingEntity(img,image)?img.set('figcaption',value):img;});blockProps.updateContentState(contentState.replaceEntityData(block.getEntityAt(0),{images:newImages}));blockProps.setUnsavedChanges();}},{key:"_getMatchingEntity",value:function _getMatchingEntity(a,b){if(a.has('id')&&b.has('id')){return a.get('id')===b.get('id');}else if(a.has('uuid')&&b.has('uuid')){return a.get('uuid')===b.get('uuid');}else{return a.get('show')===true;}}},{key:"_getDialogActions",value:function _getDialogActions(){var _this6=this;return[_react["default"].createElement("button",{className:"".concat(_buttons["default"].btn," ").concat(_buttons["default"].btnLink," draftster-btn-secondary"),onClick:function onClick(e){e.preventDefault();e.stopPropagation();_this6.setState({openDialog:false});},type:"button"},"Cancel"),_react["default"].createElement("button",{className:"".concat(_buttons["default"].btn," ").concat(_buttons["default"].btnPrimary," draftster-btn-primary"),disabled:this.state.isImageUploading,onClick:this.reorderImages,type:"button"},this.state.isImageUploading?'Working...':'Reorder')];}},{key:"render",value:function render(){var _this7=this;var images=this._getImages();return _react["default"].createElement("div",{className:"".concat(_carousel["default"].root," react-editor-carousel"),onMouseOver:this.handleMouseOver},_react["default"].createElement("div",{className:"".concat(_carousel["default"].images," react-editor-carousel-inner")},images.map(function(image,index){return _react["default"].createElement("figure",{key:_this7._getImageUniqueId(image,index),className:"".concat(_carousel["default"].figure," react-editor-figure ").concat(image.get('show')?_carousel["default"].show:''),"data-type":"image"},_react["default"].createElement("div",{className:"".concat(_carousel["default"].imageWrapper," react-editor-image-wrapper")},_react["default"].createElement("div",{className:_carousel["default"].loaderWrapper},!image.has('id')&&_react["default"].createElement("div",{className:_carousel["default"].loader},_react["default"].createElement(_Spinner["default"],null),_react["default"].createElement("p",null,"Uploading image")),_react["default"].createElement("img",{className:"".concat(_carousel["default"].image," react-editor-image"),src:image.get('url'),alt:image.get('name')})),_react["default"].createElement(_Figcaption["default"],{className:"".concat(_carousel["default"].figcaption," react-editor-figcaption"),onBlur:function onBlur(){return _this7.props.blockProps.editing(false);},onFocus:function onFocus(){return _this7.props.blockProps.editing(true);},onKeyDown:_this7.handleCaptionKeyDown,onValueChange:function onValueChange(value){return _this7._handleFigcaptionChange(image,value);},placeholder:"caption (optional)",value:image.get('figcaption')||''})));})),images.size>1&&_react["default"].createElement("div",{className:"reit-controls"},_react["default"].createElement("button",{className:"".concat(_carousel["default"].controlBtn," ").concat(_carousel["default"].left," reit-controls-button left fa fa-chevron-left fa-2x"),onClick:this.handleNavigation.bind(this,'left')}),_react["default"].createElement("button",{className:"".concat(_carousel["default"].controlBtn," ").concat(_carousel["default"].right," reit-controls-button right fa fa-chevron-right fa-2x"),onClick:this.handleNavigation.bind(this,'right')})),this.state.hovered&&_react["default"].createElement(_EmbedToolbar["default"],{data:this.state.toolbarData,disableButtonsByType:images.size<=1?['reorder']:[],embedType:"carousel",openImageEditor:function openImageEditor(){return _this7.setState({openDialog:true});},parent:this,remove:this.removeImageFromCarousel,unmountToolbar:function unmountToolbar(){return _this7.setState({hovered:false,toolbarData:{height:0}});},upload:this.pushImagesToCarousel}),_react["default"].createElement(_reactTransitionGroup.CSSTransition,{classNames:_slideUpTransitions["default"],"in":this.state.openDialog,timeout:450},_react["default"].createElement("div",null,this.state.openDialog&&_react["default"].createElement(_Dialog["default"],{actions:this._getDialogActions(),className:"".concat(_carousel["default"].reorderDialog," draftster-carousel-reorder-dialog"),dismiss:function dismiss(){return _this7.setState({openDialog:false});},enableCloseButton:false,open:this.state.openDialog,title:"Reorder Images",wrapperClassName:"dialog-body"},_react["default"].createElement(_CarouselEditor["default"],{ref:function ref(el){return _this7.carouselEditorRef=el;},images:images})))));}}]);return Carousel;}(_react.Component);Carousel.propTypes={block:_propTypes["default"].object.isRequired,blockProps:_propTypes["default"].shape({actions:_propTypes["default"].object.isRequired,editing:_propTypes["default"].func.isRequired,message:_propTypes["default"].func.isRequired,moveSelectionTo:_propTypes["default"].func.isRequired,processImage:_propTypes["default"].func.isRequired,remove:_propTypes["default"].func.isRequired,setUnsavedChanges:_propTypes["default"].func.isRequired,updateContentState:_propTypes["default"].func.isRequired,uploadImages:_propTypes["default"].func.isRequired}).isRequired};var _default=Carousel;exports["default"]=_default;}),80712:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _immutable=_interopRequireDefault(__webpack_require__(43393));var _Button=_interopRequireDefault(__webpack_require__(34813));var _carousel_editor=_interopRequireDefault(__webpack_require__(48754));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var CarouselEditor=function(_Component){_inherits(CarouselEditor,_Component);var _super=_createSuper(CarouselEditor);function CarouselEditor(props){var _this;_classCallCheck(this,CarouselEditor);_this=_super.call(this,props);_this.getImages=_this.getImages.bind(_assertThisInitialized(_this));_this.handleImageUp=_this.handleImageUp.bind(_assertThisInitialized(_this));_this.handleImageDown=_this.handleImageDown.bind(_assertThisInitialized(_this));_this._swapIndexes=_this._swapIndexes.bind(_assertThisInitialized(_this));_this.state={images:props.images,indexToAnimate:null};_this.timeoutUp;_this.timeoutDown;return _this;}
_createClass(CarouselEditor,[{key:"componentWillUnmount",value:function componentWillUnmount(){window.clearTimeout(this.timeoutUp);window.clearTimeout(this.timeoutDown);}},{key:"getImages",value:function getImages(){return this.state.images;}},{key:"handleImageUp",value:function handleImageUp(index){var _this2=this;if(index!==0){var images=this._swapIndexes(this.state.images,index,index-1);this.setState({images:images,indexToAnimate:index-1});this.timeoutUp=setTimeout(function(){_this2.setState({indexToAnimate:null});},1000);}}},{key:"handleImageDown",value:function handleImageDown(index){var _this3=this;if(index!==this.state.images.size-1){var images=this._swapIndexes(this.state.images,index,index+1);this.setState({images:images,indexToAnimate:index+1});this.timeoutDown=setTimeout(function(){_this3.setState({indexToAnimate:null});},1000);}}},{key:"_swapIndexes",value:function _swapIndexes(list,i,j){var itemI=list.get(i);var firstSwap=list.set(i,list.get(j));return firstSwap.set(j,itemI);}},{key:"render",value:function render(){var _this4=this;return _react["default"].createElement("div",{className:"carousel-editor"},this.state.images.map(function(image,index){var boxShadow={WebkitBoxShadow:"1px 1px 12px rgba(150, 230, 247, 1), 3px 3px 12px rgba(0, 0, 0, 1)",OBoxShadow:"1px 1px 12px rgba(150, 230, 247, 1), 3px 3px 12px rgba(0, 0, 0, 1)",MozBozShadow:"1px 1px 12px rgba(150, 230, 247, 1), 3px 3px 12px rgba(0, 0, 0, 1)",msBoxShadow:"1px 1px 12px rgba(150, 230, 247, 1), 3px 3px 12px rgba(0, 0, 0, 1)",boxShadow:"1px 1px 12px rgba(150, 230, 247, 1), 3px 3px 12px rgba(0, 0, 0, 1)"};return _react["default"].createElement("div",{key:index,style:_this4.state.indexToAnimate===index?boxShadow:{},className:"".concat(_carousel_editor["default"].imageContainer," rce-image-container")},_react["default"].createElement("div",{className:"".concat(_carousel_editor["default"].order," rce-order")},index+1),_react["default"].createElement("div",{className:"".concat(_carousel_editor["default"].imageWrapper," rce-image-wrapper")},_react["default"].createElement("div",{style:{background:"url('".concat(image.get('url'),"') center / contain no-repeat")},className:"".concat(_carousel_editor["default"].image," rce-image")})),_react["default"].createElement("div",{className:"".concat(_carousel_editor["default"].controls," \"rce-controls")},_react["default"].createElement(_Button["default"],{classList:"".concat(_carousel_editor["default"].button," rce-button"),iconStyle:{color:'#333'},icon:"fa fa-arrow-up draftster-carousel-arrow-up",tooltip:"Move image up",onClick:_this4.handleImageUp.bind(_this4,index)}),_react["default"].createElement(_Button["default"],{classList:"".concat(_carousel_editor["default"].button," rce-button"),iconStyle:{color:'#333'},icon:"fa fa-arrow-down draftster-carousel-arrow-down",tooltip:"Move image down",onClick:_this4.handleImageDown.bind(_this4,index)})));}));}}]);return CarouselEditor;}(_react.Component);CarouselEditor.propTypes={images:_propTypes["default"].instanceOf(_immutable["default"].List).isRequired};var _default=CarouselEditor;exports["default"]=_default;}),50605:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactDom=_interopRequireDefault(__webpack_require__(73935));var _draftJs=__webpack_require__(37163);var _dialog=_interopRequireDefault(__webpack_require__(61838));var _slideUpTransitions=_interopRequireDefault(__webpack_require__(54235));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Dialog=function(_Component){_inherits(Dialog,_Component);var _super=_createSuper(Dialog);function Dialog(props){var _this;_classCallCheck(this,Dialog);_this=_super.call(this,props);_this.onKeyDown=_this.onKeyDown.bind(_assertThisInitialized(_this));_this.dataRef=(0,_draftJs.genKey)();return _this;}
_createClass(Dialog,[{key:"componentDidMount",value:function componentDidMount(){if(window&&document){window.addEventListener('keydown',this.onKeyDown);if(this.props.open&&!document.body.classList.contains('no-scroll'))document.body.classList.add('no-scroll');}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(window&&document){window.removeEventListener('keydown',this.onKeyDown);if(document.querySelectorAll('[data-nested-dialog]').length===1&&document.body.classList.contains('no-scroll')){document.body.classList.remove('no-scroll');}}}},{key:"onKeyDown",value:function onKeyDown(e){if(!this.props.open)return;if(e.keyCode===27){var dialogs=document.querySelectorAll('[data-nested-dialog]');if(dialogs.length===1)return this.dismissByDataRef(dialogs[0]);var deepestDialog=[].slice.call(dialogs).reduce(function(acc,dialog){var prev=JSON.parse(acc.getAttribute('data-nested-dialog'));var curr=JSON.parse(dialog.getAttribute('data-nested-dialog'));return parseInt(curr[0],10)>parseInt(prev[0],10)?dialog:acc;},[].slice.call(dialogs).shift());this.dismissByDataRef(deepestDialog);}}},{key:"dismissByDataRef",value:function dismissByDataRef(dialog){if(JSON.parse(dialog.getAttribute('data-nested-dialog'))[1]===this.dataRef)this.props.dismiss();}},{key:"shouldDismiss",value:function shouldDismiss(e){if(e.target&&e.target.getAttribute('data-ref')&&e.target.getAttribute('data-ref')===this.dataRef){this.props.dismiss(e);}}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,actions=_this$props.actions,actionsContainerStyle=_this$props.actionsContainerStyle,bodyClassName=_this$props.bodyClassName,bodyStyle=_this$props.bodyStyle,children=_this$props.children,className=_this$props.className,dismiss=_this$props.dismiss,dismissStyle=_this$props.dismissStyle,enableCloseButton=_this$props.enableCloseButton,maskStyle=_this$props.maskStyle,nestedDialogLevel=_this$props.nestedDialogLevel,open=_this$props.open,overlayClassName=_this$props.overlayClassName,overlayStyle=_this$props.overlayStyle,style=_this$props.style,title=_this$props.title,titleStyle=_this$props.titleStyle,wrapperClassName=_this$props.wrapperClassName,wrapperStyle=_this$props.wrapperStyle;var titleElement=title&&_react["default"].isValidElement(title)?title:title&&typeof title==='string'?this._buildTitle(title,titleStyle):null;var actionsElement=actions.length?this._buildActions(actions,actionsContainerStyle):null;return open?_react["default"].createElement("div",{"data-ref":this.dataRef,"data-nested-dialog":JSON.stringify([nestedDialogLevel,this.dataRef]),style:style,className:"".concat(_dialog["default"].dialog," ").concat(className),onClick:function onClick(e){return _this2.shouldDismiss(e);}},_react["default"].createElement("div",{"data-ref":this.dataRef,style:overlayStyle,className:"".concat(_dialog["default"].overlay," ").concat(overlayClassName)},_react["default"].createElement("div",{style:Object.assign({},wrapperStyle,{maxWidth:window?parseInt(window.innerWidth,10)*0.9:'100%'}),className:"".concat(_dialog["default"].wrapper," ").concat(wrapperClassName," ").concat(_slideUpTransitions["default"].translateY)},enableCloseButton?_react["default"].createElement("button",{style:dismissStyle,className:"".concat(_dialog["default"].dismiss),onClick:function onClick(e){e.preventDefault();dismiss(e);}},"\xD7"):null,titleElement,_react["default"].createElement("div",{style:bodyStyle,className:bodyClassName},children),actionsElement))):_react["default"].createElement("div",null);}},{key:"_buildTitle",value:function _buildTitle(title,style){return _react["default"].createElement("div",null,_react["default"].createElement("h4",{style:style,className:_dialog["default"].title},title));}},{key:"_buildActions",value:function _buildActions(actions,style){return _react["default"].createElement("div",{style:style,className:_dialog["default"].actions},_react["default"].Children.toArray(actions));}}]);return Dialog;}(_react.Component);Dialog.propTypes={actions:_propTypes["default"].array,actionsContainerStyle:_propTypes["default"].object,bodyClassName:_propTypes["default"].string,bodyStyle:_propTypes["default"].object,className:_propTypes["default"].string,dismiss:_propTypes["default"].func.isRequired,enableCloseButton:_propTypes["default"].bool,open:_propTypes["default"].bool.isRequired,overlayClassName:_propTypes["default"].string,overlayStyle:_propTypes["default"].object,nestedDialogLevel:_propTypes["default"].number,style:_propTypes["default"].object,title:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].element]),wrapperClassName:_propTypes["default"].string,wrapperStyle:_propTypes["default"].object};Dialog.defaultProps={actions:[],actionsContainerStyle:{},bodyClassName:'',bodyStyle:{},className:'',enableCloseButton:true,overlayClassName:'',overlayStyle:{},nestedDialogLevel:0,style:{},wrapperClassName:'',wrapperStyle:{}};var _default=Dialog;exports["default"]=_default;}),96587:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _draftJs=__webpack_require__(37163);var _immutable=__webpack_require__(43393);var _customKeyBindings=_interopRequireDefault(__webpack_require__(16815));var _customKeyHandlers=_interopRequireDefault(__webpack_require__(29897));var _customBlockRenderer=_interopRequireDefault(__webpack_require__(72480));var _customBlockRenderMap=_interopRequireDefault(__webpack_require__(1902));var _customBlockStyleFn=_interopRequireDefault(__webpack_require__(73371));var _customBeforeInputHandlers=_interopRequireDefault(__webpack_require__(12956));var _customReturnHandler=_interopRequireDefault(__webpack_require__(80857));var _customArrowKeysHandler=_interopRequireDefault(__webpack_require__(37542));var _customPasteHandler=_interopRequireDefault(__webpack_require__(93635));var _styleMap=_interopRequireDefault(__webpack_require__(96596));var _draftUtils=__webpack_require__(85559);var _getters=__webpack_require__(204);var _LinkMenu=_interopRequireDefault(__webpack_require__(15849));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Draft=function(_Component){_inherits(Draft,_Component);var _super=_createSuper(Draft);function Draft(props){var _this;_classCallCheck(this,Draft);_this=_super.call(this,props);_this.focus=function(){return _this.editor.focus();};_this.setDraftState=_this.setDraftState.bind(_assertThisInitialized(_this));_this.onDraftChange=_this.onDraftChange.bind(_assertThisInitialized(_this));_this.toggleReadOnly=_this.toggleReadOnly.bind(_assertThisInitialized(_this));_this.customBlockRenderMap=(0,_customBlockRenderMap["default"])();_this.editor;return _this;}
_createClass(Draft,[{key:"onDraftChange",value:function onDraftChange(editorState){this.props.onDraftChange(editorState);}},{key:"setDraftState",value:function setDraftState(editorState,readOnly){this.props.setDraft(editorState,readOnly);}},{key:"toggleReadOnly",value:function toggleReadOnly(bool){if(bool!==this.props.readOnly){this.props.toggleReadOnly(bool);}}},{key:"replaceEntityData",value:function replaceEntityData(entityKey,data){var currentState=this.props.draftState;var contentState=currentState.getCurrentContent().replaceEntityData(entityKey,data);this.setDraftState(_draftJs.EditorState.push(currentState,contentState));}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,blockRestrictions=_this$props.blockRestrictions,draftState=_this$props.draftState,hasFocus=_this$props.hasFocus,instanceId=_this$props.instanceId,isDialogOpen=_this$props.isDialogOpen,readOnly=_this$props.readOnly,setMessenger=_this$props.setMessenger;var selection=draftState.getSelection();return _react["default"].createElement("div",{style:{position:'relative'}},_react["default"].createElement(_draftJs.Editor,{ref:function ref(el){return _this2.editor=el;},className:"content-editable",editorState:draftState,customStyleMap:_styleMap["default"],blockRendererFn:_customBlockRenderer["default"].bind(this,this),blockRenderMap:this.customBlockRenderMap,blockStyleFn:_customBlockStyleFn["default"],handleBeforeInput:function handleBeforeInput(_char){return _customBeforeInputHandlers["default"].call(_this2,draftState,_char,_this2.setDraftState,_this2.props.activeMetadata.get('activeStyles'));},handleDrop:function handleDrop(){return true;},handleDroppedFiles:function handleDroppedFiles(sel,files){return _this2.props.onImageUpload(files);},handleKeyCommand:function handleKeyCommand(cmd){return _customKeyHandlers["default"].call(_this2,cmd,draftState,_this2.setDraftState,_this2.props.toggleActiveStyle);},handlePastedFiles:function handlePastedFiles(files){return _this2.props.onImageUpload(files);},handlePastedText:_customPasteHandler["default"].bind(this,draftState,this.setDraftState,blockRestrictions),handleReturn:_customReturnHandler["default"].bind(this,draftState,this.setDraftState),keyBindingFn:_customKeyBindings["default"],onChange:this.onDraftChange,onDownArrow:_customArrowKeysHandler["default"].bind(this,'DOWN',draftState,this.setDraftState),onFocus:this.props.onDraftFocus,readOnly:readOnly,spellCheck:true,suppressContentEditableWarning:true}),!!(0,_draftUtils.currentCharContainsLink)(draftState)&&selection.isCollapsed()&&hasFocus&&!isDialogOpen&&_react["default"].createElement(_LinkMenu["default"],{editorState:draftState,instanceId:instanceId,onChange:this.setDraftState,onInvalidUrl:function onInvalidUrl(msg){return setMessenger({open:true,msg:msg,type:'error'});},readOnly:readOnly,toggleReadOnly:this.toggleReadOnly}));}}]);return Draft;}(_react.Component);Draft.propTypes={blockRestrictions:_propTypes["default"].object.isRequired,draftState:_propTypes["default"].object.isRequired,hasFocus:_propTypes["default"].bool.isRequired,instanceId:_propTypes["default"].string.isRequired,isDialogOpen:_propTypes["default"].bool.isRequired,onDraftChange:_propTypes["default"].func.isRequired,onImageUpload:_propTypes["default"].func.isRequired,processImage:_propTypes["default"].func.isRequired,readOnly:_propTypes["default"].bool.isRequired,setDraft:_propTypes["default"].func.isRequired,setMessenger:_propTypes["default"].func.isRequired,setUnsavedChanges:_propTypes["default"].func.isRequired,toggleActiveStyle:_propTypes["default"].func.isRequired,toggleDialogStatus:_propTypes["default"].func.isRequired,toggleReadOnly:_propTypes["default"].func.isRequired,uploadImages:_propTypes["default"].func.isRequired};Draft.defaultProps={blockRestrictions:(0,_immutable.List)()};var _default=Draft;exports["default"]=_default;}),38975:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Helpers=__webpack_require__(53581);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Dropzone=function(_Component){_inherits(Dropzone,_Component);var _super=_createSuper(Dropzone);function Dropzone(props){var _this;_classCallCheck(this,Dropzone);_this=_super.call(this,props);_this.state={dragActive:false};_this.input;return _this;}
_createClass(Dropzone,[{key:"onDragOver",value:function onDragOver(e){e.preventDefault();e.dataTransfer.dropEffect="copy";this.setState({dragActive:true});}},{key:"onDrop",value:function onDrop(e){e.preventDefault();this.setState({dragActive:false});var files=e.dataTransfer?e.dataTransfer.files:e.target.files;if(this.props.onDrop){this.props.onDrop([].slice.call(files).filter(function(file){return(0,_Helpers.isImageValid)(file.type);}));}}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,classList=_this$props.classList,multiple=_this$props.multiple,styles=_this$props.styles;return _react["default"].createElement("div",{style:styles,className:"".concat(classList," ").concat(this.state.dragActive?'active':''),onClick:function onClick(){return _this2.input.click();},onDragLeave:function onDragLeave(){return _this2.setState({dragActive:false});},onDragOver:function onDragOver(e){return _this2.onDragOver(e);},onDrop:function onDrop(e){return _this2.onDrop(e);}},_react["default"].createElement("input",{ref:function ref(el){return _this2.input=el;},style:{display:'none'},onChange:function onChange(e){return _this2.onDrop(e);},multiple:multiple,type:"file"}),this.props.children);}}]);return Dropzone;}(_react.Component);Dropzone.propTypes={classList:_propTypes["default"].string,multiple:_propTypes["default"].bool,onDrop:_propTypes["default"].func.isRequired,styles:_propTypes["default"].object};Dropzone.defaultProps={classList:'dropzone',multiple:false,styles:{}};var _default=Dropzone;exports["default"]=_default;}),59273:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lodash=_interopRequireDefault(__webpack_require__(91296));var _Draft=_interopRequireDefault(__webpack_require__(96587));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Editor=function(_Component){_inherits(Editor,_Component);var _super=_createSuper(Editor);function Editor(props){var _this;_classCallCheck(this,Editor);_this=_super.call(this,props);_this.handleResize=_this.handleResize.bind(_assertThisInitialized(_this));_this.debouncedResize=(0,_lodash["default"])(_this.handleResize,30);_this.focusDraft=_this.focusDraft.bind(_assertThisInitialized(_this));_this.draft;_this.editor;return _this;}
_createClass(Editor,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;if(window&&window.addEventListener){window.addEventListener('resize',this.debouncedResize);}
setTimeout(function(){_this2._propagateEditorWidth();},20);}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(window)window.removeEventListener('resize',this.debouncedResize);}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps){return nextProps.draft!==this.props.draft||nextProps.editor!==this.props.editor||nextProps.readOnly!==this.props.readOnly;}},{key:"focusDraft",value:function focusDraft(){this.draft.focus();}},{key:"handleResize",value:function handleResize(){this._propagateEditorWidth();}},{key:"_propagateEditorWidth",value:function _propagateEditorWidth(){if(this.editor){var rects=this.editor.getBoundingClientRect();var width=rects.width>0?rects.width:'100%';this.props.setEditorWidth(width);}}},{key:"render",value:function render(){var _this3=this;var _this$props=this.props,draft=_this$props.draft,editor=_this$props.editor,onImageUpload=_this$props.onImageUpload;return _react["default"].createElement("div",{ref:function ref(el){return _this3.editor=el;},className:"draftster-wrapper"},_react["default"].createElement(_Draft["default"],{ref:function ref(el){return _this3.draft=el;},activeMetadata:this.props.activeMetadata,blockRestrictions:this.props.editor.get('blockRestrictions'),draftState:this.props.draft,hasFocus:this.props.editor.get('hasFocus'),instanceId:this.props.editor.get('instanceId'),isDialogOpen:this.props.editor.get('isDialogOpen'),onDraftChange:this.props.onDraftChange,onDraftFocus:this.props.onDraftFocus,onImageUpload:onImageUpload,processImage:this.props.processImage,readOnly:this.props.readOnly,setDraft:this.props.setDraft,setMessenger:this.props.setMessenger,setUnsavedChanges:this.props.setUnsavedChanges,toggleActiveStyle:this.props.toggleActiveStyle,toggleDialogStatus:this.props.toggleDialogStatus,toggleReadOnly:this.props.toggleReadOnly,uploadImages:this.props.uploadImages}));}}]);return Editor;}(_react.Component);exports["default"]=Editor;Editor.propTypes={draft:_propTypes["default"].object.isRequired,editor:_propTypes["default"].object.isRequired,onDraftChange:_propTypes["default"].func.isRequired,onImageUpload:_propTypes["default"].func.isRequired,processImage:_propTypes["default"].func.isRequired,readOnly:_propTypes["default"].bool.isRequired,setDraft:_propTypes["default"].func.isRequired,setEditorWidth:_propTypes["default"].func.isRequired,setMessenger:_propTypes["default"].func.isRequired,setUnsavedChanges:_propTypes["default"].func.isRequired,toggleActiveStyle:_propTypes["default"].func.isRequired,toggleDialogStatus:_propTypes["default"].func.isRequired,toggleReadOnly:_propTypes["default"].func.isRequired};}),37675:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _EmbedToolbar=_interopRequireDefault(__webpack_require__(4626));var _Figcaption=_interopRequireDefault(__webpack_require__(25240));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Embed=function(_Component){_inherits(Embed,_Component);var _super=_createSuper(Embed);function Embed(props){var _this;_classCallCheck(this,Embed);_this=_super.call(this,props);_this.state={height:0,hovered:false,toolbarData:{}};_this.handleCaptionKeyDown=_this.handleCaptionKeyDown.bind(_assertThisInitialized(_this));_this.handleFigcaptionChange=_this.handleFigcaptionChange.bind(_assertThisInitialized(_this));_this.handleIFrameLoad=_this.handleIFrameLoad.bind(_assertThisInitialized(_this));_this.handleIFrameResponse=_this.handleIFrameResponse.bind(_assertThisInitialized(_this));_this.handleMediaLoad=_this.handleMediaLoad.bind(_assertThisInitialized(_this));_this.handleMouseOver=_this.handleMouseOver.bind(_assertThisInitialized(_this));_this._embed;return _this;}
_createClass(Embed,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener('message',this.handleIFrameResponse);}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(window&&this.focusCaptionTimeout)window.clearTimeout(this.focusCaptionTimeout);window.removeEventListener('message',this.handleIFrameResponse);}},{key:"handleMouseOver",value:function handleMouseOver(e){if(e.target.classList.contains('react-editor-embed')||e.target.classList.contains('react-editor-embed-wrapper')){this.setState({hovered:true});}}},{key:"handleCaptionKeyDown",value:function handleCaptionKeyDown(e){switch(e.keyCode){case 38:this._moveSelectionTo(e,'previous');break;case 40:case 13:case 9:this._moveSelectionTo(e,'next');break;default:break;}}},{key:"handleIFrameLoad",value:function handleIFrameLoad(e){if(this._embed){this._embed.contentWindow.postMessage({id:this.props.block.get('key')},'*');this._setDimensionsToStateAndEntity();}}},{key:"handleIFrameResponse",value:function handleIFrameResponse(e){if(e.source!==this._embed.contentWindow)return;if(e.data.id===this.props.block.get('key')&&this._embed){this._setDimensionsToStateAndEntity(e.data.height);}else if(e.origin.includes('instagram')){this._parseInstagramMessage(e);}}},{key:"handleFigcaptionChange",value:function handleFigcaptionChange(value){var _this$props=this.props,block=_this$props.block,blockProps=_this$props.blockProps,contentState=_this$props.contentState;var embedData=contentState.getEntity(block.getEntityAt(0)).getData().embedData;var updatedData=embedData.set('figcaption',value);blockProps.updateContentState(contentState.replaceEntityData(block.getEntityAt(0),{embedData:updatedData}));}},{key:"handleMediaLoad",value:function handleMediaLoad(e){if(this._embed)this._setDimensionsToStateAndEntity();}},{key:"_getIframeSrc",value:function _getIframeSrc(data){var embed=data.get('embed');if(data.get('service')==='gist'){return "data:text/html;charset=utf-8,<body><script src=\"".concat(embed,".js\"></script>").concat(this._getGistIframePostMsgScript(),"</body>");}
return embed;}},{key:"_getGistIframePostMsgScript",value:function _getGistIframePostMsgScript(){return "<script>\n      window.addEventListener('message', function(event) {\n        if (event.data.id === \"".concat(this.props.block.get('key'),"\") {\n          var body = document.body, html = document.documentElement;\n          var height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n          window.parent.postMessage({ height: height, id: \"").concat(this.props.block.get('key'),"\" }, \"*\");\n        }\n      }, false);\n    </script>");}},{key:"_moveSelectionTo",value:function _moveSelectionTo(e,direction){e.preventDefault();this.props.blockProps.moveSelectionTo(this.props.block,direction);}},{key:"_parseInstagramMessage",value:function _parseInstagramMessage(e){var data=JSON.parse(e.data);if(data&&data.type==='MEASURE'){var height=data.details&&data.details.height?data.details.height:null;if(height&&this.state.height!==height)this._setDimensionsToStateAndEntity(parseInt(height,10));}}},{key:"_setDimensionsToStateAndEntity",value:function _setDimensionsToStateAndEntity(){var knownHeight=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var width=this._embed.getBoundingClientRect().width;var height=knownHeight||width*(9/16);this.setState({height:height});this._mutateEntity({height:height,width:width});}},{key:"_mutateEntity",value:function _mutateEntity(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var entityKey=this.props.block.getEntityAt(0);var embedData=this.props.contentState.getEntity(entityKey).getData().embedData;this.props.blockProps.updateContentState(this.props.contentState.mergeEntityData(entityKey,{embedData:embedData.merge(data)}));}},{key:"_getEmbedView",value:function _getEmbedView(data){var _this2=this;switch(data.get('type')){case 'iframe':return this._getIFrameView(data);case 'image':return _react["default"].createElement("img",{ref:function ref(el){return _this2._embed=el;},style:{height:this.state.height===0?'auto':this.state.height},className:"react-editor-embed",src:data.get('embed'),onLoad:this.handleMediaLoad});default:return null;}}},{key:"_getIFrameView",value:function _getIFrameView(data){var _this3=this;var alt=data.get('alt');if(data.get('service')==='mp4'){var embed=data.get('embed');return _react["default"].createElement("video",{ref:function ref(el){return _this3._embed=el;},style:{height:this.state.height===0?'auto':this.state.height},className:"react-editor-embed",preload:"metadata",controls:"controls",onLoadedData:this.handleMediaLoad},_react["default"].createElement("source",{type:"video/mp4",src:embed}),_react["default"].createElement("a",{href:embed,alt:alt},embed));}else{var _embed=this._getIframeSrc(data);return _react["default"].createElement("iframe",{ref:function ref(el){return _this3._embed=el;},key:this.props.block.get('key'),style:{height:this.state.height===0?'auto':this.state.height},className:"react-editor-embed react-editor-embed-override",src:_embed,alt:alt,frameBorder:"0",onLoad:this.handleIFrameLoad});}}},{key:"render",value:function render(){var _this4=this;var embedData=this.props.contentState.getEntity(this.props.block.getEntityAt(0)).getData().embedData;var shouldRenderFigcaption=embedData.get('service')!=='gist';return _react["default"].createElement("div",{className:"react-editor-embeddable",onMouseOver:this.handleMouseOver},_react["default"].createElement("div",{className:"react-editor-embeddable-inner"},_react["default"].createElement("figure",{className:"react-editor-figure"},_react["default"].createElement("div",{className:"react-editor-embed-wrapper",contentEditable:false},this._getEmbedView(embedData),shouldRenderFigcaption&&_react["default"].createElement(_Figcaption["default"],{className:"react-editor-figcaption",onBlur:function onBlur(){return _this4.props.blockProps.editing(false,'figcaption');},onFocus:function onFocus(){return _this4.props.blockProps.editing(true);},onKeyDown:this.handleCaptionKeyDown,onValueChange:this.handleFigcaptionChange,placeholder:"caption (optional)",value:embedData.get('figcaption')||''})))),this.state.hovered&&_react["default"].createElement(_EmbedToolbar["default"],{data:{height:this.state.height},disableButtonsByType:[],embedType:"default",parent:this,parentRenderingFigcaption:shouldRenderFigcaption,remove:function remove(){return _this4.props.blockProps.remove(_this4.props.block);},unmountToolbar:function unmountToolbar(){return _this4.setState({hovered:false});}}));}}]);return Embed;}(_react.Component);exports["default"]=Embed;Embed.propTypes={block:_propTypes["default"].object.isRequired,blockProps:_propTypes["default"].object.isRequired};}),4626:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactDom=_interopRequireDefault(__webpack_require__(73935));var _Button=_interopRequireDefault(__webpack_require__(34813));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var EmbedToolbar=function(_Component){_inherits(EmbedToolbar,_Component);var _super=_createSuper(EmbedToolbar);function EmbedToolbar(props){var _this;_classCallCheck(this,EmbedToolbar);_this=_super.call(this,props);_this.handleMouseOut=_this.handleMouseOut.bind(_assertThisInitialized(_this));_this.handleInputClick=_this.handleInputClick.bind(_assertThisInitialized(_this));_this.handleUpload=_this.handleUpload.bind(_assertThisInitialized(_this));_this.state={height:props.data.height||'100%',persistState:false};_this.input;return _this;}
_createClass(EmbedToolbar,[{key:"handleMouseOut",value:function handleMouseOut(e){var parent=_reactDom["default"].findDOMNode(this.props.parent);var relatedTarget=e.nativeEvent.relatedTarget;if((!parent.contains(relatedTarget)||relatedTarget.classList.contains('reit-controls-button')||relatedTarget.classList.contains('react-editor-figcaption'))&&this.state.persistState===false){this.props.unmountToolbar();}}},{key:"handleInputClick",value:function handleInputClick(e){this.setState({persistState:true});this.input.click();this.props.parent.props.blockProps.focus();}},{key:"handleUpload",value:function handleUpload(e){this.props.upload(e);this.props.unmountToolbar();}},{key:"getStyles",value:function getStyles(style){style=style||{};var height=typeof this.state.height==='number'&&this.props.shouldRenderFigcaption?this.state.height-28:this.state.height;return{top:0,left:0,marginLeft:0,width:'100%',height:height,borderRadius:2};}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,embedType=_this$props.embedType,data=_this$props.data,disableButtonsByType=_this$props.disableButtonsByType;var buttons=this._getToolbarButtons(embedType).reduce(function(acc,button,idx){var classList=button.classList,icon=button.icon,buttonStyle=button.buttonStyle,tooltip=button.tooltip,type=button.type,onClick=button.onClick;if(disableButtonsByType.indexOf(type)===-1){acc=acc.concat(_react["default"].createElement(_Button["default"],{key:idx,buttonStyle:Object.assign({},buttonStyle),classList:"".concat(classList," embed-toolbar-btn"),icon:icon,tooltip:tooltip,onClick:onClick}));}
return acc;},[]);return _react["default"].createElement("div",{style:this.getStyles(data),contentEditable:false,className:"react-editor-image-overlay",onMouseOut:this.handleMouseOut},_react["default"].createElement("div",{className:"reit-toolbar"},buttons),_react["default"].createElement("input",{ref:function ref(el){return _this2.input=el;},style:{display:'none'},type:"file",multiple:true,onChange:this.handleUpload}));}},{key:"_getToolbarButtons",value:function _getToolbarButtons(type){switch(type){case 'carousel':return[{type:'add',classList:'btn btn-primary',icon:'fa fa-plus',buttonStyle:{marginRight:10},tooltip:'Add an image',onClick:this.handleInputClick},{type:'reorder',classList:'btn btn-primary',icon:'fa fa-exchange',buttonStyle:{marginRight:10},tooltip:'Reorder images',onClick:this.props.openImageEditor},{type:'remove',classList:'btn btn-danger',icon:'fa fa-trash-o',tooltip:'Delete this image',onClick:this.props.remove}];case 'link':return[{type:'add',classList:'btn btn-primary',icon:'fa fa-crop',buttonStyle:{marginRight:10},tooltip:'Edit image',onClick:this.props.openImageEditor},{type:'remove',classList:'btn btn-danger',icon:'fa fa-trash-o',tooltip:'Delete this embed',onClick:this.props.remove}];default:return[{type:'remove',classList:'btn btn-danger',icon:'fa fa-trash-o',tooltip:'Delete this embed',onClick:this.props.remove}];}}}]);return EmbedToolbar;}(_react.Component);exports["default"]=EmbedToolbar;EmbedToolbar.propTypes={disableButtonsByType:_propTypes["default"].array,embedType:_propTypes["default"].string,remove:_propTypes["default"].func.isRequired,openImageEditor:_propTypes["default"].func,parent:_propTypes["default"].object,parentRenderingFigcaption:_propTypes["default"].bool,upload:_propTypes["default"].func,unmountToolbar:_propTypes["default"].func.isRequired};EmbedToolbar.defaultProps={disableButtonsByType:[],embedType:'default',shouldRenderFigcaption:false};}),25240:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Figcaption=function(_Component){_inherits(Figcaption,_Component);var _super=_createSuper(Figcaption);function Figcaption(props){var _this;_classCallCheck(this,Figcaption);_this=_super.call(this,props);_this.state={value:props.value};_this.onBlur=_this.onBlur.bind(_assertThisInitialized(_this));_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));return _this;}
_createClass(Figcaption,[{key:"onBlur",value:function onBlur(e){e.stopPropagation();this.props.onBlur(e);}},{key:"onChange",value:function onChange(e){var value=e.target.value;this.props.onValueChange(value);this.setState({value:value});}},{key:"render",value:function render(){var _this2=this;return _react["default"].createElement("input",{ref:function ref(el){return _this2.input=el;},className:this.props.className,onChange:this.onChange,onBlur:this.onBlur,onFocus:function onFocus(e){return _this2.props.onFocus(e);},onKeyDown:this.props.onKeyDown,placeholder:this.props.placeholder,type:"text",value:this.state.value});}}]);return Figcaption;}(_react.Component);Figcaption.propTypes={className:_propTypes["default"].string,placeholder:_propTypes["default"].string,onFocus:_propTypes["default"].func.isRequired,onBlur:_propTypes["default"].func.isRequired,onKeyDown:_propTypes["default"].func.isRequired,onValueChange:_propTypes["default"].func,value:_propTypes["default"].string};Figcaption.defaultProps={className:'react-editor-figcaption',placeholder:'caption (optional)',value:''};var _default=Figcaption;exports["default"]=_default;}),22039:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _ImageEditor=_interopRequireDefault(__webpack_require__(53228));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ImageEditor=function(_Component){_inherits(ImageEditor,_Component);var _super=_createSuper(ImageEditor);function ImageEditor(props){var _this;_classCallCheck(this,ImageEditor);_this=_super.call(this,props);_this._getDimensions=_this.getDimensions.bind(_assertThisInitialized(_this));_this.state={dimensions:_this.initialImageConstraint(props.image),range:_this.initialRange(props.image)};return _this;}
_createClass(ImageEditor,[{key:"initialImageConstraint",value:function initialImageConstraint(image){var maxWidth=680;var maxHeight=510;var width=image.iWidth?image.iWidth:image.width;var height=image.iHeight?image.iHeight:image.height;var ratio=Math.min(maxWidth/width,maxHeight/height);return{width:image.iWidth?image.width:Math.floor(width*ratio),height:image.iHeight?image.height:Math.floor(height*ratio),iWidth:Math.floor(width*ratio),iHeight:Math.floor(height*ratio)};}},{key:"initialRange",value:function initialRange(image){var maxWidth=680;var maxHeight=510;var width=image.width?image.width:image.iWidth;var height=image.height?image.height:image.iHeight;var ratio=Math.min(maxWidth/width,maxHeight/height);return image.iWidth?Math.ceil(width/Math.floor(width*ratio)*100):100;}},{key:"scaleImageByRange",value:function scaleImageByRange(e){var value=e.target.value;var _this$state$dimension=this.state.dimensions,height=_this$state$dimension.height,width=_this$state$dimension.width,iWidth=_this$state$dimension.iWidth,iHeight=_this$state$dimension.iHeight;var min=Math.min(iWidth,iHeight);var ratio=min*(value/100);this.setState({dimensions:Object.assign({},this.state.dimensions,{height:Math.floor(ratio/min*iHeight),width:Math.floor(ratio/min*iWidth)}),range:value});}},{key:"getDimensions",value:function getDimensions(){return this.state.dimensions;}},{key:"render",value:function render(){var _this2=this;var _this$props$image=this.props.image,name=_this$props$image.name,url=_this$props$image.url;var _this$state$dimension2=this.state.dimensions,height=_this$state$dimension2.height,width=_this$state$dimension2.width,iWidth=_this$state$dimension2.iWidth;return _react["default"].createElement("div",{style:{minWidth:iWidth},className:_ImageEditor["default"].root},_react["default"].createElement("div",{className:_ImageEditor["default"].resizeWrapper},_react["default"].createElement("small",null,"Resize image"),_react["default"].createElement("input",{onChange:function onChange(e){return _this2.scaleImageByRange(e);},onKeyDown:function onKeyDown(e){if(e.keyCode===13){e.preventDefault();}},min:"10",max:"100",type:"range",value:this.state.range})),_react["default"].createElement("div",{style:{minHeight:150}},_react["default"].createElement("img",{style:{width:width,height:height},alt:name||"",src:url})));}}]);return ImageEditor;}(_react.Component);ImageEditor.propTypes={image:_propTypes["default"].shape({height:_propTypes["default"].number,name:_propTypes["default"].string,width:_propTypes["default"].number,url:_propTypes["default"].string}).isRequired};ImageEditor.defaultProps={};var _default=ImageEditor;exports["default"]=_default;}),34222:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactDom=_interopRequireDefault(__webpack_require__(73935));var _reactTransitionGroup=__webpack_require__(72165);var _draftJs=__webpack_require__(37163);var _EmbedToolbar=_interopRequireDefault(__webpack_require__(4626));var _Figcaption=_interopRequireDefault(__webpack_require__(25240));var _Dialog=_interopRequireDefault(__webpack_require__(50605));var _ImageLinkForm=_interopRequireDefault(__webpack_require__(30432));var _Spinner=_interopRequireDefault(__webpack_require__(5159));var _carousel=_interopRequireDefault(__webpack_require__(19077));var _slideUpTransitions=_interopRequireDefault(__webpack_require__(54235));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ImageLink=function(_Component){_inherits(ImageLink,_Component);var _super=_createSuper(ImageLink);function ImageLink(props){var _this;_classCallCheck(this,ImageLink);_this=_super.call(this,props);_this.state={hovered:false,showForm:false};_this.handleCaptionKeyDown=_this.handleCaptionKeyDown.bind(_assertThisInitialized(_this));_this.handleFigcaptionChange=_this.handleFigcaptionChange.bind(_assertThisInitialized(_this));_this.toggleForm=_this.toggleForm.bind(_assertThisInitialized(_this));_this.updateImage=_this.updateImage.bind(_assertThisInitialized(_this));_this._isMounted;return _this;}
_createClass(ImageLink,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){var entity=this.props.block.getEntityAt(0);var image=this.props.contentState.getEntity(entity).getData().image;if(image.get('pending')){this.props.blockProps.processImage(image.toJS(),entity,this.props.block.getKey());}}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;}},{key:"onMouseOver",value:function onMouseOver(e){if(e.target.classList.contains('react-editor-image')||e.target.classList.contains('react-editor-image-wrapper')){this.setState({hovered:true});}}},{key:"handleCaptionKeyDown",value:function handleCaptionKeyDown(e){switch(e.keyCode){case 38:this._moveSelectionTo(e,'previous');break;case 40:case 13:case 9:this._moveSelectionTo(e,'next');break;default:break;}}},{key:"handleFigcaptionChange",value:function handleFigcaptionChange(value){var _this$props=this.props,block=_this$props.block,blockProps=_this$props.blockProps,contentState=_this$props.contentState;var image=this.props.contentState.getEntity(block.getEntityAt(0)).getData().image;var newImage=image.set('figcaption',value);blockProps.updateContentState(contentState.replaceEntityData(block.getEntityAt(0),{image:newImage}));}},{key:"_moveSelectionTo",value:function _moveSelectionTo(e,direction){e.preventDefault();this.props.blockProps.moveSelectionTo(this.props.block,direction);}},{key:"toggleForm",value:function toggleForm(bool){var _this2=this;this.props.blockProps.editing(bool);setTimeout(function(){if(_this2._isMounted){_this2.props.blockProps.actions.toggleDialogStatus(bool);_this2.setState({showForm:bool});}},20);}},{key:"updateImage",value:function updateImage(array){var _this$props2=this.props,block=_this$props2.block,blockProps=_this$props2.blockProps,contentState=_this$props2.contentState;var image=contentState.getEntity(block.getEntityAt(0)).getData().image;blockProps.updateContentState(contentState.replaceEntityData(block.getEntityAt(0),{image:image.merge(array[0])}),'apply-entity');this.setState({hovered:false});}},{key:"render",value:function render(){var _this3=this;var _this$props3=this.props,block=_this$props3.block,blockProps=_this$props3.blockProps,contentState=_this$props3.contentState;var image=contentState.getEntity(block.getEntityAt(0)).getData().image;return _react["default"].createElement("div",{className:"".concat(_carousel["default"].root," react-editor-carousel"),onMouseOver:function onMouseOver(e){return _this3.onMouseOver(e);},tabIndex:0},_react["default"].createElement("div",{className:"".concat(_carousel["default"].images," react-editor-carousel-inner")},_react["default"].createElement("figure",{className:"".concat(_carousel["default"].figure," ").concat(_carousel["default"].show," react-editor-figure"),"data-type":"image"},_react["default"].createElement("div",{className:"".concat(_carousel["default"].imageWrapper," react-editor-image-wrapper"),contentEditable:false},!image.has('id')&&_react["default"].createElement("div",{className:_carousel["default"].loader},_react["default"].createElement(_Spinner["default"],null),_react["default"].createElement("p",null,"Uploading image")),_react["default"].createElement("img",{alt:image.get('name'),className:"".concat(_carousel["default"].image," react-editor-image"),src:image.get('url'),width:image.get('width')}),_react["default"].createElement(_Figcaption["default"],{className:"".concat(_carousel["default"].figcaption," react-editor-figcaption"),onBlur:function onBlur(){return _this3.props.blockProps.editing(false);},onFocus:function onFocus(){return _this3.props.blockProps.editing(true);},onKeyDown:this.handleCaptionKeyDown,onValueChange:this.handleFigcaptionChange,value:image.get('figcaption')||''}))),this.state.hovered?_react["default"].createElement(_EmbedToolbar["default"],{data:{height:image.get('height')},embedType:"link",openImageEditor:function openImageEditor(){return _this3.toggleForm(true);},parent:this,remove:function remove(){return blockProps.remove(block);},unmountToolbar:function unmountToolbar(){return _this3.setState({hovered:false});}}):null,_react["default"].createElement(_reactTransitionGroup.CSSTransition,{classNames:_slideUpTransitions["default"],timeout:450},this.state.showForm?_react["default"].createElement(_Dialog["default"],{dismiss:function dismiss(){return _this3.toggleForm(false);},open:this.state.showForm,title:"Edit image"},_react["default"].createElement(_ImageLinkForm["default"],{create:this.updateImage,dismiss:function dismiss(){return _this3.toggleForm(false);},image:image.toJS(),link:image.get('link'),messenger:blockProps.message})):_react["default"].createElement("div",null))));}}]);return ImageLink;}(_react.Component);ImageLink.propTypes={block:_propTypes["default"].object.isRequired,blockProps:_propTypes["default"].object.isRequired};ImageLink.defaultProps={};var _default=ImageLink;exports["default"]=_default;}),30432:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _DropZone=_interopRequireDefault(__webpack_require__(38975));var _ImageEditor=_interopRequireDefault(__webpack_require__(22039));var _processImageFiles=_interopRequireWildcard(__webpack_require__(97561));var _Helpers=__webpack_require__(53581);var _ImageLinkForm=_interopRequireDefault(__webpack_require__(45952));var _buttons=_interopRequireDefault(__webpack_require__(82809));var _formElements=_interopRequireDefault(__webpack_require__(78785));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ImageLinkForm=function(_Component){_inherits(ImageLinkForm,_Component);var _super=_createSuper(ImageLinkForm);function ImageLinkForm(props){var _this;_classCallCheck(this,ImageLinkForm);_this=_super.call(this,props);_this.handleImageSelection=_this.handleImageSelection.bind(_assertThisInitialized(_this));_this.handleKeyDown=_this.handleKeyDown.bind(_assertThisInitialized(_this));_this.createImageLink=_this.createImageLink.bind(_assertThisInitialized(_this));_this.state={delayEditor:!!Object.keys(_this.props.image).length,image:props.image,link:props.link,errors:''};_this.imageEditor;return _this;}
_createClass(ImageLinkForm,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){var _this2=this;if(Object.keys(this.props.image).length){(0,_processImageFiles.getImageDimensions)(this.props.image.url).then(function(dimensions){return _this2.setState({image:Object.assign({},_this2.props.image,{iWidth:dimensions.width,iHeight:dimensions.height}),delayEditor:false});})["catch"](function(err){return console.error(err);});}}},{key:"handleImageSelection",value:function handleImageSelection(e){var files=e.dataTransfer?e.dataTransfer.files:e.target.files;this.handleFileReader([].slice.call(files));}},{key:"handleKeyDown",value:function handleKeyDown(e){if(e.keyCode===13){e.preventDefault();}}},{key:"handleFileReader",value:function handleFileReader(files){var _this3=this;if((0,_Helpers.isImageValid)(files[0].type)){return(0,_processImageFiles["default"])(files).then(function(imageArray){return _this3.setState({image:imageArray[0]});})["catch"](function(err){return _this3.props.messenger({open:true,msg:"Error uploading ".concat(files[0].name||'image',"."),type:'error'});});}else{this.setState({errors:{image:'Not a valid image!'}});}}},{key:"createImageLink",value:function createImageLink(e){e.preventDefault();if(this.hasErrors())return;if(Object.keys(this.state.image).length){var dimensions=this.imageEditor._getDimensions();this.props.create([Object.assign({},this.state.image,dimensions,{link:this.state.link})],'IMAGE_LINK');this.props.dismiss();}}},{key:"hasErrors",value:function hasErrors(){var link=this.state.link;if(link.length&&!(0,_Helpers.isUrlValid)(link)){this.setState({errors:'Sorry, we need a valid link!'});return true;}
if(link.length&&!(0,_Helpers.doesUrlHaveProtocol)(link)){this.setState({errors:'Make sure to add a protocol to your link! (Example: https://)'});return true;}
if(this.state.errors.length){this.setState({errors:''});}
return false;}},{key:"render",value:function render(){var _this4=this;var hasImage=Object.keys(this.state.image).length;var editingMode=Object.keys(this.props.image).length;return _react["default"].createElement("div",null,_react["default"].createElement("section",{className:_ImageLinkForm["default"].linkWrapper},_react["default"].createElement("input",{className:"".concat(_formElements["default"].input," ").concat(this.state.errors.length?_formElements["default"].borderError:''),type:"text",onChange:function onChange(e){return _this4.setState({link:e.target.value});},onKeyDown:this.handleKeyDown,placeholder:"Enter a link",value:this.state.link}),this.state.errors.length?_react["default"].createElement("small",{className:_formElements["default"].colorError},this.state.errors):null),_react["default"].createElement("section",null,hasImage&&!this.state.delayEditor?_react["default"].createElement(_ImageEditor["default"],{ref:function ref(el){return _this4.imageEditor=el;},image:this.state.image}):_react["default"].createElement(_DropZone["default"],{onDrop:function onDrop(files){return _this4.handleFileReader(files);}},_react["default"].createElement("div",{className:_ImageLinkForm["default"].dropzoneBody},_react["default"].createElement("span",{className:"fa fa-cloud-upload fa-5x"}),_react["default"].createElement("strong",null,"Drag Photo Here"),_react["default"].createElement("p",null,"or click to ",_react["default"].createElement("strong",null,"upload"))))),_react["default"].createElement("section",{className:_ImageLinkForm["default"].actionsWrapper},_react["default"].createElement("fieldset",null,_react["default"].createElement("button",{className:"".concat(_buttons["default"].btn," ").concat(_buttons["default"].btnLink),onClick:function onClick(e){e.preventDefault();_this4.props.dismiss(e);}},"Cancel"),_react["default"].createElement("button",{className:"".concat(_buttons["default"].btn," ").concat(_buttons["default"].btnPrimary),disabled:!hasImage,onClick:this.createImageLink},editingMode?'Save changes':'Create'))));}}]);return ImageLinkForm;}(_react.Component);ImageLinkForm.propTypes={create:_propTypes["default"].func.isRequired,dismiss:_propTypes["default"].func.isRequired,image:_propTypes["default"].object,link:_propTypes["default"].string,messenger:_propTypes["default"].func.isRequired};ImageLinkForm.defaultProps={image:{},link:''};var _default=ImageLinkForm;exports["default"]=_default;}),15678:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Button=_interopRequireDefault(__webpack_require__(34813));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var LegacyWidget=function(_Component){_inherits(LegacyWidget,_Component);var _super=_createSuper(LegacyWidget);function LegacyWidget(props){var _this;_classCallCheck(this,LegacyWidget);_this=_super.call(this,props);_this.focus=function(){return _this.refs.widget.focus();};_this.handleKeyDown=_this.handleKeyDown.bind(_assertThisInitialized(_this));_this.state={hovered:false,focused:false,height:0};return _this;}
_createClass(LegacyWidget,[{key:"componentDidMount",value:function componentDidMount(){this.setState({height:this.refs.widget.offsetHeight+20});}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.selection.getAnchorKey()===this.props.block.getKey()){this.setState({focused:true});this.focus();}else if(nextProps.selection.getAnchorKey()!==this.props.block.getKey()&&this.state.focused){this.setState({focused:false});}}},{key:"handleKeyDown",value:function handleKeyDown(e){e.preventDefault();if(e.keyCode===38){this.props.blockProps.moveSelectionTo(this.props.block,'previous');}else if(e.keyCode===40){this.props.blockProps.moveSelectionTo(this.props.block,'next');}}},{key:"render",value:function render(){var widgetData=this.props.contentState.getEntity(this.props.block.getEntityAt(0)).getData().widgetData;var widget=widgetData.get('type')==='widget'||widgetData.get('type')==='repo'?this._composeWidget(widgetData):this._composeFile(widgetData);return widget;}},{key:"_composeWidget",value:function _composeWidget(widgetData){var _this2=this;var widgetTypes={'parts_widget':'Parts List','bitbucket-widget':'Bitbucket Repo','github-widget':'Github Repo','old_code_widget':'Old Code Widget','default':'this widget'};var rootStyle={boxShadow:this.state.focused?'0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)':'none',border:this.state.focused?'none':'2px solid #D8D8D8',color:this.state.focused?'transparent':'transparent',maxHeight:this.state.height};return _react["default"].createElement("div",{className:"react-editor-widget-placeholder",ref:"widget",style:rootStyle,contentEditable:false,onKeyDown:this.handleKeyDown,onMouseEnter:function onMouseEnter(){return _this2.setState({hovered:true});},onMouseLeave:function onMouseLeave(){return _this2.setState({hovered:false});}},this.state.hovered?_react["default"].createElement(_Button["default"],{classList:"btn btn-danger",icon:"fa fa-trash-o fa-lg",tooltip:"Delete this widget",onClick:function onClick(){return _this2.props.blockProps.remove(_this2.props.block);}}):_react["default"].createElement("h3",{contentEditable:false},"Apologies, ",widgetTypes[widgetData.get('widgetType')]||widgetTypes['default']," is now deprecated in the Story section."));}},{key:"_composeFile",value:function _composeFile(widgetData){var _this3=this;return _react["default"].createElement("div",{className:"react-editor-file",ref:"widget",style:{maxHeight:this.state.height},contentEditable:false,onMouseEnter:function onMouseEnter(){return _this3.setState({hovered:true});},onMouseLeave:function onMouseLeave(){return _this3.setState({hovered:false});}},this.state.hovered?_react["default"].createElement(_Button["default"],{classList:"btn btn-danger",icon:"fa fa-trash-o fa-lg",tooltip:"Delete this file",onClick:function onClick(){return _this3.props.blockProps.remove(_this3.props.block);}}):_react["default"].createElement("span",null,_react["default"].createElement("i",{className:"fa fa-file-o fa-lg"}),_react["default"].createElement("a",{href:widgetData.get('url')},widgetData.get('content'))));}}]);return LegacyWidget;}(_react.Component);exports["default"]=LegacyWidget;LegacyWidget.propTypes={block:_propTypes["default"].object.isRequired,blockProps:_propTypes["default"].object.isRequired};}),26720:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _default=function _default(props){var entity=props.contentState.getEntity(props.entityKey);return _react["default"].createElement("a",{href:entity.get('data').href},props.children);};exports["default"]=_default;}),15849:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactDom=_interopRequireDefault(__webpack_require__(73935));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _draftJs=__webpack_require__(37163);var _Prompt=_interopRequireDefault(__webpack_require__(69764));var _getVisibleSelectionRect=_interopRequireDefault(__webpack_require__(96629));var _draftUtils=__webpack_require__(85559);var _url=__webpack_require__(73919);var _linkmenu=_interopRequireDefault(__webpack_require__(1671));var _buttons=_interopRequireDefault(__webpack_require__(82809));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var LinkMenu=function(_Component){_inherits(LinkMenu,_Component);var _super=_createSuper(LinkMenu);function LinkMenu(props){var _this;_classCallCheck(this,LinkMenu);_this=_super.call(this,props);_this.setMenuContents=_this.setMenuContents.bind(_assertThisInitialized(_this));_this.resetMenuContents=_this.resetMenuContents.bind(_assertThisInitialized(_this));_this.handleKeyDown=_this.handleKeyDown.bind(_assertThisInitialized(_this));_this.handleRemoveClick=_this.handleRemoveClick.bind(_assertThisInitialized(_this));_this.updateEntityData=_this.updateEntityData.bind(_assertThisInitialized(_this));_this.state={content:'',href:'',initialRangeBoundaries:{},left:0,top:0,version:'default',cache:{content:'',href:''}};_this.rootRef;_this.contentInputRef;_this.linkInputRef;return _this;}
_createClass(LinkMenu,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){this.setMenuContents(this.props.editorState);}},{key:"componentDidMount",value:function componentDidMount(){this.setState(this.getStyles());}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(prevProps.editorState.getCurrentContent()!==this.props.editorState.getCurrentContent()||prevProps.editorState.getSelection().getAnchorOffset()!==this.props.editorState.getSelection().getAnchorOffset()){this.setMenuContents(this.props.editorState,this.getStyles());}
if(prevState.version==='default'&&this.state.version==='editing'){this.contentInputRef.focus();}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.props.readOnly){this.props.toggleReadOnly(false);}}},{key:"getStyles",value:function getStyles(){if(!window||!document)return;var rangeBoundingRect=(0,_getVisibleSelectionRect["default"])(window)||this.state.initialRangeBoundaries;var editorBoundingRect=document.getElementById(this.props.instanceId).getBoundingClientRect();if(!Object.keys(rangeBoundingRect).length)return{};var top=rangeBoundingRect.top-editorBoundingRect.top+40;var left=rangeBoundingRect.left-editorBoundingRect.left-this.rootRef.offsetWidth/2;if(rangeBoundingRect!==this.state.initialRangeBoundaries){this.setState({initialRangeBoundaries:rangeBoundingRect});}
return{top:top-150,left:left};}},{key:"setMenuContents",value:function setMenuContents(editorState){var _this2=this;var positions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};(0,_draftUtils.getEntityDataByCursorPosition)(editorState,function(data){var content=data.content;var href=data.data.href;_this2.setState(Object.assign({content:content,href:href,cache:{content:content,href:href}},positions));});}},{key:"resetMenuContents",value:function resetMenuContents(e){e.stopPropagation();this.setState({version:'default',content:this.state.cache.content,href:this.state.cache.href});this.props.onChange(_draftJs.EditorState.forceSelection(this.props.editorState,this.props.editorState.getSelection().merge({hasFocus:true})));this.props.toggleReadOnly(false);}},{key:"handleKeyDown",value:function handleKeyDown(e,ref){switch(e.keyCode){case 13:e.preventDefault();this._handleLinkValidation(this.state.href);break;case 27:if(this.state.version==='editing'){this.resetMenuContents(e);}
break;default:break;}}},{key:"handleRemoveClick",value:function handleRemoveClick(e){var _this3=this;e.stopPropagation();var currentState=this.props.editorState;(0,_draftUtils.getEntityDataByCursorPosition)(currentState,function(data){var currentContent=currentState.getCurrentContent();var selection=currentState.getSelection();var updatedSelection=selection.merge({anchorOffset:data.start,focusOffset:data.end});var newContentState=_draftJs.Modifier.applyEntity(currentContent,updatedSelection,null);_this3.props.onChange(_draftJs.EditorState.forceSelection(_draftJs.EditorState.push(currentState,newContentState),selection));_this3.props.toggleReadOnly(false);});}},{key:"updateEntityData",value:function updateEntityData(urlType){var _this4=this;var currentEditorState=this.props.editorState;var selection=currentEditorState.getSelection();var contentState=currentEditorState.getCurrentContent();var entityKey=currentEditorState.getCurrentContent().getBlockForKey(selection.getAnchorKey()).getEntityAt(selection.getStartOffset());var entity=contentState.getEntity(entityKey);var href=(0,_url.appendProtocolToUrlType)(this.state.href,urlType);var contentStateWithEntity=entity.getData().href!==href?contentState.mergeEntityData(entityKey,{href:href}):contentState;(0,_draftUtils.getEntityDataByCursorPosition)(this.props.editorState,function(data){var currentContent=contentStateWithEntity;var updatedSelection=selection.merge({anchorOffset:data.start,focusOffset:data.end});var inlineStyles=(0,_draftUtils.getInlineStyles)(_this4.props.editorState);var replacedTextContentState=data.content!==_this4.state.content?_draftJs.Modifier.replaceText(currentContent,updatedSelection,_this4.state.content,inlineStyles||null,entityKey):currentContent;var contentInputSelectionOffset=_reactDom["default"].findDOMNode(_this4.contentInputRef).selectionStart||_this4.state.content.length;var finalSelection=data.content!==_this4.state.content?selection.merge({'anchorOffset':parseInt(data.start,10)+parseInt(contentInputSelectionOffset,10),'focusOffset':parseInt(data.start,10)+parseInt(contentInputSelectionOffset,10),'hasFocus':false}):selection;var updatedEditorState=_draftJs.EditorState.forceSelection(_draftJs.EditorState.push(currentEditorState,replacedTextContentState),finalSelection);_this4.setState({version:'default',cache:{content:_this4.state.content,href:href}});_this4.props.toggleReadOnly(false);_this4.props.onChange(updatedEditorState);});}},{key:"_handleLinkValidation",value:function _handleLinkValidation(href){href=href.trim();var _isValidLinkable=(0,_url.isValidLinkable)(href),isValid=_isValidLinkable.isValid,type=_isValidLinkable.type;isValid?this.updateEntityData(type):this.props.onInvalidUrl(_url.INVALID_URL_MSG);}},{key:"_composeDefaultMenu",value:function _composeDefaultMenu(){var _this5=this;if(this.props.readOnly)return null;var href=this.state.href;var shortenedLink=href.length>=40?"".concat(href.substring(0,40),"..."):href;return _react["default"].createElement("div",{className:"".concat(_linkmenu["default"].defaultMenu," link-popover-default-container")},_react["default"].createElement("a",{href:href,onClick:function onClick(e){e.preventDefault();window.open(href,'_blank');}},shortenedLink),_react["default"].createElement("a",{href:"javascript:void(0);",onClick:function onClick(e){e.preventDefault();e.stopPropagation();_this5.setState({version:'editing'});}},"Change"),_react["default"].createElement("a",{href:"javascript:void(0);",onClick:this.handleRemoveClick},"Remove"));}},{key:"_composePromptMenu",value:function _composePromptMenu(){var _this6=this;return _react["default"].createElement(_Prompt["default"],{actions:[_react["default"].createElement("button",{className:"".concat(_buttons["default"].btn," ").concat(_buttons["default"].btnLink),onClick:this.resetMenuContents,type:"button"},"Cancel"),_react["default"].createElement("button",{className:"".concat(_buttons["default"].btn," ").concat(_buttons["default"].btnPrimary),onClick:function onClick(e){e.stopPropagation();_this6._handleLinkValidation(_this6.state.href);},type:"button"},"Ok")],dismiss:this.resetMenuContents,inputs:[_react["default"].createElement("input",{ref:function ref(el){return _this6.contentInputRef=el;},style:{marginBottom:10},className:"".concat(_linkmenu["default"].input),onChange:function onChange(e){return _this6.setState({content:e.target.value});},onKeyDown:function onKeyDown(e){return _this6.handleKeyDown(e,'contentInput');},placeholder:"Change Text",type:"text",value:this.state.content}),_react["default"].createElement("input",{ref:function ref(el){return _this6.linkInputRef=el;},className:"".concat(_linkmenu["default"].input),onChange:function onChange(e){return _this6.setState({href:e.target.value});},onKeyDown:function onKeyDown(e){return _this6.handleKeyDown(e,'linkInput');},placeholder:"Enter a link",type:"text",value:this.state.href})]});}},{key:"render",value:function render(){var _this7=this;return _react["default"].createElement("div",{ref:function ref(el){return _this7.rootRef=el;},style:{top:this.state.top,left:this.state.left},className:"".concat(_linkmenu["default"].root," react-link-popover-wrapper")},_react["default"].createElement("div",{className:"".concat(_linkmenu["default"].popover," react-link-popover")},this.state.version==='editing'?this._composePromptMenu():this._composeDefaultMenu()),this.state.version==='default'&&this.props.readOnly===false&&_react["default"].createElement("div",{className:"".concat(_linkmenu["default"].arrow," link-popover-arrow")}));}}]);return LinkMenu;}(_react.Component);LinkMenu.propTypes={editorState:_propTypes["default"].instanceOf(_draftJs.EditorState).isRequired,instanceId:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func.isRequired,onInvalidUrl:_propTypes["default"].func.isRequired,readOnly:_propTypes["default"].bool.isRequired,toggleReadOnly:_propTypes["default"].func.isRequired};var _default=LinkMenu;exports["default"]=_default;}),84872:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactTransitionGroup=__webpack_require__(72165);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Messenger=function(_Component){_inherits(Messenger,_Component);var _super=_createSuper(Messenger);function Messenger(props){var _this;_classCallCheck(this,Messenger);_this=_super.call(this,props);_this.handleDismiss=_this.handleDismiss.bind(_assertThisInitialized(_this));return _this;}
_createClass(Messenger,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.timeout=setTimeout(function(){_this2.handleDismiss();},5000);}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.clearTimeout(this.timeout);}},{key:"componentDidUpdate",value:function componentDidUpdate(nextProps){var _this3=this;if(nextProps.messenger!==this.props.messenger){window.clearTimeout(this.timeout);this.timeout=setTimeout(function(){_this3.handleDismiss();},5000);}}},{key:"handleDismiss",value:function handleDismiss(){this.props.setMessenger({'open':false,'msg':'','type':'error'});}},{key:"render",value:function render(){var messenger=this.props.messenger;if(!messenger.get('open'))return null;return _react["default"].createElement(_reactTransitionGroup.CSSTransition,{classNames:"messenger",appear:true,timeout:{enter:500,exit:300}},_react["default"].createElement("div",{key:messenger.get('msg'),className:"react-editor-messenger"},_react["default"].createElement("div",{className:messenger.get('type')==='success'?'alert-success':'alert-danger'},_react["default"].createElement("div",{className:"messenger-body"},_react["default"].createElement("span",null,messenger.get('msg')),_react["default"].createElement("button",{className:"messenger-close-button",onClick:this.handleDismiss},"\xD7")))));}}]);return Messenger;}(_react.Component);exports["default"]=Messenger;Messenger.propTypes={messenger:_propTypes["default"].object.isRequired,setMessenger:_propTypes["default"].func.isRequired};}),69764:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _Prompt=_interopRequireDefault(__webpack_require__(22015));var _buttons=_interopRequireDefault(__webpack_require__(82809));var _slideUpTransitions=_interopRequireDefault(__webpack_require__(54235));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Prompt=function(_Component){_inherits(Prompt,_Component);var _super=_createSuper(Prompt);function Prompt(props){var _this;_classCallCheck(this,Prompt);_this=_super.call(this,props);_this.handleKeyDown=_this.handleKeyDown.bind(_assertThisInitialized(_this));_this.state={value:props.defaultValue};_this.input;return _this;}
_createClass(Prompt,[{key:"componentDidMount",value:function componentDidMount(){if(this.input)this._autoFocus();}},{key:"_autoFocus",value:function _autoFocus(){var _this2=this;this.input.click();setTimeout(function(){_this2.input.focus();},20);}},{key:"handleKeyDown",value:function handleKeyDown(e){if(e.keyCode===13&&this.props.submit){e.preventDefault();this.props.submit(this.state.value);}else if(e.keyCode===27){e.preventDefault();this.props.dismiss();}}},{key:"getInputValue",value:function getInputValue(){return this.state.value;}},{key:"render",value:function render(){var _this3=this;var _this$props=this.props,actions=_this$props.actions,dismiss=_this$props.dismiss,inputs=_this$props.inputs,enableCloseButton=_this$props.enableCloseButton;return _react["default"].createElement("div",{className:"".concat(_Prompt["default"].container," draftster-prompt-container")},_react["default"].createElement("div",{className:"".concat(_Prompt["default"].body," ").concat(_slideUpTransitions["default"].translateY," draftster-prompt-body")},_react["default"].createElement("div",{className:"".concat(_Prompt["default"].innerBody," draftster-prompt-inner-body")},enableCloseButton?_react["default"].createElement("button",{className:"close",onClick:dismiss},"\xD7"):null,inputs.length?_react["default"].Children.toArray(inputs):_react["default"].createElement("input",{ref:function ref(el){return _this3.input=el;},className:"".concat(_Prompt["default"].input," no-focus-outline draftster-prompt-input"),type:"text",placeholder:"Enter a url",onChange:function onChange(e){return _this3.setState({value:e.target.value});},onKeyDown:this.handleKeyDown,value:this.state.value}),_react["default"].createElement("div",{className:"".concat(_Prompt["default"].actionsWrapper," draftster-prompt-actions-wrapper")},actions.length?_react["default"].Children.toArray(actions):_react["default"].Children.toArray([_react["default"].createElement("button",{className:"".concat(_buttons["default"].btn," ").concat(_buttons["default"].btnLink," draftster-btn-secondary"),onClick:function onClick(e){e.preventDefault();_this3.props.dismiss();}},"Cancel"),_react["default"].createElement("button",{className:"".concat(_buttons["default"].btn," ").concat(_buttons["default"].btnPrimary," draftster-btn-primary"),onClick:function onClick(e){e.preventDefault();_this3.props.submit(_this3.state.value);}},"Ok")])))),_react["default"].createElement("div",{className:"".concat(_Prompt["default"].mask," draftster-prompt-mask"),onClick:this.props.dismiss}));}}]);return Prompt;}(_react.Component);Prompt.propTypes={actions:_propTypes["default"].array,defaultValue:_propTypes["default"].string,dismiss:_propTypes["default"].func.isRequired,inputs:_propTypes["default"].array,submit:_propTypes["default"].func};Prompt.defaultProps={actions:[],defaultValue:'',inputs:[],submit:null};var _default=Prompt;exports["default"]=_default;}),5159:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _spinner=_interopRequireDefault(__webpack_require__(49241));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Spinner=function Spinner(){return _react["default"].createElement("div",{className:_spinner["default"].spinner},_react["default"].createElement("div",null),_react["default"].createElement("div",null),_react["default"].createElement("div",null),_react["default"].createElement("div",null),_react["default"].createElement("div",null),_react["default"].createElement("div",null),_react["default"].createElement("div",null),_react["default"].createElement("div",null),_react["default"].createElement("div",null),_react["default"].createElement("div",null),_react["default"].createElement("div",null),_react["default"].createElement("div",null));};var _default=Spinner;exports["default"]=_default;}),67485:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactDom=_interopRequireDefault(__webpack_require__(73935));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactTransitionGroup=__webpack_require__(72165);var _immutable=__webpack_require__(43393);var _draftJs=__webpack_require__(37163);var _lodash=_interopRequireDefault(__webpack_require__(93096));var _ToolbarButton=_interopRequireDefault(__webpack_require__(88720));var _Prompt=_interopRequireDefault(__webpack_require__(69764));var _LinkMenu=_interopRequireDefault(__webpack_require__(15849));var _Dialog=_interopRequireDefault(__webpack_require__(50605));var _ImageLinkForm=_interopRequireDefault(__webpack_require__(30432));var _setupToolbarButtons=_interopRequireDefault(__webpack_require__(42029));var _modifiers=__webpack_require__(55742);var _Helpers=__webpack_require__(53581);var _url=__webpack_require__(73919);var _draftUtils=__webpack_require__(85559);var _getters=__webpack_require__(204);var _toolbar=_interopRequireDefault(__webpack_require__(79961));var _buttons=_interopRequireDefault(__webpack_require__(82809));var _slideUpTransitions=_interopRequireDefault(__webpack_require__(54235));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Toolbar=function(_Component){_inherits(Toolbar,_Component);var _super=_createSuper(Toolbar);function Toolbar(props){var _this;_classCallCheck(this,Toolbar);_this=_super.call(this,props);_this.handleScroll=_this.handleScroll.bind(_assertThisInitialized(_this));_this.handleBlock=_this.handleBlock.bind(_assertThisInitialized(_this));_this.handleImageLink=_this.handleImageLink.bind(_assertThisInitialized(_this));_this.handleImageOption=_this.handleImageOption.bind(_assertThisInitialized(_this));_this.handleInline=_this.handleInline.bind(_assertThisInitialized(_this));_this.handleCode=_this.handleCode.bind(_assertThisInitialized(_this));_this.handleLink=_this.handleLink.bind(_assertThisInitialized(_this));_this.togglePrompt=_this.togglePrompt.bind(_assertThisInitialized(_this));_this.handlePromptValue=_this.handlePromptValue.bind(_assertThisInitialized(_this));_this.debouncedScroll;_this.state={dialog:{show:false},fixed:false,prompt:{show:false,type:null}};_this.buttonList=(0,_setupToolbarButtons["default"])(_assertThisInitialized(_this),props.toolbarConfig,props.toolbarSettings);_this.imageUploadInput;_this.toolbar;_this.prompt;_this.dialog;_this.scrollBindingElement;return _this;}
_createClass(Toolbar,[{key:"componentDidMount",value:function componentDidMount(){this.debouncedScroll=(0,_lodash["default"])(this.handleScroll,10,true);this.scrollBindingElement=this.props.scrollBindingElement?_reactDom["default"].findDOMNode(this.props.scrollBindingElement):window;this.scrollBindingElement.addEventListener('scroll',this.debouncedScroll);}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.scrollBindingElement.removeEventListener('scroll',this.debouncedScroll);}},{key:"handleScroll",value:function handleScroll(){if(!this.toolbar)return;if(this.props.editor.get('width')==='100%'){this.props.refetchEditorWidth();}
var toolbarContainerPos=this.toolbar.parentNode.getBoundingClientRect();var draftsterContainerPos=this.toolbar.parentNode.parentNode.getBoundingClientRect();if(parseInt(toolbarContainerPos.top,10)<0&&parseInt(draftsterContainerPos.bottom,10)>=45){if(!this.state.fixed)this.setState({fixed:true});}else{if(this.state.fixed)this.setState({fixed:false});}}},{key:"handleInline",value:function handleInline(tag){var currentBlock=(0,_getters.getCurrentBlock)(this.props.draft);if(currentBlock.getType()==='header-three'){return this.props.setMessenger({open:true,msg:'Sorry, headers can\'t be styled',type:'error'});}
this.props.toggleActiveStyle(tag);}},{key:"handleBlock",value:function handleBlock(tag){var editorState=tag==='header-three'||tag==='code-block'?(0,_draftUtils.removeInlineStylesFromRange)(this.props.draft):this.props.draft;this.props.setDraft(_draftJs.EditorState.forceSelection(_draftJs.RichUtils.toggleBlockType(editorState,tag),this.props.draft.getSelection().set('hasFocus',true)));}},{key:"handleCode",value:function handleCode(tag){tag==='code-block'?this.handleBlock(tag):this.handleInline(tag);}},{key:"handleLink",value:function handleLink(){if(this.props.draft.getSelection().isCollapsed())return this.props.setDraft((0,_modifiers.forceSelection)(this.props.draft));var currentEditorState=this.props.draft;var currentContentState=currentEditorState.getCurrentContent();var selection=currentEditorState.getSelection();var currentBlock=(0,_getters.getCurrentBlock)(currentEditorState);if(currentBlock.getType()==='header-three'){this.props.setMessenger({open:true,msg:'Sorry, headers can\'t be styled',type:'error'});return;}
var entityKey=currentContentState.getBlockForKey(selection.getStartKey()).getEntityAt(selection.getStartOffset());if(entityKey&&currentContentState.getEntity(entityKey).getType()==='LINK'){this._removeLinkEntitiesFromSelection(currentEditorState,currentContentState,selection);}else{this.togglePrompt(true,{show:true,type:'LINK'});}}},{key:"_removeLinkEntitiesFromSelection",value:function _removeLinkEntitiesFromSelection(editorState,contentState,selection){if(selection.isCollapsed())return;this.props.setDraft(_draftJs.EditorState.push(editorState,_draftJs.Modifier.applyEntity(contentState,selection.set('hasFocus',true),null)));}},{key:"togglePrompt",value:function togglePrompt(readOnly,promptState){var resetSelection=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(readOnly){this.props.toggleReadOnly(true);this.setState({prompt:promptState});}else{this.props.toggleReadOnly(false);this.setState({prompt:{show:false,type:null}});if(resetSelection){var currentEditorState=this.props.draft;var currentSelection=currentEditorState.getSelection();this.props.setDraft(_draftJs.EditorState.forceSelection(currentEditorState,currentSelection));}}}},{key:"handlePromptValue",value:function handlePromptValue(){var value=this.prompt.getInputValue();switch(this.state.prompt.type){case 'LINK':this._handleLinkEmbed(value);break;case 'VIDEO':this._handleVideoEmbed((0,_Helpers.getVideoData)(value));break;default:this.togglePrompt(false,false,true);return;}}},{key:"_handleLinkEmbed",value:function _handleLinkEmbed(href){href=href.trim();var _isValidLinkable=(0,_url.isValidLinkable)(href),isValid=_isValidLinkable.isValid,type=_isValidLinkable.type;if(!isValid){this.props.setMessenger({open:true,msg:_url.INVALID_URL_MSG,type:'error'});this.togglePrompt(false,false,true);return;}
href=(0,_url.appendProtocolToUrlType)(href,type);var currentEditorState=this.props.draft;var currentContentState=currentEditorState.getCurrentContent();var selection=currentEditorState.getSelection();var contentStateWithEntity=currentContentState.createEntity('LINK','MUTABLE',{href:href});var entityKey=contentStateWithEntity.getLastCreatedEntityKey();var updatedContentState=_draftJs.Modifier.applyEntity(contentStateWithEntity,selection.set('hasFocus',true),entityKey);this.props.setDraft(_draftJs.EditorState.push(currentEditorState,updatedContentState));this.togglePrompt(false);}},{key:"_handleVideoEmbed",value:function _handleVideoEmbed(data){if(!data){this.props.setMessenger({open:true,msg:'Sorry, that\'s not a valid video url.',type:'error'});this.togglePrompt(false,false,true);return;}
var editorState=this.props.draft;var currentContent=editorState.getCurrentContent();var selectionState=editorState.getSelection();var currentContentWithEntity=currentContent.createEntity('TOKEN','IMMUTABLE',{embedData:(0,_immutable.fromJS)(Object.assign({},data,{model:'Video',key:'video'}))});var entityKey=currentContentWithEntity.getLastCreatedEntityKey();var charData=_draftJs.CharacterMetadata.create({entity:entityKey});var _splitBlockAndInsertC=(0,_draftUtils.splitBlockAndInsertCustomBlock)(editorState,currentContentWithEntity,selectionState,charData,'EMBED'),newEditorState=_splitBlockAndInsertC.newEditorState,newSelectionState=_splitBlockAndInsertC.newSelectionState;this.props.setDraft(_draftJs.EditorState.forceSelection(newEditorState,newSelectionState));this.togglePrompt(false);}},{key:"handleImageOption",value:function handleImageOption(tag,option){option==='CAROUSEL'?this.imageUploadInput.click():this.handleImageLink();}},{key:"handleImageLink",value:function handleImageLink(){this.setState({dialog:{show:true}});}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,activeMetadata=_this$props.activeMetadata,editor=_this$props.editor;var width=editor.get('width');if(width===0||width==='100%'&&this.state.fixed)return null;return _react["default"].createElement("div",{className:"".concat(_toolbar["default"].container," react-editor-toolbar-container")},_react["default"].createElement("div",{ref:function ref(el){return _this2.toolbar=el;},style:{width:editor.get('width'),zIndex:editor.get('isDialogOpen')?'0':'999'},className:this.state.fixed?"".concat(_toolbar["default"].wrapper," ").concat(_toolbar["default"].fixed," react-editor-toolbar-wrapper fixed-toolbar"):"".concat(_toolbar["default"].wrapper," react-editor-toolbar-wrapper")},_react["default"].createElement("div",{className:"".concat(_toolbar["default"].toolbar," react-editor-toolbar")},this.buttonList.map(function(button,index){return _react["default"].createElement(_ToolbarButton["default"],_extends({key:index,isActive:activeMetadata.get('activeStyles').includes(button.tag),onClick:button.onClick},button));})),_react["default"].createElement("input",{ref:function ref(el){return _this2.imageUploadInput=el;},style:{display:'none'},type:"file",multiple:true,onChange:function onChange(e){_this2.props.onImageUpload(e.target.files);e.target.value='';}}),this.state.prompt.show&&_react["default"].createElement(_Prompt["default"],{ref:function ref(el){return _this2.prompt=el;},actions:[_react["default"].createElement("button",{className:"".concat(_buttons["default"].btn," ").concat(_buttons["default"].btnLink," draftster-btn-secondary"),onClick:function onClick(e){e.preventDefault();_this2.togglePrompt(false,false,true);},type:"button"},"Cancel"),_react["default"].createElement("button",{className:"".concat(_buttons["default"].btn," ").concat(_buttons["default"].btnPrimary," draftster-btn-primary"),onClick:function onClick(e){e.preventDefault();_this2.handlePromptValue();},type:"button"},"Ok")],enableCloseButton:false,submit:this.handlePromptValue,dismiss:function dismiss(){return _this2.togglePrompt(false,false,true);}}),_react["default"].createElement(_reactTransitionGroup.CSSTransition,{classNames:_slideUpTransitions["default"],"in":this.state.dialog.show,timeout:450},_react["default"].createElement(_Dialog["default"],{ref:function ref(el){return _this2.dialog=el;},dismiss:function dismiss(){return _this2.setState({dialog:{show:false}});},open:this.state.dialog.show,title:"Create a linked image"},_react["default"].createElement(_ImageLinkForm["default"],{create:this.props.uploadProcessedImage,dismiss:function dismiss(){return _this2.setState({dialog:{show:false}});},messenger:this.props.setMessenger})))));}}]);return Toolbar;}(_react.Component);Toolbar.propTypes={activeMetadata:_propTypes["default"].object.isRequired,draft:_propTypes["default"].object.isRequired,editor:_propTypes["default"].object.isRequired,onImageUpload:_propTypes["default"].func.isRequired,refetchEditorWidth:_propTypes["default"].func.isRequired,scrollBindingElement:_propTypes["default"].object,setDraft:_propTypes["default"].func.isRequired,setMessenger:_propTypes["default"].func.isRequired,toggleReadOnly:_propTypes["default"].func,toggleActiveStyle:_propTypes["default"].func.isRequired,toolbarConfig:_propTypes["default"].object,toolbarSettings:_propTypes["default"].shape({tooltips:_propTypes["default"].arrayOf(_propTypes["default"].string)}),uploadProcessedImage:_propTypes["default"].func.isRequired};Toolbar.defaultProps={scrollBindingElement:null,toggleReadOnly:function toggleReadOnly(){},toolbarConfig:{},toolbarSettings:{tooltips:[]}};var _default=Toolbar;exports["default"]=_default;}),88720:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _toolbar_button=_interopRequireDefault(__webpack_require__(49364));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ToolbarButton=function(_Component){_inherits(ToolbarButton,_Component);var _super=_createSuper(ToolbarButton);function ToolbarButton(props){var _this;_classCallCheck(this,ToolbarButton);_this=_super.call(this,props);_this.state={showOptions:false};_this.closeOptionsOnWindowClick=_this.closeOptionsOnWindowClick.bind(_assertThisInitialized(_this));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.handleOptionClick=_this.handleOptionClick.bind(_assertThisInitialized(_this));_this.root;return _this;}
_createClass(ToolbarButton,[{key:"componentWillUnmount",value:function componentWillUnmount(){if(window&&this.props.options.length){window.removeEventListener('click',this.closeOptionsOnWindowClick);}}},{key:"closeOptionsOnWindowClick",value:function closeOptionsOnWindowClick(e){if(this.root&&this.root.contains(e.target))return;this.handleClick(e);}},{key:"handleClick",value:function handleClick(e){e.preventDefault();if(this.props.options.length>0){this._handleGlobalClickEvents();this.setState({showOptions:!this.state.showOptions});}else{this.props.onClick(this.props.tag);}}},{key:"_handleGlobalClickEvents",value:function _handleGlobalClickEvents(){if(!this.state.showOptions){window.addEventListener('click',this.closeOptionsOnWindowClick);}else{window.removeEventListener('click',this.closeOptionsOnWindowClick);}}},{key:"handleOptionClick",value:function handleOptionClick(e,option){this.handleClick(e);this.props.onClick(this.props.tag,option);}},{key:"_shouldRenderTooltip",value:function _shouldRenderTooltip(){return this.props.tooltipLabel&&this.props.tooltipLabel.length>0;}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,icon=_this$props.icon,isActive=_this$props.isActive,options=_this$props.options;return _react["default"].createElement("button",{ref:function ref(el){return _this2.root=el;},className:isActive?"".concat(_toolbar_button["default"].button," ").concat(_toolbar_button["default"].active," toolbar-btn"):"".concat(_toolbar_button["default"].button," toolbar-btn"),onClick:this.handleClick},_react["default"].createElement(icon),options.length>0&&this.state.showOptions&&_react["default"].createElement("div",{className:_toolbar_button["default"].menu},options.map(function(option,index){return _react["default"].createElement("div",{key:index,className:_toolbar_button["default"].option,onClick:function onClick(e){return _this2.handleOptionClick(e,option);}},option);})),this._shouldRenderTooltip()&&_react["default"].createElement("span",{className:"".concat(_toolbar_button["default"].tooltip," toolbar-btn-tooltip")},_react["default"].createElement("span",{className:"".concat(_toolbar_button["default"].caret," toolbar-btn-tooltip-caret")}),_react["default"].createElement("span",{className:"".concat(_toolbar_button["default"].label," toolbar-btn-tooltip-label")},this.props.tooltipLabel)));}}]);return ToolbarButton;}(_react.Component);ToolbarButton.propTypes={icon:_propTypes["default"].func.isRequired,isActive:_propTypes["default"].bool.isRequired,onClick:_propTypes["default"].func.isRequired,options:_propTypes["default"].array,tag:_propTypes["default"].string.isRequired,tooltipLabel:_propTypes["default"].string};ToolbarButton.defaultProps={options:[],tooltipLabel:null};var _default=ToolbarButton;exports["default"]=_default;}),63752:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactDom=__webpack_require__(73935);var _Button=_interopRequireDefault(__webpack_require__(34813));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Tweet=function(_Component){_inherits(Tweet,_Component);var _super=_createSuper(Tweet);function Tweet(props){var _this;_classCallCheck(this,Tweet);_this=_super.call(this,props);_this.handleIFrameLoad=_this.handleIFrameLoad.bind(_assertThisInitialized(_this));_this.handlePostMessage=_this.handlePostMessage.bind(_assertThisInitialized(_this));_this.state={hovered:false,height:150};_this._iframe;return _this;}
_createClass(Tweet,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener('message',this.handlePostMessage);}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener('message',this.handlePostMessage);}},{key:"handleIFrameLoad",value:function handleIFrameLoad(e){if(this._iframe){var data=this.props.contentState.getEntity(this.props.block.getEntityAt(0)).getData().twitterData;this._iframe.contentWindow.postMessage({element:data.get('id'),query:'height'},'https://embeds.hackster.io');}}},{key:"handlePostMessage",value:function handlePostMessage(e){var data=this.props.contentState.getEntity(this.props.block.getEntityAt(0)).getData().twitterData;if(e.origin==='https://embeds.hackster.io'&&parseInt(e.data.element,10)===parseInt(data.get('id'),10)){var height=parseInt(e.data.height,10);var width=this._iframe.getBoundingClientRect().width;this.setState({height:height});var twitterData=this.props.contentState.getEntity(this.props.block.getEntityAt(0)).getData().twitterData;this.props.blockProps.updateContentState(this.props.contentState.mergeEntityData(this.props.block.getEntityAt(0),{twitterData:twitterData.merge({height:height,width:width})}));}}},{key:"render",value:function render(){var _this2=this;var data=this.props.contentState.getEntity(this.props.block.getEntityAt(0)).getData().twitterData;return _react["default"].createElement("div",{className:"react-editor-widget-placeholder twitter",suppressContentEditableWarning:true,onMouseEnter:function onMouseEnter(){return _this2.setState({hovered:true});},onMouseLeave:function onMouseLeave(){return _this2.setState({hovered:false});}},_react["default"].createElement("iframe",{ref:function ref(el){return _this2._iframe=el;},id:data.get('id'),frameBorder:"0",height:this.state.height,width:"500",src:"https://embeds.hackster.io/tweet?url=".concat(data.get('embed')),onLoad:this.handleIFrameLoad}),this.state.hovered&&_react["default"].createElement("div",{style:{height:this.state.height,width:'100%',position:'absolute',left:0},className:"widget-placeholder-overlay"},_react["default"].createElement(_Button["default"],{buttonStyle:{height:48,width:48},classList:"btn btn-danger",icon:"fa fa-trash-o",tooltip:"Delete this tweet",onClick:function onClick(){return _this2.props.blockProps.remove(_this2.props.block);}})));}}]);return Tweet;}(_react.Component);exports["default"]=Tweet;Tweet.propTypes={block:_propTypes["default"].object.isRequired,blockProps:_propTypes["default"].object.isRequired};}),1720:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=setupBlockRestrictions;var customBlockMap={'carousel':'CAROUSEL','code':'code-block','linkedImage':'IMAGE_LINK','header':'header'};var defaultOptions={'carousel':true,'code':true,'linkedImage':false,'header':true};function setupBlockRestrictions(options){var list=Object.assign({},defaultOptions,options);return Object.keys(list).reduce(function(acc,key){return list[key]===false?acc.concat(customBlockMap[key]||key):acc;},[]);}}),42029:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=setupToolbarButtons;var _bold=_interopRequireDefault(__webpack_require__(86628));var _code=_interopRequireDefault(__webpack_require__(71281));var _italic=_interopRequireDefault(__webpack_require__(77118));var _hashtag=_interopRequireDefault(__webpack_require__(77920));var _header=_interopRequireDefault(__webpack_require__(58435));var _link=_interopRequireDefault(__webpack_require__(90643));var _list=_interopRequireDefault(__webpack_require__(45065));var _picture=_interopRequireDefault(__webpack_require__(39755));var _quote=_interopRequireDefault(__webpack_require__(93699));var _video=_interopRequireDefault(__webpack_require__(73391));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var optionToTagMap={'bold':'BOLD','italic':'ITALIC','code':'CODE','link':'LINK','code-block':'code-block','header':'header-three','blockquote':'blockquote','list':'unordered-list-item','carousel':'CAROUSEL','linkedImage':'CAROUSEL','video':'EMBED'};var buttonRelations={carousel:'linkedImage',linkedImage:'carousel'};var getLabelForButton=function getLabelForButton(label,tag,settings){if(settings.tooltips&&(settings.tooltips.length===1&&settings.tooltips[0]==='*'||settings.tooltips.includes(tag))){return label;}
return null;};var getDefaultButtons=function getDefaultButtons(ctx,settings){return[{tag:'BOLD',icon:_bold["default"],onClick:ctx.handleInline,'tooltipLabel':getLabelForButton('Bold','bold',settings)},{tag:'ITALIC',icon:_italic["default"],onClick:ctx.handleInline,'tooltipLabel':getLabelForButton('Italic','italic',settings)},{tag:'LINK',icon:_link["default"],onClick:ctx.handleLink,'tooltipLabel':getLabelForButton('Link','link',settings)},{tag:'CODE',icon:_hashtag["default"],onClick:ctx.handleInline,'tooltipLabel':getLabelForButton('Inline Code','code',settings)},{tag:'code-block',icon:_code["default"],onClick:ctx.handleCode,'tooltipLabel':getLabelForButton('Block Code','code-block',settings)},{tag:'header-three',icon:_header["default"],onClick:ctx.handleBlock,'tooltipLabel':getLabelForButton('Header','header',settings)},{tag:'blockquote',icon:_quote["default"],onClick:ctx.handleBlock,'tooltipLabel':getLabelForButton('Blockquote','blockquote',settings)},{tag:'unordered-list-item',icon:_list["default"],onClick:ctx.handleBlock,'tooltipLabel':getLabelForButton('List','ul',settings)},{tag:'CAROUSEL',icon:_picture["default"],onClick:function onClick(){return ctx.imageUploadInput.click();},'tooltipLabel':getLabelForButton('Image','image',settings)},{tag:'EMBED',icon:_video["default"],onClick:function onClick(){return ctx.togglePrompt(true,{show:true,type:'VIDEO'});},'tooltipLabel':getLabelForButton('Video','video',settings)}];};function filterByOptions(buttons,options,ctx){var keys=Object.keys(options);var replaceCarouselForLinkedImage=options['linkedImage']===true&&options['carousel']===false;return keys.reduce(function(acc,key){if(options[key]===false&&!buttonRelations[key]){acc=acc.filter(function(button){return button.tag!==optionToTagMap[key];});}else if(options[key]===false&&key==='carousel'&&!replaceCarouselForLinkedImage){acc=acc.filter(function(button){return button.tag!==optionToTagMap[key];});}else if(key==='linkedImage'&&options[key]){acc=acc.map(function(button,index){return button.tag==='CAROUSEL'?Object.assign({},button,{options:replaceCarouselForLinkedImage?[]:['CAROUSEL','LINK'],onClick:replaceCarouselForLinkedImage?ctx.handleImageLink:ctx.handleImageOption}):button;});}
return acc;},buttons);}
function setupToolbarButtons(ctx,options,settings){return options&&Object.keys(options).length?filterByOptions(getDefaultButtons(ctx,settings),options,ctx):getDefaultButtons(ctx,settings);}}),53657:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.AtomicBlocks=exports.ElementWhiteList=exports.BlockElements=void 0;var BlockElements={'BLOCKQUOTE':true,'H3':true,'DIV':true,'P':true,'PRE':true,'UL':true};exports.BlockElements=BlockElements;var ElementWhiteList={'blockquote':'block','br':'block','div':'block','h3':'block','p':'block','pre':'block','ul':'block','li':'block','img':'block','a':'inline','code':'inline','em':'inline','span':'inline','strong':'inline'};exports.ElementWhiteList=ElementWhiteList;var AtomicBlocks=['CAROUSEL','EMBED','IMAGE_LINK','LEGACY_WIDGET','TWEET'];exports.AtomicBlocks=AtomicBlocks;}),16442:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _immutable=__webpack_require__(43393);var _draftJs=__webpack_require__(37163);var _Editor=_interopRequireDefault(__webpack_require__(59273));var _Toolbar=_interopRequireDefault(__webpack_require__(67485));var _Messenger=_interopRequireDefault(__webpack_require__(84872));var _processImageFiles=_interopRequireDefault(__webpack_require__(97561));var _Helpers=__webpack_require__(53581);var _draftUtils=__webpack_require__(85559);var _convertFromHTMLToContentBlocks=_interopRequireDefault(__webpack_require__(89957));var _convertDataModelToDraftModel=_interopRequireDefault(__webpack_require__(83377));var _convertRawToDataModel=_interopRequireDefault(__webpack_require__(1960));var _decorator=_interopRequireDefault(__webpack_require__(29793));var _setupBlockRestrictions=_interopRequireDefault(__webpack_require__(1720));var _conditions=__webpack_require__(31222);var _getters=__webpack_require__(204);var _modifiers=__webpack_require__(55742);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var Draftster=function(_Component){_inherits(Draftster,_Component);var _super=_createSuper(Draftster);function Draftster(props){var _this;_classCallCheck(this,Draftster);_this=_super.call(this,props);_this.doesCurrentInstanceHaveFocus=_this.doesCurrentInstanceHaveFocus.bind(_assertThisInitialized(_this));_this.fetchInitialContent=_this.fetchInitialContent.bind(_assertThisInitialized(_this));_this.handleDraftOnChange=_this.handleDraftOnChange.bind(_assertThisInitialized(_this));_this.handleHashChange=_this.handleHashChange.bind(_assertThisInitialized(_this));_this.handleImages=_this.handleImages.bind(_assertThisInitialized(_this));_this.handleImageUrl=_this.handleImageUrl.bind(_assertThisInitialized(_this));_this.handleProcessedImages=_this.handleProcessedImages.bind(_assertThisInitialized(_this));_this.setDraftState=_this.setDraftState.bind(_assertThisInitialized(_this));_this.setMessengerState=_this.setMessengerState.bind(_assertThisInitialized(_this));_this.setUnsavedChanges=_this.setUnsavedChanges.bind(_assertThisInitialized(_this));_this.toggleReadOnly=_this.toggleReadOnly.bind(_assertThisInitialized(_this));_this.getEditorContent=_this.getEditorContent.bind(_assertThisInitialized(_this));_this.hasUnsavedChanges=_this.hasUnsavedChanges.bind(_assertThisInitialized(_this));_this.triggerMessenger=_this.triggerMessenger.bind(_assertThisInitialized(_this));_this.state={activeMetadata:(0,_immutable.Map)({activeEntities:(0,_immutable.List)(),activeStyles:(0,_immutable.List)()}),draft:_draftJs.EditorState.set(_draftJs.EditorState.createEmpty(),{decorator:_decorator["default"],allowUndo:false}),editor:(0,_immutable.Map)({activeEntities:(0,_immutable.List)(),activeStyles:(0,_immutable.List)(),blockRestrictions:(0,_immutable.List)((0,_setupBlockRestrictions["default"])(props.config.toolbar||{})),hasFocus:false,initialLoadComplete:false,instanceId:"draftster-".concat((0,_draftJs.genKey)()),isDialogOpen:false,hasUnsavedChanges:false,width:0}),readOnly:false,imagesProcessing:(0,_immutable.Map)({}),messenger:(0,_immutable.Map)({open:false,msg:'',type:'error'})};_this.root;_this.editor;return _this;}
_createClass(Draftster,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener('hashchange',this.handleHashChange);window.addEventListener('click',this.doesCurrentInstanceHaveFocus);this.fetchInitialContent();}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener('hashchange',this.handleHashChange);window.removeEventListener('click',this.doesCurrentInstanceHaveFocus);}},{key:"UNSAFE_componentWillUpdate",value:function UNSAFE_componentWillUpdate(_nextProps,nextState){if(this.state.editor.get('initialLoadComplete')&&nextState.draft.getCurrentContent()!==this.state.draft.getCurrentContent()){if(!this.state.editor.get('hasUnsavedChanges')){this.setState({editor:nextState.editor.set('hasUnsavedChanges',true)},this.props.config.editorWasUpdated());}}
if(this.props.config.isEditorBusy&&nextState.imagesProcessing.size){this.props.config.isEditorBusy(true);}else if(this.props.config.isEditorBusy&&this.state.imagesProcessing.size>0&&nextState.imagesProcessing.size<1){this.props.config.isEditorBusy(false);}
if(this.props.config.editorWasUpdated&&this.state.imagesProcessing.size>0&&nextState.imagesProcessing.size<1){this.setState({editor:nextState.editor.set('hasUnsavedChanges',true)},this.props.config.editorWasUpdated());}}},{key:"__resetEditorState",value:function __resetEditorState(content){var editorState=Array.isArray(content)?this._resolveContentForArray(content):this._resolveContentForString(content);this.setState({draft:_draftJs.EditorState.set(editorState,{decorator:_decorator["default"],allowUndo:true}),editor:this.state.editor.set('hasUnsavedChanges',false)});}},{key:"doesCurrentInstanceHaveFocus",value:function doesCurrentInstanceHaveFocus(e){var editor=this.state.editor;if(editor.get('hasFocus')&&this.root&&!this.root.contains(e.target)){this.setState({editor:editor.set('hasFocus',false)});}}},{key:"fetchInitialContent",value:function fetchInitialContent(){var initContent=this.props.config.setInitialContent();return initContent&&typeof initContent.then==='function'?this._resolveInitContentAsPromise(initContent):this._resolveInitContent(initContent);}},{key:"_resolveInitContent",value:function _resolveInitContent(content){var _this2=this;if(!Array.isArray(content)&&typeof content!=='string'){return this.setMessengerState({open:true,msg:'Yikes, we had an issue getting your content! Invalid Content Type.',type:'error'});}
var editorState=Array.isArray(content)?this._resolveContentForArray(content):this._resolveContentForString(content);this.setState({draft:_draftJs.EditorState.moveFocusToEnd(_draftJs.EditorState.set(editorState,{decorator:_decorator["default"],allowUndo:true})),editor:this.state.editor.set('initialLoadComplete',true)},function(){if(typeof _this2.props.config.initialized==='function')_this2.props.config.initialized();});}},{key:"_resolveContentForArray",value:function _resolveContentForArray(content){return(0,_convertDataModelToDraftModel["default"])(content,this.state.editor.get('blockRestrictions'));}},{key:"_resolveContentForString",value:function _resolveContentForString(content){var _convertFromHTMLToCon=(0,_convertFromHTMLToContentBlocks["default"])(content,this.state.editor.get('blockRestrictions')),contentBlocks=_convertFromHTMLToCon.contentBlocks,entityMap=_convertFromHTMLToCon.entityMap;if(!contentBlocks.length)return _draftJs.EditorState.createEmpty();return _draftJs.EditorState.createWithContent(_draftJs.ContentState.createFromBlockArray(contentBlocks,entityMap),_decorator["default"]);}},{key:"_resolveInitContentAsPromise",value:function _resolveInitContentAsPromise(contentAsPromised){var _this3=this;return contentAsPromised.then(function(content){return _this3._resolveInitContent(content);})["catch"](function(err){_this3.setMessengerState({open:true,msg:'Yikes, we had an issue getting your content!',type:'error'});return Promise.reject(err);});}},{key:"getEditorContent",value:function getEditorContent(){var currentContent=this.state.draft.getCurrentContent();this.setState({editor:this.state.editor.set('hasUnsavedChanges',false)});return(0,_convertRawToDataModel["default"])((0,_draftJs.convertToRaw)(currentContent),currentContent.getBlockMap());}},{key:"hasUnsavedChanges",value:function hasUnsavedChanges(){return this.state.editor.get('hasUnsavedChanges');}},{key:"handleDraftOnChange",value:function handleDraftOnChange(draft){if(!draft.getSelection().getHasFocus())return this.setState({draft:draft});var metadata=(0,_getters.getInlineStylesAndEntity)(draft);var entity=metadata.get('entity');var activeMetadata=this.state.activeMetadata.merge({activeEntities:entity?(0,_immutable.List)(entity.getType()):(0,_immutable.List)(),activeStyles:metadata.get('styles')});this.setState({activeMetadata:activeMetadata,draft:draft});}},{key:"handleHashChange",value:function handleHashChange(){if(this.props.config.hideEditor&&this.props.config.hideEditor()===false){this.forceUpdate();}
if(this.state.editor.get('hasUnsavedChanges')){this.setState({editor:this.state.editor.set('hasUnsavedChanges',false)});}}},{key:"_refetchEditorWidth",value:function _refetchEditorWidth(){if(this.editor){this.editor._propagateEditorWidth();}}},{key:"setDraftState",value:function setDraftState(draft,readOnly){var metadata=(0,_getters.getInlineStylesAndEntity)(draft);var entity=metadata.get('entity');var activeMetadata=this.state.activeMetadata.merge({activeEntities:entity?(0,_immutable.List)(entity.getType()):(0,_immutable.List)(),activeStyles:metadata.get('styles')});if(typeof readOnly==='boolean'){this.setState({activeMetadata:activeMetadata,draft:draft,readOnly:readOnly});}else{this.setState({activeMetadata:activeMetadata,draft:draft});}}},{key:"setUnsavedChanges",value:function setUnsavedChanges(){var _this4=this;this.setState({editor:this.state.editor.set('hasUnsavedChanges',true)},function(){if(_this4.props.config.editorWasUpdated)_this4.props.config.editorWasUpdated();});}},{key:"setMessengerState",value:function setMessengerState(msg){this.setState({messenger:(0,_immutable.fromJS)(msg)});}},{key:"toggleReadOnly",value:function toggleReadOnly(bool){var editor=this.state.editor.merge({activeStyles:bool?(0,_immutable.List)():this.state.editor.get('activeStyles')});this.setState({editor:editor,readOnly:bool});}},{key:"triggerMessenger",value:function triggerMessenger(msg,type){this.setMessengerState({open:true,msg:msg,type:type||'error'});}},{key:"handleImages",value:function handleImages(files){var _this5=this;var filteredFiles=[].slice.call(files).filter(function(file){var isValid=(0,_Helpers.isImageValid)(file.type);if(!isValid&&file.type!=='text/html'){_this5.setMessengerState({open:true,msg:"Sorry, ".concat(file.name||'that'," is not a valid image."),type:'error'});}
return isValid;});if(!filteredFiles.length)return;return(0,_processImageFiles["default"])(filteredFiles).then(function(images){return _this5.handleProcessedImages(images,'CAROUSEL');})["catch"](function(err){_this5.setMessengerState({open:true,msg:'Woops, there was an error uploading your image!',type:'error'});if(_this5.props.config&&_this5.props.config.isEditorBusy){_this5.props.config.isEditorBusy(false);}});}},{key:"handleProcessedImages",value:function handleProcessedImages(images,blockType){images[0].show=true;var editorState=this.state.draft;var currentContent=editorState.getCurrentContent();var selectionState=editorState.getSelection();var contentStateWithEntity=blockType==='CAROUSEL'?currentContent.createEntity('TOKEN','IMMUTABLE',{images:(0,_immutable.fromJS)(images)}):currentContent.createEntity('TOKEN','IMMUTABLE',{image:(0,_immutable.fromJS)(images[0])});var entityKey=contentStateWithEntity.getLastCreatedEntityKey();var charData=_draftJs.CharacterMetadata.create({entity:entityKey});var _splitBlockAndInsertC=(0,_draftUtils.splitBlockAndInsertCustomBlock)(editorState,currentContent,selectionState,charData,blockType),newEditorState=_splitBlockAndInsertC.newEditorState,newSelectionState=_splitBlockAndInsertC.newSelectionState,newBlock=_splitBlockAndInsertC.newBlock;this.setDraftState(_draftJs.EditorState.forceSelection(newEditorState,newSelectionState));if(this.props.config.handleImageUpload){this._handleImageUpload(images,entityKey,newBlock.getKey());}}},{key:"_handleImageUpload",value:function _handleImageUpload(images,entityKey,blockKey){var _this6=this;if(!this.props.config.handleImageUpload)return;images.forEach(function(image,index,list){if(_this6.props.config.isEditorBusy&&index===0){_this6.props.config.isEditorBusy(true);}
_this6.props.config.handleImageUpload(image,function(err,updatedImage){_this6._updateImageEntity(err,updatedImage,entityKey,blockKey);if(_this6.props.config.isEditorBusy&&index===list.length-1){_this6.props.config.isEditorBusy(false);}});});}},{key:"handleImageUrl",value:function handleImageUrl(image,entityKey,blockKey){var _this7=this;if(this.props.config&&this.props.config.processImage){this.setState({imagesProcessing:this.state.imagesProcessing.set(image.uuid,image)});return this.props.config.processImage(image).then(function(updatedImage){_this7._updateImageEntity(null,Object.assign({},updatedImage,{pending:false}),entityKey,blockKey);_this7.setState({imagesProcessing:_this7.state.imagesProcessing["delete"](updatedImage.uuid)});})["catch"](function(err){_this7._updateImageEntity(err,Object.assign({},image,{pending:false}),entityKey,blockKey);});}else{this._updateImageEntity(null,Object.assign({},image,{pending:false}),entityKey,blockKey);}}},{key:"_updateImageEntity",value:function _updateImageEntity(err,image,entityKey,blockKey){var _this8=this;if(this.props.config.hideEditor&&this.props.config.hideEditor())return;var currentEditorState=this.state.draft;var block=currentEditorState.getCurrentContent().getBlockForKey(blockKey);if(!block)return;var blockType=block.getType();var updatedContent=blockType==='CAROUSEL'?this._updateImagesInCarousel(err,image,entityKey,blockKey):this._updateImageInImageLink(err,image,entityKey,blockKey);this.setState({draft:_draftJs.EditorState.forceSelection(_draftJs.EditorState.push(currentEditorState,updatedContent),currentEditorState.getSelection()),editor:this.state.editor.set('hasUnsavedChanges',true)},function(){if(_this8.props.config.editorWasUpdated)_this8.props.config.editorWasUpdated();});if(err){this.setMessengerState({open:true,msg:"Woops, there was an error uploading ".concat(image.name||image.url||"your image","!"),type:'error'});}}},{key:"_updateImagesInCarousel",value:function _updateImagesInCarousel(err,image,entityKey,blockKey){var currentEditorState=this.state.draft;var contentState=currentEditorState.getCurrentContent();var images=contentState.getEntity(entityKey).getData().images;var activeImage=images.find(function(i){return i.get('show');});var updatedImages=err?images.filter(function(i){return i.get('uuid')!==image.uuid;}):images.map(function(i){if(i.get('uuid')===image.uuid){if(!activeImage)return i.merge(image);return activeImage.get('uuid')===i.get('uuid')?i.merge(image):i.merge(image).set('show',false);}
return i;});return updatedImages.size?contentState.mergeEntityData(entityKey,{images:updatedImages}):(0,_draftUtils.removeBlock)(currentEditorState,currentEditorState.getCurrentContent().getBlockForKey(blockKey));}},{key:"_updateImageInImageLink",value:function _updateImageInImageLink(err,image,entityKey,blockKey){var currentEditorState=this.state.draft;var contentState=currentEditorState.getCurrentContent();if(err)return(0,_draftUtils.removeBlock)(currentEditorState,contentState.getBlockForKey(blockKey));return contentState.mergeEntityData(entityKey,{image:contentState.getEntity(entityKey).getData().image.merge(image)});return(0,_draftUtils.updateBlock)(currentEditorState,currentEditorState.getCurrentContent().getBlockForKey(blockKey));}},{key:"_setActiveStyle",value:function _setActiveStyle(style){var styles=this.state.activeMetadata.get('activeStyles');return styles.includes(style)?this.state.activeMetadata:this.state.activeMetadata.set('activeStyles',styles.push(style));}},{key:"_toggleActiveStyle",value:function _toggleActiveStyle(style){if(this.state.draft.getSelection().isCollapsed()){var draft=(0,_modifiers.forceSelection)(this.state.draft);var applyStyle=!this.state.activeMetadata.get('activeStyles').includes(style);var activeMetadata=applyStyle?this._setActiveStyle(style):this._removeActiveStyle(style);this.setState({activeMetadata:activeMetadata,draft:draft});}else{var _draft=(0,_modifiers.toggleInlineStyle)(this.state.draft,style);var _activeMetadata=(0,_conditions.doesCurrentSelectionContainStyle)(_draft,style)?this._setActiveStyle(style):this._removeActiveStyle(style);this.setState({activeMetadata:_activeMetadata,draft:_draft});}}},{key:"_removeActiveStyle",value:function _removeActiveStyle(style){var styles=this.state.activeMetadata.get('activeStyles');return styles.includes(style)?this.state.activeMetadata.set('activeStyles',styles.filter(function(s){return s!==style;})):this.state.activeMetadata;}},{key:"_removeAllActiveStyles",value:function _removeAllActiveStyles(){this.setState({activeMetadata:this.state.activeMetadata.set('activeStyles',(0,_immutable.List)())});}},{key:"render",value:function render(){var _this9=this;if(this.props.config.hideEditor&&this.props.config.hideEditor())return null;return _react["default"].createElement("div",{ref:function ref(el){return _this9.root=el;},id:this.state.editor.get('instanceId'),className:"react-editor-wrapper ".concat(this.props.config.className)},_react["default"].createElement(_Toolbar["default"],{activeMetadata:this.state.activeMetadata,draft:this.state.draft,editor:this.state.editor,onImageUpload:this.handleImages,refetchEditorWidth:function refetchEditorWidth(){return _this9._refetchEditorWidth();},scrollBindingElement:this.props.config.scrollBindingElement,setDraft:this.setDraftState,setMessenger:this.setMessengerState,toggleActiveStyle:function toggleActiveStyle(style){return _this9._toggleActiveStyle(style);},toggleReadOnly:this.toggleReadOnly,toolbarConfig:this.props.config.toolbar,toolbarSettings:this.props.config.toolbarSettings,uploadProcessedImage:this.handleProcessedImages}),_react["default"].createElement(_Editor["default"],{ref:function ref(el){return _this9.editor=el;},activeMetadata:this.state.activeMetadata,draft:this.state.draft,editor:this.state.editor,onDraftChange:this.handleDraftOnChange,onDraftFocus:function onDraftFocus(e){if(!_this9.state.editor.get('hasFocus')){_this9.setState({editor:_this9.state.editor.set('hasFocus',true)});}},onImageUpload:this.handleImages,processImage:this.handleImageUrl,readOnly:this.state.readOnly,setDraft:this.setDraftState,setEditorWidth:function setEditorWidth(width){return _this9.setState({editor:_this9.state.editor.set('width',width)});},setMessenger:this.setMessengerState,setUnsavedChanges:this.setUnsavedChanges,toggleActiveStyle:function toggleActiveStyle(style){return _this9._toggleActiveStyle(style);},toggleDialogStatus:function toggleDialogStatus(status){return _this9.setState({editor:_this9.state.editor.set('isDialogOpen',status)});},toggleReadOnly:this.toggleReadOnly,uploadImages:function uploadImages(files,entityKey,blockKey){return _this9._handleImageUpload(files,entityKey,blockKey);}}),this.state.messenger.get('open')&&_react["default"].createElement(_Messenger["default"],{messenger:this.state.messenger,setMessenger:this.setMessengerState}));}}]);return Draftster;}(_react.Component);exports["default"]=Draftster;Draftster.propTypes={config:_propTypes["default"].shape({className:_propTypes["default"].string,editorWasUpdated:_propTypes["default"].func,handleImageUpload:_propTypes["default"].func,hideEditor:_propTypes["default"].func,initialized:_propTypes["default"].func,isEditorBusy:_propTypes["default"].func,scrollBindingElement:_propTypes["default"].object,setInitialContent:_propTypes["default"].func,toolbar:_propTypes["default"].object,toolbarSettings:_propTypes["default"].shape({tooltips:_propTypes["default"].arrayOf(_propTypes["default"].string)})})};Draftster.defaultProps={config:{className:'',hideEditor:function hideEditor(){},initialized:function initialized(){},setInitialContent:function setInitialContent(){return Promise.resolve('<p></p>');},toolbarSettings:{tooltips:[]}}};}),83377:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=convertDataModelToDraftModel;var _draftJs=__webpack_require__(37163);var _DraftEntity=_interopRequireDefault(__webpack_require__(82222));var _immutable=__webpack_require__(43393);var _convertFromHTMLToContentBlocks=_interopRequireDefault(__webpack_require__(89957));var _decorator=_interopRequireDefault(__webpack_require__(29793));var _utils=_interopRequireDefault(__webpack_require__(22726));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
var CUSTOM_COMPONENT_TYPES=['CAROUSEL','EMBED','IMAGE_LINK','LEGACY_WIDGET','TWEET'];function createEmptyBlock(){return{contentBlocks:[new _draftJs.ContentBlock({key:(0,_draftJs.genKey)(),text:'',type:'unstyled',characterList:(0,_immutable.List)()})],entityMap:_DraftEntity["default"]};}
function createCustomBlock(type,entityObject){var entity=_DraftEntity["default"].__create('TOKEN','IMMUTABLE',entityObject);var charData=_draftJs.CharacterMetadata.create({entity:entity});return{contentBlocks:[new _draftJs.ContentBlock({key:(0,_draftJs.genKey)(),text:'',type:type,characterList:(0,_immutable.List)([charData])})],entityMap:_DraftEntity["default"]};}
function convertDataModelToDraftModel(dataModel,restrictions){if(!dataModel.length){dataModel=[{type:'CE',json:[]}];}
var blockMap=dataModel.reduce(function(acc,item,index,list){if(index===0&&item.type!=='CE'){acc.push(createEmptyBlock());}
switch(item.type.toUpperCase()){case 'CE':return acc.concat((0,_convertFromHTMLToContentBlocks["default"])(_utils["default"].toHtml(item.json),restrictions));case 'CAROUSEL':if(!item.images.length)return acc;item.images[0].show=true;return acc.concat(createCustomBlock('CAROUSEL',{images:(0,_immutable.fromJS)(item.images)}));case 'EMBED':var key=item.hasOwnProperty('data')?'data':'embed';var data=item[key];return acc.concat(createCustomBlock('EMBED',{embedData:(0,_immutable.fromJS)(Object.assign({},data,{model:'Embed',key:key}))}));case 'IMAGELINK':return acc.concat(createCustomBlock('IMAGE_LINK',{image:(0,_immutable.fromJS)(item.image)}));case 'VIDEO':var embedData=Array.isArray(item.video)?item.video[0]:item.video;return acc.concat(createCustomBlock('EMBED',{embedData:(0,_immutable.fromJS)(Object.assign({},embedData,{model:'Video',key:'video'}))}));case 'FILE':return acc.concat(createCustomBlock('LEGACY_WIDGET',{widgetData:(0,_immutable.fromJS)(Object.assign({},item.data,{model:'File'}))}));case 'WIDGETPLACEHOLDER':case 'WIDGETPLACHOLDER':return item.data.type==='twitter'?acc.concat(createCustomBlock('TWEET',{twitterData:(0,_immutable.fromJS)(Object.assign({},item.data,{model:'WidgetPlaceholder',type:'twitter'}))})):acc.concat(createCustomBlock('LEGACY_WIDGET',{widgetData:(0,_immutable.fromJS)(Object.assign({},item.data,{model:'WidgetPlaceholder'}))}));default:return acc;}},[]).filter(function(block){return block.contentBlocks.length>0;});if(!blockMap.length){blockMap.push(createEmptyBlock());}
if(CUSTOM_COMPONENT_TYPES.includes(blockMap[0].contentBlocks[0].get('type'))){blockMap.unshift(createEmptyBlock());}
if(CUSTOM_COMPONENT_TYPES.includes(blockMap[blockMap.length-1].contentBlocks[blockMap[blockMap.length-1].contentBlocks.length-1].get('type'))){blockMap.push(createEmptyBlock());}
var _blockMap$reduce=blockMap.reduce(function(acc,blockData){var _acc$contentBlocks;return{contentBlocks:(_acc$contentBlocks=acc.contentBlocks).concat.apply(_acc$contentBlocks,_toConsumableArray(blockData.contentBlocks)),entityMap:acc.entityMap};},{contentBlocks:[],entityMap:entityMap}),contentBlocks=_blockMap$reduce.contentBlocks,entityMap=_blockMap$reduce.entityMap;var updatedState=_draftJs.ContentState.createFromBlockArray(contentBlocks,entityMap);return _draftJs.EditorState.createWithContent(updatedState,_decorator["default"]);}}),89957:((module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _knownListItemDepthCl;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
var CharacterMetadata=__webpack_require__(4516);var ContentBlock=__webpack_require__(38777);var ContentBlockNode=__webpack_require__(67953);var DefaultDraftBlockRenderMap=__webpack_require__(526);var DraftEntity=__webpack_require__(82222);var genKey=__webpack_require__(25027);var generateRandomKey=__webpack_require__(25027);var getSafeBodyFromHTML=__webpack_require__(69769);var gkx=__webpack_require__(68642);var _require=__webpack_require__(43393),List=_require.List,Map=_require.Map,OrderedSet=_require.OrderedSet;var experimentalTreeDataSupport=gkx('draft_tree_data_support');var NBSP='&nbsp;';var SPACE=' ';var REGEX_CR=new RegExp('\r','g');var REGEX_LF=new RegExp('\n','g');var REGEX_LEADING_LF=new RegExp('^\n','g');var REGEX_NBSP=new RegExp(NBSP,'g');var REGEX_CARRIAGE=new RegExp('&#13;?','g');var REGEX_ZWS=new RegExp('&#8203;?','g');var boldValues=['bold','bolder','500','600','700','800','900'];var notBoldValues=['light','lighter','100','200','300','400'];var anchorAttr=['className','href','rel','target','title'];var imgAttr=['alt','className','height','src','width'];function cx(classNames){if(_typeof(classNames)=='object'){return Object.keys(classNames).filter(function(className){return classNames[className];}).map(cx_replace).join(' ');}
return Array.prototype.map.call(arguments,cx_replace).join(' ');}
function cx_replace(str){return str.replace(/\//g,'-');}
var knownListItemDepthClasses=(_knownListItemDepthCl={},_defineProperty(_knownListItemDepthCl,cx('public/DraftStyleDefault/depth0'),0),_defineProperty(_knownListItemDepthCl,cx('public/DraftStyleDefault/depth1'),1),_defineProperty(_knownListItemDepthCl,cx('public/DraftStyleDefault/depth2'),2),_defineProperty(_knownListItemDepthCl,cx('public/DraftStyleDefault/depth3'),3),_defineProperty(_knownListItemDepthCl,cx('public/DraftStyleDefault/depth4'),4),_knownListItemDepthCl);var HTMLTagToRawInlineStyleMap=Map({b:'BOLD',code:'CODE',del:'STRIKETHROUGH',em:'ITALIC',i:'ITALIC',s:'STRIKETHROUGH',strike:'STRIKETHROUGH',strong:'BOLD',u:'UNDERLINE',mark:'HIGHLIGHT'});var buildBlockTypeMap=function buildBlockTypeMap(blockRenderMap){var blockTypeMap={};blockRenderMap.mapKeys(function(blockType,desc){var elements=[desc.element];if(desc.aliasedElements!==undefined){elements.push.apply(elements,_toConsumableArray(desc.aliasedElements));}
elements.forEach(function(element){if(blockTypeMap[element]===undefined){blockTypeMap[element]=blockType;}else if(typeof blockTypeMap[element]==='string'){blockTypeMap[element]=[blockTypeMap[element],blockType];}else{blockTypeMap[element].push(blockType);}});});return Map(blockTypeMap);};var getListItemDepth=function getListItemDepth(node){var depth=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;Object.keys(knownListItemDepthClasses).some(function(depthClass){if(node.classList.contains(depthClass)){depth=knownListItemDepthClasses[depthClass];}});return depth;};var isValidAnchor=function isValidAnchor(node){return!!(node instanceof HTMLAnchorElement&&node.href&&(node.protocol==='http:'||node.protocol==='https:'||node.protocol==='mailto:'));};var isValidImage=function isValidImage(node){return!!(node instanceof HTMLImageElement&&node.attributes.getNamedItem('src')&&node.attributes.getNamedItem('src').value);};var styleFromNodeAttributes=function styleFromNodeAttributes(node){var style=OrderedSet();if(!(node instanceof HTMLElement)){return style;}
var htmlElement=node;var fontWeight=htmlElement.style.fontWeight;var fontStyle=htmlElement.style.fontStyle;var textDecoration=htmlElement.style.textDecoration;return style.withMutations(function(style){if(boldValues.indexOf(fontWeight)>=0){style.add('BOLD');}else if(notBoldValues.indexOf(fontWeight)>=0){style.remove('BOLD');}
if(fontStyle==='italic'){style.add('ITALIC');}else if(fontStyle==='normal'){style.remove('ITALIC');}
if(textDecoration==='underline'){style.add('UNDERLINE');}
if(textDecoration==='line-through'){style.add('STRIKETHROUGH');}
if(textDecoration==='none'){style.remove('UNDERLINE');style.remove('STRIKETHROUGH');}});};var isListNode=function isListNode(nodeName){return nodeName==='ul'||nodeName==='ol';};var ContentBlocksBuilder=function(){function ContentBlocksBuilder(blockTypeMap,disambiguate){_classCallCheck(this,ContentBlocksBuilder);this.clear();this.blockTypeMap=blockTypeMap;this.disambiguate=disambiguate;}
_createClass(ContentBlocksBuilder,[{key:"clear",value:function clear(){this.characterList=List();this.blockConfigs=[];this.currentBlockType='unstyled';this.currentDepth=0;this.currentEntity=null;this.currentStyle=OrderedSet();this.currentText='';this.entityMap=DraftEntity;this.wrapper=null;this.contentBlocks=[];this.hoistedBlockConfigs=[];}},{key:"addDOMNode",value:function addDOMNode(node){var _this$blockConfigs;this.contentBlocks=[];this.currentDepth=0;(_this$blockConfigs=this.blockConfigs).push.apply(_this$blockConfigs,_toConsumableArray(this._toBlockConfigs([node])));this._trimCurrentText();if(this.currentText!==''){this.blockConfigs.push(this._makeBlockConfig());}
return this;}},{key:"getContentBlocks",value:function getContentBlocks(){this._hoistImagesToBlockConfigs(this.blockConfigs);this.blockConfigs=this.hoistedBlockConfigs;if(this.contentBlocks.length===0){if(experimentalTreeDataSupport){this._toContentBlocks(this.blockConfigs);}else{this._toFlatContentBlocks(this.blockConfigs);}}
return{contentBlocks:this.contentBlocks,entityMap:this.entityMap};}},{key:"addStyle",value:function addStyle(inlineStyle){this.currentStyle=this.currentStyle.union(inlineStyle);}},{key:"removeStyle",value:function removeStyle(inlineStyle){this.currentStyle=this.currentStyle.subtract(inlineStyle);}},{key:"_makeBlockConfig",value:function _makeBlockConfig(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var key=config.key||generateRandomKey();var block=Object.assign({key:key,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:List(),prevSibling:null,nextSibling:null,childConfigs:[]},config);this.characterList=List();this.currentBlockType='unstyled';this.currentText='';return block;}},{key:"_toBlockConfigs",value:function _toBlockConfigs(nodes){var blockConfigs=[];for(var i=0;i<nodes.length;i++){var node=nodes[i];var nodeName=node.nodeName.toLowerCase();if(nodeName==='body'||isListNode(nodeName)){this._trimCurrentText();if(this.currentText!==''){blockConfigs.push(this._makeBlockConfig());}
var wasCurrentDepth=this.currentDepth;var wasWrapper=this.wrapper;if(isListNode(nodeName)){this.wrapper=nodeName;if(isListNode(wasWrapper)){this.currentDepth++;}}
blockConfigs.push.apply(blockConfigs,_toConsumableArray(this._toBlockConfigs(Array.from(node.childNodes))));this.currentDepth=wasCurrentDepth;this.wrapper=wasWrapper;continue;}
var blockType=this.blockTypeMap.get(nodeName);if(blockType!==undefined){this._trimCurrentText();if(this.currentText!==''){blockConfigs.push(this._makeBlockConfig());}
var _wasCurrentDepth=this.currentDepth;var _wasWrapper=this.wrapper;this.wrapper=nodeName==='pre'?'pre':this.wrapper;if(typeof blockType!=='string'){blockType=this.disambiguate(nodeName,this.wrapper)||blockType[0]||'unstyled';}
if(!experimentalTreeDataSupport&&node instanceof HTMLElement&&(blockType==='unordered-list-item'||blockType==='ordered-list-item')){this.currentDepth=getListItemDepth(node,this.currentDepth);}
var key=generateRandomKey();var childConfigs=this._toBlockConfigs(Array.from(node.childNodes));this._trimCurrentText();blockConfigs.push(this._makeBlockConfig({key:key,childConfigs:childConfigs,type:blockType}));this.currentDepth=_wasCurrentDepth;this.wrapper=_wasWrapper;continue;}
if(nodeName==='#text'){this._addTextNode(node);continue;}
if(nodeName==='br'){this._addBreakNode(node);continue;}
if(isValidImage(node)){this._addImgNode(node);continue;}
if(isValidAnchor(node)){this._addAnchorNode(node,blockConfigs);continue;}
var inlineStyle=HTMLTagToRawInlineStyleMap.has(nodeName)?OrderedSet.of(HTMLTagToRawInlineStyleMap.get(nodeName)):OrderedSet();var attributesStyle=styleFromNodeAttributes(node);this.addStyle(inlineStyle);this.addStyle(attributesStyle);blockConfigs.push.apply(blockConfigs,_toConsumableArray(this._toBlockConfigs(Array.from(node.childNodes))));this.removeStyle(attributesStyle);this.removeStyle(inlineStyle);}
return blockConfigs;}},{key:"_appendText",value:function _appendText(text){var _this$characterList;this.currentText+=text;var characterMetadata=CharacterMetadata.create({style:this.currentStyle,entity:this.currentEntity});this.characterList=(_this$characterList=this.characterList).push.apply(_this$characterList,_toConsumableArray(Array(text.length).fill(characterMetadata)));}},{key:"_trimCurrentText",value:function _trimCurrentText(){var l=this.currentText.length;var begin=l-this.currentText.trimLeft().length;var end=this.currentText.trimRight().length;var entity=this.characterList.findEntry(function(characterMetadata){return characterMetadata.getEntity()!==null;});begin=entity!==undefined?Math.min(begin,entity[0]):begin;entity=this.characterList.reverse().findEntry(function(characterMetadata){return characterMetadata.getEntity()!==null;});end=entity!==undefined?Math.max(end,l-entity[0]):end;if(begin>end){this.currentText='';this.characterList=List();}else{this.currentText=this.currentText.slice(begin,end);this.characterList=this.characterList.slice(begin,end);}}},{key:"_addTextNode",value:function _addTextNode(node){var text=node.textContent;var trimmedText=text.trim();if(trimmedText===''&&this.wrapper!=='pre'){text=' ';}
if(this.wrapper!=='pre'){text=text.replace(REGEX_LEADING_LF,'');text=text.replace(REGEX_LF,SPACE);}
this._appendText(text);}},{key:"_addBreakNode",value:function _addBreakNode(node){if(!(node instanceof HTMLBRElement)){return;}
this._appendText('\n');}},{key:"_addImgNode",value:function _addImgNode(node){if(!(node instanceof HTMLImageElement)){return;}
var image=node;var entityConfig={};imgAttr.forEach(function(attr){var imageAttribute=image.getAttribute(attr);if(imageAttribute){entityConfig[attr]=imageAttribute;}});this.currentEntity=this.entityMap.__create('IMAGE','MUTABLE',entityConfig);if(gkx('draftjs_fix_paste_for_img')){if(node.getAttribute('role')!=='presentation'){this._appendText("\uD83D\uDCF7");}}else{this._appendText("\uD83D\uDCF7");}
this.currentEntity=null;}},{key:"_addAnchorNode",value:function _addAnchorNode(node,blockConfigs){if(!(node instanceof HTMLAnchorElement)){return;}
var anchor=node;var entityConfig={};anchorAttr.forEach(function(attr){var anchorAttribute=anchor.getAttribute(attr);if(anchorAttribute){entityConfig[attr]=anchorAttribute;}});entityConfig.url=anchor.href;this.currentEntity=this.entityMap.__create('LINK','MUTABLE',entityConfig||{});blockConfigs.push.apply(blockConfigs,_toConsumableArray(this._toBlockConfigs(Array.from(node.childNodes))));this.currentEntity=null;}},{key:"_toContentBlocks",value:function _toContentBlocks(blockConfigs){var parent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var l=blockConfigs.length-1;for(var i=0;i<=l;i++){var config=blockConfigs[i];config.parent=parent;config.prevSibling=i>0?blockConfigs[i-1].key:null;config.nextSibling=i<l?blockConfigs[i+1].key:null;config.children=List(config.childConfigs.map(function(child){return child.key;}));this.contentBlocks.push(new ContentBlockNode(Object.assign({},config)));this._toContentBlocks(config.childConfigs,config.key);}}},{key:"_hoistImagesToBlockConfigs",value:function _hoistImagesToBlockConfigs(blockConfigs){var _this=this;var parent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;blockConfigs.forEach(function(config){if(config.type==='unstyled'&&config.text==="\uD83D\uDCF7"){if(parent){parent.childConfigs=parent.childConfigs.filter(function(child){return child.key!==config.key;});}
_this.hoistedBlockConfigs.push(Object.assign({},config,{type:'CAROUSEL'}));var entityKey=config.characterList.get(0).getEntity();var entity=_this.entityMap.__get(entityKey);var data=entity.get('data');_this.entityMap.__replaceData(entityKey,{images:List([Map({figcaption:'',uuid:genKey(),pending:true,show:true,url:data.src})])});}else if(config.childConfigs.length){_this._hoistImagesToBlockConfigs(config.childConfigs,config);_this.hoistedBlockConfigs.push(config);}else{_this.hoistedBlockConfigs.push(config);}});}},{key:"_hoistContainersInBlockConfigs",value:function _hoistContainersInBlockConfigs(blockConfigs){var _this2=this;var hoisted=List(blockConfigs).flatMap(function(blockConfig){if(blockConfig.type!=='unstyled'||blockConfig.text!==''){return[blockConfig];}
return _this2._hoistContainersInBlockConfigs(blockConfig.childConfigs);});return hoisted;}},{key:"_toFlatContentBlocks",value:function _toFlatContentBlocks(blockConfigs){var _this3=this;var cleanConfigs=this._hoistContainersInBlockConfigs(blockConfigs);cleanConfigs.forEach(function(config){var _this3$_extractTextFr=_this3._extractTextFromBlockConfigs(config.childConfigs),text=_this3$_extractTextFr.text,characterList=_this3$_extractTextFr.characterList;_this3.contentBlocks.push(new ContentBlock(Object.assign({},config,{text:config.text+text,characterList:config.characterList.concat(characterList)})));});}},{key:"_extractTextFromBlockConfigs",value:function _extractTextFromBlockConfigs(blockConfigs){var l=blockConfigs.length-1;var text='';var characterList=List();for(var i=0;i<=l;i++){var config=blockConfigs[i];text+=config.text;characterList=characterList.concat(config.characterList);if(text!==''&&config.blockType!=='unstyled'){text+='\n';characterList=characterList.push(characterList.last());}
var children=this._extractTextFromBlockConfigs(config.childConfigs);text+=children.text;characterList=characterList.concat(children.characterList);}
return{text:text,characterList:characterList};}}]);return ContentBlocksBuilder;}();function getBlockRenderMap(restrictions){restrictions=restrictions||List();var customElements=Map({'code-block':{element:'pre'},'paragraph':{element:'p'}});var blockRenderMap=DefaultDraftBlockRenderMap.concat(customElements);if(restrictions.size){var removeHeaders=restrictions.indexOf('header')!==-1;blockRenderMap=blockRenderMap.filter(function(val,key){if(removeHeaders&&['h1','h2','h3','h4','h5','h6'].indexOf(val.element)!==-1){return false;}else{return restrictions.indexOf(key)===-1;}});}
return blockRenderMap;}
var convertFromHTMLToContentBlocks=function convertFromHTMLToContentBlocks(html,restrictions){var DOMBuilder=getSafeBodyFromHTML;var blockRenderMap=getBlockRenderMap(restrictions);html=html.trim().replace(REGEX_CR,'').replace(REGEX_NBSP,SPACE).replace(REGEX_CARRIAGE,'').replace(REGEX_ZWS,'');var safeBody=DOMBuilder(html);if(!safeBody){return null;}
var blockTypeMap=buildBlockTypeMap(blockRenderMap);var disambiguate=function disambiguate(tag,wrapper){if(tag==='li'){return 'unordered-list-item';}
return null;};return new ContentBlocksBuilder(blockTypeMap,disambiguate).addDOMNode(safeBody).getContentBlocks();};module.exports=convertFromHTMLToContentBlocks;}),68478:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=convertRawBlockToHtml;var _validator=_interopRequireDefault(__webpack_require__(48966));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var blockTagMap={'header-one':'h3','header-two':'h3','header-three':'h3','header-four':'h3','header-five':'h3','header-six':'h3','unstyled':'p','code-block':'pre','blockquote':'blockquote','ordered-list-item':'li','unordered-list-item':'li','paragraph':'p','default':'p'};var inlineTagMap={'BOLD':['<strong>','</strong>'],'ITALIC':['<em>','</em>'],'UNDERLINE':['<u>','</u>'],'CODE':['<code>','</code>'],'STRIKETHROUGH':['<del>','</del>'],'SPAN':['<span>','</span>'],'default':['','']};var entityTagMap={'LINK':{open:function open(data){var href=data.href;return "<a href=\"".concat(href,"\">");},close:'</a>'}};var nestedTagMap={'ordered-list-item':'ol','unordered-list-item':'ul'};function getStylesByCharData(block,charIndex){if(block.getCharacterList().size===0)return['default'];var styleList=block.getCharacterList().get(charIndex).get('style').toArray();return styleList.length?styleList:['default'];}
function getEntitiesByRanges(entityRanges,entityMap,charIndex){return entityRanges.reduce(function(acc,range){if(charIndex>=range.offset&&charIndex<=range.offset+range.length-1){acc.push(entityMap[range.key]);}
return acc;},[]);}
function shouldMerge(a,b){if(a.length!==b.length)return false;return a.every(function(aStyle){return b.includes(aStyle);});}
function buildBlockElement(type,children){var tag=blockTagMap[type];return nestedTagMap[type]?"<".concat(nestedTagMap[type],"><").concat(tag,">").concat(children,"</").concat(tag,"></").concat(nestedTagMap[type],">"):"<".concat(tag,">").concat(children,"</").concat(tag,">");}
function buildInlineElements(block,blockMap,entityMap){var charMap=Array.from(block.text).map(function(_char,index){return{text:_char,styles:getStylesByCharData(blockMap.get(block.key),index),entities:getEntitiesByRanges(block.entityRanges,entityMap,index)};}).map(function(_char2){if(_char2.entities.length){_char2.entities.forEach(function(entity){if(!_char2.styles.includes(entity.type)){_char2.styles.push(entity.type);}});}
return _char2;}).reduce(function(acc,_char3){if(!acc.length){acc.push(_char3);}else if(shouldMerge(acc[acc.length-1].styles,_char3.styles)){acc[acc.length-1].text+=_char3.text;}else{acc.push(_char3);}
return acc;},[]);var tagStack=[];var html=charMap.map(function(_char4){var start=_char4.styles.map(function(style){if(entityTagMap[style]){tagStack.unshift(entityTagMap[style].close);return entityTagMap[style].open(_char4.entities[0].data);}else if(inlineTagMap[style]){tagStack.unshift(inlineTagMap[style][1]);return "".concat(inlineTagMap[style][0]);}}).join('');var end=tagStack.join('');tagStack=[];var sanitizedText=_validator["default"].escape(_char4.text).replace(/\n/g,'<br/>');return start.concat(sanitizedText).concat(end);}).join('');return html;}
function convertRawBlockToHtml(rawBlock,blockMap,entityMap){return buildBlockElement(rawBlock.type,buildInlineElements(rawBlock,blockMap,entityMap));}}),1960:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=convertRawToDataModel;var _convertRawBlockToHtml=_interopRequireDefault(__webpack_require__(68478));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function convertRawToDataModel(raw,blockMap){var entityMap=raw.entityMap;return raw.blocks.map(function(block){switch(block.type){case 'CAROUSEL':return getCarouselData(block,entityMap);case 'EMBED':return getEmbedData(block,entityMap);case 'LEGACY_WIDGET':return getLegacyWidgetData(block,entityMap);case 'TWEET':return getTweetData(block,entityMap);case 'FILE':return getLegacyWidgetData(block,entityMap);case 'IMAGE_LINK':return getImageLinkData(block,entityMap);default:return{type:'CE',html:(0,_convertRawBlockToHtml["default"])(block,blockMap,entityMap)};}}).reduce(function(acc,block){if(acc.length&&acc[acc.length-1].type==='CE'&&block.type==='CE'){acc[acc.length-1].html+=block.html;}else{acc.push(block);}
return acc;},[]);}
function getCarouselData(block,entityMap){var images=entityMap[block.entityRanges[0].key].data.images.toJS();return{type:'Carousel',images:images};}
function getEmbedData(block,entityMap){var embedData=entityMap[block.entityRanges[0].key].data.embedData.toJS();return _defineProperty({type:embedData.model},embedData.key,embedData);}
function getImageLinkData(block,entityMap){var image=entityMap[block.entityRanges[0].key].data.image.toJS();return{type:'ImageLink',image:image};}
function getLegacyWidgetData(block,entityMap){var widgetData=entityMap[block.entityRanges[0].key].data.widgetData.toJS();return{type:widgetData.model,data:widgetData};}
function getTweetData(block,entityMap){var twitterData=entityMap[block.entityRanges[0].key].data.twitterData.toJS();return{type:twitterData.model,data:twitterData};}}),86628:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Bold=function Bold(){return _react["default"].createElement("svg",{width:"16",height:"16",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("path",{d:"M747 1521q74 32 140 32 376 0 376-335 0-114-41-180-27-44-61.5-74t-67.5-46.5-80.5-25-84-10.5-94.5-2q-73 0-101 10 0 53-.5 159t-.5 158q0 8-1 67.5t-.5 96.5 4.5 83.5 12 66.5zm-14-746q42 7 109 7 82 0 143-13t110-44.5 74.5-89.5 25.5-142q0-70-29-122.5t-79-82-108-43.5-124-14q-50 0-130 13 0 50 4 151t4 152q0 27-.5 80t-.5 79q0 46 1 69zm-541 889l2-94q15-4 85-16t106-27q7-12 12.5-27t8.5-33.5 5.5-32.5 3-37.5.5-34v-65.5q0-982-22-1025-4-8-22-14.5t-44.5-11-49.5-7-48.5-4.5-30.5-3l-4-83q98-2 340-11.5t373-9.5q23 0 68 .5t68 .5q70 0 136.5 13t128.5 42 108 71 74 104.5 28 137.5q0 52-16.5 95.5t-39 72-64.5 57.5-73 45-84 40q154 35 256.5 134t102.5 248q0 100-35 179.5t-93.5 130.5-138 85.5-163.5 48.5-176 14q-44 0-132-3t-132-3q-106 0-307 11t-231 12z"}));};var _default=Bold;exports["default"]=_default;}),71281:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Code=function Code(){return _react["default"].createElement("svg",{width:"16",height:"16",viewBox:"0 0 2048 1792",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("path",{d:"M681 1399l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23t-10 23l-393 393 393 393q10 10 10 23t-10 23zm591-1067l-373 1291q-4 13-15.5 19.5t-23.5 2.5l-62-17q-13-4-19.5-15.5t-2.5-24.5l373-1291q4-13 15.5-19.5t23.5-2.5l62 17q13 4 19.5 15.5t2.5 24.5zm657 651l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23t-10 23z"}));};var _default=Code;exports["default"]=_default;}),77920:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Hashtag=function Hashtag(){return _react["default"].createElement("svg",{width:"16",height:"16",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("path",{d:"M991 1024l64-256h-254l-64 256h254zm768-504l-56 224q-7 24-31 24h-327l-64 256h311q15 0 25 12 10 14 6 28l-56 224q-5 24-31 24h-327l-81 328q-7 24-31 24h-224q-16 0-26-12-9-12-6-28l78-312h-254l-81 328q-7 24-31 24h-225q-15 0-25-12-9-12-6-28l78-312h-311q-15 0-25-12-9-12-6-28l56-224q7-24 31-24h327l64-256h-311q-15 0-25-12-10-14-6-28l56-224q5-24 31-24h327l81-328q7-24 32-24h224q15 0 25 12 9 12 6 28l-78 312h254l81-328q7-24 32-24h224q15 0 25 12 9 12 6 28l-78 312h311q15 0 25 12 9 12 6 28z"}));};var _default=Hashtag;exports["default"]=_default;}),58435:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Header=function Header(){return _react["default"].createElement("svg",{width:"16",height:"16",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("path",{d:"M1682 1664q-44 0-132.5-3.5t-133.5-3.5q-44 0-132 3.5t-132 3.5q-24 0-37-20.5t-13-45.5q0-31 17-46t39-17 51-7 45-15q33-21 33-140l-1-391q0-21-1-31-13-4-50-4h-675q-38 0-51 4-1 10-1 31l-1 371q0 142 37 164 16 10 48 13t57 3.5 45 15 20 45.5q0 26-12.5 48t-36.5 22q-47 0-139.5-3.5t-138.5-3.5q-43 0-128 3.5t-127 3.5q-23 0-35.5-21t-12.5-45q0-30 15.5-45t36-17.5 47.5-7.5 42-15q33-23 33-143l-1-57v-813q0-3 .5-26t0-36.5-1.5-38.5-3.5-42-6.5-36.5-11-31.5-16-18q-15-10-45-12t-53-2-41-14-18-45q0-26 12-48t36-22q46 0 138.5 3.5t138.5 3.5q42 0 126.5-3.5t126.5-3.5q25 0 37.5 22t12.5 48q0 30-17 43.5t-38.5 14.5-49.5 4-43 13q-35 21-35 160l1 320q0 21 1 32 13 3 39 3h699q25 0 38-3 1-11 1-32l1-320q0-139-35-160-18-11-58.5-12.5t-66-13-25.5-49.5q0-26 12.5-48t37.5-22q44 0 132 3.5t132 3.5q43 0 129-3.5t129-3.5q25 0 37.5 22t12.5 48q0 30-17.5 44t-40 14.5-51.5 3-44 12.5q-35 23-35 161l1 943q0 119 34 140 16 10 46 13.5t53.5 4.5 41.5 15.5 18 44.5q0 26-12 48t-36 22z"}));};var _default=Header;exports["default"]=_default;}),77118:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Italic=function Italic(){return _react["default"].createElement("svg",{width:"16",height:"16",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("path",{d:"M384 1662l17-85q22-7 61.5-16.5t72-19 59.5-23.5q28-35 41-101 1-7 62-289t114-543.5 52-296.5v-25q-24-13-54.5-18.5t-69.5-8-58-5.5l19-103q33 2 120 6.5t149.5 7 120.5 2.5q48 0 98.5-2.5t121-7 98.5-6.5q-5 39-19 89-30 10-101.5 28.5t-108.5 33.5q-8 19-14 42.5t-9 40-7.5 45.5-6.5 42q-27 148-87.5 419.5t-77.5 355.5q-2 9-13 58t-20 90-16 83.5-6 57.5l1 18q17 4 185 31-3 44-16 99-11 0-32.5 1.5t-32.5 1.5q-29 0-87-10t-86-10q-138-2-206-2-51 0-143 9t-121 11z"}));};var _default=Italic;exports["default"]=_default;}),90643:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Link=function Link(){return _react["default"].createElement("svg",{width:"16",height:"16",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("path",{d:"M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z"}));};var _default=Link;exports["default"]=_default;}),45065:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var List=function List(){return _react["default"].createElement("svg",{width:"16",height:"16",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("path",{d:"M256 1312v192q0 13-9.5 22.5t-22.5 9.5h-192q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h192q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-192q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h192q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-192q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h192q13 0 22.5 9.5t9.5 22.5zm1536 768v192q0 13-9.5 22.5t-22.5 9.5h-1344q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1344q13 0 22.5 9.5t9.5 22.5zm-1536-1152v192q0 13-9.5 22.5t-22.5 9.5h-192q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h192q13 0 22.5 9.5t9.5 22.5zm1536 768v192q0 13-9.5 22.5t-22.5 9.5h-1344q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1344q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1344q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1344q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1344q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1344q13 0 22.5 9.5t9.5 22.5z"}));};var _default=List;exports["default"]=_default;}),39755:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Picture=function Picture(){return _react["default"].createElement("svg",{width:"16",height:"16",viewBox:"0 0 2048 1792",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("path",{d:"M704 576q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1024 384v448h-1408v-192l320-320 160 160 512-512zm96-704h-1600q-13 0-22.5 9.5t-9.5 22.5v1216q0 13 9.5 22.5t22.5 9.5h1600q13 0 22.5-9.5t9.5-22.5v-1216q0-13-9.5-22.5t-22.5-9.5zm160 32v1216q0 66-47 113t-113 47h-1600q-66 0-113-47t-47-113v-1216q0-66 47-113t113-47h1600q66 0 113 47t47 113z"}));};var _default=Picture;exports["default"]=_default;}),93699:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Quote=function Quote(){return _react["default"].createElement("svg",{width:"16",height:"16",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("path",{d:"M832 320v704q0 104-40.5 198.5t-109.5 163.5-163.5 109.5-198.5 40.5h-64q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h64q106 0 181-75t75-181v-32q0-40-28-68t-68-28h-224q-80 0-136-56t-56-136v-384q0-80 56-136t136-56h384q80 0 136 56t56 136zm896 0v704q0 104-40.5 198.5t-109.5 163.5-163.5 109.5-198.5 40.5h-64q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h64q106 0 181-75t75-181v-32q0-40-28-68t-68-28h-224q-80 0-136-56t-56-136v-384q0-80 56-136t136-56h384q80 0 136 56t56 136z"}));};var _default=Quote;exports["default"]=_default;}),73391:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Video=function Video(){return _react["default"].createElement("svg",{width:"16",height:"16",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},_react["default"].createElement("path",{d:"M1792 352v1088q0 42-39 59-13 5-25 5-27 0-45-19l-403-403v166q0 119-84.5 203.5t-203.5 84.5h-704q-119 0-203.5-84.5t-84.5-203.5v-704q0-119 84.5-203.5t203.5-84.5h704q119 0 203.5 84.5t84.5 203.5v165l403-402q18-19 45-19 12 0 25 5 39 17 39 59z"}));};var _default=Video;exports["default"]=_default;}),66220:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _Draftster=_interopRequireDefault(__webpack_require__(16442));__webpack_require__(23993);__webpack_require__(20316);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _default=_Draftster["default"];exports["default"]=_default;}),37542:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=customArrowKeysHandler;var _draftJs=__webpack_require__(37163);var _draftUtils=__webpack_require__(85559);var ATOMIC_BLOCKS=(null&&(['LEGACY_WIDGET','CAROUSEL','EMBED','TWEET','IMAGE_LINK']));function handleDownArrow(editorState,callback,e){var currentContentState=editorState.getCurrentContent();var currentSelection=editorState.getSelection();var currentBlock=currentContentState.getBlockForKey(currentSelection.getAnchorKey());var nextBlock=currentContentState.getBlockAfter(currentSelection.getAnchorKey());if(currentBlock.getType()==='code-block'&&!nextBlock){e.preventDefault();var _insertParagraph=(0,_draftUtils.insertParagraph)(currentBlock,currentContentState,currentSelection),updatedContentState=_insertParagraph.updatedContentState,updatedSelection=_insertParagraph.updatedSelection;callback(_draftJs.EditorState.forceSelection(_draftJs.EditorState.push(editorState,updatedContentState),updatedSelection));}}
function customArrowKeysHandler(direction,editor,callback,e){switch(direction){case 'DOWN':handleDownArrow.call(this,editor,callback,e);break;default:break;}}}),12956:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=customBeforeInputHandler;var _draftJs=__webpack_require__(37163);var _immutable=__webpack_require__(43393);var _elements=__webpack_require__(53657);var _getters=__webpack_require__(204);var _conditions=__webpack_require__(31222);var _modifiers=__webpack_require__(55742);var _customBlockTransactions=__webpack_require__(46142);var handleDefaultBehavior=function handleDefaultBehavior(editorState,character,onChange){var activeStyles=arguments.length>3&&arguments[3]!==undefined?arguments[3]:(0,_immutable.List)();if(!editorState.getSelection().isCollapsed())return 'not-handled';if((0,_conditions.isCursorAmidEntities)(editorState))return 'not-handled';if(activeStyles.size>0){var selection=editorState.getSelection();var offset=selection.getStartOffset()+1;var newContent=_draftJs.Modifier.insertText(editorState.getCurrentContent(),editorState.getSelection(),character,activeStyles.toOrderedSet(),null);var newEditorState=_draftJs.EditorState.push(editorState,newContent,'insert-characters');onChange(newEditorState,{styleAdded:true});return 'handled';}
if((0,_conditions.doesPreviousCharContainEntity)(editorState)||(0,_conditions.doesPreviousCharContainStyle)(editorState)){var _newContent=_draftJs.Modifier.insertText(editorState.getCurrentContent(),editorState.getSelection(),character,(0,_immutable.OrderedSet)(),null);var _newEditorState=_draftJs.EditorState.push(editorState,_newContent,'insert-characters');onChange(_newEditorState);return 'handled';}
return 'not-handled';};var handleEmptySpace=function handleEmptySpace(editorState,onChange){if(!editorState.getSelection().isCollapsed())return 'not-handled';if((0,_conditions.isCursorAmidEntities)(editorState))return 'not-handled';var currentContentState=editorState.getCurrentContent();var currentSelection=editorState.getSelection();var currentBlock=currentContentState.getBlockForKey(currentSelection.getAnchorKey());if((0,_conditions.doesPreviousWordContainValidUrl)(editorState,'EMBEDLY')){var _insertEmbedlyCompone=(0,_customBlockTransactions.insertEmbedlyComponent)({currentBlock:currentBlock,currentSelection:currentSelection,currentContentState:currentContentState,editorState:editorState}),newEditorState=_insertEmbedlyCompone.newEditorState,newSelectionState=_insertEmbedlyCompone.newSelectionState;onChange(_draftJs.EditorState.forceSelection(newEditorState,newSelectionState));return 'handled';}
if((0,_conditions.doesPreviousWordContainValidUrl)(editorState,'GIST')){var _insertGistComponent=(0,_customBlockTransactions.insertGistComponent)({currentBlock:currentBlock,currentSelection:currentSelection,currentContentState:currentContentState,editorState:editorState}),_newEditorState2=_insertGistComponent.newEditorState,_newSelectionState=_insertGistComponent.newSelectionState;onChange(_draftJs.EditorState.forceSelection(_newEditorState2,_newSelectionState));return 'handled';}
if((0,_conditions.doesPreviousWordContainValidUrl)(editorState,'VIDEO')){var _insertVideoComponent=(0,_customBlockTransactions.insertVideoComponent)({currentBlock:currentBlock,currentSelection:currentSelection,currentContentState:currentContentState,editorState:editorState}),_newEditorState3=_insertVideoComponent.newEditorState,_newSelectionState2=_insertVideoComponent.newSelectionState;onChange(_draftJs.EditorState.forceSelection(_newEditorState3,_newSelectionState2));return 'handled';}
if((0,_conditions.doesPreviousWordContainValidUrl)(editorState,'TWEET')){var _insertTweetComponent=(0,_customBlockTransactions.insertTweetComponent)({currentBlock:currentBlock,currentSelection:currentSelection,currentContentState:currentContentState,editorState:editorState}),_newEditorState4=_insertTweetComponent.newEditorState,_newSelectionState3=_insertTweetComponent.newSelectionState;onChange(_draftJs.EditorState.forceSelection(_newEditorState4,_newSelectionState3));return 'handled';}
if(!(0,_conditions.doesPreviousCharContainEntity)(editorState,['LINK'])&&(0,_conditions.doesPreviousWordContainValidUrl)(editorState,'LINK')&&!(0,_conditions.isCurrentBlockAType)(currentBlock,['code-block'])){onChange((0,_modifiers.insertEmptySpace)((0,_modifiers.linkifyPreviousWord)(editorState)));return 'handled';}
if((0,_conditions.doesPreviousCharContainEntity)(editorState)||(0,_conditions.doesPreviousCharContainStyle)(editorState)){onChange((0,_modifiers.insertEmptySpace)(editorState),{styleAdded:true});return 'handled';}
return 'not-handled';};function customBeforeInputHandler(editorState,character,onChange,activeStyles){if(_elements.AtomicBlocks.includes((0,_getters.getCurrentBlock)(editorState).getType())){return 'handled';}
switch(character){case ' ':return handleEmptySpace(editorState,onChange);default:return handleDefaultBehavior(editorState,character,onChange,activeStyles);}}}),1902:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=customBlockRenderMap;var _react=_interopRequireDefault(__webpack_require__(67294));var _draftJs=__webpack_require__(37163);var _immutable=__webpack_require__(43393);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var customBlockMap=(0,_immutable.Map)({CAROUSEL:{element:'div'},IMAGE_LINK:{element:'div'},EMBED:{element:'div'},LEGACY_WIDGET:{element:'div'},TWEET:{element:'div'},'code-block':{element:'code',wrapper:_react["default"].createElement("pre",{className:"public-DraftStyleDefault-pre"})},'paragraph':{element:'div'}});function customBlockRenderMap(){return _draftJs.DefaultDraftBlockRenderMap.merge(customBlockMap);}}),72480:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=customBlockRenderer;var _draftJs=__webpack_require__(37163);var _Carousel=_interopRequireDefault(__webpack_require__(17422));var _Embed=_interopRequireDefault(__webpack_require__(37675));var _ImageLink=_interopRequireDefault(__webpack_require__(34222));var _LegacyWidget=_interopRequireDefault(__webpack_require__(15678));var _Tweet=_interopRequireDefault(__webpack_require__(63752));var _draftUtils=__webpack_require__(85559);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _composeBlockProps(){var _this=this;return{actions:{toggleDialogStatus:this.props.toggleDialogStatus},focus:function focus(){_this.focus();},update:function update(block){var currentState=_this.props.draftState;var newContent=(0,_draftUtils.updateBlock)(currentState,block);_this.setDraftState(_draftJs.EditorState.forceSelection(_draftJs.EditorState.push(currentState,newContent),currentState.getSelection()));},updateContentState:function updateContentState(updatedState){var changeType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var currentState=_this.props.draftState;_this.setDraftState(_draftJs.EditorState.push(currentState,updatedState,changeType));},updateEntityData:function updateEntityData(entityKey,data){_this.replaceEntityData(entityKey,data);},remove:function remove(block){var currentState=_this.props.draftState;var newContent=(0,_draftUtils.removeBlock)(currentState,block);var nextKeyToFocus=currentState.getCurrentContent().getKeyAfter(block.getKey());var updatedSelection=_draftJs.SelectionState.createEmpty(nextKeyToFocus);if(_this.props.readOnly)_this.props.toggleReadOnly(false);_this.setDraftState(_draftJs.EditorState.forceSelection(_draftJs.EditorState.push(currentState,newContent),updatedSelection));},editing:function editing(bool,element){_this.props.toggleReadOnly(bool);},message:function message(msg){_this.props.setMessenger(msg);},moveSelectionTo:function moveSelectionTo(block,direction){var currentState=_this.props.draftState;var currentContent=currentState.getCurrentContent();var newSelection=direction==='next'?_draftJs.SelectionState.createEmpty(currentContent.getKeyAfter(block.getKey())):_draftJs.SelectionState.createEmpty(currentContent.getKeyBefore(block.getKey()));_this.setDraftState(_draftJs.EditorState.forceSelection(currentState,newSelection),false);},setUnsavedChanges:function setUnsavedChanges(){_this.props.setUnsavedChanges();}};}
function _composeCarousel(ctx){return{component:_Carousel["default"],editable:false,props:Object.assign({},_composeBlockProps.call(ctx),{processImage:function processImage(image,entityKey,blockKey){ctx.props.processImage(image,entityKey,blockKey);},uploadImages:function uploadImages(files,entityKey,blockKey){ctx.props.uploadImages(files,entityKey,blockKey);}})};}
function _composeEmbed(ctx){return{component:_Embed["default"],editable:false,props:_composeBlockProps.call(ctx)};}
function _composeImageLink(ctx){return{component:_ImageLink["default"],editable:false,props:Object.assign({},_composeBlockProps.call(ctx),{processImage:function processImage(image,entityKey,blockKey){ctx.props.processImage(image,entityKey,blockKey);}})};}
function _composeTweet(ctx){return{component:_Tweet["default"],editable:false,props:_composeBlockProps.call(ctx)};}
function _composeLegacyWidget(ctx){return{component:_LegacyWidget["default"],editable:false,props:_composeBlockProps.call(ctx)};}
function customBlockRenderer(ctx,contentBlock){switch(contentBlock.getType()){case 'CAROUSEL':return _composeCarousel(ctx);case 'EMBED':return _composeEmbed(ctx);case 'IMAGE_LINK':return _composeImageLink(ctx);case 'LEGACY_WIDGET':return _composeLegacyWidget(ctx);case 'TWEET':return _composeTweet(ctx);default:return null;}}}),73371:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=customBlockStyleFn;function customBlockStyleFn(contentBlock){var block='draftster-block';switch(contentBlock.getType()){case 'header-three':return "".concat(block," draftster-header-three");case 'unstyled':case 'paragraph':return "".concat(block," draftster-paragraph");case 'blockquote':return "draftster-blockquote";case 'code-block':return "draftster-code-block";case 'unordered-list-item':return "draftster-list-item";case 'CAROUSEL':case 'LEGACY_WIDGET':case 'TWEET':case 'EMBED':case 'IMAGE_LINK':return block;default:break;}}}),46142:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.insertVideoComponent=insertVideoComponent;exports.insertTweetComponent=insertTweetComponent;exports.insertGistComponent=insertGistComponent;exports.insertEmbedlyComponent=insertEmbedlyComponent;var _draftJs=__webpack_require__(37163);var _immutable=__webpack_require__(43393);var _draftUtils=__webpack_require__(85559);var _Helpers=__webpack_require__(53581);function insertVideoComponent(states){var currentBlock=states.currentBlock,currentSelection=states.currentSelection,currentContentState=states.currentContentState,editorState=states.editorState;var embedData=(0,_draftUtils.doesPreviousWordContainValidUrl)(currentBlock,currentSelection,'VIDEO');var contentStateWithEntity=currentContentState.createEntity('TOKEN','IMMUTABLE',{embedData:(0,_immutable.fromJS)(Object.assign({},embedData,{model:'Video',key:'video'}))});var entityKey=contentStateWithEntity.getLastCreatedEntityKey();var charData=_draftJs.CharacterMetadata.create({entity:entityKey});var _removePreviousWord=(0,_draftUtils.removePreviousWord)(currentBlock,currentSelection,contentStateWithEntity),updatedContentState=_removePreviousWord.updatedContentState,updatedSelection=_removePreviousWord.updatedSelection;return(0,_draftUtils.splitBlockAndInsertCustomBlock)(editorState,updatedContentState,updatedSelection,charData,'EMBED');}
function insertTweetComponent(states){var currentBlock=states.currentBlock,currentSelection=states.currentSelection,currentContentState=states.currentContentState,editorState=states.editorState;var prevWord=(0,_draftUtils.getPreviousWord)(currentBlock,currentSelection);var tweetID=(0,_Helpers.getTwitterIdFromUrl)(prevWord);var contentStateWithEntity=currentContentState.createEntity('TOKEN','IMMUTABLE',{twitterData:(0,_immutable.fromJS)({id:tweetID,embed:prevWord,model:'WidgetPlaceholder',type:'twitter'})});var entityKey=contentStateWithEntity.getLastCreatedEntityKey();var charData=_draftJs.CharacterMetadata.create({entity:entityKey});var _removePreviousWord2=(0,_draftUtils.removePreviousWord)(currentBlock,currentSelection,contentStateWithEntity),updatedContentState=_removePreviousWord2.updatedContentState,updatedSelection=_removePreviousWord2.updatedSelection;return(0,_draftUtils.splitBlockAndInsertCustomBlock)(editorState,updatedContentState,updatedSelection,charData,'TWEET');}
function insertGistComponent(states){var currentBlock=states.currentBlock,currentSelection=states.currentSelection,currentContentState=states.currentContentState,editorState=states.editorState;var prevWord=(0,_draftUtils.getPreviousWord)(currentBlock,currentSelection);var contentStateWithEntity=currentContentState.createEntity('TOKEN','IMMUTABLE',{embedData:(0,_immutable.fromJS)({embed:prevWord,type:'iframe',service:'gist',model:'Embed',key:'data'})});var entityKey=contentStateWithEntity.getLastCreatedEntityKey();var charData=_draftJs.CharacterMetadata.create({entity:entityKey});var _removePreviousWord3=(0,_draftUtils.removePreviousWord)(currentBlock,currentSelection,contentStateWithEntity),updatedContentState=_removePreviousWord3.updatedContentState,updatedSelection=_removePreviousWord3.updatedSelection;return(0,_draftUtils.splitBlockAndInsertCustomBlock)(editorState,updatedContentState,updatedSelection,charData,'EMBED');}
function insertEmbedlyComponent(states){var currentBlock=states.currentBlock,currentSelection=states.currentSelection,currentContentState=states.currentContentState,editorState=states.editorState;var prevWord=(0,_draftUtils.getPreviousWord)(currentBlock,currentSelection);var contentStateWithEntity=currentContentState.createEntity('TOKEN','IMMUTABLE',{embedData:(0,_immutable.fromJS)({embed:prevWord,type:'iframe',service:'embedly',model:'Embed',key:'data'})});var entityKey=contentStateWithEntity.getLastCreatedEntityKey();var charData=_draftJs.CharacterMetadata.create({entity:entityKey});var _removePreviousWord4=(0,_draftUtils.removePreviousWord)(currentBlock,currentSelection,contentStateWithEntity),updatedContentState=_removePreviousWord4.updatedContentState,updatedSelection=_removePreviousWord4.updatedSelection;return(0,_draftUtils.splitBlockAndInsertCustomBlock)(editorState,updatedContentState,updatedSelection,charData,'EMBED');}}),16815:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=customKeyBindings;var _draftJs=__webpack_require__(37163);var hasCommandModifier=_draftJs.KeyBindingUtil.hasCommandModifier;function customKeyBindings(e){if(e.keyCode===66&&hasCommandModifier(e)){return 'BOLD';}
if(e.keyCode===73&&hasCommandModifier(e)){return 'ITALIC';}
if(e.keyCode===8&&hasCommandModifier(e)){return 'DELETE_LAST_WORD';}
if(e.keyCode===13&&e.shiftKey){return 'INSERT_LINE_BREAK';}
if(e.keyCode===9){return 'TAB';}
switch(e.keyCode){case 8:return 'backspace';default:return(0,_draftJs.getDefaultKeyBinding)(e);}}}),29897:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=customKeyHandlers;var _draftJs=__webpack_require__(37163);var _getters=__webpack_require__(204);var _general=__webpack_require__(61289);var _modifiers=__webpack_require__(55742);function backspaceHandler(editorState,setDraftState){var currentContent=editorState.getCurrentContent();var currentSelection=editorState.getSelection();if(!currentSelection.isCollapsed())return 'not-handled';var prevBlock=currentContent.getBlockBefore(currentSelection.getAnchorKey());if(!prevBlock)return 'not-handled';var prevBlockType=prevBlock.getType();if(currentSelection.getStartOffset()<1&&prevBlock&&(prevBlockType==='CAROUSEL'||prevBlockType==='EMBED'||prevBlockType==='LEGACY_WIDGET'||prevBlockType==='TWEET'||prevBlockType==='IMAGE_LINK')){return 'handled';}else if(currentSelection.getStartOffset()<1&&prevBlock&&prevBlock.getText().length<1&&currentContent.getBlockForKey(currentSelection.getAnchorKey()).getType()!=='unstyled'){var updatedState=_draftJs.EditorState.push(editorState,currentContent.set('blockMap',currentContent.getBlockMap()["delete"](prevBlock.getKey())));setDraftState(_draftJs.EditorState.acceptSelection(updatedState,currentSelection));return 'handled';}
return 'not-handled';}
function inlineHandler(cmd,editorState,setDraftState,toggleActiveStyle){if((0,_getters.getCurrentBlock)(editorState).getType()==='header-three')return 'not-handled';if(editorState.getSelection().isCollapsed()){toggleActiveStyle(cmd);return 'handled';}
setDraftState(_draftJs.RichUtils.toggleInlineStyle(editorState,cmd));return 'handled';}
var deleteLastWord=function deleteLastWord(editorState,setDraftState){var _getCommonStates=(0,_general.getCommonStates)(editorState),selection=_getCommonStates.selection;if(!selection.isCollapsed())return 'not-handled';var prevChar=(0,_getters.getPreviousChar)(editorState);if(prevChar!==' '){setDraftState((0,_modifiers.deletePreviousWord)(editorState));return 'handled';}
return 'not-handled';};var insertLineBreak=function insertLineBreak(editorState,setDraftState){var _getCommonStates2=(0,_general.getCommonStates)(editorState),selection=_getCommonStates2.selection;if(!selection.isCollapsed())return 'not-handled';setDraftState(_draftJs.RichUtils.insertSoftNewline(editorState));return 'handled';};var handleTab=function handleTab(editorState,setDraftState){var currentBlock=(0,_getters.getCurrentBlock)(editorState);if(currentBlock.getType()==='code-block'){setDraftState((0,_modifiers.insertEmptySpace)(editorState,'    '));return 'handled';}
return 'not-handled';};function customKeyHandlers(cmd,editorState,setDraftState,toggleActiveStyle){switch(cmd){case 'backspace':return backspaceHandler(editorState,setDraftState);case 'ARROW_DOWN':return handleArrowDown(editorState,setDraftState);case 'BOLD':case 'CODE':case 'ITALIC':return inlineHandler(cmd,editorState,setDraftState,toggleActiveStyle);case 'DELETE_LAST_WORD':return deleteLastWord(editorState,setDraftState);case 'INSERT_LINE_BREAK':return insertLineBreak(editorState,setDraftState);case 'TAB':return handleTab(editorState,setDraftState);default:return 'not-handled';}}}),93635:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=customPasteHandler;var _draftJs=__webpack_require__(37163);var _immutable=__webpack_require__(43393);var _validator=_interopRequireDefault(__webpack_require__(48966));var _paste=_interopRequireDefault(__webpack_require__(17204));var _insertFragmentAtCursor=_interopRequireDefault(__webpack_require__(30407));var _utils=__webpack_require__(22726);var _getters=__webpack_require__(204);var _draftUtils=__webpack_require__(85559);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var getHTMLForRawText=function getHTMLForRawText(editor,text){var isPastingInPre=(0,_getters.getCurrentBlock)(editor).getType()==='code-block';var HTMLString=isPastingInPre?"<pre>".concat(_validator["default"].escape(text),"</pre>"):(0,_utils.stringifyLineBreaksToParagraphs)(text);return(0,_utils.toLiveHtml)(HTMLString);};function customPasteHandler(editor,callback,restrictions,text,html){var ctx=this;if(!html&&!text)return false;var _removeSelectedText=(0,_draftUtils.removeSelectedText)(editor.getCurrentContent(),editor.getSelection()),cleanedContentState=_removeSelectedText.cleanedContentState,updatedSelection=_removeSelectedText.updatedSelection;if(ctx.editor._clipboard){var clipboard=ctx.editor.getClipboard();var clipboardText=_draftJs.ContentState.createFromBlockArray(clipboard.toArray()).getPlainText();if(clipboardText===text||html&&html.search(/data-editor=/)>0){var _insertFragmentAtCurs=(0,_insertFragmentAtCursor["default"])(cleanedContentState,updatedSelection,clipboard),_insertedContentState=_insertFragmentAtCurs.insertedContentState,_insertedSelection=_insertFragmentAtCurs.insertedSelection;callback(_draftJs.EditorState.forceSelection(_draftJs.EditorState.push(editor,_insertedContentState),_insertedSelection));return true;}}
var liveHtml=!html?getHTMLForRawText(editor,text):(0,_utils.toLiveHtml)(html);var _parseHTML=(0,_paste["default"])(liveHtml.cloneNode(true),restrictions),contentBlocks=_parseHTML.contentBlocks;var blocks=(0,_immutable.OrderedMap)(contentBlocks.map(function(block){return[block.getKey(),block];}));var _insertFragmentAtCurs2=(0,_insertFragmentAtCursor["default"])(cleanedContentState,updatedSelection,blocks),insertedContentState=_insertFragmentAtCurs2.insertedContentState,insertedSelection=_insertFragmentAtCurs2.insertedSelection;callback(_draftJs.EditorState.forceSelection(_draftJs.EditorState.push(editor,insertedContentState),insertedSelection));return true;}}),80857:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=customReturnHandler;var _draftJs=__webpack_require__(37163);var _draftUtils=__webpack_require__(85559);var _conditions=__webpack_require__(31222);var _customBlockTransactions=__webpack_require__(46142);var blocksToDuplicateOnEnter={'unordered-list-item':true,'code-block':true,'unstyled':true};function customReturnHandler(editorState,callback){var currentContentState=editorState.getCurrentContent();var currentSelection=editorState.getSelection();var currentBlock=(0,_draftUtils.getCurrentBlock)(currentContentState,currentSelection);if(currentSelection.isCollapsed()&&(0,_draftUtils.isCursorAtEnd)(currentBlock,currentSelection)&&!blocksToDuplicateOnEnter[currentBlock.getType()]){var _insertParagraph=(0,_draftUtils.insertParagraph)(currentBlock,currentContentState,currentSelection),updatedContentState=_insertParagraph.updatedContentState,updatedSelection=_insertParagraph.updatedSelection;callback(_draftJs.EditorState.forceSelection(_draftJs.EditorState.push(editorState,updatedContentState),updatedSelection));return true;}
if(currentSelection.isCollapsed()&&currentBlock.getType()==='unordered-list-item'&&currentBlock.getText().trim().length===0){var _updatedContentState=_draftJs.Modifier.setBlockType(currentContentState,currentSelection,'unstyled');callback(_draftJs.EditorState.push(editorState,_updatedContentState));return true;}
if((0,_draftUtils.doesPreviousWordContainValidUrl)(currentBlock,currentSelection,'EMBEDLY')){var _insertEmbedlyCompone=(0,_customBlockTransactions.insertEmbedlyComponent)({currentBlock:currentBlock,currentSelection:currentSelection,currentContentState:currentContentState,editorState:editorState}),newEditorState=_insertEmbedlyCompone.newEditorState,newSelectionState=_insertEmbedlyCompone.newSelectionState;callback(_draftJs.EditorState.forceSelection(newEditorState,newSelectionState));return true;}
if((0,_draftUtils.doesPreviousWordContainValidUrl)(currentBlock,currentSelection,'GIST')){var _insertGistComponent=(0,_customBlockTransactions.insertGistComponent)({currentBlock:currentBlock,currentSelection:currentSelection,currentContentState:currentContentState,editorState:editorState}),_newEditorState=_insertGistComponent.newEditorState,_newSelectionState=_insertGistComponent.newSelectionState;callback(_draftJs.EditorState.forceSelection(_newEditorState,_newSelectionState));return true;}
if((0,_draftUtils.doesPreviousWordContainValidUrl)(currentBlock,currentSelection,'VIDEO')){var _insertVideoComponent=(0,_customBlockTransactions.insertVideoComponent)({currentBlock:currentBlock,currentSelection:currentSelection,currentContentState:currentContentState,editorState:editorState}),_newEditorState2=_insertVideoComponent.newEditorState,_newSelectionState2=_insertVideoComponent.newSelectionState;callback(_draftJs.EditorState.forceSelection(_newEditorState2,_newSelectionState2));return true;}
if((0,_draftUtils.doesPreviousWordContainValidUrl)(currentBlock,currentSelection,'TWEET')){var _insertTweetComponent=(0,_customBlockTransactions.insertTweetComponent)({currentBlock:currentBlock,currentSelection:currentSelection,currentContentState:currentContentState,editorState:editorState}),_newEditorState3=_insertTweetComponent.newEditorState,_newSelectionState3=_insertTweetComponent.newSelectionState;callback(_draftJs.EditorState.forceSelection(_newEditorState3,_newSelectionState3));return true;}
if(!(0,_draftUtils.previousCharContainsEntityTypes)(editorState,['LINK'])&&(0,_draftUtils.doesPreviousWordContainValidUrl)(currentBlock,currentSelection,'LINK')&&!(0,_conditions.isCurrentBlockAType)(currentBlock,['code-block'])){var linkifiedContentState=(0,_draftUtils.linkifyPreviousWord)(currentBlock,currentSelection,currentContentState);var _insertNewOrSplitBloc=(0,_draftUtils.insertNewOrSplitBlock)(linkifiedContentState,currentSelection),_updatedContentState2=_insertNewOrSplitBloc.updatedContentState,_updatedSelection=_insertNewOrSplitBloc.updatedSelection;callback(_draftJs.EditorState.forceSelection(_draftJs.EditorState.push(editorState,_updatedContentState2),_updatedSelection));return true;}
return false;}}),29793:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _draftJs=__webpack_require__(37163);var _Link=_interopRequireDefault(__webpack_require__(26720));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function findLinkEntities(contentBlock,callback,contentState){contentBlock.findEntityRanges(function(character){var entityKey=character.getEntity();return entityKey!==null&&contentState.getEntity(entityKey).getType()==='LINK';},callback);}
var _default=new _draftJs.CompositeDecorator([{strategy:findLinkEntities,component:_Link["default"]}]);exports["default"]=_default;}),96596:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _default={CODE:{backgroundColor:'rgba(0, 0, 0, 0.05)',fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace'}};exports["default"]=_default;}),17204:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=parseHTML;var _convertFromHTMLToContentBlocks=_interopRequireDefault(__webpack_require__(89957));var _Traversal=__webpack_require__(27059);var _elements=__webpack_require__(53657);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var blockElementTransformMap={'ol':'ul','h1':'h3','h2':'h3','h4':'h3','h5':'h3','h6':'h3'};var headers={H1:true,H2:true,H3:true,H4:true,H5:true};var elementsToIgnore={'meta':true,'style':true,'header':true,'footer':true,'title':true,'#comment':true};function swapParentNode(oldNode,newNodeName){var newNode=document.createElement(newNodeName);newNode.innerHTML=oldNode.innerHTML?oldNode.innerHTML:oldNode.textContent;return newNode.outerHTML;}
function hasTable(html){var hasChild=false;(0,_Traversal.domWalk)(html,function(child,root){if(root.nodeName==='TABLE'||child.nodeName==='TABLE'){hasChild=true;return;}});return hasChild;}
function hasNestedBlock(html){var bool=false;(0,_Traversal.domWalk)(html,function(child,root){if(headers.hasOwnProperty(child.nodeName)){bool=true;return;}});return bool;}
function mutateNestedBlock(html){var nodes=[];(0,_Traversal.domWalk)(html,function(child,root){if(headers.hasOwnProperty(child.nodeName)&&child.innerText.length>0){var h3=document.createElement('H3');h3.innerHTML=child.innerHTML;child.parentNode.replaceChild(h3,child);}});}
function cleanTable(table){var container=document.createElement('div');(0,_Traversal.domWalk)(table,function(child,root){if(child.textContent.length){switch(child.nodeName){case 'TR':if(!child.children)container.appendChild(createNewNodeWithTextContent(child,'div'));break;case 'TD':case 'TH':case 'CAPTION':container.appendChild(createNewNodeWithTextContent(child,'div'));break;default:break;}}});return container.innerHTML;}
function createNewNodeWithTextContent(oldNode,newNodeName){var newNode=document.createElement(newNodeName||'div');newNode.textContent=oldNode.textContent;return newNode;}
function removeAttributes(node){node.setAttribute?node.setAttribute('style',''):void 0;if(node.attributes&&node.attributes.length){[].slice.call(node.attributes).forEach(function(attrib){node.removeAttribute(attrib);});}}
function parseHTML(html,restrictions){var stringifiedHtml=[].slice.call(html.childNodes).reduce(function(acc,child){if(elementsToIgnore[child.nodeName.toLowerCase()])return acc;removeAttributes(child);if(hasNestedBlock(child))mutateNestedBlock(child);if(hasTable(child)){acc+=cleanTable(child);}else if(_elements.ElementWhiteList[child.nodeName.toLowerCase()]){acc+=child.outerHTML;}else if(blockElementTransformMap[child.nodeName.toLowerCase()]){acc+=swapParentNode(child,blockElementTransformMap[child.nodeName.toLowerCase()]);}else{acc+=swapParentNode(child,'div');}
return acc;},'');return(0,_convertFromHTMLToContentBlocks["default"])(stringifiedHtml,restrictions);}}),22726:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.toLiveHtml=toLiveHtml;exports.stringifyLineBreaksToParagraphs=stringifyLineBreaksToParagraphs;exports["default"]=void 0;var _validator=_interopRequireDefault(__webpack_require__(48966));var _elements=__webpack_require__(53657);var _draftJs=__webpack_require__(37163);var _Traversal=__webpack_require__(27059);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function toLiveHtml(string){var doc=document.createDocumentFragment();var body=document.createElement('body');body.innerHTML=string;doc.appendChild(body);return doc.firstChild;};function stringifyLineBreaksToParagraphs(text,nodeName){var tag=nodeName&&nodeName.toLowerCase()==='pre'?'pre':'div';return text.split('\n').map(function(line){return "<".concat(tag,">").concat(!line.length?'<br/>':_validator["default"].escape(line)+'\r',"</").concat(tag,">");}).join('');};var _default={toHtml:function toHtml(json){var _this=this;var attribs,tag,innards,children;return json.map(function(item){attribs=_this.getAttributesByTagType(item);tag="<".concat(item.tag).concat(attribs,">");innards=item.content||'';children=item.children&&item.children.length<1?'':_this.toHtml(item.children);return item.tag==='br'?"<".concat(item.tag,"/>"):"".concat(tag).concat(innards).concat(children,"</").concat(item.tag,">");}).join('');},getAttributesByTagType:function getAttributesByTagType(item){item.attribs=item.attribs||{};var hash=_elements.BlockElements[item.tag.toUpperCase()]?item.attribs['data-hash']||(0,_draftJs.genKey)():null;var block=_elements.BlockElements[item.tag.toUpperCase()]?item.tag:null;var classes=item.attribs["class"]||'';var attribs=_defineProperty({'a':" href=\"".concat(item.attribs.href,"\"")},block," data-hash=\"".concat(hash,"\" class=\"").concat(classes,"\""));return attribs[item.tag]?attribs[item.tag]:'';},toHtmlImmutable:function toHtmlImmutable(json){var _this2=this;return json.map(function(item){var attribs=_this2.getAttributesByTagTypeImmutable(item);var tag="<".concat(item.get('tag')).concat(attribs,">");var innards=item.get('content')||'';var children=item.get('children')&&item.get('children').size<1?'':_this2.toHtmlImmutable(item.get('children'));return item.get('tag')==='br'?"<".concat(item.get('tag'),"/>"):"".concat(tag).concat(innards).concat(children,"</").concat(item.get('tag'),">");}).join('');},getAttributesByTagTypeImmutable:function getAttributesByTagTypeImmutable(item){var attribs=item.get('attribs')||{};var tag=item.get('tag');var hash=_elements.BlockElements[tag.toUpperCase()]?attribs.get('data-hash')||(0,_draftJs.genKey)():null;var block=_elements.BlockElements[tag.toUpperCase()]?tag:null;var classes=attribs.get('class')||'';var attribsMap=_defineProperty({'a':" href=\"".concat(attribs.get('href'),"\"")},block," data-hash=\"".concat(hash,"\" class=\"").concat(classes,"\""));return attribsMap[tag]?attribsMap[tag]:'';},cleanEmptyElements:function cleanEmptyElements(parent){var newParent=document.createElement(parent.nodeName);[].slice.apply(parent.childNodes).forEach(function(child){if(child.childNodes.length&&child.textContent.trim().length){newParent.appendChild(child);}});return newParent;},replaceHashIds:function replaceHashIds(liveNode){return(0,_Traversal.domWalk)(liveNode,function(root,child,depth){if(depth===0&&root.nodeType===1&&root.hasAttribute('data-hash')){root.setAttribute('data-hash',(0,_draftJs.genKey)());}else if(child.nodeType===1&&child.hasAttribute('data-hash')){child.setAttribute('data-hash',(0,_draftJs.genKey)());}});},removeAttributes:function removeAttributes(json){return function recurse(json){return json.map(function(child){if(!child.children||!child.children.length){if(child.tag!=='a'){var hash=child.attribs&&child.attribs['data-hash']?child.attribs['data-hash']:null;child.attribs=hash!==null?{'data-hash':hash}:{};}else{child.attribs={href:child.attribs.href};}
return child;}else{if(child.tag!=='a'){var _hash=child.attribs&&child.attribs['data-hash']?child.attribs['data-hash']:null;child.attribs=_hash!==null?{'data-hash':_hash}:{};}else{child.attribs={href:child.attribs.href};}
child.children=recurse(child.children);return child;}});}(json);}};exports["default"]=_default;}),30407:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=insertFragmentAtCursor;var _draftJs=__webpack_require__(37163);var elementTypeMap={'blockquote':'block','code-block':'block','header-three':'block','LEGACY_WIDGET':'block','VIDEO':'block','CAROUSEL':'block','TWEET':'block','BOLD':'inline','CODE':'inline','ITALIC':'inline','LINK':'inline','unordered-list-item':'inline','unstyled':'inline'};function dedupeContentBlock(block,_ref){var contentState=_ref.contentState,fragmentAsBlockMap=_ref.fragmentAsBlockMap;var updatedContentState=contentState;var charList=block.getCharacterList();var entityMap=charList.reduce(function(acc,_char,index,list){var prev=list.get(index-1)||null;if(prev&&prev.getEntity()===null&&_char.getEntity()){var currentEntity=contentState.getEntity(_char.getEntity());updatedContentState=contentState.createEntity(currentEntity.get('type'),currentEntity.get('mutability'),currentEntity.get('data'));var entityKey=contentState.getLastCreatedEntityKey();acc.push({entity:entityKey,start:index,end:index});}else if(prev&&prev.getEntity()&&(_char.getEntity()!==prev.getEntity()||_char.getEntity()===null)&&acc.length){acc[acc.length-1].end=index;}else if(list.size-1===index&&_char.getEntity()&&acc.length){acc[acc.length-1].end=index;}else if(list.size===1&&_char.getEntity()){var _currentEntity=contentState.getEntity(_char.getEntity());updatedContentState=contentState.createEntity(_currentEntity.get('type'),_currentEntity.get('mutability'),_currentEntity.get('data'));var _entityKey=contentState.getLastCreatedEntityKey();acc.push({entity:_entityKey,start:index,end:index});}
return acc;},[]);var updatedCharList=charList;entityMap.forEach(function(range){updatedCharList.forEach(function(_char2,index){if(index>=range.start&&index<=range.end){updatedCharList=updatedCharList.set(index,_draftJs.CharacterMetadata.applyEntity(updatedCharList.get(index),range.entity));}});});var updatedBlock=block.merge({key:(0,_draftJs.genKey)(),characterList:updatedCharList});return{block:updatedBlock,contentState:updatedContentState};}
function appendBlocksToMap(blocks,endBlockType,endText,endCharList,contentState,startIndex,selection,removeLastInStart){var blockArray=contentState.getBlocksAsArray();var startBlocks=removeLastInStart?blockArray.slice(0,startIndex):blockArray.slice(0,startIndex+1);var endBlocks=blockArray.slice(startIndex+1);var blocksToAppend=endBlockType==='code-block'?blocks.map(function(block){return block.set('type','code-block');}):blocks;var lastBlockInMap=blocksToAppend[blocksToAppend.length-1];var lastBlockToConcat=elementTypeMap[lastBlockInMap.getType()]==='inline'||endBlockType==='code-block'?mergeEndToBlock(blocksToAppend.pop(),endText,endCharList):endText.length?new _draftJs.ContentBlock({key:(0,_draftJs.genKey)(),text:endText,type:endBlockType,characterList:endCharList}):[];var concatedBlockMap=startBlocks.concat(blocksToAppend).concat(lastBlockToConcat).concat(endBlocks);var insertedContentState=_draftJs.ContentState.createFromBlockArray(concatedBlockMap,contentState.getEntityMap());var insertedSelection=selection.merge({anchorKey:lastBlockInMap.getKey(),focusKey:lastBlockInMap.getKey(),anchorOffset:lastBlockInMap.getText().length,focusOffset:lastBlockInMap.getText().length});return{insertedContentState:insertedContentState,insertedSelection:insertedSelection};}
function mergeEndToContentState(contentBlock,endText,endCharList,contentState,selection){var updatedBlockText=contentBlock.set('text',contentBlock.getText().concat(endText));var updatedBlockChars=updatedBlockText.set('characterList',contentBlock.getCharacterList().concat(endCharList));var insertedContentState=contentState.set('blockMap',contentState.getBlockMap().set(updatedBlockChars.getKey(),updatedBlockChars));var insertedSelection=selection.merge({anchorKey:updatedBlockChars.getKey(),focusKey:updatedBlockChars.getKey(),anchorOffset:contentBlock.getText().length,focusOffset:contentBlock.getText().length});return{insertedContentState:insertedContentState,insertedSelection:insertedSelection};}
function mergeEndToBlock(contentBlock,endText,endCharList){var updatedBlockText=contentBlock.set('text',contentBlock.getText().concat(endText));return updatedBlockText.set('characterList',contentBlock.getCharacterList().concat(endCharList));}
function insertFragmentAtCursor(contentStateInit,selection,fragment){var _fragment$toArray$red=fragment.toArray().reduce(function(acc,blockToProcess){var _dedupeContentBlock=dedupeContentBlock(blockToProcess,acc),block=_dedupeContentBlock.block,contentState=_dedupeContentBlock.contentState;return{contentState:contentState,fragmentAsBlockMap:acc.fragmentAsBlockMap.concat(block)};},{contentState:contentStateInit,fragmentAsBlockMap:[]}),contentState=_fragment$toArray$red.contentState,fragmentAsBlockMap=_fragment$toArray$red.fragmentAsBlockMap;var firstBlockToConcat=fragmentAsBlockMap[0];var startBlock=contentState.getBlockForKey(selection.getAnchorKey());var startBlockMetaCharacterList=startBlock.getCharacterList();var startText=startBlock.getText().slice(0,selection.getStartOffset());var startChars=startBlockMetaCharacterList.slice(0,selection.getStartOffset());var endText=startBlock.getText().slice(selection.getStartOffset());var endChars=startBlockMetaCharacterList.slice(selection.getStartOffset());var firstBlockToConcatType=elementTypeMap[firstBlockToConcat.getType()];if(firstBlockToConcatType==='inline'||firstBlockToConcat.getType()==='code-block'){var updatedBlockText=startText.length>0?startBlock.set('text',startText.concat(firstBlockToConcat.getText())):startBlock.merge({'text':startText.concat(firstBlockToConcat.getText()),'type':startBlock.getType()==='code-block'?'code-block':firstBlockToConcat.getType()});var updatedBlockChars=updatedBlockText.set('characterList',startChars.concat(firstBlockToConcat.getCharacterList()));var _ref2=fragmentAsBlockMap.length>1?appendBlocksToMap(fragmentAsBlockMap.slice(1),startBlock.getType(),endText,endChars,contentState.set('blockMap',contentState.getBlockMap().set(updatedBlockChars.getKey(),updatedBlockChars)),contentState.getBlocksAsArray().reduce(function(acc,block,index){if(block.getKey()===startBlock.getKey())acc=index;return acc;},0),selection):mergeEndToContentState(updatedBlockChars,endText,endChars,contentState,selection),insertedContentState=_ref2.insertedContentState,insertedSelection=_ref2.insertedSelection;return{insertedContentState:insertedContentState,insertedSelection:insertedSelection};}else{var _updatedBlockText=startBlock.set('text',startText);var _updatedBlockChars=_updatedBlockText.set('characterList',startChars);var updatedContentState=startText.length>0?contentState.set('blockMap',contentState.getBlockMap().set(_updatedBlockChars.getKey(),_updatedBlockChars)):contentState;var _appendBlocksToMap=appendBlocksToMap(fragmentAsBlockMap,startBlock.getType(),endText,endChars,updatedContentState,contentState.getBlocksAsArray().reduce(function(acc,block,index){if(block.getKey()===startBlock.getKey())acc=index;return acc;},0),selection,startText.length<1),_insertedContentState=_appendBlocksToMap.insertedContentState,_insertedSelection=_appendBlocksToMap.insertedSelection;return{insertedContentState:_insertedContentState,insertedSelection:_insertedSelection};}}}),53581:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.isUrlValid=isUrlValid;exports.doesUrlHaveProtocol=doesUrlHaveProtocol;exports.isImageValid=isImageValid;exports.isGistUrlValid=isGistUrlValid;exports.isTwitterUrlValid=isTwitterUrlValid;exports.getTwitterIdFromUrl=getTwitterIdFromUrl;exports.getVideoData=getVideoData;var _validator=_interopRequireDefault(__webpack_require__(48966));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var URL_EXTENSIONS={autodesk360:/myhub\.autodesk360\.com\/([a-z0-9]+\/shares\/public\/[a-zA-Z0-9]+)/,bitbucket:/bitbucket\.org\/([0-9a-zA-Z_\-]+\/[0-9a-zA-Z_\-]+)/,circuits:/123d\.circuits\.io\/circuits\/([a-z0-9\-]+)/,channel9:/channel9\.msdn\.com\/([0-9a-zA-Z_\-\/]+)/,codebender:/codebender\.cc\/sketch:([0-9]+)/,fritzing:/fritzing\.org\/projects\/([0-9a-z-]+)/,gfycat:/gfycat\.com\/(?:ifr\/)?([a-zA-Z]+)/,giphy:/giphy.com\/(?:embed|gifs)\/(?:[a-z\-]*)([a-zA-Z0-9]+)/,gist:/gist\.github\.com\/(?:[0-9a-zA-Z_\-]+\/)?([0-9a-zA-Z_\-]+)/,github:/github\.com\/(?:downloads\/)?([0-9a-zA-Z_\-\.]+\/[0-9a-zA-Z_\-\.]+)/,instagram:/instagram\.com\/p\/([a-zA-Z\-0-9]+)/,kickstarter:/kickstarter\.com\/projects\/([0-9a-z\-]+\/[0-9a-z\-]+)/,oshpark:/oshpark\.com\/shared_projects\/([a-zA-Z0-9]+)/,sketchfab:/sketchfab\.com\/models\/([a-z0-9]+)/,snip2code:/snip2code\.com\/Snippet\/([0-9]+\/[0-9a-zA-Z]+)/,twitter:/twitter.com\/([a-zA-Z0-9_@]+\/status\/[0-9]+)/,upverter:/upverter\.com\/[^\/]+\/(?:embed\/)?(?:\#designId\=)?([a-z0-9]+)(?:\/)?(?:[^\/])*/,ustream:/ustream\.tv\/([a-z]+\/[0-9]+(\/[a-z]+\/[0-9]+)?)/,vimeo:/(?:player\.)?vimeo\.com\/(?:video\/)?([0-9]+)/,vine:/vine\.co\/v\/([a-zA-Z0-9]+)/,youtube:/(?:youtube\.com|youtu\.be)\/(?:watch\?v=|v\/|embed\/)?([a-zA-Z0-9\-_]+)/,youmagine:/youmagine\.com\/designs\/([a-zA-Z0-9\-]+)/,mp4:/(.+\.(?:mp4)(?:\?.*)?)$/i};function isUrlValid(url){if(url.includes('"')||url.includes("'"))return false;return _validator["default"].isURL(url);}
function doesUrlHaveProtocol(url){return _validator["default"].isURL(url,{protocols:['http','https'],require_protocol:true});}
function isImageValid(imgFileType){var extensions={'image/png':true,'image/jpg':true,'image/jpeg':true,'image/gif':true,'image/bmp':true,'image/tiff':true};return!!extensions[imgFileType];}
function isGistUrlValid(url){var match=url.match(URL_EXTENSIONS['gist']);return match&&match.length;}
function isTwitterUrlValid(url){var match=url.match(URL_EXTENSIONS['twitter']);return match&&match.length;}
function getTwitterIdFromUrl(url){return url.match(URL_EXTENSIONS['twitter'])[1].split('/')[2];}
function getVideoData(url){var urlToMatch=url.replace(/youtu\.be/,'youtube');var type=urlToMatch.match(/(channel9|instagram|gfycat|giphy|kickstarter|mp4|vimeo|vine|ustream|youtube)/);var service=type?type[0]:false;if(!service){return false;}
var Exts=URL_EXTENSIONS;var regExps={'channel9':{regexp:Exts['channel9'],embed:function embed(id){return "https://channel9.msdn.com/".concat(id,"/player");},index:1},'gfycat':{regexp:Exts['gfycat'],embed:function embed(id){return "https://gfycat.com/ifr/".concat(id);},index:1},'giphy':{regexp:Exts['giphy'],embed:function embed(id){return "https://giphy.com/embed/".concat(id);},index:1},'instagram':{regexp:Exts['instagram'],embed:function embed(id){return "https://instagram.com/p/".concat(id,"/embed/");},index:1},'kickstarter':{regexp:Exts['kickstarter'],embed:function embed(id){return "https://www.kickstarter.com/projects/".concat(id,"/widget/video.html");},index:1},'mp4':{regexp:Exts['mp4'],embed:function embed(id){return id;},index:0},'vimeo':{regexp:Exts['vimeo'],requestLink:function requestLink(id){return "https://vimeo.com/api/v2/video/".concat(id,".json");},embed:function embed(id){return "https://player.vimeo.com/video/".concat(id);},index:1},'vine':{regexp:Exts['vine'],requestLink:function requestLink(id){return "https://vine.co/oembed.json?id=".concat(id);},embed:function embed(id){return "https://vine.co/v/".concat(id,"/embed/simple");},index:1},'ustream':{regexp:Exts['ustream'],embed:function embed(id){return "http://www.ustream.tv/embed/".concat(id,"?html5ui");},index:1},'youtube':{regexp:Exts['youtube'],requestLink:function requestLink(id){return "https://img.youtube.com/vi/".concat(id,"/0.jpg");},embed:function embed(id){return "https://www.youtube.com/embed/".concat(id);},index:1}};var obj=regExps[service],match=url.match(obj.regexp);if(match&&match.length){var id=match[obj.index],embed=obj.embed(id);return{id:id,embed:embed,service:service,type:'iframe'};}else{return null;}}}),27059:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.domWalk=domWalk;exports.treeWalk=treeWalk;function domWalk(node,callback){(function recurse(root,depth){if(!root.childNodes.length){return root;}else{var childNodes=[].slice.apply(root.childNodes);childNodes.forEach(function(child){callback(child,root,depth);recurse(child,depth+1);});}})(node,0);return node;}
function treeWalk(json,callback){json=function recurse(root,depth){if(!root.children.length){if(depth===0){callback(root,root,depth);}
return root;}else{root.children=root.children.map(function(child){child=callback(child,root,depth)||child;return recurse(child,depth+1);});return root;}}(json[0],0);return[json];}}),31222:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.doesCurrentSelectionContainStyle=doesCurrentSelectionContainStyle;exports.doesPreviousCharContainEntity=doesPreviousCharContainEntity;exports.doesPreviousCharContainStyle=doesPreviousCharContainStyle;exports.doesPreviousWordContainValidUrl=doesPreviousWordContainValidUrl;exports.isCurrentBlockAType=isCurrentBlockAType;exports.isCursorAmidEntities=isCursorAmidEntities;exports.isCursorAmidStyles=isCursorAmidStyles;var _url=__webpack_require__(73919);var _video=__webpack_require__(29273);var _social=__webpack_require__(87622);function doesCurrentSelectionContainStyle(editorState,style){var selection=editorState.getSelection();var content=editorState.getCurrentContent();var block=content.getBlockForKey(selection.getAnchorKey());var styles=block.getInlineStyleAt(selection.getStartOffset());return styles.includes(style);}
function doesPreviousCharContainEntity(editorState){var entityList=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var selection=editorState.getSelection();var startOffset=selection.getStartOffset();var content=editorState.getCurrentContent();var block=content.getBlockForKey(selection.getAnchorKey());if(selection.isCollapsed()===false||startOffset<=0)return false;var entityKey=block.getEntityAt(startOffset-1);if(!entityList.length)return entityKey!==null;return entityKey&&entityList.indexOf(content.getEntity(entityKey).getType())>-1;}
function doesPreviousCharContainStyle(editorState){var styleList=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var selection=editorState.getSelection();var startOffset=selection.getStartOffset();var content=editorState.getCurrentContent();var block=content.getBlockForKey(selection.getAnchorKey());if(selection.isCollapsed()===false||startOffset<=0)return false;var styles=block.getInlineStyleAt(startOffset-1);if(!styleList.length)return styles.size>0;return styleList.reduce(function(acc,style){if(acc)return acc;return styles.includes(style);},false);}
function doesPreviousWordContainValidUrl(editorState,type){var selection=editorState.getSelection();var content=editorState.getCurrentContent();var block=content.getBlockForKey(selection.getAnchorKey());var prevWord=block.getText().slice(0,selection.getStartOffset()).split(' ').pop();switch(type){case 'EMBEDLY':return(0,_social.isEmbedlyUrlValid)(prevWord);case 'GIST':return(0,_social.isGistUrlValid)(prevWord);case 'LINK':return(0,_url.isUrlValid)(prevWord);case 'VIDEO':return(0,_video.isVideoUrlValid)(prevWord);case 'TWEET':return(0,_social.isTwitterUrlValid)(prevWord);default:return false;}}
function isCurrentBlockAType(currentBlock){var types=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var blockType=currentBlock.get('type');return Array.isArray(types)?types.includes(blockType):blockType===types;}
function isCursorAmidEntities(editorState){var selection=editorState.getSelection();var startOffset=selection.getStartOffset();var content=editorState.getCurrentContent();var block=content.getBlockForKey(selection.getAnchorKey());if(selection.isCollapsed()===false||startOffset<=0)return false;var prevEntityKey=block.getEntityAt(startOffset-1);var nextEntityKey=block.getEntityAt(startOffset);return prevEntityKey!==null&&nextEntityKey!==null&&prevEntityKey===nextEntityKey;}
function isCursorAmidStyles(editorState){var selection=editorState.getSelection();var startOffset=selection.getStartOffset();var content=editorState.getCurrentContent();var block=content.getBlockForKey(selection.getAnchorKey());if(selection.isCollapsed()===false||startOffset<=0)return false;var prevStyles=block.getInlineStyleAt(startOffset-1);var nextStyles=block.getInlineStyleAt(startOffset);return prevStyles.size>0&&nextStyles.size>0;}}),61289:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getCommonStates=getCommonStates;function getCommonStates(editorState){var content=editorState.getCurrentContent();var selection=editorState.getSelection();var anchorKey=selection.getAnchorKey();var block=content.getBlockForKey(anchorKey);return{block:block,content:content,selection:selection};}}),204:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getCurrentBlock=getCurrentBlock;exports.getInlineStylesAndEntity=getInlineStylesAndEntity;exports.getPreviousChar=getPreviousChar;var _immutable=__webpack_require__(43393);var _general=__webpack_require__(61289);function getCurrentBlock(editorState){return editorState.getCurrentContent().getBlockForKey(editorState.getSelection().getAnchorKey());}
function getInlineStylesAndEntity(editorState){var selection=editorState.getSelection();var content=editorState.getCurrentContent();var block=content.getBlockForKey(selection.getAnchorKey());var startOffset=Math.max(selection.getStartOffset()-1,0);var styles=block.getInlineStyleAt(startOffset).toList();var entityKey=block.getEntityAt(startOffset);var entity=entityKey?content.getEntity(entityKey):null;if(block.get('type')==='code-block'){return(0,_immutable.Map)({styles:styles.filter(function(s){return s!=='CODE';}).push('code-block'),entity:entity});}
return(0,_immutable.Map)({styles:styles,entity:entity});}
function getPreviousChar(editorState){var _getCommonStates=(0,_general.getCommonStates)(editorState),block=_getCommonStates.block,content=_getCommonStates.content,selection=_getCommonStates.selection;var startOffset=selection.getStartOffset();return block.getText().slice(Math.max(startOffset-1,0),startOffset);}}),55742:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.deletePreviousWord=deletePreviousWord;exports.forceSelection=forceSelection;exports.insertEmptySpace=insertEmptySpace;exports.linkifyPreviousWord=linkifyPreviousWord;exports.toggleInlineStyle=toggleInlineStyle;var _draftJs=__webpack_require__(37163);var _validator=__webpack_require__(48966);function deletePreviousWord(editorState){var contentState=editorState.getCurrentContent();var selection=editorState.getSelection();var anchorKey=selection.getAnchorKey();var block=contentState.getBlockForKey(anchorKey);var anchorOffset=selection.getAnchorOffset();var prevWord=block.getText().slice(0,anchorOffset).split(' ').pop();var startOfWordOffset=anchorOffset-prevWord.length;var wrappedSelection=selection.merge({anchorOffset:startOfWordOffset,focusOffset:anchorOffset});var updatedSelection=selection.merge({anchorOffset:startOfWordOffset,focusOffset:startOfWordOffset});var updatedContentState=_draftJs.Modifier.removeRange(contentState,wrappedSelection,'backward');return _draftJs.EditorState.forceSelection(_draftJs.EditorState.push(editorState,updatedContentState,'remove-range'),updatedSelection);}
function forceSelection(editorState){return _draftJs.EditorState.forceSelection(editorState,editorState.getSelection());}
function insertEmptySpace(editorState){var space=arguments.length>1&&arguments[1]!==undefined?arguments[1]:' ';var contentState=editorState.getCurrentContent();var selection=editorState.getSelection();var updatedContentState=_draftJs.Modifier.insertText(contentState,selection,space,null,null);var offset=selection.getAnchorOffset()+space.length;var updatedSelection=selection.merge({anchorOffset:offset,focusOffset:offset});return _draftJs.EditorState.forceSelection(_draftJs.EditorState.push(editorState,updatedContentState,'insert-characters'),updatedSelection);}
function linkifyPreviousWord(editorState){var contentState=editorState.getCurrentContent();var selection=editorState.getSelection();var anchorKey=selection.getAnchorKey();var block=contentState.getBlockForKey(anchorKey);var anchorOffset=selection.getAnchorOffset();var prevWord=block.getText().slice(0,anchorOffset).split(' ').pop();var prevWordWithProtocol=(0,_validator.isURL)(prevWord,{require_protocol:true})?prevWord:"http://".concat(prevWord);var wrappedSelection=selection.merge({anchorOffset:anchorOffset-prevWord.length,focusOffset:anchorOffset});var contentStateWithEntity=contentState.createEntity('LINK','MUTABLE',{href:prevWordWithProtocol});var entityKey=contentStateWithEntity.getLastCreatedEntityKey();var updatedContentState=_draftJs.Modifier.applyEntity(contentStateWithEntity,wrappedSelection,entityKey);return _draftJs.EditorState.acceptSelection(_draftJs.EditorState.push(editorState,updatedContentState,'apply-entity'),selection);}
function toggleInlineStyle(editorState,style){var selection=editorState.getSelection();return _draftJs.EditorState.forceSelection(_draftJs.RichUtils.toggleInlineStyle(editorState,style),selection.set('hasFocus',true));}}),85559:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getCurrentBlock=getCurrentBlock;exports.updateBlock=updateBlock;exports.removeBlock=removeBlock;exports.isCursorAtEnd=isCursorAtEnd;exports.splitBlockAndInsertCustomBlock=splitBlockAndInsertCustomBlock;exports.removeSelectedText=removeSelectedText;exports.getInlineStyles=getInlineStyles;exports.currentCharContainsLink=currentCharContainsLink;exports.previousCharContainsEntityTypes=previousCharContainsEntityTypes;exports.doesPreviousWordContainValidUrl=doesPreviousWordContainValidUrl;exports.linkifyPreviousWord=linkifyPreviousWord;exports.getPreviousWord=getPreviousWord;exports.removePreviousWord=removePreviousWord;exports.getEntityDataByCursorPosition=getEntityDataByCursorPosition;exports.insertEmptySpace=insertEmptySpace;exports.insertNewOrSplitBlock=insertNewOrSplitBlock;exports.insertParagraph=insertParagraph;exports.removeInlineStylesFromBlock=removeInlineStylesFromBlock;exports.removeInlineStylesFromRange=removeInlineStylesFromRange;exports.getBlockKeysInSelection=getBlockKeysInSelection;var _draftJs=__webpack_require__(37163);var _immutable=__webpack_require__(43393);var _validator=_interopRequireDefault(__webpack_require__(48966));var _Helpers=__webpack_require__(53581);var _social=__webpack_require__(87622);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function getCurrentBlock(content,selection){var blockMap=content.getBlockMap();return blockMap.get(selection.getStartKey());}
function updateBlock(content,block){var blockMap=content.getCurrentContent().getBlockMap();return _draftJs.ContentState.createFromBlockArray(blockMap.set(block.getKey(),block).toArray(),content.getCurrentContent().getEntityMap());}
function removeBlock(content,block){var blockMap=content.getCurrentContent().getBlockMap();return _draftJs.ContentState.createFromBlockArray(blockMap["delete"](block.getKey()).toArray(),content.getCurrentContent().getEntityMap());}
function isCursorAtEnd(block,selection){return block.getText().length===selection.getFocusOffset();}
function splitBlockAndInsertCustomBlock(editor,content,selection,customBlockCharData,customBlockType){var _removeSelectedText=removeSelectedText(content,selection),cleanedContentState=_removeSelectedText.cleanedContentState,updatedSelection=_removeSelectedText.updatedSelection;var splitState=_draftJs.Modifier.splitBlock(cleanedContentState,updatedSelection);var blockMap=splitState.getBlockMap().toList();var beforeSelection=splitState.getSelectionBefore();var beforeBlockIndex=blockMap.reduce(function(acc,block,index){if(block.get('key')===beforeSelection.getAnchorKey())acc=index;return acc;},0);var start=blockMap.slice(0,beforeBlockIndex+1);var end=blockMap.slice(beforeBlockIndex+1);var newBlock=new _draftJs.ContentBlock({key:(0,_draftJs.genKey)(),text:'',type:customBlockType,characterList:(0,_immutable.List)([customBlockCharData])});var endWithCharMeta=end.size===1&&end.first().getText().trim().length===0?(0,_immutable.List)([end.first().set('text','').set('characterList',(0,_immutable.List)([_draftJs.CharacterMetadata.create({style:(0,_immutable.OrderedSet)(),entity:null})]))]):end;var constructedBlockMap=start.concat([newBlock]).concat(endWithCharMeta);var newContentState=_draftJs.ContentState.createFromBlockArray(constructedBlockMap.toArray(),cleanedContentState.getEntityMap());var newEditorState=_draftJs.EditorState.push(editor,newContentState,'insert-fragment');var newSelectionState=_draftJs.SelectionState.createEmpty(endWithCharMeta.first().get('key'));return{newEditorState:newEditorState,newSelectionState:newSelectionState,newBlock:newBlock};}
function removeSelectedText(content,selection){var direction=selection.getIsBackward()?'backward':'forward';var cleanedContentState=!selection.isCollapsed()?_draftJs.Modifier.removeRange(content,selection,direction):content;var updatedSelection=selection.merge({anchorKey:direction==='backward'?selection.getFocusKey():selection.getAnchorKey(),focusKey:direction==='backward'?selection.getFocusKey():selection.getAnchorKey(),anchorOffset:direction==='backward'?selection.getFocusOffset():selection.getAnchorOffset(),focusOffset:direction==='backward'?selection.getFocusOffset():selection.getAnchorOffset()});return{cleanedContentState:cleanedContentState,updatedSelection:updatedSelection};}
function getInlineStyles(editorState){var selection=editorState.getSelection();var styles=editorState.getCurrentContent().getBlockForKey(selection.getAnchorKey()).getInlineStyleAt(selection.getStartOffset());var link=currentCharContainsLink(editorState);return link?styles.concat('LINK'):styles;}
function currentCharContainsLink(editorState){var selection=editorState.getSelection();var contentState=editorState.getCurrentContent();if(!selection.isCollapsed())return false;var entityKey=contentState.getBlockForKey(selection.getAnchorKey()).getEntityAt(selection.getStartOffset());return entityKey&&contentState.getEntity(entityKey).getType()==='LINK';}
function previousCharContainsEntityTypes(editorState,entityList){var selection=editorState.getSelection();var contentState=editorState.getCurrentContent();if(!selection.isCollapsed)return false;var entityKey=editorState.getCurrentContent().getBlockForKey(selection.getAnchorKey()).getEntityAt(parseInt(selection.getStartOffset(),10)-1);return entityKey&&entityList.indexOf(contentState.getEntity(entityKey).getType())>-1;}
function doesPreviousWordContainValidUrl(block,selection,type){var prevWord=block.getText().slice(0,selection.getAnchorOffset()).split(' ').pop();switch(type){case 'EMBEDLY':return(0,_social.isEmbedlyUrlValid)(prevWord);case 'GIST':return(0,_Helpers.isGistUrlValid)(prevWord);case 'LINK':return _validator["default"].isURL(prevWord);case 'VIDEO':return(0,_Helpers.getVideoData)(prevWord);case 'TWEET':return(0,_Helpers.isTwitterUrlValid)(prevWord);default:return false;}}
function linkifyPreviousWord(block,selection,contentState){var anchorOffset=selection.getAnchorOffset();var prevWord=block.getText().slice(0,anchorOffset).split(' ').pop();var prevWordWithProtocol=_validator["default"].isURL(prevWord,{require_protocol:true})?prevWord:"http://".concat(prevWord);var wrappedSelection=selection.merge({anchorOffset:parseInt(anchorOffset,10)-prevWord.length,focusOffset:parseInt(anchorOffset,10)});var contentStateWithEntity=contentState.createEntity('LINK','MUTABLE',{href:prevWordWithProtocol});var entityKey=contentStateWithEntity.getLastCreatedEntityKey();return _draftJs.Modifier.applyEntity(contentStateWithEntity,wrappedSelection,entityKey);}
function getPreviousWord(block,selection){return block.getText().slice(0,selection.getAnchorOffset()).split(' ').pop();}
function removePreviousWord(block,selection,contentState){var anchorOffset=parseInt(selection.getAnchorOffset(),10);var prevWord=block.getText().slice(0,anchorOffset).split(' ').pop();var startIndex=anchorOffset-prevWord.length;var updatedText=block.getText().slice(0,startIndex).concat(block.getText().slice(anchorOffset));var updatedBlock=block.set('text',updatedText);var updatedCharacterList=updatedBlock.getCharacterList().reduce(function(acc,_char,i){if(i>=startIndex&&i<=anchorOffset)return acc;return acc.push(_char);},(0,_immutable.List)());var updatedBlockWithCharacterList=updatedBlock.set('characterList',updatedCharacterList);var updatedBlockMap=contentState.getBlockMap().set(block.getKey(),updatedBlockWithCharacterList);var updatedContentState=_draftJs.ContentState.createFromBlockArray(updatedBlockMap.toArray(),contentState.getEntityMap());var updatedSelection=selection.merge({anchorOffset:anchorOffset-prevWord.length,focusOffset:anchorOffset-prevWord.length});return{updatedContentState:updatedContentState,updatedSelection:updatedSelection};}
function getEntityDataByCursorPosition(editorState,callback){var selection=editorState.getSelection();var contentState=editorState.getCurrentContent();var block=contentState.getBlockForKey(selection.getAnchorKey());block.findEntityRanges(function(character){return character.get('entity')===block.getEntityAt(selection.getStartOffset());},function(start,end){callback({content:block.get('text').slice(start,end),data:contentState.getEntity(block.getEntityAt(selection.getStartOffset())).get('data'),start:start,end:end});});}
function insertEmptySpace(contentState,selection,space){space=space||' ';var updatedContentState=_draftJs.Modifier.insertText(contentState,selection,space,null,null);var offset=parseInt(selection.getAnchorOffset(),10)+space.length;var updatedSelection=selection.merge({anchorOffset:offset,focusOffset:offset});return{updatedContentState:updatedContentState,updatedSelection:updatedSelection};}
function insertNewOrSplitBlock(contentState,selection){var _removeSelectedText2=removeSelectedText(contentState,selection),cleanedContentState=_removeSelectedText2.cleanedContentState,updatedSelection=_removeSelectedText2.updatedSelection;var updatedContentState=_draftJs.Modifier.splitBlock(cleanedContentState,updatedSelection);var nextBlock=updatedContentState.getBlockAfter(updatedSelection.getAnchorKey());var newSelection=_draftJs.SelectionState.createEmpty(nextBlock.getKey());return{updatedContentState:updatedContentState,updatedSelection:newSelection};}
function insertParagraph(block,contentState,selection){var _removeSelectedText3=removeSelectedText(contentState,selection),cleanedContentState=_removeSelectedText3.cleanedContentState,updatedSelection=_removeSelectedText3.updatedSelection;var blockMap=cleanedContentState.getBlockMap().toList();var blockIndex=blockMap.indexOf(block);var newBlock=new _draftJs.ContentBlock({key:(0,_draftJs.genKey)(),text:' ',type:'unstyled',characterList:(0,_immutable.List)([_draftJs.CharacterMetadata.create({})])});var updatedBlockMap=blockMap.splice(blockIndex+1,0,newBlock);var updatedContentState=_draftJs.ContentState.createFromBlockArray(updatedBlockMap.toArray(),contentState.getEntityMap());return{updatedContentState:updatedContentState,updatedSelection:updatedSelection.merge({anchorKey:newBlock.get('key'),focusKey:newBlock.get('key'),anchorOffset:0,focusOffset:0,hasFocus:true,isBackward:false})};}
function removeInlineStylesFromBlock(block){var characterList=block.getCharacterList();var cleanedCharList=characterList.map(function(_char2){return _draftJs.CharacterMetadata.create({});});return block.set('characterList',cleanedCharList);}
function removeInlineStylesFromRange(editor){var currentContentState=editor.getCurrentContent();var currentSelection=editor.getSelection();var keysToClean=getBlockKeysInSelection(currentContentState,currentSelection);var updatedContentState=keysToClean.reduce(function(acc,key){var updatedBlock=removeInlineStylesFromBlock(acc.getBlockForKey(key));var updatedBlockMap=acc.getBlockMap().set(updatedBlock.getKey(),updatedBlock);return acc.set('blockMap',updatedBlockMap);},currentContentState);return _draftJs.EditorState.forceSelection(_draftJs.EditorState.push(editor,updatedContentState),currentSelection);}
function getBlockKeysInSelection(contentState,selection){if(selection.isCollapsed())return[selection.getAnchorKey()];var flag=false;var anchorKey=selection.get('isBackward')?selection.getFocusKey():selection.getAnchorKey();var focusKey=selection.get('isBackward')?selection.getAnchorKey():selection.getFocusKey();return contentState.getBlocksAsArray().reduce(function(acc,block){if(block.getKey()===anchorKey){flag=true;acc.push(block.getKey());}else if(flag){acc.push(block.getKey());}
flag=block.getKey()===focusKey?false:flag;return acc;},[]);}}),12020:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.MEDIA_ID_REGEX=void 0;var MEDIA_ID_REGEX={autodesk360:/myhub\.autodesk360\.com\/([a-z0-9]+\/shares\/public\/[a-zA-Z0-9]+)/,bitbucket:/bitbucket\.org\/([0-9a-zA-Z_\-]+\/[0-9a-zA-Z_\-]+)/,circuits:/123d\.circuits\.io\/circuits\/([a-z0-9\-]+)/,channel9:/channel9\.msdn\.com\/([0-9a-zA-Z_\-\/]+)/,codebender:/codebender\.cc\/sketch:([0-9]+)/,embedly:/cdn\.embedly\.com\/widgets\/media\.html\?src=([0-9a-zA-Z_\-%.]+)/,fritzing:/fritzing\.org\/projects\/([0-9a-z-]+)/,gfycat:/gfycat\.com\/(?:ifr\/)?([a-zA-Z]+)/,giphy:/giphy.com\/(?:embed|gifs)\/(?:[a-z\-]*)([a-zA-Z0-9]+)/,gist:/gist\.github\.com\/(?:[0-9a-zA-Z_\-]+\/)?([0-9a-zA-Z_\-]+)/,github:/github\.com\/(?:downloads\/)?([0-9a-zA-Z_\-\.]+\/[0-9a-zA-Z_\-\.]+)/,instagram:/instagram\.com\/p\/([a-zA-Z\-0-9]+)/,kickstarter:/kickstarter\.com\/projects\/([0-9a-z\-]+\/[0-9a-z\-]+)/,oshpark:/oshpark\.com\/shared_projects\/([a-zA-Z0-9]+)/,sketchfab:/sketchfab\.com\/models\/([a-z0-9]+)/,snip2code:/snip2code\.com\/Snippet\/([0-9]+\/[0-9a-zA-Z]+)/,twitter:/twitter.com\/([a-zA-Z0-9_@]+\/status\/[0-9]+)/,upverter:/upverter\.com\/[^\/]+\/(?:embed\/)?(?:\#designId\=)?([a-z0-9]+)(?:\/)?(?:[^\/])*/,ustream:/ustream\.tv\/([a-z]+\/[0-9]+(\/[a-z]+\/[0-9]+)?)/,vimeo:/(?:player\.)?vimeo\.com\/(?:video\/)?([0-9]+)/,vine:/vine\.co\/v\/([a-zA-Z0-9]+)/,youtube:/(?:youtube\.com|youtu\.be)\/(?:watch\?v=|v\/|embed\/)?([a-zA-Z0-9\-_]+)/,youmagine:/youmagine\.com\/designs\/([a-zA-Z0-9\-]+)/,mp4:/(.+\.(?:mp4)(?:\?.*)?)$/i};exports.MEDIA_ID_REGEX=MEDIA_ID_REGEX;}),87622:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.isEmbedlyUrlValid=isEmbedlyUrlValid;exports.isGistUrlValid=isGistUrlValid;exports.getTwitterIdFromUrl=getTwitterIdFromUrl;exports.isTwitterUrlValid=isTwitterUrlValid;var _regex=__webpack_require__(12020);function isEmbedlyUrlValid(url){var match=url.match(_regex.MEDIA_ID_REGEX['embedly']);return match&&match.length;}
function isGistUrlValid(url){var match=url.match(_regex.MEDIA_ID_REGEX['gist']);return match&&match.length;}
function getTwitterIdFromUrl(url){return url.match(_regex.MEDIA_ID_REGEX['twitter'])[1].split('/')[2];}
function isTwitterUrlValid(url){var match=url.match(_regex.MEDIA_ID_REGEX['twitter']);return match&&match.length;}}),73919:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.appendProtocolToUrlType=appendProtocolToUrlType;exports.doesEmailHaveProtocol=doesEmailHaveProtocol;exports.doesUrlHaveProtocol=doesUrlHaveProtocol;exports.isAnchor=isAnchor;exports.isUrlAEmail=isUrlAEmail;exports.isUrlValid=isUrlValid;exports.isValidLinkable=isValidLinkable;exports.INVALID_URL_MSG=void 0;var _validator=__webpack_require__(48966);var INVALID_URL_MSG='Sorry, that\'s not a valid url.';exports.INVALID_URL_MSG=INVALID_URL_MSG;function appendProtocolToUrlType(url,type){if(type==='email'){return doesEmailHaveProtocol(url)?url:"mailto:".concat(url);}else if(type==='url'){return doesUrlHaveProtocol(url)?url:"http://".concat(url);}
return url;}
function doesEmailHaveProtocol(email){return email.indexOf('mailto:')!==-1;}
function doesUrlHaveProtocol(url){return(0,_validator.isURL)(url,{protocols:['http','https'],require_protocol:true});}
function isAnchor(url){return url.slice(0,1)==='#'&&url.indexOf(' ')===-1;}
function isUrlAEmail(url){var email=doesEmailHaveProtocol(url)?url.replace(/mailto:/g,''):url;return(0,_validator.isEmail)(email);}
function isUrlValid(url){var protocol=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(url.includes('"')||url.includes("'"))return false;return protocol?(0,_validator.isURL)(url,{protocol:true}):(0,_validator.isURL)(url);}
function isValidLinkable(url){var protocol=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(isUrlAEmail(url)){return{isValid:true,type:'email'};}else if(isUrlValid(url,protocol)){return{isValid:true,type:'url'};}else if(isAnchor(url)){return{isValid:true,type:'anchor'};}else{return{isValid:false,type:null};}}}),29273:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getVideoData=getVideoData;exports.isVideoUrlValid=isVideoUrlValid;var _regex=__webpack_require__(12020);var SERVICES={'channel9':{embed:function embed(id){return "https://channel9.msdn.com/".concat(id,"/player");},regexp:_regex.MEDIA_ID_REGEX['channel9'],regexpIndex:1},'gfycat':{embed:function embed(id){return "https://gfycat.com/ifr/".concat(id);},regexp:_regex.MEDIA_ID_REGEX['gfycat'],regexpIndex:1},'giphy':{embed:function embed(id){return "https://giphy.com/embed/".concat(id);},regexp:_regex.MEDIA_ID_REGEX['giphy'],regexpIndex:1},'instagram':{embed:function embed(id){return "https://instagram.com/p/".concat(id,"/embed/");},regexp:_regex.MEDIA_ID_REGEX['instagram'],regexpIndex:1},'kickstarter':{embed:function embed(id){return "https://www.kickstarter.com/projects/".concat(id,"/widget/video.html");},regexp:_regex.MEDIA_ID_REGEX['kickstarter'],regexpIndex:1},'mp4':{embed:function embed(id){return id;},regexp:_regex.MEDIA_ID_REGEX['mp4'],regexpIndex:0},'vimeo':{embed:function embed(id){return "https://player.vimeo.com/video/".concat(id);},regexp:_regex.MEDIA_ID_REGEX['vimeo'],regexpIndex:1},'vine':{embed:function embed(id){return "https://vine.co/v/".concat(id,"/embed/simple");},regexp:_regex.MEDIA_ID_REGEX['vine'],regexpIndex:1},'ustream':{embed:function embed(id){return "http://www.ustream.tv/embed/".concat(id,"?html5ui");},regexp:_regex.MEDIA_ID_REGEX['ustream'],regexpIndex:1},'youtube':{embed:function embed(id){return "https://www.youtube.com/embed/".concat(id);},regexp:_regex.MEDIA_ID_REGEX['youtube'],regexpIndex:1}};var getServiceData=function getServiceData(url){var urlToMatch=url.replace(/youtu\.be/,'youtube');var validService=urlToMatch.match(/(channel9|instagram|gfycat|giphy|kickstarter|mp4|vimeo|vine|ustream|youtube)/);if(!validService)return null;var service=validService[0];var serviceConfig=SERVICES[service];return{service:service,serviceConfig:serviceConfig};};function getVideoData(url){var serviceData=getServiceData(url);if(!serviceData)return null;var service=serviceData.service,serviceConfig=serviceData.serviceConfig;var validServiceRegexp=url.match(serviceConfig.regexp);if(!validServiceRegexp)return null;var id=validServiceRegexp[serviceConfig.regexpIndex];var embed=serviceConfig.embed(id);return{id:id,embed:embed,service:service,type:'iframe'};}
function isVideoUrlValid(url){var serviceData=getServiceData(url);if(!serviceData)return false;var validServiceRegexp=url.match(serviceData.serviceConfig.regexp);return validServiceRegexp&&validServiceRegexp.length>0;}}),97561:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getImageDimensions=getImageDimensions;exports["default"]=processImageFiles;var _draftJs=__webpack_require__(37163);function getImageDimensions(src){return new Promise(function(resolve,reject){var image=new Image();image.onload=function(){return resolve({width:image.width,height:image.height});};image.onerror=function(err){return reject('getImageDimensions Error: ',err);};image.src=src;});}
function resizeImage(src,data){return new Promise(function(resolve,reject){var image=new Image();image.onload=function(){var canvas=document.createElement('canvas'),maxWidth=680,maxHeight=510,width=image.width,height=image.height,scale=Math.min(maxWidth/image.width,maxHeight/image.height),dataUrl;canvas.width=width;canvas.height=height;canvas.getContext('2d').drawImage(image,0,0,width,height);dataUrl=canvas.toDataURL();resolve(Object.assign({},data,{width:width,height:height,scale:scale,url:dataUrl}));};image.onerror=function(){return reject('Image resize error');};image.src=src;});}
function handleFileReader(file){return new Promise(function(resolve,reject){var reader=new FileReader();reader.onload=function(upload){resolve(resizeImage(upload.target.result,{figcaption:'',uuid:(0,_draftJs.genKey)(),name:file.name,show:false,rawFile:file,url:upload.target.result}));};reader.onerror=function(err){return reject(err);};reader.readAsDataURL(file);});}
function processImageFiles(files){var promised=files.map(function(file){return handleFileReader(file);});return Promise.all(promised);}}),49020:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.GENERIC_ERROR=void 0;var GENERIC_ERROR='Something went wrong. Please try again.';exports.GENERIC_ERROR=GENERIC_ERROR;}),23789:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.P=exports.A=exports.UP=exports.RIGHT=exports.LEFT=exports.DOWN=exports.SPACE=exports.ESC=exports.ENTER=exports.DELETE=void 0;var DELETE=8;exports.DELETE=DELETE;var ENTER=13;exports.ENTER=ENTER;var ESC=27;exports.ESC=ESC;var SPACE=32;exports.SPACE=SPACE;var DOWN=40;exports.DOWN=DOWN;var LEFT=37;exports.LEFT=LEFT;var RIGHT=39;exports.RIGHT=RIGHT;var UP=38;exports.UP=UP;var A=65;exports.A=A;var P=80;exports.P=P;}),22463:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.socialLinks=exports.NOOP_HREF=exports.adFAQLink=void 0;var adFAQLink="http://help.hackster.io/knowledgebase/what-are-these-ads";exports.adFAQLink=adFAQLink;var NOOP_HREF='javascript:void(0);';exports.NOOP_HREF=NOOP_HREF;var socialLinks={facebook:'https://www.facebook.com/hacksterio',instagram:'https://www.instagram.com/hacksterio',linkedin:'https://www.linkedin.com/company/hacksterio',newsletter:'/newsletter/sign_up',twitter:'https://twitter.com/Hacksterio',youtube:'https://www.youtube.com/hacksterio'};exports.socialLinks=socialLinks;}),39225:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.DEFAULT_PAGE_TITLE=exports.DEFAULT_PAGE_DESCRIPTION=void 0;var DEFAULT_PAGE_DESCRIPTION='Hackster is a community dedicated to learning hardware, from beginner to pro. Share your projects and learn from other developers. Come build awesome hardware!';exports.DEFAULT_PAGE_DESCRIPTION=DEFAULT_PAGE_DESCRIPTION;var DEFAULT_PAGE_TITLE='Hackster.io - The community dedicated to learning hardware.';exports.DEFAULT_PAGE_TITLE=DEFAULT_PAGE_TITLE;}),22986:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.SIMPLE_PAGINATION=void 0;var SIMPLE_PAGINATION={current_page:1,next_page:null,per_page:20,prev_page:null};exports.SIMPLE_PAGINATION=SIMPLE_PAGINATION;}),34856:((__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{if(false){}
__webpack_require__(81486);__webpack_require__(35666);__webpack_require__(40622);__webpack_require__(42721);__webpack_require__(68163);__webpack_require__(9010);__webpack_require__(56211);__webpack_require__(26241);__webpack_require__(90661);__webpack_require__(13394);__webpack_require__(48161);__webpack_require__(93410);__webpack_require__(3139);__webpack_require__(30421);__webpack_require__(10524);__webpack_require__(66807);}),72973:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);Object.defineProperty(exports,"__esModule",({value:true}));exports.adTypeEnumToHuman=exports.adRegionEnumToHumanAbbr=exports.adRegionEnumToLabel=exports.REGIONS=exports.NEWS_HOME_PAGE=exports.HOME_PAGE=exports.NEWS_PAGE_HERO=exports.NEWS_GALLERY=exports.HOME_PAGE_BANNER=exports.CONTENT_PAGE=exports.BETA=void 0;var BETA='BETA';exports.BETA=BETA;var CONTENT_PAGE='CONTENT_PAGE';exports.CONTENT_PAGE=CONTENT_PAGE;var HOME_PAGE_BANNER='HOME_PAGE_BANNER';exports.HOME_PAGE_BANNER=HOME_PAGE_BANNER;var NEWS_GALLERY='NEWS_GALLERY';exports.NEWS_GALLERY=NEWS_GALLERY;var NEWS_PAGE_HERO='NEWS_PAGE_HERO';exports.NEWS_PAGE_HERO=NEWS_PAGE_HERO;var HOME_PAGE='HOME_PAGE';exports.HOME_PAGE=HOME_PAGE;var NEWS_HOME_PAGE='NEWS_HOME_PAGE';exports.NEWS_HOME_PAGE=NEWS_HOME_PAGE;var REGIONS_TO_LABEL_MAP={AFRICA:'Africa',ASIA:'Asia',AUSTRALIA:'Australia',EUROPE:'Europe',NORTH_AMERICA:'North America',SOUTH_AMERICA:'South America',UNITED_STATES:'United States'};var REGIONS=Object.keys(REGIONS_TO_LABEL_MAP).map(function(key){return{label:REGIONS_TO_LABEL_MAP[key],value:key};});exports.REGIONS=REGIONS;var adRegionEnumToLabel=function adRegionEnumToLabel(value){if(!REGIONS_TO_LABEL_MAP.hasOwnProperty(value)){console.warn("Ad enumToLabel recieved an unknown enum: ".concat(value,"."));return null;}
return REGIONS_TO_LABEL_MAP[value];};exports.adRegionEnumToLabel=adRegionEnumToLabel;var adRegionEnumToHumanAbbr=function adRegionEnumToHumanAbbr(region){switch(region){case 'AFRICA':return 'AF';case 'ASIA':return 'AS';case 'AUSTRALIA':return 'AU';case 'EUROPE':return 'EU';case 'NORTH_AMERICA':return 'NA';case 'SOUTH_AMERICA':return 'SA';case 'UNITED_STATES':return 'US';default:return '';};};exports.adRegionEnumToHumanAbbr=adRegionEnumToHumanAbbr;var adTypeEnumToHuman=function adTypeEnumToHuman(adEnum){switch(adEnum){case BETA:return 'Beta';case CONTENT_PAGE:return 'Content page';case HOME_PAGE_BANNER:return 'Home page banner';case NEWS_GALLERY:return 'News gallery';case NEWS_PAGE_HERO:return 'News page hero';default:return 'Unknown, contact dev!';};};exports.adTypeEnumToHuman=adTypeEnumToHuman;}),91574:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getAttachmentTypeEnum=void 0;var ATTACHMENT_TYPES={AlternateCoverImage:'ALTERNATE_COVER_IMAGE',Avatar:'AVATAR',CoverImage:'COVER_IMAGE',Favicon:'FAVICON',FreeHardwareImage:'FREE_HARDWARE_IMAGE',Image:'IMAGE',Logo:'LOGO',MobileCoverImage:'MOBILE_COVER_IMAGE'};var getAttachmentTypeEnum=function getAttachmentTypeEnum(val){return ATTACHMENT_TYPES[val]||null;};exports.getAttachmentTypeEnum=getAttachmentTypeEnum;}),57872:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);Object.defineProperty(exports,"__esModule",({value:true}));exports.channelMemberRoleToEnum=exports.channelMemberEnumsFromRolesObj=exports.MANAGER_ROLES=void 0;var ADMIN='ADMIN';var MEMBER='MEMBER';var MODERATOR='MODERATOR';var filterToEnumMap={admin:ADMIN,member:MEMBER,moderator:MODERATOR};var MANAGER_ROLES=[ADMIN,MODERATOR];exports.MANAGER_ROLES=MANAGER_ROLES;var channelMemberEnumsFromRolesObj=function channelMemberEnumsFromRolesObj(roles){return Object.keys(roles).map(function(role){return filterToEnumMap[role];});};exports.channelMemberEnumsFromRolesObj=channelMemberEnumsFromRolesObj;var channelMemberRoleToEnum=function channelMemberRoleToEnum(filter){if(!filterToEnumMap.hasOwnProperty(filter)){console.warn("channelMemberRoleToEnum recieved an unknown filter role: ".concat(filter));return null;}
return filterToEnumMap[filter];};exports.channelMemberRoleToEnum=channelMemberRoleToEnum;}),41557:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getEventFindByEnum=getEventFindByEnum;exports.getEventTypeEnum=getEventTypeEnum;exports.getSortEnum=getSortEnum;exports.getTimeFilterEnum=getTimeFilterEnum;exports.HACKSTER_FORM_EVENT_TYPE_OPTS=void 0;var EVENT_FIND_BY_TYPES={conference:'CONFERENCE',hackathon:'HACKATHON',meetup:'MEETUP',webinar:'WEBINAR',workshop:'WORKSHOP'};var EVENT_TYPES={community:'COMMUNITY',conference:'CONFERENCE',hackathon:'HACKATHON',live:'LIVE',meetup:'MEETUP',virtual:'VIRTUAL',webinar:'WEBINAR',workshop:'WORKSHOP'};var TIME_FILTERS={upcoming:'UPCOMING',past:'PAST'};var HACKSTER_FORM_EVENT_TYPE_OPTS=['CONFERENCE','HACKATHON','MEETUP','WEBINAR','WORKSHOP'];exports.HACKSTER_FORM_EVENT_TYPE_OPTS=HACKSTER_FORM_EVENT_TYPE_OPTS;function getEventFindByEnum(type){return EVENT_FIND_BY_TYPES[type];};function getEventTypeEnum(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return EVENT_TYPES[type.toLowerCase()];}
function getSortEnum(val){var order=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var key="".concat(val,"_").concat(order);switch(key){case 'most_recent_0':return 'START_DESC';case 'most_recent_1':return 'START_ASC';default:return null;}}
function getTimeFilterEnum(val){return TIME_FILTERS[val]||null;}}),48917:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getCategoryEnum=exports.FEED_POST_CATEGORIES=void 0;var CATEGORIES={'Announcements':'ANNOUNCEMENTS','Free hardware':'FREE_HARDWARE','General':'GENERAL','Technical help':'TECHNICAL_HELP'};var FEED_POST_CATEGORIES=Object.keys(CATEGORIES);exports.FEED_POST_CATEGORIES=FEED_POST_CATEGORIES;var getCategoryEnum=function getCategoryEnum(val){return CATEGORIES[val]||null;};exports.getCategoryEnum=getCategoryEnum;}),2254:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getStatusForFilterEnum=getStatusForFilterEnum;exports.getSortEnumForFilter=getSortEnumForFilter;exports.SUBMITTED_FILTER=exports.SCHEDULED_FILTER=exports.PUBLISHED_FILTER=exports.DRAFT_FILTER=exports.ALL_FILTER=exports.UPDATED_SORT=exports.TRENDING_DESC_SORT=exports.PUBLISHED_SORT=exports.ALL_SORT=exports.SUBMITTED_STATUS=exports.SCHEDULED_STATUS=exports.PUBLISHED_STATUS=exports.DRAFT_STATUS=void 0;var _FILTER_ENUM_MAP,_SORT_FILTER_ENUM_MAP;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var DRAFT_STATUS='DRAFT';exports.DRAFT_STATUS=DRAFT_STATUS;var PUBLISHED_STATUS='PUBLISHED';exports.PUBLISHED_STATUS=PUBLISHED_STATUS;var SCHEDULED_STATUS='SCHEDULED';exports.SCHEDULED_STATUS=SCHEDULED_STATUS;var SUBMITTED_STATUS='SUBMITTED';exports.SUBMITTED_STATUS=SUBMITTED_STATUS;var ALL_SORT='ALL_FOR_ADMIN';exports.ALL_SORT=ALL_SORT;var PUBLISHED_SORT='PUBLISHED_AT';exports.PUBLISHED_SORT=PUBLISHED_SORT;var TRENDING_DESC_SORT='TRENDING_DESC';exports.TRENDING_DESC_SORT=TRENDING_DESC_SORT;var UPDATED_SORT='UPDATED_AT';exports.UPDATED_SORT=UPDATED_SORT;var ALL_FILTER='all';exports.ALL_FILTER=ALL_FILTER;var DRAFT_FILTER='draft';exports.DRAFT_FILTER=DRAFT_FILTER;var PUBLISHED_FILTER='published';exports.PUBLISHED_FILTER=PUBLISHED_FILTER;var SCHEDULED_FILTER='scheduled';exports.SCHEDULED_FILTER=SCHEDULED_FILTER;var SUBMITTED_FILTER='submitted';exports.SUBMITTED_FILTER=SUBMITTED_FILTER;var FILTER_ENUM_MAP=(_FILTER_ENUM_MAP={},_defineProperty(_FILTER_ENUM_MAP,DRAFT_FILTER,DRAFT_STATUS),_defineProperty(_FILTER_ENUM_MAP,PUBLISHED_FILTER,PUBLISHED_STATUS),_defineProperty(_FILTER_ENUM_MAP,SCHEDULED_FILTER,SCHEDULED_STATUS),_defineProperty(_FILTER_ENUM_MAP,SUBMITTED_FILTER,SUBMITTED_STATUS),_FILTER_ENUM_MAP);var SORT_FILTER_ENUM_MAP=(_SORT_FILTER_ENUM_MAP={},_defineProperty(_SORT_FILTER_ENUM_MAP,DRAFT_FILTER,UPDATED_SORT),_defineProperty(_SORT_FILTER_ENUM_MAP,PUBLISHED_FILTER,PUBLISHED_SORT),_defineProperty(_SORT_FILTER_ENUM_MAP,SCHEDULED_FILTER,PUBLISHED_SORT),_defineProperty(_SORT_FILTER_ENUM_MAP,SUBMITTED_FILTER,UPDATED_SORT),_SORT_FILTER_ENUM_MAP);function getStatusForFilterEnum(filter){return FILTER_ENUM_MAP[filter]||null;}
function getSortEnumForFilter(){var filter=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!filter)return ALL_SORT;return SORT_FILTER_ENUM_MAP[filter]||ALL_SORT;}}),96463:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.respectableTypeEnumToLabel=exports.PROJECT=exports.NEWS_ARTICLE=exports.FEED_POST=exports.COMMENT=void 0;var COMMENT='COMMENT';exports.COMMENT=COMMENT;var FEED_POST='FEED_POST';exports.FEED_POST=FEED_POST;var NEWS_ARTICLE='NEWS_ARTICLE';exports.NEWS_ARTICLE=NEWS_ARTICLE;var PROJECT='PROJECT';exports.PROJECT=PROJECT;var TYPE_TO_LABEL_MAP={COMMENT:'comment',FEED_POST:'feed_post',NEWS_ARTICLE:'news_article',PROJECT:'project'};var respectableTypeEnumToLabel=function respectableTypeEnumToLabel(type){return TYPE_TO_LABEL_MAP[type];};exports.respectableTypeEnumToLabel=respectableTypeEnumToLabel;}),93594:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getCategoryEnum=getCategoryEnum;exports.getSortEnum=getSortEnum;exports.VIDEO_CATEGORIES_FILTER=exports.VIDEO_CATEGORIES=void 0;var CATEGORIES={'Hackster in the Wild':'HACKSTER','How-to':'HOW_TO','Interviews':'INTERVIEWS','Tech Highlight':'TECH_HIGHLIGHT','Virtual Events':'VIRTUAL'};var VIDEO_CATEGORIES=Object.keys(CATEGORIES);exports.VIDEO_CATEGORIES=VIDEO_CATEGORIES;var VIDEO_CATEGORIES_FILTER={key:'by_category',options:[{"default":true,label:'Any category',value:null}].concat(Object.keys(CATEGORIES).map(function(key){return{label:key,value:CATEGORIES[key]};}))};exports.VIDEO_CATEGORIES_FILTER=VIDEO_CATEGORIES_FILTER;function getCategoryEnum(val){return CATEGORIES[val]||null;}
function getSortEnum(val){var order=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var key="".concat(val,"_").concat(order);switch(key){case 'most_recent_0':return 'DATE_DESC';case 'most_recent_1':return 'DATE_ASC';case 'most_popular_0':return 'POPULARITY';case 'title_0':return 'TITLE_ASC';case 'title_1':return 'TITLE_DESC';default:return null;}}}),97873:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.Services=void 0;var _current_user=_interopRequireDefault(__webpack_require__(94691));var _oauth=_interopRequireDefault(__webpack_require__(97523));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Services={currentUser:_current_user["default"],OAuth:_oauth["default"]};exports.Services=Services;}),89274:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports.Utils=void 0;var _getPathPrefix=_interopRequireDefault(__webpack_require__(7685));var _getCSRFToken=_interopRequireDefault(__webpack_require__(34038));var _renderComponents=_interopRequireWildcard(__webpack_require__(22553));var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var Utils={getCSRFToken:_getCSRFToken["default"],getPathPrefix:_getPathPrefix["default"],renderComponents:_renderComponents["default"],smoothScroll:_smoothScroll["default"],unmountComponents:_renderComponents.unmountComponents};exports.Utils=Utils;}),34192:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));Object.defineProperty(exports,"Services",({enumerable:true,get:function get(){return _Services.Services;}}));Object.defineProperty(exports,"Utils",({enumerable:true,get:function get(){return _Utilities.Utils;}}));var _Services=__webpack_require__(97873);var _Utilities=__webpack_require__(89274);}),85852:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports.renderReact=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _reactDom=_interopRequireDefault(__webpack_require__(73935));var _server=_interopRequireDefault(__webpack_require__(97762));var _hypernova=_interopRequireWildcard(__webpack_require__(25396));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var IS_TEST_ENV=({"NODE_ENV":"production"}).hasOwnProperty('RAILS_TEST')&&({"NODE_ENV":"production"}).RAILS_TEST===true;var renderReact=function renderReact(name,component){return(0,_hypernova["default"])({server:function server(){return function(props){var contents=_server["default"].renderToString(_react["default"].createElement(component,props));return(0,_hypernova.serialize)(name,contents,props);};},client:function client(){var payloads=(0,_hypernova.load)(name);if(payloads){payloads.forEach(function(payload){var node=payload.node,data=payload.data;var element=_react["default"].createElement(component,data);if(_reactDom["default"].hydrate&&!IS_TEST_ENV){_reactDom["default"].hydrate(element,node);}else{_reactDom["default"].render(element,node);}});}
return component;}});};exports.renderReact=renderReact;}),87779:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getAttachment=getAttachment;exports.getRemoteUploadJobStatus=getRemoteUploadJobStatus;exports.pollForAttachment=pollForAttachment;exports.pollJob=pollJob;exports.postRemoteURL=postRemoteURL;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _oauth=_interopRequireDefault(__webpack_require__(97523));var _polling=__webpack_require__(57662);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function getAttachment(attachmentId){return _oauth["default"].apiRequest((0,_superagent["default"])("".concat(_oauth["default"].getApiPath(),"/private/files/").concat(attachmentId)));}
function getRemoteUploadJobStatus(jobId){return new Promise(function(resolve,reject){_oauth["default"].apiRequest((0,_superagent["default"])("".concat(_oauth["default"].getApiPath(),"/private/files/remote_upload?job_id=").concat(jobId))).then(function(res){return res.status==='failed'?reject(new Error('Remote upload failed')):resolve(res);})["catch"](function(err){return reject(err);});});}
function pollForAttachment(id){return(0,_polling.pollWithBackoff)(function(resolve,reject,retry){return getAttachment(id).then(function(res){return res.processed===true?resolve(res):retry();})["catch"](function(err){return reject(err);});});}
function pollJob(jobId){return(0,_polling.pollWithBackoff)(function(resolve,reject,retry){return getRemoteUploadJobStatus(jobId).then(function(res){return res.status==='complete'?resolve(res):retry();})["catch"](function(err){return reject(err);});});}
function postRemoteURL(url,fileType){var progressCallback=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};return new Promise(function(resolve,reject){var data=Object.assign({},options,{file_type:fileType,file_url:url});return _oauth["default"].apiRequest(_superagent["default"].post("".concat(_oauth["default"].getApiPath(),"/private/files/remote_upload")).send(data).on('progress',function(e){if(progressCallback)progressCallback(e);})).then(function(body){return body.hasOwnProperty('id')?resolve(body):reject(new Error("Problem uploading remote file ".concat(url)));})["catch"](function(err){return reject(err);});});}}),12291:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.authRequest=authRequest;exports.getCSRFTokenFromApi=getCSRFTokenFromApi;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _getPathPrefix=_interopRequireDefault(__webpack_require__(7685));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function authRequest(url,params){return getCSRFTokenFromApi().then(function(token){return new Promise(function(resolve,reject){_superagent["default"].post(url).set('X-CSRF-Token',token).set('Accept','application/json').withCredentials().send(params).end(function(err,res){err?reject(err):resolve(res.body);});});});}
function getCSRFTokenFromApi(){return new Promise(function(resolve,reject){_superagent["default"].get("".concat((0,_getPathPrefix["default"])(),"/csrf")).set('Accept','text/plain').end(function(err,res){err?reject(err):resolve(res.text);});});};}),71203:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _isCrawler=_interopRequireDefault(__webpack_require__(18603));var _superagent=_interopRequireDefault(__webpack_require__(80569));var _oauth=_interopRequireDefault(__webpack_require__(97523));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function getReferrer(){if(typeof document==='undefined')return null;return document.referrer||document.origin;}
function createImpression(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$a=_ref.a,a=_ref$a===void 0?null:_ref$a,_ref$c=_ref.c,c=_ref$c===void 0?null:_ref$c,_ref$id=_ref.id,id=_ref$id===void 0?null:_ref$id,_ref$referrer=_ref.referrer,referrer=_ref$referrer===void 0?getReferrer():_ref$referrer,_ref$type=_ref.type,type=_ref$type===void 0?null:_ref$type;if((0,_isCrawler["default"])())return Promise.resolve();var data={a:a,c:c,id:id,referrer:referrer,type:type};return _oauth["default"].apiRequest(_superagent["default"].post("".concat(_oauth["default"].getApiPath(),"/private/stats")).send(data),false,true,false);}
var _default=createImpression;exports["default"]=_default;}),87360:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.flagContent=flagContent;exports.markAsSpam=markAsSpam;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _oauth=_interopRequireDefault(__webpack_require__(97523));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function flagContent(flaggable,user_id){return _oauth["default"].apiRequest(_superagent["default"].post("".concat(_oauth["default"].getApiPath(),"/private/flags")).send({flag:{flaggable_id:flaggable.id,flaggable_type:flaggable.type,user_id:user_id}}),false,false);};function markAsSpam(flaggable){var id_type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'id';return _oauth["default"].apiRequest(_superagent["default"].post("".concat(_oauth["default"].getApiPath(),"/private/spam_entities")).send({id:flaggable.id,type:flaggable.type,id_type:id_type}),true,false);};}),2740:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.graphQuery=graphQuery;exports.graphQueryWithUser=graphQueryWithUser;exports.graphQueryWithUserNoSigninDialog=graphQueryWithUserNoSigninDialog;exports.graphMutate=graphMutate;exports.graphMutateWithoutUser=graphMutateWithoutUser;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _oauth=_interopRequireDefault(__webpack_require__(97523));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
function graphQuery(q){var variables=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var requireUser=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var returnResponseBody=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var showSignInDialog=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;return new Promise(function(resolve,reject){var data=_typeof(q)==='object'?{t:q.t,variables:variables}:{q:q,variables:variables};return _oauth["default"].apiRequest(_superagent["default"].post("".concat(_oauth["default"].getApiPath(),"/graphql/query")).type('form').send({json_data:JSON.stringify(data)}),requireUser,returnResponseBody,showSignInDialog).then(function(res){if(res.errors)return reject(res);return resolve(res&&res.hasOwnProperty('data')?res.data:res||{});})["catch"](function(err){return reject(err);});});}
function graphQueryWithUser(q){var variables=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return graphQuery(q,variables,true);}
function graphQueryWithUserNoSigninDialog(q){var variables=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return graphQuery(q,variables,true,true,false);}
function graphMutate(q){var variables=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var requireUser=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;return new Promise(function(resolve,reject){var data=_typeof(q)==='object'?{t:q.t,variables:variables}:{q:q,variables:variables};return _oauth["default"].apiRequest(_superagent["default"].post("".concat(_oauth["default"].getApiPath(),"/graphql/mutate")).type('form').send({json_data:JSON.stringify(data)}),requireUser).then(function(res){if(res.errors)return reject(res);return resolve(res&&res.hasOwnProperty('data')?res.data:res||{});})["catch"](function(err){return reject(err);});});}
function graphMutateWithoutUser(q,variables){return graphMutate(q,variables,false);}}),362:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=fetchScrapedPage;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _oauth=_interopRequireDefault(__webpack_require__(97523));var _polling=__webpack_require__(57662);var _json=__webpack_require__(50129);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function checkJobStatus(jobId){return _oauth["default"].apiRequest(_superagent["default"].get("".concat(_oauth["default"].getApiPath(),"/private/background_jobs/").concat(jobId)),true);}
function fetchJobResult(jobId){return _oauth["default"].apiRequest(_superagent["default"].get("".concat(_oauth["default"].getApiPath(),"/private/scraper/").concat(jobId)),true);}
function pollScraperJob(jobId){return(0,_polling.pollWithBackoff)(function(resolve,reject,retry){return checkJobStatus(jobId).then(function(res){return res.status==='complete'?resolve(jobId):retry();})["catch"](function(err){return reject(err);});});}
function fetchScrapedPage(url){return _oauth["default"].apiRequest(_superagent["default"].post("".concat(_oauth["default"].getApiPath(),"/private/scraper")).send({url:url}),true).then(function(body){return pollScraperJob(body.job_id);}).then(function(jobId){return fetchJobResult(jobId);}).then(function(res){return(0,_json.tryJSONParse)(res.result);}).then(function(page){return Promise.resolve(page);})["catch"](function(err){return Promise.reject(err);});}}),97449:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=setTooltipAsViewed;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _oauth=_interopRequireDefault(__webpack_require__(97523));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function setTooltipAsViewed(id){return _oauth["default"].apiRequest(_superagent["default"].del("".concat(_oauth["default"].getApiPath(),"/private/user_viewed_tooltips/").concat(id)),true);};}),35018:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _dropdown=_interopRequireDefault(__webpack_require__(87327));var _icon=_interopRequireDefault(__webpack_require__(44509));var _current_user=_interopRequireDefault(__webpack_require__(94691));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _helpers=__webpack_require__(61064);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));var _simple_select=_interopRequireDefault(__webpack_require__(27464));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var MENU_WIDTH=136;var AltBookmarkButton=function(_Component){_inherits(AltBookmarkButton,_Component);var _super=_createSuper(AltBookmarkButton);function AltBookmarkButton(props){var _this;_classCallCheck(this,AltBookmarkButton);_this=_super.call(this,props);_this.state={initialized:false,dropdownType:null};_this.handleDismiss=_this.handleDismiss.bind(_assertThisInitialized(_this));_this.summonMenu=_this.summonMenu.bind(_assertThisInitialized(_this));_this.handleRemove=_this.handleRemove.bind(_assertThisInitialized(_this));_this.summonWidget=_this.summonWidget.bind(_assertThisInitialized(_this));_this._button;_this._wrapper;return _this;}
_createClass(AltBookmarkButton,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;return _current_user["default"].getAsync('id').then(function(id){return _this2.setState({initialized:true});})["catch"](function(err){return(0,_error_handler["default"])(err);});}},{key:"handleDismiss",value:function handleDismiss(){this.setState({dropdownType:null});}},{key:"handleRemove",value:function handleRemove(){this.props.handleRemove(this.props.projectId);}},{key:"summonMenu",value:function summonMenu(){this.props.onSummonMenu({project_id:this.props.projectId});this.setState({dropdownType:'menu'});}},{key:"summonWidget",value:function summonWidget(){var showDropdown=(0,_helpers.showDropdownOrSummonDialog)({currentListId:this.props.list.id,projectId:this.props.projectId});this.setState({dropdownType:showDropdown?'widget':null});}},{key:"_getDropdown",value:function _getDropdown(){switch(this.state.dropdownType){case 'menu':return this._getMenuDropdown();case 'widget':return this._getWidgetDropdown();default:return null;}}},{key:"_getMenuDropdown",value:function _getMenuDropdown(){return _react["default"].createElement(_dropdown["default"],{className:"".concat(_layout["default"].paddingTop10," ").concat(_layout["default"].paddingBottom10),dismiss:this.handleDismiss,key:'menu',alignRight:!(0,_helpers.outOfBoundsLeft)(this._wrapper.getBoundingClientRect(),MENU_WIDTH),style:{width:MENU_WIDTH}},_react["default"].createElement("ul",{className:_util["default"].ulReset},_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:this.summonWidget},"Add to list"),_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:this.handleRemove},"Remove")));}},{key:"_getWidgetDropdown",value:function _getWidgetDropdown(){var _this3=this;var params={analytics:this.props.analytics,currentListId:this.props.list.id,dismiss:this.handleDismiss,projectId:this.props.projectId,getTarget:function getTarget(){return _this3._wrapper;}};return this.props.usePortal?(0,_helpers.getPortalWidgetDropdown)(params):(0,_helpers.getWidgetDropdown)(params);}},{key:"render",value:function render(){var _this4=this;var initialized=this.state.initialized;return _react["default"].createElement("div",{ref:function ref(el){return _this4._wrapper=el;},onKeyDown:this.handleKeyDown,className:_util["default"].posRelative},_react["default"].createElement("button",{className:_buttons["default"].blank,disabled:!initialized,onClick:this.summonMenu},_react["default"].createElement(_icon["default"],{name:"view-more",size:16})),this._getDropdown());}}]);return AltBookmarkButton;}(_react.Component);AltBookmarkButton.propTypes={analytics:_propTypes["default"].shape({widget_src:_propTypes["default"].string.isRequired}).isRequired,handleRemove:_propTypes["default"].func.isRequired,list:_propTypes["default"].shape({projects_count:_propTypes["default"].number,id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,"private":_propTypes["default"].bool.isRequired}).isRequired,onSummonMenu:_propTypes["default"].func,projectId:_propTypes["default"].number.isRequired,usePortal:_propTypes["default"].bool};AltBookmarkButton.defaultProps={onSummonMenu:function onSummonMenu(){},usePortal:false};var _default=AltBookmarkButton;exports["default"]=_default;}),87320:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _AltBookmarkButton=_interopRequireDefault(__webpack_require__(35018));var _bookmark_list_form=_interopRequireDefault(__webpack_require__(42124));var _base=_interopRequireDefault(__webpack_require__(6094));var _breadcrumb=_interopRequireDefault(__webpack_require__(13050));var _DummyProjectsList=_interopRequireDefault(__webpack_require__(15180));var _grid_list=_interopRequireDefault(__webpack_require__(68201));var _GraphQLPaginatedList=_interopRequireDefault(__webpack_require__(44511));var _icon=_interopRequireDefault(__webpack_require__(44509));var _Prompt=_interopRequireDefault(__webpack_require__(19439));var _project_card=_interopRequireDefault(__webpack_require__(12680));var _projects_service=_interopRequireDefault(__webpack_require__(26487));var _seo_handler=_interopRequireDefault(__webpack_require__(38891));var _bookmark_store=_interopRequireDefault(__webpack_require__(38596));var _history=_interopRequireDefault(__webpack_require__(58886));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _seoConfig=_interopRequireDefault(__webpack_require__(40030));var _helpers=__webpack_require__(61064);var _accessors=__webpack_require__(4887);var _templates=__webpack_require__(32797);var _graphql=__webpack_require__(2740);var _dispatchers=__webpack_require__(10912);var _main=_interopRequireDefault(__webpack_require__(85061));var _eventTypeTemplates=__webpack_require__(10853);var _alerts=__webpack_require__(49020);var _forms=_interopRequireDefault(__webpack_require__(98672));var _page_header=_interopRequireDefault(__webpack_require__(12697));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ANALYTICS_CONSTANTS={widget_src:'list_page'};var Placeholder=function Placeholder(_ref){var imageURLs=_ref.imageURLs;return _react["default"].createElement("div",{className:"".concat(_typography["default"].textCenter," ").concat(_layout["default"].marginTop15)},_react["default"].createElement("img",{src:imageURLs.emptyList.x1,srcSet:"".concat(imageURLs.emptyList.x1," 1x, ").concat(imageURLs.emptyList.x2," 2x")}),_react["default"].createElement("div",{className:"".concat(_typography["default"].bodyM," ").concat(_layout["default"].marginTop30)},"This bookmark list has no projects yet!"));};var BookmarkListPage=function(_Component){_inherits(BookmarkListPage,_Component);var _super=_createSuper(BookmarkListPage);function BookmarkListPage(props){var _this;_classCallCheck(this,BookmarkListPage);_this=_super.call(this,props);_this.state={currentHistoryData:null,initialized:false,list:props.list,prompt:{hasError:false,isBusy:false,open:false},showEditForm:false};_this.history=(0,_history["default"])(props.pathHelpers.basePath);_this.qlService=new _projects_service["default"]({history:_this.history});_this.seoHandler=new _seo_handler["default"]({config:_seoConfig["default"]});_this.deleteList=_this.deleteList.bind(_assertThisInitialized(_this));_this.dismissEditForm=_this.dismissEditForm.bind(_assertThisInitialized(_this));_this.dismissPrompt=_this.dismissPrompt.bind(_assertThisInitialized(_this));_this.getPaginatorHook=_this.getPaginatorHook.bind(_assertThisInitialized(_this));_this.handleBookmarkChange=_this.handleBookmarkChange.bind(_assertThisInitialized(_this));_this.handleDeleteClick=_this.handleDeleteClick.bind(_assertThisInitialized(_this));_this.handleLocationChange=_this.handleLocationChange.bind(_assertThisInitialized(_this));_this.handleQuery=_this.handleQuery.bind(_assertThisInitialized(_this));_this.handleRemoveClick=_this.handleRemoveClick.bind(_assertThisInitialized(_this));_this.handleUpdate=_this.handleUpdate.bind(_assertThisInitialized(_this));_this.removeBookmark=_this.removeBookmark.bind(_assertThisInitialized(_this));_this.renderBookmarkButton=_this.renderBookmarkButton.bind(_assertThisInitialized(_this));_this.summonEditForm=_this.summonEditForm.bind(_assertThisInitialized(_this));_this.requestPage;_this._currentPage;return _this;}
_createClass(BookmarkListPage,[{key:"componentDidMount",value:function componentDidMount(){this.unlisten=this.history.listen(this.handleLocationChange);this.updateSub=_bookmark_store["default"].getChannel().subscribe('bookmark.changed',this.handleBookmarkChange);this._updateSEOData();}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(typeof this.unlisten==='function')this.unlisten();if(this.updateSub&&typeof this.updateSub.unsubscribe==='function')this.updateSub.unsubscribe();}},{key:"deleteList",value:function deleteList(e){var _this2=this;this._promptBusy();return(0,_graphql.graphMutate)({t:'delete_bookmark_list'},{id:this.state.list.id}).then(function(_ref2){var list=_ref2.list;_main["default"].reportEventWithDelayedRedirectWithObj((0,_eventTypeTemplates.getDeleteBookmarkListArgs)(Object.assign({id:list.id},ANALYTICS_CONSTANTS)),(0,_helpers.getDashboardBookmarksURL)(),e);})["catch"](function(err){_this2._promptError();(0,_error_handler["default"])('BookmarkListPage deleteList',err);});}},{key:"dismissEditForm",value:function dismissEditForm(){this.setState({showEditForm:false});}},{key:"dismissPrompt",value:function dismissPrompt(){this.setState({prompt:{hasError:false,isBusy:false,open:false}});}},{key:"getPaginatorHook",value:function getPaginatorHook(fn){this.requestPage=fn;}},{key:"handleBookmarkChange",value:function handleBookmarkChange(_ref3){var addOrRemoveBool=_ref3.addOrRemoveBool,listId=_ref3.listId,projectId=_ref3.projectId;if(!addOrRemoveBool&&listId===this.state.list.id){this.setState({list:Object.assign({},this.state.list,{projects_count:this.state.list.projects_count-1})});if(typeof this.requestPage==='function'&&this._currentPage){this.requestPage(this._currentPage);}}}},{key:"handleDeleteClick",value:function handleDeleteClick(){this.setState({prompt:{action:'Delete',body:'Once you delete this item, it cannot be undone.',hasError:false,isBusy:false,okay:this.deleteList,open:true,title:'Are you sure you want to delete this bookmark list?'}});}},{key:"handleLocationChange",value:function handleLocationChange(pathData,action){var historyData=Object.assign({},pathData,{action:action});this.setState({currentHistoryData:historyData});this._updateSEOData();}},{key:"handleQuery",value:function handleQuery(query){var currentPage=(0,_accessors.getInObj)(['metadata','current_page'],query);if(currentPage!==this._currentPage)this._currentPage=currentPage;}},{key:"handleRemoveClick",value:function handleRemoveClick(projectId){var _this3=this;this.setState({prompt:{open:true,hasError:false,isBusy:false,title:'Are you sure you want to remove this project?',action:'Remove',body:null,okay:function okay(){return _this3.removeBookmark(projectId);}}});}},{key:"handleUpdate",value:function handleUpdate(newList){var list=Object.assign({},this.state.list,newList);_bookmark_store["default"].updateList(list);this.setState({list:list,showEditForm:false});}},{key:"removeBookmark",value:function removeBookmark(projectId){var _this4=this;this._promptBusy();return(0,_helpers.addOrRemoveBookmark)({addOrRemoveBool:false,list:this.state.list,projectId:projectId},ANALYTICS_CONSTANTS).then(function(lists){_this4.dismissPrompt();(0,_dispatchers.summonGlobalMessenger)({msg:(0,_helpers.buildBookmarkMessage)(false,_this4.state.list.name)});})["catch"](function(err){_this4._promptError();(0,_error_handler["default"])('BookmarkListPage removeBookmark',err);});}},{key:"renderBookmarkButton",value:function renderBookmarkButton(project){var _this5=this;return _react["default"].createElement(_AltBookmarkButton["default"],{analytics:ANALYTICS_CONSTANTS,handleRemove:this.handleRemoveClick,list:this.state.list,onSummonMenu:function onSummonMenu(data){return _this5._handleOpenMenuAnalytics(data);},projectId:project.id});}},{key:"summonEditForm",value:function summonEditForm(){this.setState({showEditForm:true});}},{key:"_handleOpenMenuAnalytics",value:function _handleOpenMenuAnalytics(_ref4){var project_id=_ref4.project_id;_main["default"].reportEventWithObj((0,_eventTypeTemplates.getOpenedBookmarkMenuArgs)(Object.assign({project_id:project_id},ANALYTICS_CONSTANTS)));}},{key:"_promptBusy",value:function _promptBusy(){this.setState({prompt:Object.assign({},this.state.prompt,{hasError:false,isBusy:true})});}},{key:"_promptError",value:function _promptError(){this.setState({prompt:Object.assign({},this.state.prompt,{hasError:true,isBusy:false})});}},{key:"_updateSEOData",value:function _updateSEOData(){this.seoHandler.reportView({path:'/',data:this.state.list});}},{key:"_getEditForm",value:function _getEditForm(list){return _react["default"].createElement("div",{className:_forms["default"].container},_react["default"].createElement(_bookmark_list_form["default"],{analytics:ANALYTICS_CONSTANTS,clearOnSubmit:false,initValues:{id:list.id,name:list.name,"private":list["private"]},mode:"update",onCancelClick:this.dismissEditForm,onDeleteClick:this.handleDeleteClick,onSubmit:this.handleUpdate}));}},{key:"_getHeader",value:function _getHeader(list){return _react["default"].createElement("div",{className:_page_header["default"].headerInner},_react["default"].createElement("div",{className:_layout["default"].flex10Auto},_react["default"].createElement("h2",{className:_typography["default"].h2},list.name,list["private"]&&_react["default"].createElement(_icon["default"],{className:"".concat(_layout["default"].marginLeft5," ").concat(_layout["default"].marginTop5),name:"locked",size:16})),_react["default"].createElement("div",{className:_typography["default"].bodyM},(0,_helpers.getProjectsCount)(list.projects_count))),_react["default"].createElement(_base["default"],{className:_typography["default"].whitespaceNowrap,colorStyle:"tertiary",onClick:this.summonEditForm,size:"sm"},"Edit"));}},{key:"render",value:function render(){var _this$state=this.state,list=_this$state.list,showEditForm=_this$state.showEditForm;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("div",{className:_layout["default"].container},_react["default"].createElement("div",{className:_layout["default"].wrapper1170},_react["default"].createElement(_breadcrumb["default"],{color:"Pebble",href:(0,_helpers.getDashboardBookmarksURL)(),size:"S",text:"Back to my bookmarks"}),showEditForm?this._getEditForm(list):this._getHeader(list))),_react["default"].createElement("div",{className:"".concat(_layout["default"].container," ").concat(_util["default"].borderTop)},_react["default"].createElement("div",{className:_layout["default"].wrapper1170},_react["default"].createElement(_GraphQLPaginatedList["default"],{currentHistoryData:this.state.currentHistoryData,getPaginatorHook:this.getPaginatorHook,graphQLArguments:{list_id:this.props.list.id},graphQLService:this.qlService,listComponent:_grid_list["default"],listProps:{ItemComponent:_project_card["default"],itemKey:'project',itemProps:{cardBorder:true,customIcon:this.renderBookmarkButton},placeholder:_react["default"].createElement(Placeholder,{imageURLs:this.props.imageURLs})},loaderComponent:_DummyProjectsList["default"],propagateQuery:this.handleQuery}))),_react["default"].createElement(_Prompt["default"],{action:this.state.prompt.action,actionColor:"danger",body:this.state.prompt.body,dismiss:this.dismissPrompt,isBusy:this.state.prompt.isBusy,message:this.state.prompt.hasError?(0,_templates.getErrorHelperView)(_alerts.GENERIC_ERROR):null,okay:this.state.prompt.okay,open:this.state.prompt.open,title:this.state.prompt.title}));}}]);return BookmarkListPage;}(_react.Component);BookmarkListPage.propTypes={imageURLs:_propTypes["default"].shape({emptyList:_propTypes["default"].shape({x1:_propTypes["default"].string.isRequired,x2:_propTypes["default"].string.isRequired}).isRequired}).isRequired,list:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,"private":_propTypes["default"].bool.isRequired,projects_count:_propTypes["default"].number}).isRequired,pathHelpers:_propTypes["default"].shape({basePath:_propTypes["default"].string.isRequired,fullPath:_propTypes["default"].string.isRequired,rootPath:_propTypes["default"].string.isRequired}).isRequired};var _default=BookmarkListPage;exports["default"]=_default;}),40030:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var CONFIG={'/':function _(){var list=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{entity_id:list.id,meta_desc:"Hardware projects in ".concat(list.name,"."),pageType:'bookmarks#show',title:"".concat(list.name," - Hackster.io")};}};var _default=function _default(path){return CONFIG[path];};exports["default"]=_default;}),80173:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _actionable=_interopRequireDefault(__webpack_require__(29362));var _base=_interopRequireDefault(__webpack_require__(6094));var _Dialog=_interopRequireDefault(__webpack_require__(27408));var _graphql=__webpack_require__(2740);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _accessors=__webpack_require__(4887);var _dispatchers=__webpack_require__(10912);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var EMPTY_PROMPT_STATE={prompt:{open:false}};var PROMPT_COPY={action:function action(){return 'Request Approval';},body:function body(type){return "The Hackster approval process is necessary for your ".concat(type," hub to become fully public. Please ensure that your info is correct and complete before making this request. We will be notified once requested and conduct a review. If further changes are necessary, we will contact whomever made the request. You will receive an email shortly to verify this process.");},title:function title(){return 'Request for approval';}};var STATUS_MAP={pending:{title:'Pending approval',color:'blank',disabled:true},request:{title:'Request approval',color:'outlineBlue',disabled:false}};var ChannelManageConfirmationButton=function(_Component){_inherits(ChannelManageConfirmationButton,_Component);var _super=_createSuper(ChannelManageConfirmationButton);function ChannelManageConfirmationButton(props){var _this;_classCallCheck(this,ChannelManageConfirmationButton);_this=_super.call(this,props);_this.state={prompt:{open:false},isBusy:false,view:'request'};_this.createConfirmation=_this.createConfirmation.bind(_assertThisInitialized(_this));return _this;}
_createClass(ChannelManageConfirmationButton,[{key:"createConfirmation",value:function createConfirmation(){var _this2=this;this.setState({isBusy:true});return(0,_graphql.graphMutate)({t:'create_channel_confirmation'},{channel_id:this.props.channel.id}).then(function(){_this2.setState(Object.assign({},EMPTY_PROMPT_STATE,{isBusy:false,view:'pending'}),function(){return(0,_dispatchers.summonGlobalMessenger)(_this2._getToastMessageForConfirmationCreate(true));});})["catch"](function(err){(0,_error_handler["default"])('ChannelManageConfirmationButton createConfirmation',err);_this2.setState(Object.assign({},EMPTY_PROMPT_STATE,{isBusy:false}),function(){return(0,_dispatchers.summonGlobalMessenger)(_this2._getToastMessageForConfirmationCreate(false));});});}},{key:"_getToastMessageForConfirmationCreate",value:function _getToastMessageForConfirmationCreate(isSuccessful){return{msg:isSuccessful?'Successfully submitted request for channel approval.':'Sorry, we had an issue requesting channel approval.',type:isSuccessful?'success':'error'};}},{key:"_getDialogActions",value:function _getDialogActions(){var _this3=this;return[_react["default"].createElement(_actionable["default"],{isBusy:this.state.isBusy,onClick:this.createConfirmation,text:PROMPT_COPY.action()}),_react["default"].createElement(_base["default"],{colorStyle:"cancel",disabled:this.state.isBusy,onClick:function onClick(){return _this3.setState(EMPTY_PROMPT_STATE);}},"Cancel")];}},{key:"render",value:function render(){var _this4=this;return _react["default"].createElement("div",null,_react["default"].createElement(_base["default"],{colorStyle:(0,_accessors.getInObj)([this.state.view,'color'],STATUS_MAP),disabled:this.state.isBusy||(0,_accessors.getInObj)([this.state.view,'disabled'],STATUS_MAP),onClick:function onClick(){return _this4.setState({prompt:{open:true}});},size:"sm",style:{'lineHeight':'1.5'}},(0,_accessors.getInObj)([this.state.view,'title'],STATUS_MAP)),_react["default"].createElement(_Dialog["default"],{actions:this._getDialogActions(),dismiss:function dismiss(){return _this4.setState(EMPTY_PROMPT_STATE);},open:this.state.prompt.open,title:_react["default"].createElement("h2",{className:"".concat(_typography["default"].h2," ").concat(_layout["default"].marginBottom30)},PROMPT_COPY.title()),wrapperStyle:{width:500}},PROMPT_COPY.body(this.props.channel.type)));}}]);return ChannelManageConfirmationButton;}(_react.Component);ChannelManageConfirmationButton.propTypes={channel:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,type:_propTypes["default"].string.isRequired}).isRequired};var _default=ChannelManageConfirmationButton;exports["default"]=_default;}),83783:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _uuid=__webpack_require__(21614);var _ActionsSection=_interopRequireDefault(__webpack_require__(59729));var _cta_form=_interopRequireDefault(__webpack_require__(96706));var _form_select=_interopRequireDefault(__webpack_require__(70154));var _promoted_content_form=_interopRequireDefault(__webpack_require__(66290));var _radio_group=_interopRequireDefault(__webpack_require__(85883));var _parts_service=_interopRequireDefault(__webpack_require__(77721));var _tags_service=_interopRequireDefault(__webpack_require__(84718));var _graphql=__webpack_require__(2740);var _types=__webpack_require__(88742);var _formatters=__webpack_require__(88231);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _home=_interopRequireDefault(__webpack_require__(77514));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var RADIO_BUTTONS=[{label:'Call to action',value:'cta'},{label:'Category',value:'category'},{label:'Product',value:'product'},{label:'Promoted content',value:'promotedContent'},{label:'Tag',value:'tag'}];var AddSectionView=function(_Component){_inherits(AddSectionView,_Component);var _super=_createSuper(AddSectionView);function AddSectionView(props){var _this;_classCallCheck(this,AddSectionView);_this=_super.call(this,props);_this.state={isBusy:false,sectionError:null,sectionType:'cta',sectionValue:''};_this.algoliaPartsService=new _parts_service["default"]();_this.algoliaTagsService=new _tags_service["default"]();_this.onAddSectionClick=_this.onAddSectionClick.bind(_assertThisInitialized(_this));_this.onPartsSearch=_this.onPartsSearch.bind(_assertThisInitialized(_this));_this.ctaRef=(0,_react.createRef)();_this.promotedContentRef=(0,_react.createRef)();return _this;}
_createClass(AddSectionView,[{key:"onAddSectionClick",value:function onAddSectionClick(){switch(this.state.sectionType){case 'cta':return this._validateAndPropagateCTA();case 'category':case 'product':return this._validateAndPropagateCategoryOrProduct();case 'promotedContent':return this._validateAndPropagatePromotedContent();case 'tag':return this._validateAndPropagateTag();default:return null;}}},{key:"onPartsSearch",value:function onPartsSearch(query){var _this2=this;return new Promise(function(resolve,reject){return(0,_graphql.graphQuery)({t:'search_parts'},{q:query,platform_id:_this2.props.channel.id,part_ids:_this2.props.partIdsFilterFacet}).then(function(res){_this2.setState({sectionError:null});resolve({options:_this2._qlPartRecordsToSelectOptions(res.parts.records)});})["catch"](function(err){return reject(err);});});}},{key:"_categoryListRecordsToSelectOptions",value:function _categoryListRecordsToSelectOptions(){var _this3=this;var records=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return records.map(function(record){return{disabled:record.record.projects_count<1,label:record.label,labelView:_this3._composeCategoryListOptionLabel(record),record:record.record,value:record.value};});}},{key:"_categoryOrCategoryTagToSection",value:function _categoryOrCategoryTagToSection(option){return{key:this.props.knownSorts.includes(option.value)?'sort':this.props.categorySelectionList.key,label:option.label,title:option.label,value:option.value,record:option.record};}},{key:"_ctaToSection",value:function _ctaToSection(cta){return{key:'cta',label:cta.name,meta:{image_name:cta.image.name,image_url:cta.image.url,link:cta.link},title:cta.name,value:cta.image.id};}},{key:"_partRecordToSection",value:function _partRecordToSection(option){return{key:'part_id',label:option.label,title:option.label,value:option.value,record:option.record};}},{key:"_promotedContentToSection",value:function _promotedContentToSection(pc){return{key:'promoted',label:'Promoted content',meta:{content:pc.content},title:pc.title,value:(0,_uuid.v1)()};}},{key:"_tagToSection",value:function _tagToSection(option){return{key:'tag_id',label:option.label,title:option.title,value:option.value,record:option.record};}},{key:"_qlPartRecordsToSelectOptions",value:function _qlPartRecordsToSelectOptions(){var _this4=this;var records=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var partCounts=this.props.projectRelationsCounts.parts||{};return records.map(function(record){var count=partCounts.hasOwnProperty(record.id)?partCounts[record.id]:0;var recordWithCounts=Object.assign({},record,{projects_count:count});return{disabled:count<1,label:record.name,labelView:_this4._getPartOptionLabelView(recordWithCounts),record:recordWithCounts,value:record.id};}).sort(function(a,b){if(a.record.projects_count>b.record.projects_count)return-1;if(a.record.projects_count<b.record.projects_count)return 1;return 0;});}},{key:"_radioButtonsForChannelType",value:function _radioButtonsForChannelType(type){switch(type){case 'Community':return RADIO_BUTTONS.filter(function(rb){return rb.value!=='product'&&rb.value!=='tag';});case 'Platform':return RADIO_BUTTONS.filter(function(rb){return rb.value!=='tag';});case 'Topic':return RADIO_BUTTONS.filter(function(rb){return rb.value!=='product';});default:return null;}}},{key:"_tagSelectionListRecordsToSelectOptions",value:function _tagSelectionListRecordsToSelectOptions(){var _this5=this;var records=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return records.map(function(record){return{disabled:record.record.projects_count<1,label:record.label,labelView:_this5._getTagSelectionListOptionLabel(record),record:record.record,title:record.title,value:record.value};});}},{key:"_validateAndPropagateCategoryOrProduct",value:function _validateAndPropagateCategoryOrProduct(){if((0,_types.isBlank)(this.state.sectionValue))return this.setState({sectionError:"A ".concat(this.state.sectionType," must be selected.")});return this.state.sectionType==='product'?this.props.appendSection(this._partRecordToSection(this.state.sectionValue),this.state.sectionType):this.props.appendSection(this._categoryOrCategoryTagToSection(this.state.sectionValue),this.state.sectionType);}},{key:"_validateAndPropagateCTA",value:function _validateAndPropagateCTA(){var validated=this.ctaRef.current.validate();if(validated){this.props.appendSection(this._ctaToSection(this.ctaRef.current.getFormData()),this.state.sectionType);}}},{key:"_validateAndPropagatePromotedContent",value:function _validateAndPropagatePromotedContent(){var validated=this.promotedContentRef.current.validate();if(validated){this.props.appendSection(this._promotedContentToSection(this.promotedContentRef.current.getContent()),this.state.sectionType);}}},{key:"_validateAndPropagateTag",value:function _validateAndPropagateTag(){if((0,_types.isBlank)(this.state.sectionValue))return this.setState({sectionError:"A ".concat(this.state.sectionType," must be selected.")});this.props.appendSection(this._tagToSection(this.state.sectionValue),this.state.sectionType);}},{key:"_getPartOptionLabelView",value:function _getPartOptionLabelView(record){return _react["default"].createElement("span",{className:"".concat(_home["default"].partOption," ").concat(record.projects_count<1&&_home["default"].partOptionDisabled)},_react["default"].createElement("span",{className:_home["default"].partOptionName},record.name),_react["default"].createElement("span",null,"(",record.projects_count," ",(0,_formatters.pluralize)('project',record.projects_count),")"));}},{key:"_getTagSelectionListOptionLabel",value:function _getTagSelectionListOptionLabel(record){return _react["default"].createElement("span",{className:"".concat(_home["default"].partOption," ").concat(record.record.projects_count<1&&_home["default"].partOptionDisabled)},_react["default"].createElement("span",{className:_home["default"].partOptionName},record.title),_react["default"].createElement("span",null,"(",record.record.projects_count," ",(0,_formatters.pluralize)('project',record.record.projects_count),")"));}},{key:"_composeCategoryListOptionLabel",value:function _composeCategoryListOptionLabel(record){return _react["default"].createElement("span",{className:"".concat(_home["default"].partOption," ").concat(record.record.projects_count<1&&_home["default"].partOptionDisabled)},_react["default"].createElement("span",{className:_home["default"].partOptionName},record.label),_react["default"].createElement("span",null,"(",record.record.projects_count," ",(0,_formatters.pluralize)('project',record.record.projects_count),")"));}},{key:"_getFormView",value:function _getFormView(){switch(this.state.sectionType){case 'category':return this._getCategoryView();case 'cta':return this._getCTAView();case 'product':return this._getProductView();case 'promotedContent':return this._getPromotedContentView();case 'tag':return this._getTagView();default:return null;}}},{key:"_getCategoryView",value:function _getCategoryView(){var _this6=this;return _react["default"].createElement("div",null,_react["default"].createElement("h3",{className:"".concat(_typography["default"].h3)},"Create a Project category section"),_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginBottom30)},_react["default"].createElement("span",{className:_layout["default"].block},"A project category section will show the 4 most recent projects of a category."),_react["default"].createElement("span",{className:_layout["default"].block},"The options include default project sorts and any custom Project categories created on the Projects tab above.")),_react["default"].createElement(_form_select["default"],{key:"category",errors:this.state.sectionError,helperText:"A section must have at-least 1 published project to be valid. Project approval may be necessary determined by your Moderation level.",maxWidth:500,onSelectedChange:function onSelectedChange(opt){return _this6.setState({sectionError:null,sectionValue:opt});},options:this._categoryListRecordsToSelectOptions(this.props.categorySelectionList.options),placeholder:"Select an option from the dropdown",selectOpts:{rule:'norule'},value:this.state.sectionValue}));}},{key:"_getCTAView",value:function _getCTAView(){var _this7=this;return _react["default"].createElement("div",null,_react["default"].createElement("h3",{className:"".concat(_typography["default"].h3)},"Create a call to action section"),_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginBottom30)},"A CTA section is a full page banner for promotional means. The image will scale dynamically with the user's screen."),_react["default"].createElement(_cta_form["default"],{ref:this.ctaRef,propagateStatus:function propagateStatus(isBusy){return _this7.setState({isBusy:isBusy});}}));}},{key:"_getProductView",value:function _getProductView(){var _this8=this;return _react["default"].createElement("div",null,_react["default"].createElement("h3",{className:"".concat(_typography["default"].h3)},"Create a Product projects section"),_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginBottom30)},"A Product projects section will display recent projects where your product is in its BOM."),_react["default"].createElement(_form_select["default"],{key:"product",asyncOpts:{initOnMount:true,initQuery:'',request:this.onPartsSearch},errors:this.state.sectionError,helperText:"Only approved products will be shown in this dropdown. We will show only 20 products at a time. If you don't see your product in the dropdown, search for it by name.",maxWidth:500,onSelectedChange:function onSelectedChange(opt){return _this8.setState({sectionError:null,sectionValue:opt});},placeholder:"Select an option from the dropdown or type to search",value:this.state.sectionValue}));}},{key:"_getPromotedContentView",value:function _getPromotedContentView(){var _this9=this;return _react["default"].createElement("div",null,_react["default"].createElement("h3",{className:"".concat(_typography["default"].h3)},"Create a promoted content section"),_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginBottom30)},_react["default"].createElement("span",{className:_layout["default"].block},"A promoted content section is a catch-all section to promote various types of your content."),_react["default"].createElement("span",{className:_layout["default"].block},"You may have 2-4 items per section and the layout will adjust according to the amount of items.")),_react["default"].createElement(_promoted_content_form["default"],{ref:this.promotedContentRef,algoliaPartsService:this.algoliaPartsService,algoliaTagsService:this.algoliaTagsService,propagateStatus:function propagateStatus(isBusy){return _this9.setState({isBusy:isBusy});}}));}},{key:"_getTagView",value:function _getTagView(){var _this10=this;return _react["default"].createElement("div",null,_react["default"].createElement("h3",{className:"".concat(_typography["default"].h3)},"Create a Tag projects section"),_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginBottom30)},_react["default"].createElement("span",{className:_layout["default"].block},"A tag section will show the 4 most recent projects that has the tag attached.")),_react["default"].createElement(_form_select["default"],{key:"tag",errors:this.state.sectionError,helperText:"A section must have at-least 1 published project to be valid.",maxWidth:500,onSelectedChange:function onSelectedChange(opt){return _this10.setState({sectionError:null,sectionValue:opt});},options:this._tagSelectionListRecordsToSelectOptions(this.props.tagSelectionList),placeholder:"Select an option from the dropdown",selectOpts:{rule:'norule'},value:this.state.sectionValue}));}},{key:"render",value:function render(){var _this11=this;return _react["default"].createElement("section",{className:_home["default"].root},_react["default"].createElement("div",{className:_layout["default"].marginBottom60},_react["default"].createElement("h4",{className:_layout["default"].marginBottom30},"Add project section"),_react["default"].createElement(_radio_group["default"],{buttons:this._radioButtonsForChannelType(this.props.channel.type),label:"Select a section type",onChange:function onChange(e){return _this11.setState({sectionError:null,sectionType:e.target.value,sectionValue:''});},value:this.state.sectionType}),_react["default"].createElement("div",null,this._getFormView()),_react["default"].createElement("div",null,_react["default"].createElement(_ActionsSection["default"],{disabled:this.state.isBusy,isBusy:this.state.isBusy,primaryBtnConfig:{onClick:this.onAddSectionClick,text:'Add section'},secondaryBtnConfig:{onClick:this.props.toggleView}}))));}}]);return AddSectionView;}(_react.Component);AddSectionView.propTypes={appendSection:_propTypes["default"].func.isRequired,categorySelectionList:_propTypes["default"].shape({key:_propTypes["default"].string.isRequired,options:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,record:_propTypes["default"].shape({projects_count:_propTypes["default"].number}),value:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].bool,_propTypes["default"].string])}))}).isRequired,channel:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,type:_propTypes["default"].string.isRequired}).isRequired,knownSorts:_propTypes["default"].arrayOf(_propTypes["default"].string).isRequired,partIdsFilterFacet:_propTypes["default"].arrayOf(_propTypes["default"].number).isRequired,projectRelationsCounts:_propTypes["default"].object.isRequired,tagSelectionList:_propTypes["default"].arrayOf(_propTypes["default"].shape({key:_propTypes["default"].string,label:_propTypes["default"].string,record:_propTypes["default"].shape({projects_count:_propTypes["default"].number}),title:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number,_propTypes["default"].bool])})),toggleView:_propTypes["default"].func.isRequired};var _default=AddSectionView;exports["default"]=_default;}),25602:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _home=_interopRequireDefault(__webpack_require__(80342));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _typography=_interopRequireDefault(__webpack_require__(68163));var _home_sections=_interopRequireDefault(__webpack_require__(61122));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var PreviewView=function(_Component){_inherits(PreviewView,_Component);var _super=_createSuper(PreviewView);function PreviewView(props){_classCallCheck(this,PreviewView);return _super.call(this,props);}
_createClass(PreviewView,[{key:"componentDidMount",value:function componentDidMount(){this._toggleBodyScroll(true);}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._toggleBodyScroll(false);}},{key:"_toggleBodyScroll",value:function _toggleBodyScroll(addClass){if(document){if(addClass&&!document.body.classList.contains('no-scroll')){document.body.classList.add('no-scroll');}else if(!addClass&&document.body.classList.contains('no-scroll')){document.body.classList.remove('no-scroll');}}}},{key:"render",value:function render(){var _this=this;var channelType=this.props.channel.type.toLowerCase();return _react["default"].createElement("div",{className:_home_sections["default"].previewRoot},_react["default"].createElement("div",{className:_home_sections["default"].previewWrapper},_react["default"].createElement("div",{className:_home_sections["default"].previewHeaderFixedContainer},_react["default"].createElement("div",{className:_home_sections["default"].previewHeaderWrapper},_react["default"].createElement("div",{className:_home_sections["default"].previewHeader},_react["default"].createElement("h3",{className:"".concat(_typography["default"].headerLNoMarginTop," ").concat(_typography["default"].fontWeight300)},"Preview home page"),_react["default"].createElement("div",null,_react["default"].createElement("button",{className:_buttons["default"].lg,onClick:function onClick(){return _this.props.toggleView('table');},type:"button"},"Close preview"))))),_react["default"].createElement("div",{className:_home_sections["default"].previewHomePageWrapper},_react["default"].createElement(_home["default"],{canManage:true,homeSections:this.props.sections,path:"/",renderForPreview:true,seoHandler:function seoHandler(){},transition:function transition(){},viewAllBuilderArg:function viewAllBuilderArg(){return{type:channelType,props:_defineProperty({},channelType,_this.props.channel)};}}))));}}]);return PreviewView;}(_react.Component);PreviewView.propTypes={channel:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,type:_propTypes["default"].string.isRequired,user_name:_propTypes["default"].string.isRequired}).isRequired,sections:_propTypes["default"].array.isRequired,toggleView:_propTypes["default"].func.isRequired};PreviewView.defaultProps={};var _default=PreviewView;exports["default"]=_default;}),58189:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DragAndDropList=_interopRequireDefault(__webpack_require__(61640));var _SectionListLoader=_interopRequireDefault(__webpack_require__(43101));var _SectionCard=_interopRequireDefault(__webpack_require__(718));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _section_list=_interopRequireDefault(__webpack_require__(78894));var _layout=_interopRequireDefault(__webpack_require__(42721));var _home=_interopRequireDefault(__webpack_require__(77514));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var TableView=function TableView(_ref){var removeSection=_ref.removeSection,sections=_ref.sections,toggleView=_ref.toggleView,updateSection=_ref.updateSection,updateSectionsOrder=_ref.updateSectionsOrder;return _react["default"].createElement("section",{className:_home["default"].root},_react["default"].createElement("header",{className:_layout["default"].marginBottom60},_react["default"].createElement("p",null,"We recommend having 8-10 sections"),_react["default"].createElement("button",{className:"".concat(_buttons["default"].lg," ").concat(_buttons["default"].secondary),disabled:sections===null,onClick:function onClick(){return toggleView('addSection');},type:"button"},"Add section"),_react["default"].createElement("button",{className:"".concat(_buttons["default"].lg," ").concat(_layout["default"].marginLeft15),onClick:function onClick(){return toggleView('preview');},type:"button"},"Preview")),_react["default"].createElement("div",{className:_home["default"].tableContainer},_react["default"].createElement("div",{className:_home["default"].tableHeader},_react["default"].createElement("div",{className:_home["default"].ghostDragBox}),_react["default"].createElement("div",{className:"".concat(_home["default"].headerCell," ").concat(_section_list["default"].cell30)},"Name"),_react["default"].createElement("div",{className:"".concat(_home["default"].headerCell," ").concat(_section_list["default"].cell20)},"Type"),_react["default"].createElement("div",{className:"".concat(_home["default"].headerCell," ").concat(_section_list["default"].cell20)},"Content tag"),_react["default"].createElement("div",{className:"".concat(_home["default"].headerCell," ").concat(_section_list["default"].cell10)},"Projects count"),_react["default"].createElement("div",{className:"".concat(_home["default"].headerCell," ").concat(_section_list["default"].cell10)},"Actions")),sections&&sections.length>0?_react["default"].createElement(_DragAndDropList["default"],{classNames:{item:_section_list["default"].row},dragEndCallback:updateSectionsOrder,hasDragHandle:true,ItemComponent:_SectionCard["default"],itemProps:{removeItem:removeSection,toggleView:toggleView,updateItem:updateSection},items:sections.map(function(s){return Object.assign({},s,{id:s.value});})}):_react["default"].createElement(_SectionListLoader["default"],null)));};TableView.propTypes={removeSection:_propTypes["default"].func.isRequired,sections:_propTypes["default"].arrayOf(_propTypes["default"].object),toggleView:_propTypes["default"].func.isRequired,updateSection:_propTypes["default"].func.isRequired,updateSectionsOrder:_propTypes["default"].func.isRequired};TableView.defaultProps={sections:null};var _default=TableView;exports["default"]=_default;}),86201:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _AddSectionView=_interopRequireDefault(__webpack_require__(83783));var _EditCTAView=_interopRequireDefault(__webpack_require__(15304));var _EditPromotedContentView=_interopRequireDefault(__webpack_require__(56353));var _PreviewView=_interopRequireDefault(__webpack_require__(25602));var _TableView=_interopRequireDefault(__webpack_require__(58189));var _graphql=__webpack_require__(2740);var _accessors=__webpack_require__(4887);var _error_handler=_interopRequireDefault(__webpack_require__(84616));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var KNOWN_SORTS_FOR_CATEGORY_SELECTION_LIST=['popular','published'];var MOST_RECENT_SECTION_DEFAULTED={key:'sort',label:'Most recent',meta:{msg:'Default section when sections are emptied.'},title:'Most recent',value:'published'};var PROJECT_COUNTS_TO_SECTION_KEY_MAP={category_id:'categories',part_id:'parts',sort:'all_projects_count',tag_id:'tags',topic_id:'topics'};var ChannelManageHome=function(_Component){_inherits(ChannelManageHome,_Component);var _super=_createSuper(ChannelManageHome);function ChannelManageHome(props){var _this;_classCallCheck(this,ChannelManageHome);_this=_super.call(this,props);_this.state={categorySelectionList:{},categorySelectionListMaster:_this.props.channel.category_selection_list,currentSectionData:null,hiddenInputValue:'',partIdsFilterFacet:[],projectRelationsCounts:{},sections:null,tagSelectionList:[],tagSelectionListMaster:_this.props.channel.tag_selection_list||[],view:'table'};_this.appendSection=_this.appendSection.bind(_assertThisInitialized(_this));_this.removeSection=_this.removeSection.bind(_assertThisInitialized(_this));_this.updateSection=_this.updateSection.bind(_assertThisInitialized(_this));return _this;}
_createClass(ChannelManageHome,[{key:"componentDidMount",value:function componentDidMount(){this._initializeProjectsCountForSections();}},{key:"_initializeProjectsCountForSections",value:function _initializeProjectsCountForSections(){var _this2=this;return this._fetchProjectRelationsCounts().then(function(projectRelationsCounts){var sections=_this2.props.channel.home_sections;var categorySelectionListWithCounts=_this2._mergeProjectCountsToSelectionList(projectRelationsCounts);var tagSelectListWithCounts=_this2._mergeProjectCountsToTagSelectionList(projectRelationsCounts);_this2.setState({categorySelectionList:_this2._dedupeCategorySelectionList(sections,categorySelectionListWithCounts),categorySelectionListMaster:categorySelectionListWithCounts,hiddenInputValue:_this2._composeInputJsonValue(sections),partIdsFilterFacet:_this2._getPartIdsFilterFacet(sections),projectRelationsCounts:projectRelationsCounts,sections:_this2._mergeProjectCountsToSections(sections,projectRelationsCounts),tagSelectionList:_this2._dedupeTagSelectionList(sections,tagSelectListWithCounts),tagSelectionListMaster:tagSelectListWithCounts});})["catch"](function(err){return(0,_error_handler["default"])('_initializeProjectsCountForSections',err);});}},{key:"_mergeProjectCountsToSections",value:function _mergeProjectCountsToSections(sections,projectRelationsCounts){return sections.reduce(function(acc,section){if(['category_id','topic_id'].includes(section.key)&&section.value==='featured'){acc=acc.concat(Object.assign({},section,{record:{projects_count:projectRelationsCounts.featured_count}}));}else if(PROJECT_COUNTS_TO_SECTION_KEY_MAP.hasOwnProperty(section.key)){var column=projectRelationsCounts[PROJECT_COUNTS_TO_SECTION_KEY_MAP[section.key]];if(typeof column==='number'){acc=acc.concat(Object.assign({},section,{record:{projects_count:column}}));}else{var count=column&&column.hasOwnProperty(section.value)?column[section.value]:0;acc=acc.concat(Object.assign({},section,{record:{projects_count:count}}));}}else{acc=acc.concat(Object.assign({},section,{record:{projects_count:0}}));}
return acc;},[]);}},{key:"_mergeProjectCountsToTagSelectionList",value:function _mergeProjectCountsToTagSelectionList(projectRelationsCounts){var tagsBucket=projectRelationsCounts.tags||{};return this.state.tagSelectionListMaster.map(function(opt){return Object.assign({},opt,{record:{projects_count:tagsBucket[opt.value]||0}});});}},{key:"_mergeProjectCountsToSelectionList",value:function _mergeProjectCountsToSelectionList(projectRelationsCounts){var categoryListKey=this.state.categorySelectionListMaster.key;var optionsWithProjectsCount=this.state.categorySelectionListMaster.options.map(function(opt){var column=projectRelationsCounts[PROJECT_COUNTS_TO_SECTION_KEY_MAP[categoryListKey]];if(opt.value==='featured'){return Object.assign({},opt,{record:{projects_count:projectRelationsCounts.featured_count}});}else if(column&&column.hasOwnProperty(opt.value)){return Object.assign({},opt,{record:{projects_count:column[opt.value]||0}});}else if(KNOWN_SORTS_FOR_CATEGORY_SELECTION_LIST.includes(opt.value)){return Object.assign({},opt,{record:{projects_count:projectRelationsCounts.all_projects_count||0}});}else{return Object.assign({},opt,{record:{projects_count:0}});}}).sort(function(a,b){if(a.record.projects_count>b.record.projects_count)return-1;if(a.record.projects_count<b.record.projects_count)return 1;return 0;});return{key:categoryListKey,options:optionsWithProjectsCount};}},{key:"appendSection",value:function appendSection(section,type){switch(type){case 'category':return this._addCategoryOrTagToSections(section);case 'cta':return this._addSection(section);case 'product':return this._addPartToSections(section);case 'promotedContent':return this._addSection(section);case 'tag':return this._addTagToSections(section);default:return null;}}},{key:"removeSection",value:function removeSection(section){var updatedSections=this.state.sections.filter(function(sect,i){return section.index!==i;});if(!updatedSections.length){updatedSections.push(MOST_RECENT_SECTION_DEFAULTED);}
this.setState({categorySelectionList:this._dedupeCategorySelectionList(updatedSections,this.state.categorySelectionListMaster),hiddenInputValue:this._composeInputJsonValue(updatedSections),partIdsFilterFacet:this._getPartIdsFilterFacet(updatedSections),sections:updatedSections,tagSelectionList:this._dedupeTagSelectionList(updatedSections,this.state.tagSelectionListMaster)});}},{key:"updateSection",value:function updateSection(section){var updatedSections=this.state.sections.map(function(sect,i){return section.index===i?section.data:sect;});this.setState({hiddenInputValue:this._composeInputJsonValue(updatedSections),sections:updatedSections});}},{key:"_fetchProjectRelationsCounts",value:function _fetchProjectRelationsCounts(){var _this3=this;return new Promise(function(resolve,reject){return(0,_graphql.graphQuery)({t:'get_channel_relations_projects_count'},{id:_this3.props.channel.id}).then(function(res){return resolve((0,_accessors.getInObj)(['channel','relations_projects_counts'],res)||{});})["catch"](function(err){return reject(err);});});}},{key:"_addSection",value:function _addSection(section){var updatedSections=this.state.sections.concat(section);this.setState({hiddenInputValue:this._composeInputJsonValue(updatedSections),sections:updatedSections,view:'table'});}},{key:"_addCategoryOrTagToSections",value:function _addCategoryOrTagToSections(section){var updatedSections=this.state.sections.concat(section);this.setState({categorySelectionList:this._dedupeCategorySelectionList(updatedSections,this.state.categorySelectionListMaster),hiddenInputValue:this._composeInputJsonValue(updatedSections),sections:updatedSections,view:'table'});}},{key:"_addPartToSections",value:function _addPartToSections(section){var updatedSections=this.state.sections.concat(section);this.setState({partIdsFilterFacet:section.key==='part_id'?this._getPartIdsFilterFacet(updatedSections):this.state.partIdsFilterFacet,hiddenInputValue:this._composeInputJsonValue(updatedSections),sections:updatedSections,view:'table'});}},{key:"_addTagToSections",value:function _addTagToSections(section){var updatedSections=this.state.sections.concat(section);this.setState({hiddenInputValue:this._composeInputJsonValue(updatedSections),sections:updatedSections,tagSelectionList:this._dedupeTagSelectionList(updatedSections,this.state.tagSelectionListMaster),view:'table'});}},{key:"_composeInputJsonValue",value:function _composeInputJsonValue(sections){return JSON.stringify(sections);}},{key:"_dedupeCategorySelectionList",value:function _dedupeCategorySelectionList(sections,categoryList){var updatedOptions=categoryList.options.filter(function(option){return sections.findIndex(function(section){return(section.key===categoryList.key||section.key==='sort')&&section.value===option.value;})===-1;});return Object.assign({},categoryList,{options:updatedOptions});}},{key:"_dedupeTagSelectionList",value:function _dedupeTagSelectionList(sections,tagList){return tagList.filter(function(opt){return sections.findIndex(function(section){return section.key==='tag_id'&&section.value===opt.value;})===-1;});}},{key:"_getPartIdsFilterFacet",value:function _getPartIdsFilterFacet(sections){return sections.reduce(function(acc,section){return section.key==='part_id'?acc.concat(section.value):acc;},[]);}},{key:"_toggleView",value:function _toggleView(view){var sectionData=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.setState({view:view,currentSectionData:sectionData},function(){return document.getElementById('main').scrollIntoView();});}},{key:"_getMainView",value:function _getMainView(){switch(this.state.view){case 'addSection':return this._getAddSectionView();case 'editCTA':return this._getEditCTAView();case 'editPromoted':return this._getEditPromotedContentView();case 'preview':return this._getPreviewView();case 'table':default:return this._getTableView();}}},{key:"_getAddSectionView",value:function _getAddSectionView(){var _this4=this;return _react["default"].createElement(_AddSectionView["default"],{appendSection:this.appendSection,categorySelectionList:this.state.categorySelectionList,channel:{id:this.props.channel.id,type:this.props.channel.type},knownSorts:KNOWN_SORTS_FOR_CATEGORY_SELECTION_LIST,partIdsFilterFacet:this.state.partIdsFilterFacet,projectRelationsCounts:this.state.projectRelationsCounts,tagSelectionList:this.state.tagSelectionList,toggleView:function toggleView(){return _this4._toggleView('table');}});}},{key:"_getEditCTAView",value:function _getEditCTAView(){var _this5=this;return _react["default"].createElement(_EditCTAView["default"],{ctaSection:this.state.currentSectionData,toggleView:function toggleView(view){return _this5._toggleView(view);},updateSection:this.updateSection});}},{key:"_getEditPromotedContentView",value:function _getEditPromotedContentView(){var _this6=this;return _react["default"].createElement(_EditPromotedContentView["default"],{section:this.state.currentSectionData,toggleView:function toggleView(view){return _this6._toggleView(view);},updateSection:this.updateSection});}},{key:"_getPreviewView",value:function _getPreviewView(){var _this7=this;return _react["default"].createElement(_PreviewView["default"],{channel:this.props.channel,sections:this.state.sections,toggleView:function toggleView(view){return _this7._toggleView(view);}});}},{key:"_getTableView",value:function _getTableView(){var _this8=this;return _react["default"].createElement(_TableView["default"],{removeSection:this.removeSection,sections:this.state.sections,toggleView:function toggleView(view,sectionData){return _this8._toggleView(view,sectionData);},updateSection:this.updateSection,updateSectionsOrder:function updateSectionsOrder(sections){return _this8.setState({sections:sections,hiddenInputValue:_this8._composeInputJsonValue(sections)});}});}},{key:"render",value:function render(){return _react["default"].createElement("div",null,_react["default"].createElement("input",{type:"hidden",id:"group_home_sections",name:"group[home_sections]",value:this.state.hiddenInputValue}),this._getMainView());}}]);return ChannelManageHome;}(_react.Component);ChannelManageHome.propTypes={channel:_propTypes["default"].shape({category_selection_list:_propTypes["default"].shape({key:_propTypes["default"].string.isRequired,options:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number,_propTypes["default"].bool])}))}).isRequired,home_sections:_propTypes["default"].arrayOf(_propTypes["default"].shape({key:_propTypes["default"].string,label:_propTypes["default"].string,title:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number,_propTypes["default"].bool])})).isRequired,id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,tag_selection_list:_propTypes["default"].arrayOf(_propTypes["default"].shape({key:_propTypes["default"].string,label:_propTypes["default"].string,title:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number,_propTypes["default"].bool])})),type:_propTypes["default"].string.isRequired,user_name:_propTypes["default"].string.isRequired}).isRequired};ChannelManageHome.defaultProps={channel:{tag_selection_list:[]}};var _default=ChannelManageHome;exports["default"]=_default;}),26341:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _inputs=_interopRequireDefault(__webpack_require__(26241));var _typography=_interopRequireDefault(__webpack_require__(68163));var _section_list=_interopRequireDefault(__webpack_require__(78894));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var NameCell=function(_Component){_inherits(NameCell,_Component);var _super=_createSuper(NameCell);function NameCell(props){var _this;_classCallCheck(this,NameCell);_this=_super.call(this,props);_this.state={isEditing:false,title:props.title,titleForInput:null};_this.input;return _this;}
_createClass(NameCell,[{key:"_onEditClick",value:function _onEditClick(){var payload={index:this.props.index,data:this.props.item};switch(this.props.item.key){case 'cta':return this.props.toggleView('editCTA',payload);case 'promoted':return this.props.toggleView('editPromoted',payload);case 'video':return this.props.toggleView('editVideo',payload);default:return this.toggleEditingState(true);}}},{key:"toggleEditingState",value:function toggleEditingState(bool){var _this2=this;this.setState({isEditing:bool,titleForInput:bool?this.state.title:null},function(){if(bool&&_this2.input)_this2.input.focus();});}},{key:"updateTitle",value:function updateTitle(){var updatedTitle=this.state.titleForInput;this.props.updateTitle(updatedTitle);this.setState({isEditing:false,title:updatedTitle.length>0?updatedTitle:this.state.title,titleForInput:null});}},{key:"_supressSubmitOnEnterAndSave",value:function _supressSubmitOnEnterAndSave(e){if(e.keyCode===13){e.preventDefault();this.updateTitle();}else if(e.keyCode===27){e.preventDefault();this.toggleEditingState(false);}}},{key:"_getTitleView",value:function _getTitleView(){return this.state.isEditing?this._getTitleEditor():this._getTitle();}},{key:"_getTitleEditor",value:function _getTitleEditor(){var _this3=this;return _react["default"].createElement("input",{ref:function ref(el){return _this3.input=el;},className:"".concat(_inputs["default"].input," ").concat(_section_list["default"].titleInput),type:"text",value:this.state.titleForInput,onChange:function onChange(e){return _this3.setState({titleForInput:e.target.value});},onKeyDown:function onKeyDown(e){return _this3._supressSubmitOnEnterAndSave(e);}});}},{key:"_getTitle",value:function _getTitle(){return _react["default"].createElement("span",{className:_section_list["default"].title},_react["default"].createElement("span",null,this.state.title),this.props.meta&&this.props.meta.msg&&_react["default"].createElement("span",{className:_section_list["default"].metaMsg},this.props.meta.msg));}},{key:"_getButtonView",value:function _getButtonView(){return this.state.isEditing?this._getEditingButtons():this._getEditButton();}},{key:"_getEditingButtons",value:function _getEditingButtons(){var _this4=this;return _react["default"].createElement("span",{className:_section_list["default"].buttonCntr},_react["default"].createElement("button",{className:"".concat(_buttons["default"].sm," ").concat(_section_list["default"].saveBtn),type:"button",onClick:function onClick(){return _this4.updateTitle();}},"Save"),_react["default"].createElement("button",{className:"".concat(_buttons["default"].blank," ").concat(_typography["default"].link," ").concat(_typography["default"].bodyS," ").concat(_section_list["default"].saveBtn),type:"button",onClick:function onClick(){return _this4.toggleEditingState(false);}},"Cancel"));}},{key:"_getEditButton",value:function _getEditButton(){var _this5=this;return _react["default"].createElement("span",{className:_section_list["default"].buttonCntr},_react["default"].createElement("button",{className:_buttons["default"].blank,type:"button",onClick:function onClick(){return _this5._onEditClick();}},_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].linkBlue," ").concat(_typography["default"].bold)},"Edit")));}},{key:"render",value:function render(){return _react["default"].createElement("span",{className:_section_list["default"].nameCell},this._getTitleView(),this._getButtonView());}}]);return NameCell;}(_react.Component);NameCell.propTypes={index:_propTypes["default"].number.isRequired,item:_propTypes["default"].shape({key:_propTypes["default"].string}).isRequired,meta:_propTypes["default"].object,title:_propTypes["default"].string.isRequired,toggleView:_propTypes["default"].func.isRequired,updateTitle:_propTypes["default"].func.isRequired};NameCell.defaultProps={meta:null};var _default=NameCell;exports["default"]=_default;}),718:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _NameCell=_interopRequireDefault(__webpack_require__(26341));var _formatters=__webpack_require__(88231);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _section_list=_interopRequireDefault(__webpack_require__(78894));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function getTypeForKey(key){var map={cta:'Call to action',part_id:'Product',promoted:'Promoted content',video:'Videos'};return map.hasOwnProperty(key)?map[key]:'Category';}
var DragHandle=function DragHandle(_ref){var attributes=_ref.attributes,listeners=_ref.listeners;return _react["default"].createElement("span",_extends({},attributes,listeners,{className:_section_list["default"].dragHandle}),_react["default"].createElement("span",{className:_section_list["default"].dragHandleIcon},"::"));};var SectionCard=function SectionCard(_ref2){var attributes=_ref2.attributes,item=_ref2.item,itemIndex=_ref2.itemIndex,listeners=_ref2.listeners,removeItem=_ref2.removeItem,toggleView=_ref2.toggleView,updateItem=_ref2.updateItem;var key=item.key,label=item.label,meta=item.meta,record=item.record,title=item.title;return _react["default"].createElement("div",{className:"".concat(_layout["default"].flex," ").concat(_layout["default"].fullWidth)},_react["default"].createElement(DragHandle,{attributes:attributes,listeners:listeners}),_react["default"].createElement(_NameCell["default"],{index:itemIndex,item:item,meta:meta||null,title:title,toggleView:toggleView,updateTitle:function updateTitle(title){return updateItem({index:itemIndex,data:Object.assign({},item,{title:title})});}}),_react["default"].createElement("span",{className:"".concat(_section_list["default"].cell," ").concat(_section_list["default"].cell20)},getTypeForKey(key)),_react["default"].createElement("span",{className:"".concat(_section_list["default"].cell," ").concat(_section_list["default"].cell20)},_react["default"].createElement("span",{className:_section_list["default"].tag},label)),_react["default"].createElement("span",{className:"".concat(_section_list["default"].cell," ").concat(_section_list["default"].cell10)},(0,_formatters.formatNumberWithCommas)(record&&record.projects_count?record.projects_count:0)),_react["default"].createElement("span",{className:"".concat(_section_list["default"].cell," ").concat(_section_list["default"].cell10)},_react["default"].createElement("button",{className:_buttons["default"].blank,type:"button",onClick:function onClick(){return removeItem({index:itemIndex,data:item});}},_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].linkBlue," ").concat(_typography["default"].bold)},"remove"))));};SectionCard.propTypes={item:_propTypes["default"].shape({key:_propTypes["default"].string.isRequired,label:_propTypes["default"].string.isRequired,record:_propTypes["default"].shape({projects_count:_propTypes["default"].number}),title:_propTypes["default"].string.isRequired,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].bool,_propTypes["default"].number]).isRequired}).isRequired,itemIndex:_propTypes["default"].number.isRequired,removeItem:_propTypes["default"].func.isRequired,toggleView:_propTypes["default"].func.isRequired,updateItem:_propTypes["default"].func.isRequired};SectionCard.defaultProps={record:{projects_count:0}};var _default=SectionCard;exports["default"]=_default;}),43101:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _section_list=_interopRequireDefault(__webpack_require__(78894));var _home=_interopRequireDefault(__webpack_require__(77514));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var CardLoader=function CardLoader(){return _react["default"].createElement("li",{className:_section_list["default"].row},_react["default"].createElement("span",{className:_home["default"].ghostDragBox}),_react["default"].createElement("span",{className:"".concat(_home["default"].ghostCell," ").concat(_section_list["default"].cell30)},_react["default"].createElement("span",{className:_home["default"].greyNothing})),_react["default"].createElement("span",{className:"".concat(_home["default"].ghostCell," ").concat(_section_list["default"].cell20)},_react["default"].createElement("span",{className:_home["default"].greyNothing})),_react["default"].createElement("span",{className:"".concat(_home["default"].ghostCell," ").concat(_section_list["default"].cell20)},_react["default"].createElement("span",{className:_home["default"].greyNothing})),_react["default"].createElement("span",{className:"".concat(_home["default"].ghostCell," ").concat(_section_list["default"].cell10)},_react["default"].createElement("span",{className:_home["default"].greyNothing})),_react["default"].createElement("span",{className:"".concat(_home["default"].ghostCell," ").concat(_section_list["default"].cell10)},_react["default"].createElement("span",{className:_home["default"].greyNothing})));};var SectionListLoader=function SectionListLoader(){return _react["default"].createElement("ul",{className:_section_list["default"].list},_react["default"].createElement(CardLoader,null));};var _default=SectionListLoader;exports["default"]=_default;}),97890:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _dropdown=_interopRequireDefault(__webpack_require__(87327));var _icon=_interopRequireDefault(__webpack_require__(44509));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _simple_select=_interopRequireDefault(__webpack_require__(27464));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var EditIcon=function(_PureComponent){_inherits(EditIcon,_PureComponent);var _super=_createSuper(EditIcon);function EditIcon(props){var _this;_classCallCheck(this,EditIcon);_this=_super.call(this,props);_this.state={openMenu:false};_this.toggleMenu=_this.toggleMenu.bind(_assertThisInitialized(_this));return _this;}
_createClass(EditIcon,[{key:"toggleMenu",value:function toggleMenu(){this.setState({openMenu:!this.state.openMenu});}},{key:"render",value:function render(){var _this2=this;return _react["default"].createElement("div",{className:"".concat(_util["default"].posRelative)},_react["default"].createElement("button",{className:_buttons["default"].blank,disabled:this.props.disabled,onClick:this.toggleMenu,type:"button"},_react["default"].createElement(_icon["default"],{className:"".concat(_typography["default"].iconClickableBlue," ").concat(this.props.disabled&&_typography["default"].iconDisabled),name:"edit",size:20})),this.state.openMenu&&_react["default"].createElement(_dropdown["default"],{key:"menu",alignTop:false,dismiss:this.toggleMenu,alignRight:true},_react["default"].createElement("ul",{className:_util["default"].ulReset},this.props.menuOpts.map(function(opt){return _react["default"].createElement("li",{key:opt.value,className:_simple_select["default"].option,onClick:function onClick(){_this2.toggleMenu();_this2.props.onOptClick(opt);}},opt.label);}))));}}]);return EditIcon;}(_react.PureComponent);EditIcon.propTypes={disabled:_propTypes["default"].bool.isRequired,menuOpts:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string.isRequired,value:_propTypes["default"].string.isRequired})).isRequired};var _default=EditIcon;exports["default"]=_default;}),83755:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _EditIcon=_interopRequireDefault(__webpack_require__(97890));var _icon=_interopRequireDefault(__webpack_require__(44509));var _accessors=__webpack_require__(4887);var _formatters=__webpack_require__(88231);var _members=_interopRequireDefault(__webpack_require__(54193));var _animation=_interopRequireDefault(__webpack_require__(61461));var _ellipses=_interopRequireDefault(__webpack_require__(61589));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _excluded=["member"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}
var ACTIONS_MAX_HEIGHT=44;var _getActionsView=function _getActionsView(props){return _getWorkerIds(props.workers).includes(props.member.id)?ActionsLoader():ActionsView(props);};var _getEditMenu=function _getEditMenu(member,roleMenu){return roleMenu.filter(function(opt){return opt.value!==member.role;});};var _getMemberNameOrEmailView=function _getMemberNameOrEmailView(member){return(0,_accessors.getInObj)(['user','name'],member)?MemberNameView(member):MemberEmailView(member);};var _getMembersListView=function _getMembersListView(props){if(props.isFetching)return LoaderView();if(!props.isFetching&&props.members.length===0)return EmptyListView(props.searchHits,props.emptyListMsg);return MembersListView(props);};var _getWorkerIds=function _getWorkerIds(workers){if(!workers.length)return[];return workers.reduce(function(acc,worker){var id=(0,_accessors.getInObj)(['member','id'],worker);return id===null?acc:acc.concat(id);},[]);};var _shouldDisableAction=function _shouldDisableAction(currentUser,member){if(currentUser.isAdmin)return false;return member.invitation_pending||currentUser.id===(0,_accessors.getInObj)(['user','id'],member);};var ActionsLoader=function ActionsLoader(){return(_react["default"].createElement("div",{className:_ellipses["default"].ellipses,style:{minHeight:ACTIONS_MAX_HEIGHT}},_react["default"].createElement("div",null),_react["default"].createElement("div",null),_react["default"].createElement("div",null),_react["default"].createElement("div",null)));};var ActionsView=function ActionsView(_ref){var currentUser=_ref.currentUser,member=_ref.member,onDeleteMember=_ref.onDeleteMember,onUpdateMemberRole=_ref.onUpdateMemberRole,roleMenu=_ref.roleMenu;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("span",{className:_members["default"].memberCardEditIconWrapper,title:"Change role"},_react["default"].createElement(_EditIcon["default"],{disabled:_shouldDisableAction(currentUser,member),menuOpts:_getEditMenu(member,roleMenu),onOptClick:function onOptClick(opt){return onUpdateMemberRole(member,opt.value);}})),_react["default"].createElement("span",{className:_members["default"].memberCardTrashIconWrapper,title:"Delete member"},_react["default"].createElement(_icon["default"],{className:"".concat(_typography["default"].iconClickableRed," ").concat(_typography["default"].icon20),disabled:_shouldDisableAction(currentUser,member),name:"delete",onClick:function onClick(){return onDeleteMember(member);}})));};var EmptyListView=function EmptyListView(searchHits,emptyListMsg){return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifySpaceBetween," ").concat(_members["default"].memberCard)},_react["default"].createElement("h5",{className:"".concat(_typography["default"].h5)},searchHits!==null?'No members found for your search':emptyListMsg));};var LoaderView=function LoaderView(){return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifySpaceBetween," ").concat(_members["default"].memberCard)},_react["default"].createElement("p",{className:"".concat(_layout["default"].flex1," ").concat(_layout["default"].alignSelfCenter," ").concat(_typography["default"].textCenter)},_react["default"].createElement("span",{className:"".concat(_typography["default"].dummyM," ").concat(_animation["default"].loader),style:{display:'block',maxWidth:150}})),_react["default"].createElement("p",{className:"".concat(_layout["default"].flex," ").concat(_layout["default"].flex1," ").concat(_layout["default"].alignSelfCenter)},_react["default"].createElement("span",{className:"".concat(_layout["default"].alignSelfCenter," ").concat(_typography["default"].dummyM," ").concat(_animation["default"].loader),style:{display:'block',maxWidth:150}})),_react["default"].createElement("p",{className:"".concat(_layout["default"].flexJustifyEnd," ").concat(_layout["default"].flex1," ").concat(_layout["default"].alignSelfCenter)},_react["default"].createElement("span",{className:"".concat(_layout["default"].alignSelfCenter," ").concat(_typography["default"].dummyM," ").concat(_animation["default"].loader),style:{display:'block',maxWidth:100}})));};var MemberEmailView=function MemberEmailView(member){return _react["default"].createElement("div",{className:"".concat(_layout["default"].flex1," ").concat(_layout["default"].flexColumn)},_react["default"].createElement("p",{className:"".concat(_layout["default"].alignSelfStart," ").concat(_layout["default"].flexCenterItems," ").concat(_typography["default"].bodyM)},member.user.email),_react["default"].createElement("p",{className:"".concat(_layout["default"].hiddenSmallUp," ").concat(_layout["default"].flexColumn," ").concat(_layout["default"].flex1," ").concat(_layout["default"].marginTop10," ").concat(_typography["default"].bodyS)},_react["default"].createElement("span",{className:"".concat(_layout["default"].alignSelfStart)},(0,_formatters.capitalize)(member.role)),member.invitation_pending&&_react["default"].createElement("span",{className:"".concat(_layout["default"].alignSelfStart," ").concat(_typography["default"].bodyXS," ").concat(_typography["default"].bold)}," [Invitation pending]")));};var MemberNameView=function MemberNameView(member){return _react["default"].createElement("div",{className:"".concat(_layout["default"].flex1," ").concat(_layout["default"].flexColumn)},_react["default"].createElement("a",{className:"".concat(_layout["default"].flex1," ").concat(_layout["default"].alignSelfStart," ").concat(_layout["default"].flexCenterItems," ").concat(_typography["default"].linkBlue," ").concat(_typography["default"].bodyM),href:member.user.url,target:"_blank"},"".concat(member.user.name," (").concat(member.user.user_name,")")),_react["default"].createElement("p",{className:"".concat(_layout["default"].hiddenSmallUp," ").concat(_layout["default"].flexColumn," ").concat(_layout["default"].flex1," ").concat(_layout["default"].marginTop10," ").concat(_typography["default"].bodyS)},_react["default"].createElement("span",{className:"".concat(_layout["default"].alignSelfStart)},(0,_formatters.capitalize)(member.role)),member.invitation_pending&&_react["default"].createElement("span",{className:"".concat(_layout["default"].alignSelfStart," ").concat(_typography["default"].bodyXS," ").concat(_typography["default"].bold)}," [Invitation pending]")));};var MemberCard=function MemberCard(_ref2){var member=_ref2.member,props=_objectWithoutProperties(_ref2,_excluded);return _react["default"].createElement("div",{key:member.id,className:"".concat(_layout["default"].flexJustifySpaceBetween," ").concat(_members["default"].memberCard)},_getMemberNameOrEmailView(member),_react["default"].createElement("p",{className:"".concat(_layout["default"].hiddenSmallDown," ").concat(_layout["default"].flexColumn," ").concat(_layout["default"].flex1," ").concat(_layout["default"].alignSelfCenter," ").concat(_typography["default"].textCenter," ").concat(_typography["default"].bodyM)},_react["default"].createElement("span",null,(0,_formatters.capitalize)(member.role)),member.invitation_pending&&_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyXS," ").concat(_typography["default"].bold)}," [Invitation pending]")),_react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifyEnd," ").concat(_layout["default"].alignSelfCenter),style:{maxHeight:ACTIONS_MAX_HEIGHT}},_getActionsView(Object.assign({member:member},props))));};var MembersListView=function MembersListView(_ref3){var currentUser=_ref3.currentUser,members=_ref3.members,onDeleteMember=_ref3.onDeleteMember,onUpdateMemberRole=_ref3.onUpdateMemberRole,roleMenu=_ref3.roleMenu,workers=_ref3.workers;return members.map(function(member){return _react["default"].createElement(MemberCard,{key:member.id,currentUser:currentUser,member:member,onDeleteMember:onDeleteMember,onUpdateMemberRole:onUpdateMemberRole,roleMenu:roleMenu,workers:workers});});};var MembersTableView=function MembersTableView(props){return _react["default"].createElement("div",{className:_layout["default"].flexColumn},_react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifySpaceBetween," ").concat(_layout["default"].marginBottom10)},_react["default"].createElement("p",{className:"".concat(_layout["default"].flex1," ").concat(_typography["default"].h3)},"User"),_react["default"].createElement("p",{className:"".concat(_layout["default"].hiddenSmallDown," ").concat(_layout["default"].flex1," ").concat(_typography["default"].h3," ").concat(_typography["default"].textCenter)},"Role"),_react["default"].createElement("p",{className:"".concat(_layout["default"].flex1," ").concat(_typography["default"].h3," ").concat(_typography["default"].textRight)},"Action")),_react["default"].createElement("div",null,_getMembersListView(props)));};MembersTableView.propTypes={currentUser:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,isAdmin:_propTypes["default"].bool.isRequired}).isRequired,emptyListMsg:_propTypes["default"].string,isFetching:_propTypes["default"].bool.isRequired,members:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,invitation_pending:_propTypes["default"].bool.isRequired,role:_propTypes["default"].string.isRequired,user:_propTypes["default"].shape({email:_propTypes["default"].string.isRequired,id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string,url:_propTypes["default"].string,user_name:_propTypes["default"].string}).isRequired})),onDeleteMember:_propTypes["default"].func.isRequired,onUpdateMemberRole:_propTypes["default"].func.isRequired,roleMenu:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string.isRequired,value:_propTypes["default"].string.isRequired})).isRequired,searchHits:_propTypes["default"].number,workers:_propTypes["default"].arrayOf(_propTypes["default"].shape({action:_propTypes["default"].string.isRequired,member:_propTypes["default"].object.isRequired})).isRequired};MembersTableView.defaultProps={emptyListMsg:'Search for members',members:[],searchHits:null};var _default=MembersTableView;exports["default"]=_default;}),4632:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _isEmail=_interopRequireDefault(__webpack_require__(83868));var _basic_search_input=_interopRequireDefault(__webpack_require__(63359));var _breadcrumb=_interopRequireDefault(__webpack_require__(13050));var _icon=_interopRequireDefault(__webpack_require__(44509));var _simple_select=_interopRequireDefault(__webpack_require__(76677));var _tabbed_header=_interopRequireDefault(__webpack_require__(96962));var _MembersTableView=_interopRequireDefault(__webpack_require__(83755));var _Prompt=_interopRequireDefault(__webpack_require__(19439));var _current_user=_interopRequireDefault(__webpack_require__(94691));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _graphql=__webpack_require__(2740);var _accessors=__webpack_require__(4887);var _types=__webpack_require__(88742);var _dispatchers=__webpack_require__(10912);var _enums=__webpack_require__(57872);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _members=_interopRequireDefault(__webpack_require__(54193));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var EMPTY_PROMPT_STATE={action:'Delete',body:'',okFn:function okFn(){},open:false,title:'Delete member'};var MEMBER_ROLE_MENU_MAP={admin:'Make admin',member:'Make member',moderator:'Make moderator'};var NAV_OPTS=[{href:'#managers',label:'Managers'},{href:'#searchMembers',label:'Search members'},{external:true,label:_react["default"].createElement("span",{className:"".concat(_layout["default"].flexCenterItems)},"Invite members ",_react["default"].createElement(_icon["default"],{className:_layout["default"].marginLeft5,name:"external-link"}))}];var SEARCH_OPTS_STATE={filter:'all',hits:null,text:null};var ChannelManageMembers=function(_Component){_inherits(ChannelManageMembers,_Component);var _super=_createSuper(ChannelManageMembers);function ChannelManageMembers(props){var _this;_classCallCheck(this,ChannelManageMembers);_this=_super.call(this,props);_this.state={activeTabIndex:0,currentUser:{id:0,isAdmin:false},isBusy:false,isFetching:false,managers:props.managers,members:props.managers,prompt:EMPTY_PROMPT_STATE,searchOpts:SEARCH_OPTS_STATE,workers:[]};_this.onDeleteMember=_this.onDeleteMember.bind(_assertThisInitialized(_this));_this.onNavClick=_this.onNavClick.bind(_assertThisInitialized(_this));_this.onDeletePromptApproval=_this.onDeletePromptApproval.bind(_assertThisInitialized(_this));_this.onSearchFilterSelect=_this.onSearchFilterSelect.bind(_assertThisInitialized(_this));_this.onSearchTextInput=_this.onSearchTextInput.bind(_assertThisInitialized(_this));_this.onUpdateMemberRole=_this.onUpdateMemberRole.bind(_assertThisInitialized(_this));_this._roleFilters=_this._initRoleFilters(props);_this._roleMenu=_this._initRoleMenu(props);return _this;}
_createClass(ChannelManageMembers,[{key:"_initCurrentUser",value:function _initCurrentUser(){var _this2=this;return _current_user["default"].getStoreAsync().then(function(currentUser){return _this2.setState({currentUser:currentUser});})["catch"](function(err){return(0,_error_handler["default"])('ChannelManageMembers _initCurrentUser',err);});}},{key:"_initRoleFilters",value:function _initRoleFilters(props){return[{label:'All roles',value:'all'}].concat(Object.keys(props.channel.roles).map(function(roleKey){return{label:props.channel.roles[roleKey],value:roleKey};}));}},{key:"_initRoleMenu",value:function _initRoleMenu(props){return Object.keys(props.channel.roles).map(function(role){return{label:(0,_accessors.getInObj)([role],MEMBER_ROLE_MENU_MAP),value:role};});}},{key:"componentDidMount",value:function componentDidMount(){this._initCurrentUser();}},{key:"onDeleteMember",value:function onDeleteMember(member){var _this3=this;this.setState({prompt:Object.assign({},EMPTY_PROMPT_STATE,{body:"Are you sure you want to delete ".concat((0,_accessors.getInObj)(['user','name'],member)||member.user.email," as a member?"),okFn:function okFn(){return _this3.onDeletePromptApproval(member);},open:true})});}},{key:"onNavClick",value:function onNavClick(index,tab){if(tab.external||index===this.state.activeTabIndex)return;if(index===0){this.setState({activeTabIndex:index,isFetching:true,members:[],searchOpts:SEARCH_OPTS_STATE});this._getMembers({roles:_enums.MANAGER_ROLES});}else{this.setState({activeTabIndex:index,members:[],searchOpts:SEARCH_OPTS_STATE});}}},{key:"onDeletePromptApproval",value:function onDeletePromptApproval(member){if(member.role==='admin'&&this._isLastAdminOfChannel()){return(0,_dispatchers.summonGlobalMessenger)({msg:'Sorry, at least one admin must remain.',type:'error'});}
this.setState({isBusy:true,workers:this._setWorker('delete',member)});return this._deleteChannelMember(member);}},{key:"onSearchFilterSelect",value:function onSearchFilterSelect(opt){var _this4=this;this.setState(function(state){return{searchOpts:Object.assign({},state.searchOpts,{filter:opt.value})};},function(){if(!(0,_types.isBlank)(_this4.state.searchOpts.text)&&_this4.state.searchOpts.text.length>=3){_this4.onSearchTextInput(_this4.state.searchOpts.text,true);}});}},{key:"onSearchTextInput",value:function onSearchTextInput(text){var overrideFromFilter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(overrideFromFilter===false&&this._shouldIgnoreSearch(text))return;if((0,_types.isBlank)(text)&&!(0,_types.isBlank)(this.state.searchOpts.text))return this.setState({members:[],searchOpts:SEARCH_OPTS_STATE});var trimmed=text.trim();if(trimmed.length<3)return(0,_dispatchers.summonGlobalMessenger)({msg:'Please enter at least 3 characters to search.',type:'error'});this.setState({isFetching:true,searchOpts:Object.assign({},this.state.searchOpts,{text:trimmed})});var userNameOrEmail=(0,_isEmail["default"])(trimmed)?{email:trimmed}:{user_name:trimmed};return this._getMembers(Object.assign({roles:this._getRolesForSearchFilter(),sort:null},userNameOrEmail));}},{key:"onUpdateMemberRole",value:function onUpdateMemberRole(member,role){if(member.role==='admin'&&this._isLastAdminOfChannel()){return(0,_dispatchers.summonGlobalMessenger)({msg:'Sorry, at least one admin must remain.',type:'error'});}
this.setState({isBusy:true,workers:this._setWorker('update',member)});return this._updateMemberRole(member,role);}},{key:"_deleteChannelMember",value:function _deleteChannelMember(member){var _this5=this;return(0,_graphql.graphMutate)({t:'delete_channel_member_by_admin'},{channel_id:this.props.channel.id,member_id:member.id}).then(function(res){_this5.setState(function(state){return{isBusy:false,managers:state.managers.filter(function(m){return m.id!==member.id;}),members:state.members.filter(function(m){return m.id!==member.id;}),prompt:EMPTY_PROMPT_STATE,workers:_this5._removeWorker(member)};},function(){return(0,_dispatchers.summonGlobalMessenger)(_this5._getToastMessageForDelete(true,member));});})["catch"](function(err){(0,_error_handler["default"])('ChannelManageMembers _deleteChannelMember',err);_this5.setState({isBusy:false,prompt:EMPTY_PROMPT_STATE,workers:_this5._removeWorker(member)},function(){return(0,_dispatchers.summonGlobalMessenger)(_this5._getToastMessageForDelete(false,member));});});}},{key:"_getMembers",value:function _getMembers(){var _this6=this;var vars=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return(0,_graphql.graphQueryWithUser)({t:'get_channel_members_admin'},Object.assign({channel_id:this.props.channel.id},vars)).then(function(_ref){var members=_ref.members;_this6.setState(function(state){return{isBusy:false,isFetching:false,members:members,searchOpts:Object.assign({},state.searchOpts,{hits:members.length})};});})["catch"](function(err){(0,_error_handler["default"])('ChannelManageMembers _getMembers',err);_this6.setState({isBusy:false,isFetching:false});});}},{key:"_updateMemberRole",value:function _updateMemberRole(member,role){var _this7=this;return(0,_graphql.graphMutate)({t:'update_channel_member_by_admin'},{channel_id:this.props.channel.id,member_id:member.id,role:(0,_enums.channelMemberRoleToEnum)(role)}).then(function(res){var updatedMember=Object.assign({},member,{role:role});_this7.setState(function(state){return{isBusy:false,managers:_this7._processManagersOnUpdate(state.managers,updatedMember),members:state.members.map(function(m){return m.id===member.id?updatedMember:m;}),workers:_this7._removeWorker(member)};},function(){return(0,_dispatchers.summonGlobalMessenger)(_this7._getToastMessageForRoleUpdate(true,updatedMember));});})["catch"](function(err){(0,_error_handler["default"])('ChannelManageMembers _updateMemberRole',err);_this7.setState({isBusy:false,workers:_this7._removeWorker(member)},function(){return(0,_dispatchers.summonGlobalMessenger)(_this7._getToastMessageForRoleUpdate(false,member));});});}},{key:"_getCurrentView",value:function _getCurrentView(){switch(this.state.activeTabIndex){case 0:return this._getDefaultView();case 1:return this._getSearchMembersView();default:return null;}}},{key:"_getMemberUserNameOrEmail",value:function _getMemberUserNameOrEmail(member){return(0,_accessors.getInObj)(['user','name'],member)||member.user.email;}},{key:"_getNavOpts",value:function _getNavOpts(){var _this8=this;return NAV_OPTS.map(function(opt,i){return i===2?Object.assign({},opt,{href:_this8.props.channel.invite_url}):opt;});}},{key:"_getRolesForSearchFilter",value:function _getRolesForSearchFilter(){return this.state.searchOpts.filter==='all'?(0,_enums.channelMemberEnumsFromRolesObj)(this.props.channel.roles):[(0,_enums.channelMemberRoleToEnum)(this.state.searchOpts.filter)];}},{key:"_getToastMessageForRoleUpdate",value:function _getToastMessageForRoleUpdate(isSuccessful,member){return{msg:isSuccessful?"Successfully made ".concat(this._getMemberUserNameOrEmail(member)," a ").concat(member.role,"."):"Sorry, we had an issue updating ".concat(this._getMemberUserNameOrEmail(member),"."),type:isSuccessful?'success':'error'};}},{key:"_getToastMessageForDelete",value:function _getToastMessageForDelete(isSuccessful,member){return{msg:isSuccessful?"Successfully deleted ".concat(this._getMemberUserNameOrEmail(member),"."):"Sorry, we had an issue deleting ".concat(this._getMemberUserNameOrEmail(member),"."),type:isSuccessful?'success':'error'};}},{key:"_isLastAdminOfChannel",value:function _isLastAdminOfChannel(){return this.state.managers.filter(function(member){return member.role==='admin';}).length<=1;}},{key:"_processManagersOnUpdate",value:function _processManagersOnUpdate(managers,updatedMember){return updatedMember.role==='member'?managers.filter(function(manager){return manager.id!==updatedMember.id;}):managers.concat(updatedMember);}},{key:"_removeWorker",value:function _removeWorker(member){return this.state.workers.filter(function(worker){return(0,_accessors.getInObj)(['member','id'],worker)!==member.id;});}},{key:"_setWorker",value:function _setWorker(action,member){return this.state.workers.concat({action:action,member:member});}},{key:"_shouldIgnoreSearch",value:function _shouldIgnoreSearch(text){return(0,_types.isBlank)(text)&&(0,_types.isBlank)(this.state.searchOpts.text)||text===this.state.searchOpts.text;}},{key:"_getDefaultView",value:function _getDefaultView(){return _react["default"].createElement(_MembersTableView["default"],{currentUser:this.state.currentUser,emptyListMsg:"No managers found",isFetching:this.state.isFetching,members:this.state.members,onDeleteMember:this.onDeleteMember,onUpdateMemberRole:this.onUpdateMemberRole,roleMenu:this._roleMenu,workers:this.state.workers});}},{key:"_getSearchMembersView",value:function _getSearchMembersView(){return _react["default"].createElement("div",null,_react["default"].createElement("div",{className:"".concat(_layout["default"].flex," ").concat(_layout["default"].marginBottom30," ").concat(_members["default"].searchInputWrapper)},_react["default"].createElement(_basic_search_input["default"],{classList:{wrapper:_layout["default"].marginRight10},enableX:true,onEnter:this.onSearchTextInput,placeholder:"Search by name or email (press Enter)"}),_react["default"].createElement("span",{className:_members["default"].roleFilterWrapper},_react["default"].createElement(_simple_select["default"],{onSelection:this.onSearchFilterSelect,options:this._roleFilters}))),_react["default"].createElement("div",null,_react["default"].createElement(_MembersTableView["default"],{currentUser:this.state.currentUser,isFetching:this.state.isFetching,members:this.state.members,onDeleteMember:this.onDeleteMember,onUpdateMemberRole:this.onUpdateMemberRole,roleMenu:this._roleMenu,searchHits:this.state.searchOpts.hits,workers:this.state.workers})));}},{key:"render",value:function render(){var _this9=this;return _react["default"].createElement("div",{className:_layout["default"].container},_react["default"].createElement("div",{className:"".concat(_layout["default"].flexColumn," ").concat(_layout["default"].paddingTop30," ").concat(_layout["default"].wrapper960)},_react["default"].createElement("div",null,_react["default"].createElement("div",null,_react["default"].createElement(_breadcrumb["default"],{color:"Blue",href:this.props.channel.url,text:"Back to ".concat(this.props.channel.name,"'s homepage")})),_react["default"].createElement("h1",{className:"".concat(_typography["default"].h1," ").concat(_layout["default"].flexJustifyCenter," ").concat(_layout["default"].paddingBottom30)},"Manage members")),_react["default"].createElement("div",{className:"".concat(_layout["default"].dashboardPanel960," ").concat(_members["default"].dashboardPanel)},_react["default"].createElement("div",{className:_layout["default"].marginBottom30},_react["default"].createElement(_tabbed_header["default"],{activeIndex:this.state.activeTabIndex,centered:false,onClick:this.onNavClick,tabs:this._getNavOpts()})),this._getCurrentView()),_react["default"].createElement(_Prompt["default"],{action:'Delete',actionColor:"danger",body:this.state.prompt.body,dismiss:function dismiss(){return _this9.setState({prompt:EMPTY_PROMPT_STATE});},okay:this.state.prompt.okFn,open:this.state.prompt.open,title:this.state.prompt.title})));}}]);return ChannelManageMembers;}(_react.Component);ChannelManageMembers.propTypes={channel:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,enable_moderators:_propTypes["default"].bool.isRequired,invite_url:_propTypes["default"].string.isRequired,name:_propTypes["default"].string.isRequired,roles:_propTypes["default"].shape({admin:_propTypes["default"].string.isRequired,member:_propTypes["default"].string.isRequired,moderator:_propTypes["default"].string}).isRequired,url:_propTypes["default"].string.isRequired}).isRequired,managers:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,invitation_pending:_propTypes["default"].bool.isRequired,role:_propTypes["default"].string.isRequired,user:_propTypes["default"].shape({email:_propTypes["default"].string.isRequired,id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string,url:_propTypes["default"].string,user_name:_propTypes["default"].string}).isRequired}))};ChannelManageMembers.defaultProps={managers:[]};var _default=ChannelManageMembers;exports["default"]=_default;}),80342:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _cta_banner=_interopRequireDefault(__webpack_require__(278));var _InfiniteScroll=_interopRequireDefault(__webpack_require__(12813));var _promoted_content=_interopRequireDefault(__webpack_require__(2056));var _view_all_builder=_interopRequireDefault(__webpack_require__(69800));var _main=_interopRequireDefault(__webpack_require__(85061));var _events=__webpack_require__(64770);var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var TRACKING_PAGE_TYPE='channels#home';var MOST_RECENT_DEFAULT_SECTION={key:'sort',label:'Most recent',title:'Most recent',value:'published'};var ChannelHome=function(_Component){_inherits(ChannelHome,_Component);var _super=_createSuper(ChannelHome);function ChannelHome(props){var _this;_classCallCheck(this,ChannelHome);_this=_super.call(this,props);_this.state=_this._initState(props.homeSections,props.renderForPreview);_this.loadMoreSections=_this.loadMoreSections.bind(_assertThisInitialized(_this));_this.maintainProjectsCountForSections=_this.maintainProjectsCountForSections.bind(_assertThisInitialized(_this));_this.transition=_this.transition.bind(_assertThisInitialized(_this));_this.viewAllBuilder=new _view_all_builder["default"](props.viewAllBuilderArg());_this.sectionsProjectCount={};return _this;}
_createClass(ChannelHome,[{key:"_initState",value:function _initState(homeSections){var renderForPreview=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(renderForPreview)return{defaultUsed:false,sections:homeSections,totalRecordsCount:homeSections.length};return homeSections.length>0?{defaultUsed:false,sections:homeSections.slice(0,2),totalRecordsCount:homeSections.length}:{defaultUsed:true,sections:[MOST_RECENT_DEFAULT_SECTION],totalRecordsCount:1};}},{key:"componentDidMount",value:function componentDidMount(){this.props.seoHandler(this.props.path);}},{key:"loadMoreSections",value:function loadMoreSections(){var _this2=this;return new Promise(function(resolve){_this2.setState({sections:_this2.props.homeSections.slice(0,_this2.state.sections.length+2)},function(){return resolve();});});}},{key:"maintainProjectsCountForSections",value:function maintainProjectsCountForSections(count,index){if(this.state.defaultUsed){this._handleDefaultCount(count);}else{this.sectionsProjectCount[index]=count;if(this.props.canManage===false&&index===this.props.homeSections.length-1){this._pushDefaultIfNoProjects();}else if(count===0&&index===this.state.sections.length-1&&index<this.props.homeSections.length-1){this.setState({sections:this.props.homeSections.slice(0,this.state.sections.length+2)});}}}},{key:"transition",value:function transition(e,_ref,item,events){var internal=_ref.internal,external=_ref.external;if(this.props.renderForWhitelabel){this.props.transition(e,external);}else if(internal&&!(0,_events.clickEventHasModifierKey)(e)){e.preventDefault();this.props.transition(internal);}else if(external&&events){_main["default"].recordEventsWithDelayedRedirect(events,external,e);}}},{key:"_handleDefaultCount",value:function _handleDefaultCount(count){this.sectionsProjectCount['default']=count;if(count===0)this.forceUpdate();}},{key:"_pushDefaultIfNoProjects",value:function _pushDefaultIfNoProjects(){if(Object.values(this.sectionsProjectCount).every(function(n){return n===0;})){this.setState({defaultUsed:true,sections:[MOST_RECENT_DEFAULT_SECTION],totalRecordsCount:1});}}},{key:"_shouldShowPlaceHolder",value:function _shouldShowPlaceHolder(){return this.state.defaultUsed&&this.sectionsProjectCount['default']===0&&!this.props.canManage;}},{key:"_getCTABanner",value:function _getCTABanner(section,i){return _react["default"].createElement(_cta_banner["default"],{key:"".concat(section.key,"_").concat(section.value),id:section.value,image_url:section.meta.image_url,link:section.meta.link,onClick:function onClick(e){var item={type:'cta_banner'};fireViewAllSectionClickAnalytics({delayRedirect:true,e:e,index:i,item:item,pageType:TRACKING_PAGE_TYPE,section:section,url:section.meta.link});},title:section.title});}},{key:"_getPromotedContent",value:function _getPromotedContent(section,i){return _react["default"].createElement(_promoted_content["default"],{key:"".concat(section.key,"_").concat(section.value),content:section.meta.content,onClick:function onClick(e,link,itemIndex){var item={index:itemIndex,type:'cta_banner'};fireViewAllSectionClickAnalytics({delayRedirect:true,e:e,index:i,item:item,pageType:TRACKING_PAGE_TYPE,section:section,url:link});},title:section.title});}},{key:"_getSections",value:function _getSections(){var _this3=this;if(this._shouldShowPlaceHolder())return _react["default"].createElement("span",null,'There are no projects');return this.state.sections.map(function(section,i){switch(section.key){case 'cta':return _this3._getCTABanner(section,i);case 'promoted':return _this3._getPromotedContent(section,i);default:return _this3._getViewAllList(section,i,_this3.state.sections);}});}},{key:"_getViewAllList",value:function _getViewAllList(section,i,sections){return this.viewAllBuilder.getComponent(section,i,{reportProjectsCount:this.maintainProjectsCountForSections,transition:this.transition,userCanManage:this.props.canManage},sections);}},{key:"render",value:function render(){return _react["default"].createElement(_InfiniteScroll["default"],{buffer:50,classList:{container:"".concat(_layout["default"].container)},fetchMore:this.loadMoreSections,recordsCount:this.state.sections.length,totalRecordsCount:this.state.totalRecordsCount},_react["default"].createElement("div",{className:_layout["default"].wrapper1170},this._getSections()));}}]);return ChannelHome;}(_react.Component);ChannelHome.propTypes={canManage:_propTypes["default"].bool,homeSections:_propTypes["default"].arrayOf(_propTypes["default"].shape({key:_propTypes["default"].string.isRequired,label:_propTypes["default"].string.isRequired,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number,_propTypes["default"].bool])})).isRequired,path:_propTypes["default"].string.isRequired,renderForPreview:_propTypes["default"].bool,renderForWhitelabel:_propTypes["default"].bool,seoHandler:_propTypes["default"].func.isRequired,transition:_propTypes["default"].func.isRequired,viewAllBuilderArg:_propTypes["default"].func.isRequired};ChannelHome.defaultProps={canManage:false,renderForPreview:false,renderForWhiteLabel:false};var _default=ChannelHome;exports["default"]=_default;}),5470:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _simple_select=_interopRequireDefault(__webpack_require__(76677));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var doesLocactionSearchHaveCurrentUser=function doesLocactionSearchHaveCurrentUser(currentHistoryData){return currentHistoryData.search.includes('by_current_user=true');};var getOpts=function getOpts(currentHistoryData){return[{active:!doesLocactionSearchHaveCurrentUser(currentHistoryData),label:'All posts',value:''},{active:doesLocactionSearchHaveCurrentUser(currentHistoryData),label:'My activity',value:'by_current_user=true'}];};var NavBar=function NavBar(_ref){var currentHistoryData=_ref.currentHistoryData,onClick=_ref.onClick;return _react["default"].createElement("div",{className:"".concat(_layout["default"].fullWidth," ").concat(_layout["default"].marginBottom10)},_react["default"].createElement(_simple_select["default"],{onSelection:onClick,options:getOpts(currentHistoryData),view:"tabbed"}));};NavBar.propTypes={currentHistoryData:_propTypes["default"].shape({search:_propTypes["default"].string}).isRequired,onClick:_propTypes["default"].func.isRequired};var _default=NavBar;exports["default"]=_default;}),21533:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.createCategoryConfigs=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _enums=__webpack_require__(48917);var _CategoryBadgeLabel=_interopRequireDefault(__webpack_require__(95725));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DEFAULT_CATEGORY_CONFIG=[{colorClass:'categoryGreenBG',"enum":(0,_enums.getCategoryEnum)('Announcements'),path:(0,_enums.getCategoryEnum)('Announcements').toLowerCase(),text:'Contest announcements from the admin team',title:'Announcements'},{colorClass:'categoryYellowBG',"enum":(0,_enums.getCategoryEnum)('General'),path:(0,_enums.getCategoryEnum)('General').toLowerCase(),text:'Submission guidelines, deadlines and other general questions',title:'General'},{colorClass:'categoryBlueBG',"enum":(0,_enums.getCategoryEnum)('Free hardware'),path:(0,_enums.getCategoryEnum)('Free hardware').toLowerCase(),text:'Questions and updates on selection and distribution of free HW',title:'Free hardware'},{colorClass:'categoryOrangeBG',"enum":(0,_enums.getCategoryEnum)('Technical help'),path:(0,_enums.getCategoryEnum)('Technical help').toLowerCase(),text:'Getting started, hardware troubleshooting and project help',title:'Technical help'}];var getCategoriesWithoutFreeHardware=function getCategoriesWithoutFreeHardware(){return DEFAULT_CATEGORY_CONFIG.filter(function(c){return c["enum"]!==(0,_enums.getCategoryEnum)('Free hardware');});};var getCategoriesForSelect=function getCategoriesForSelect(categoryConfigs){var labelFn=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return categoryConfigs.map(function(config){return{label:labelFn&&typeof labelFn==='function'?labelFn(config):config.title,labelText:config.title,value:config["enum"]};});};var createCategoryConfigs=function createCategoryConfigs(challenge){var CATEGORY_CONFIGS=challenge.activate_free_hardware?DEFAULT_CATEGORY_CONFIG:getCategoriesWithoutFreeHardware();return{CATEGORY_CONFIGS:CATEGORY_CONFIGS,SELECT_CATEGORIES:getCategoriesForSelect(CATEGORY_CONFIGS,function(categoryConfig){return _react["default"].createElement(_CategoryBadgeLabel["default"],{categoryConfig:categoryConfig});})};};exports.createCategoryConfigs=createCategoryConfigs;}),17739:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _discussion=_interopRequireDefault(__webpack_require__(94786));var _flags=__webpack_require__(27926);var _history=_interopRequireDefault(__webpack_require__(58886));var _main=_interopRequireDefault(__webpack_require__(85061));var _categoryConfig=__webpack_require__(21533);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var NAVBAR_ID='challengeNav';var STICKY_BUFFER=100;var ContestDiscussion=function(_PureComponent){_inherits(ContestDiscussion,_PureComponent);var _super=_createSuper(ContestDiscussion);function ContestDiscussion(props){var _this;_classCallCheck(this,ContestDiscussion);_this=_super.call(this,props);var flaggedIds=(0,_flags.getFlaggedIds)(function(key){return[];});_this.history=(0,_history["default"])(props.pathHelpers.basePath);_this.state=Object.assign({},flaggedIds,{currentHistoryData:_this.history.location});_this.handleLocationChange=_this.handleLocationChange.bind(_assertThisInitialized(_this));_this.setFlaggedIds=_flags.setFlaggedIds.bind(_assertThisInitialized(_this));var _createCategoryConfig=(0,_categoryConfig.createCategoryConfigs)(props.origin),CATEGORY_CONFIGS=_createCategoryConfig.CATEGORY_CONFIGS,SELECT_CATEGORIES=_createCategoryConfig.SELECT_CATEGORIES;_this._CATEGORY_CONFIGS=CATEGORY_CONFIGS;_this._SELECT_CATEGORIES=SELECT_CATEGORIES;return _this;}
_createClass(ContestDiscussion,[{key:"componentDidMount",value:function componentDidMount(){this.unlisten=this.history.listen(this.handleLocationChange);}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.unlisten();}},{key:"handleLocationChange",value:function handleLocationChange(pathData,action){var _this2=this;this.setState({currentHistoryData:Object.assign({},pathData,{action:action})},function(){return _this2._firePageViewAnalytics();});}},{key:"_firePageViewAnalytics",value:function _firePageViewAnalytics(){_main["default"].reportVirtualPageView({entity_id:this.props.origin.id});}},{key:"render",value:function render(){var _this3=this;var flaggedIds=(0,_flags.getFlaggedIds)(function(key){return _this3.state[key];});return _react["default"].createElement(_discussion["default"],_extends({key:this.history.location.key,categoryConfigs:this._CATEGORY_CONFIGS,currentUser:this.props.currentUser,currentHistoryData:this.state.currentHistoryData,isMember:this.props.currentUser.is_registered_to_challenge,origin:this.props.origin,pathHelpers:this.props.pathHelpers,selectCategories:this._SELECT_CATEGORIES,setFlaggedIds:this.setFlaggedIds,stickyBuffer:STICKY_BUFFER,topAnchorId:NAVBAR_ID,transition:function transition(historyData){return _this3.history.push(historyData);}},flaggedIds));}}]);return ContestDiscussion;}(_react.PureComponent);ContestDiscussion.propTypes={currentUser:_propTypes["default"].shape({avatar_url:_propTypes["default"].string.isRequired,confirmed:_propTypes["default"].bool,id:_propTypes["default"].number,name:_propTypes["default"].string,role:_propTypes["default"].string,url:_propTypes["default"].string}).isRequired,origin:_propTypes["default"].shape({admin_ids:_propTypes["default"].arrayOf(_propTypes["default"].number).isRequired,activate_free_hardware:_propTypes["default"].bool.isRequired,id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,type:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired,pathHelpers:_propTypes["default"].shape({basePath:_propTypes["default"].string.isRequired,fullPath:_propTypes["default"].string.isRequired,rootPath:_propTypes["default"].string.isRequired}).isRequired};var _default=ContestDiscussion;exports["default"]=_default;}),1322:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _EventForm=_interopRequireDefault(__webpack_require__(13951));var _Prompt=_interopRequireDefault(__webpack_require__(19439));var _recaptcha=_interopRequireDefault(__webpack_require__(34444));var _templates=__webpack_require__(32797);var _platforms_service=_interopRequireDefault(__webpack_require__(51652));var _current_user=_interopRequireDefault(__webpack_require__(94691));var _main=_interopRequireDefault(__webpack_require__(85061));var _eventTypeTemplates=__webpack_require__(10853);var _graphql=__webpack_require__(2740);var _enums=__webpack_require__(41557);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _filters=__webpack_require__(58429);var _accessors=__webpack_require__(4887);var _formatters=__webpack_require__(60414);var _converters=__webpack_require__(39719);var _promises=__webpack_require__(25426);var _dispatchers=__webpack_require__(10912);var _window=__webpack_require__(33852);var _alerts=__webpack_require__(49020);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DASHBOARD_REDIRECT_KEY='dashboard';var EMPTY_PROMPT={hasError:false,isBusy:false,okay:null,open:false};var PROMPT_COPY={action:'Delete',body:'Once you delete your Event it cannot be undone.',title:'Are you sure you want to delete your Event?'};var EventFormPage=function(_PureComponent){_inherits(EventFormPage,_PureComponent);var _super=_createSuper(EventFormPage);function EventFormPage(props){var _this;_classCallCheck(this,EventFormPage);_this=_super.call(this,props);_this.state={currentUser:null,initRecord:_this._formatEvent(props.event),isBusy:false,mode:props.event===null?'default':'edit',pendingRecord:null,prompt:EMPTY_PROMPT,recaptchaPending:false,recaptchaReady:false,redirectTo:null};_this.createWithRecaptcha=_this.createWithRecaptcha.bind(_assertThisInitialized(_this));_this.createOrUpdateRecord=_this.createOrUpdateRecord.bind(_assertThisInitialized(_this));_this.dismissPrompt=_this.dismissPrompt.bind(_assertThisInitialized(_this));_this.handleDeleteClick=_this.handleDeleteClick.bind(_assertThisInitialized(_this));_this.recaptchaCallback=_this.recaptchaCallback.bind(_assertThisInitialized(_this));_this.renderRecaptchaBadge=_this.renderRecaptchaBadge.bind(_assertThisInitialized(_this));_this.algoliaPlatformsService=new _platforms_service["default"]();_this._recaptcha=_react["default"].createRef();return _this;}
_createClass(EventFormPage,[{key:"componentDidMount",value:function componentDidMount(){this._init();}},{key:"_init",value:function _init(){var _this2=this;return _current_user["default"].getStoreAsync().then(function(currentUser){_this2.setState({currentUser:currentUser,redirectTo:_this2._initRedirectState()});})["catch"](function(err){return(0,_error_handler["default"])('EventFormPage _init',err);});}},{key:"_initRedirectState",value:function _initRedirectState(){return(0,_converters.mapifyStringQuery)(_window.windowLocationSearch.get()).redirect_to===DASHBOARD_REDIRECT_KEY?DASHBOARD_REDIRECT_KEY:null;}},{key:"createWithRecaptcha",value:function createWithRecaptcha(record){var recaptchaInstance=this._recaptcha.current;if(!recaptchaInstance||!this.state.recaptchaReady)return this._handleRecaptchaError();this.setState({pendingRecord:record,recaptchaPending:true},function(){return recaptchaInstance.execute();});}},{key:"createOrUpdateRecord",value:function createOrUpdateRecord(record,recaptchaResponse){var _this3=this;this.setState({isBusy:true});return(0,_graphql.graphMutate)(this._getTemplateForMode(),this._translateRecordForRequest(record,recaptchaResponse)).then(function(_ref){var event=_ref.event;return _this3._fireAnalyticsForNewEvent(event);}).then(function(){return _this3._locationRedirect();})["catch"](function(err){_this3.setState({isBusy:false});(0,_dispatchers.summonGlobalMessenger)({msg:'Sorry, there was an error saving.',type:'error'});(0,_error_handler["default"])('EventFormPage::createOrUpdateRecord: ',err);});}},{key:"dismissPrompt",value:function dismissPrompt(){this.setState({prompt:EMPTY_PROMPT});}},{key:"handleDeleteClick",value:function handleDeleteClick(){var _this4=this;this.setState({prompt:{hasError:false,isBusy:false,okay:function okay(){return _this4._deleteEvent();},open:true}});}},{key:"recaptchaCallback",value:function recaptchaCallback(recaptchaResponse){if(!this.state.recaptchaPending||!recaptchaResponse){this._handleRecaptchaError();}else{this.createOrUpdateRecord(this.state.pendingRecord,recaptchaResponse);this.setState({recaptchaPending:false,pendingRecord:null});}
var recaptchaReset=(0,_accessors.getInObjWithPrototypeAccess)(['_recaptcha','current','reset'],this);if(recaptchaReset)recaptchaReset();}},{key:"renderRecaptchaBadge",value:function renderRecaptchaBadge(className){var _this5=this;if(this.state.mode==='edit')return null;return _react["default"].createElement(_recaptcha["default"],{ref:this._recaptcha,className:className,badgePos:"inline",onLoad:function onLoad(){return _this5.setState({recaptchaReady:true});},callback:this.recaptchaCallback,recaptchaSiteKey:this.props.recaptcha_site_key});}},{key:"_deleteEvent",value:function _deleteEvent(){var _this6=this;var event=this.state.initRecord;if(!event)return;this.setState({prompt:Object.assign({},this.state.prompt,{isBusy:true})});return(0,_graphql.graphMutate)({t:'delete_event'},{id:event.id}).then(function(){return _this6._fireAnalyticsForDeleteEvent(event);}).then(function(){return _this6._locationRedirect();})["catch"](function(err){_this6.setState({prompt:Object.assign({},_this6.state.prompt,{isBusy:false,hasError:true})});(0,_error_handler["default"])('EventFormPage _deleteEvent',err);});}},{key:"_fireAnalyticsForDeleteEvent",value:function _fireAnalyticsForDeleteEvent(_ref2){var id=_ref2.id,event_type=_ref2.event_type;var _getDeleteEventArgs=(0,_eventTypeTemplates.getDeleteEventArgs)(id,event_type),customProps=_getDeleteEventArgs.customProps,event=_getDeleteEventArgs.event;return(0,_promises.reflectPromise)(_main["default"].recordEvent(event,customProps));}},{key:"_fireAnalyticsForNewEvent",value:function _fireAnalyticsForNewEvent(_ref3){var _this7=this;var id=_ref3.id,event_type=_ref3.event_type;return new Promise(function(resolve,reject){if(_this7.state.mode!=='default')return resolve();var _getCreateEventArgs=(0,_eventTypeTemplates.getCreateEventArgs)(id,event_type),customProps=_getCreateEventArgs.customProps,event=_getCreateEventArgs.event;return _main["default"].recordEvent(event,customProps).then(function(){return resolve();})["catch"](function(err){return resolve();});});}},{key:"_formatEvent",value:function _formatEvent(event){if(!event)return null;return Object.assign({},event,{location:(0,_formatters.locationSelectIn)(event)});}},{key:"_getBreadcrumbProps",value:function _getBreadcrumbProps(){if(this.state.redirectTo===DASHBOARD_REDIRECT_KEY){return{href:this.props.redirect_urls.dashboard,text:'My events'};}
return{href:this.props.redirect_urls.events,text:'Events home'};}},{key:"_getTemplateForMode",value:function _getTemplateForMode(){return this.state.mode==='default'?{t:'create_event'}:{t:'update_event'};}},{key:"_handleRecaptchaError",value:function _handleRecaptchaError(){(0,_dispatchers.summonGlobalMessenger)({msg:_alerts.GENERIC_ERROR,type:'error'});this.setState({pendingRecord:null,recaptchaPending:false,isBusy:false});}},{key:"_locationRedirect",value:function _locationRedirect(){(0,_window.windowLocationRedirect)(this.props.redirect_urls.dashboard);}},{key:"_translateRecordForRequest",value:function _translateRecordForRequest(record,recaptchaResponse){var cleaned=(0,_filters.removeFromObject)(record,['image','mobile_image','location','platforms']);var idSpread=this.state.initRecord&&this.state.initRecord.hasOwnProperty('id')?{id:this.state.initRecord.id}:{};var mobile_image_id=record.mobile_image?{mobile_image_id:record.mobile_image.id}:{};var recaptchaSpread=recaptchaResponse?{recaptcha_response:recaptchaResponse}:{};return(0,_filters.filterObject)(Object.assign({},cleaned,idSpread,mobile_image_id,recaptchaSpread,record.location,{event_type:(0,_enums.getEventTypeEnum)(record.event_type),image_id:record.image.id,platform_ids:record.platforms}));}},{key:"render",value:function render(){if(!this.state.currentUser)return null;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement(_EventForm["default"],{algoliaPlatformsService:this.algoliaPlatformsService,breadcrumbProps:this._getBreadcrumbProps(),initRecord:this.state.initRecord,isAdmin:this.state.currentUser.isAdmin,isBusy:this.state.isBusy,mode:this.state.mode,onDeleteClick:this.handleDeleteClick,renderRecaptchaBadge:this.renderRecaptchaBadge,saveContent:this.state.mode==='default'?this.createWithRecaptcha:this.createOrUpdateRecord}),_react["default"].createElement(_Prompt["default"],{action:PROMPT_COPY.action,actionColor:"danger",body:PROMPT_COPY.body,dismiss:this.dismissPrompt,isBusy:this.state.prompt.isBusy,message:this.state.prompt.hasError?(0,_templates.getErrorHelperView)(_alerts.GENERIC_ERROR):null,okay:this.state.prompt.okay,open:this.state.prompt.open,title:PROMPT_COPY.title}));}}]);return EventFormPage;}(_react.PureComponent);EventFormPage.propTypes={event:_propTypes["default"].shape({event_type:_propTypes["default"].string.isRequired,id:_propTypes["default"].number.isRequired,image:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired,link:_propTypes["default"].string.isRequired,location:_propTypes["default"].shape({city:_propTypes["default"].string,countryCode:_propTypes["default"].string.isRequired,state:_propTypes["default"].string}),platforms:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired})),start_date:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired,user:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired}),recaptcha_site_key:_propTypes["default"].string,redirect_urls:_propTypes["default"].shape({dashboard:_propTypes["default"].string.isRequired,events:_propTypes["default"].string.isRequired}).isRequired};EventFormPage.defaultProps={event:null,recaptcha_site_key:null};var _default=EventFormPage;exports["default"]=_default;}),13951:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _actionable=_interopRequireDefault(__webpack_require__(29362));var _multi_select=_interopRequireDefault(__webpack_require__(16205));var _basic_form_input=_interopRequireDefault(__webpack_require__(54392));var _breadcrumb=_interopRequireDefault(__webpack_require__(13050));var _base=_interopRequireDefault(__webpack_require__(6094));var _form_date_input=_interopRequireDefault(__webpack_require__(34487));var _form_image_uploader=_interopRequireDefault(__webpack_require__(59272));var _form_select=_interopRequireDefault(__webpack_require__(70154));var _form_location_select=_interopRequireDefault(__webpack_require__(43424));var _PreviewLayoutDefault=_interopRequireDefault(__webpack_require__(825));var _PreviewLayoutSponsored=_interopRequireDefault(__webpack_require__(20417));var _radio_group=_interopRequireDefault(__webpack_require__(85883));var _sticky_wrapper=_interopRequireDefault(__webpack_require__(96659));var _formatters=__webpack_require__(88231);var _accessors=__webpack_require__(4887);var _forms=__webpack_require__(49448);var _validators=__webpack_require__(73235);var _components=__webpack_require__(51923);var _time=__webpack_require__(28716);var _window=__webpack_require__(33852);var _formatters2=__webpack_require__(60414);var _enums=__webpack_require__(41557);var _links=__webpack_require__(49180);var _forms2=_interopRequireDefault(__webpack_require__(98672));var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));var _news_admin_templates=_interopRequireDefault(__webpack_require__(10209));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var EVENT_TYPES_OPTS=_enums.HACKSTER_FORM_EVENT_TYPE_OPTS.map(function(v){return(0,_formatters2.valueToSelectIn)(v,_formatters.capitalize,_formatters.capitalize);});var FIELDS_TEMPLATE={custom_sponsors:{order:2,validate:function validate(value){return(0,_validators.maxLength)(5,value);},value:[],notRequired:true,formatIn:function formatIn(vals){return vals.map(function(v){return(0,_formatters2.valueToSelectIn)(v);});},formatOut:function formatOut(v){return(0,_formatters2.multiSelectToArrayOut)(v);}},event_type:{order:11,validate:function validate(value){return(0,_validators.minLength)(1,value);},value:'',formatIn:function formatIn(v){return(0,_formatters2.valueToSelectIn)(v,_formatters.capitalize,_formatters.capitalize);},formatOut:function formatOut(v){return(0,_accessors.getInObj)(['value'],v);}},image:{order:9,validate:function validate(value){return(0,_validators.imageV)(value);},value:null},link:{order:5,validate:function validate(value){return(0,_validators.isUrlWithProtocol)(value)||(0,_validators.maxLength)(500,value);},value:''},location:{order:8,validate:function validate(value){return null;},value:{},notRequired:true,formatOut:function formatOut(v){return(0,_formatters2.locationSelectOut)(v,true);}},mobile_image:{order:10,validate:function validate(value){return value!==null&&Object.keys(value).length>0&&(0,_validators.imageV)(value);},value:null,notRequired:true},platforms:{order:1,validate:function validate(value){return(0,_validators.maxLength)(5,value);},value:[],notRequired:true,formatIn:function formatIn(v){return(0,_formatters2.multiSelectIn)(v,'name');},formatOut:function formatOut(v){return(0,_formatters2.multiSelectToArrayOut)(v);}},sponsored:{order:0,validate:function validate(){return null;},value:'false',formatIn:function formatIn(v){return(0,_formatters2.boolOrNullIn)(v);},formatOut:function formatOut(v){return(0,_formatters2.boolOrNullOut)(v);}},summary:{order:3,validate:function validate(value){return(0,_validators.maxLength)(255,value);},value:'',notRequired:true},title:{order:4,validate:function validate(value){return(0,_validators.maxLength)(60,value);},value:''}};var FIELDS_ADMIN_DATES={end_date:{order:7,validate:function validate(value){return(0,_validators.minLength)(1,value);},value:'',notRequired:true,formatIn:function formatIn(v){return(0,_time.timestampToPrettyDate)(v,_formatters2.DATE_INPUT_FORMATTER,false);}},start_date:{order:6,validate:function validate(value){return(0,_validators.minLength)(1,value);},value:'',formatIn:function formatIn(v){return(0,_time.timestampToPrettyDate)(v,_formatters2.DATE_INPUT_FORMATTER,false);}}};var FIELDS_DATES={end_date:{order:7,validate:function validate(value){return(0,_validators.minLength)(1,value)||(0,_validators.isDatetimeLocalValueInFuture)(value,false);},value:'',notRequired:true,formatIn:function formatIn(v){return(0,_time.timestampToPrettyDate)(v,_formatters2.DATE_INPUT_FORMATTER,false);}},start_date:{order:6,validate:function validate(value){return(0,_validators.minLength)(1,value)||(0,_validators.isDatetimeLocalValueInFuture)("".concat(value,"T23:59"));},value:'',formatIn:function formatIn(v){return(0,_time.timestampToPrettyDate)(v,_formatters2.DATE_INPUT_FORMATTER,false);}}};var SPONSORED_BUTTONS=[{label:'Yes',value:true},{label:'No',value:false}];var STICKY_FOOTER_ID='eventFormFooter';var EventForm=function(_PureComponent){_inherits(EventForm,_PureComponent);var _super=_createSuper(EventForm);function EventForm(props){var _this;_classCallCheck(this,EventForm);_this=_super.call(this,props);var template=props.isAdmin?Object.assign({},FIELDS_TEMPLATE,FIELDS_ADMIN_DATES):Object.assign({},FIELDS_TEMPLATE,FIELDS_DATES);_this.state={errors:{},isBusy:false,fields:(0,_forms.initFields)(template,_this._getInitRecord()),workers:[]};_this.addOrUpdateContent=_this.addOrUpdateContent.bind(_assertThisInitialized(_this));_this.getErrorForField=_forms.getErrorForField.bind(_assertThisInitialized(_this));_this.getFieldValuesAsObject=_forms.getFieldValuesAsObject.bind(_assertThisInitialized(_this));_this.setIsBusy=_forms.setIsBusy.bind(_assertThisInitialized(_this));_this.setStateOrError=_forms.setStateOrError.bind(_assertThisInitialized(_this));_this.validate=_forms.validateFields.bind(_assertThisInitialized(_this));return _this;}
_createClass(EventForm,[{key:"componentDidMount",value:function componentDidMount(){(0,_window.windowScrollTo)(0,0);}},{key:"_getInitRecord",value:function _getInitRecord(){if(!this._isDefaultMode())return this.props.initRecord;if(this.props.isAdmin)return{sponsored:true};return null;}},{key:"addOrUpdateContent",value:function addOrUpdateContent(){var validated=this.validate();if(validated){this.props.saveContent(this.getFieldValuesAsObject());}}},{key:"_getPreviewObject",value:function _getPreviewObject(){var record=this.getFieldValuesAsObject();return Object.assign({},record,record.location,{platforms:this.state.fields.platforms.value.map(function(p){return{id:p.value,name:p.label,url:_links.NO_URL};})});}},{key:"_isDefaultMode",value:function _isDefaultMode(){return this.props.mode==='default';}},{key:"_isSponsoredEvent",value:function _isSponsoredEvent(){return this.state.fields.sponsored.value==='true';}},{key:"_getAdminPanel",value:function _getAdminPanel(){var _this2=this;return _react["default"].createElement("div",{className:"".concat(_forms2["default"].panel," ").concat(_forms2["default"].panelInner)},_react["default"].createElement("fieldset",{className:_forms2["default"].container675},_react["default"].createElement("div",{id:"vfsponsored"},_react["default"].createElement(_radio_group["default"],{buttons:SPONSORED_BUTTONS,errors:this.state.errors.sponsored,label:"Is this a sponsored event?",onChange:function onChange(e){return _this2.setStateOrError(null,'sponsored',e.target.value);},value:this.state.fields.sponsored.value})),this._isSponsoredEvent()&&this._getAdminSponsorInputs()));}},{key:"_getAdminSponsorInputs",value:function _getAdminSponsorInputs(){var _this3=this;return _react["default"].createElement(_react.Fragment,null,this._getSponsorInputs(),_react["default"].createElement("div",{id:"vfsummary"},_react["default"].createElement(_basic_form_input["default"],{charCount:this.state.fields.summary.value.length,errors:this.state.errors.summary,helperText:"This will display underneath the event name on the large event cards.",label:"Description (optional)",maxVal:255,onChange:function onChange(e){return _this3.setStateOrError((0,_validators.maxLength)(255,e.target.value),'summary',e.target.value);},placeholder:"30+ Speakers - Hands-on Workshops - Free Hardware*",value:this.state.fields.summary.value})));}},{key:"_getSponsorInputs",value:function _getSponsorInputs(){var _this4=this;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("div",{id:"vfplatforms"},_react["default"].createElement(_multi_select["default"],{algoliaParameters:{hitsPerPage:100,initFacet:['model:Platform']},algoliaRecordsToOptions:_components.recordsToOptions,algoliaService:this.props.algoliaPlatformsService,errors:this.state.errors.platforms,helperText:"Limit 5 max.",label:"Sponsors with a platform (optional)",onSelect:function onSelect(platforms){return _this4.setStateOrError(null,'platforms',platforms);},placeholder:"Arduino, Raspberry Pi",selectionLimit:5,value:this.state.fields.platforms.value})),_react["default"].createElement("div",{id:"vfcustom_sponsors"},_react["default"].createElement(_form_select["default"],{key:"custom_sponsors",creatableOpts:{creatable:true},errors:this.state.errors.custom_sponsors,helperText:"Limit 5 max.",label:"Sponsors without a platform (optional)",onSelectedChange:function onSelectedChange(opt){return _this4.setStateOrError(null,'custom_sponsors',opt);},options:this.state.fields.custom_sponsors.value||[],placeholder:"Arm, Not Impossible",searchOpts:{multiLimit:5,rule:'default'},type:"multi",value:this.state.fields.custom_sponsors.value})));}},{key:"_getEventUserPanel",value:function _getEventUserPanel(){return _react["default"].createElement("div",{className:"".concat(_forms2["default"].panel," ").concat(_layout["default"].padding30)},_react["default"].createElement("div",{className:_forms2["default"].container675},_react["default"].createElement("h4",{className:_typography["default"].h4},_react["default"].createElement("span",null,"Created by: "),_react["default"].createElement("a",{className:_typography["default"].charcoal,href:this.props.initRecord.user.url,target:"_blank"},this.props.initRecord.user.name))));}},{key:"render",value:function render(){var _this5=this;var currentRecord=this._getPreviewObject();var isDefaultMode=this._isDefaultMode();var isSponsoredEvent=this._isSponsoredEvent();return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("div",{className:"".concat(_layout["default"].container," ").concat(_util["default"].bgFog)},_react["default"].createElement("div",{className:"".concat(_layout["default"].wrapper1170," ").concat(_layout["default"].flexColumn," ").concat(_layout["default"].flexCenterItems)},_react["default"].createElement("form",{className:_layout["default"].maxWidth100P,onSubmit:function onSubmit(e){return e.preventDefault;}},this.props.isAdmin&&this.props.mode==='edit'&&this._getEventUserPanel(),this.props.isAdmin&&this._getAdminPanel(),_react["default"].createElement("div",{className:"".concat(_forms2["default"].panel," ").concat(_forms2["default"].panelInner)},_react["default"].createElement("fieldset",{className:_forms2["default"].container675},_react["default"].createElement("div",{id:"vftitle"},_react["default"].createElement(_basic_form_input["default"],{charCount:this.state.fields.title.value.length,errors:this.state.errors.title,label:"Event Title",maxVal:60,onChange:function onChange(e){return _this5.setStateOrError((0,_validators.maxLength)(60,e.target.value),'title',e.target.value);},placeholder:"AIOT Dev Summit",value:this.state.fields.title.value})),_react["default"].createElement("div",{id:"vflink"},_react["default"].createElement(_basic_form_input["default"],{charCount:this.state.fields.link.value.length,errors:this.state.errors.link,label:"Link to external event page",helperText:"Make sure to add the link's protocol (https:// or http://)",maxVal:500,onChange:function onChange(e){return _this5.setStateOrError((0,_validators.maxLength)(500,e.target.value),'link',e.target.value);},placeholder:"https://www.eventbrite.com",value:this.state.fields.link.value})),_react["default"].createElement("div",{id:"vfstart_date"},_react["default"].createElement(_form_date_input["default"],{autoComplete:"off",errors:this.state.errors.start_date,label:"Start date",onChange:function onChange(val){return _this5.setStateOrError(null,'start_date',val);},initValue:this.state.fields.start_date.value})),_react["default"].createElement("div",{id:"vfend_date"},_react["default"].createElement(_form_date_input["default"],{autoComplete:"off",errors:this.state.errors.end_date,label:"End date (optional)",onChange:function onChange(val){return _this5.setStateOrError(null,'end_date',val);},initValue:this.state.fields.end_date.value})),_react["default"].createElement("div",{id:"vflocation"},_react["default"].createElement(_form_location_select["default"],{errors:this.state.errors.location,label:"Location (optional)",onChange:function onChange(location){return _this5.setStateOrError(null,'location',location);},placeholder:"San Francisco, California US",renderDistanceInput:false,value:this.state.fields.location.value})),_react["default"].createElement("div",{id:"vfimage"},_react["default"].createElement(_form_image_uploader["default"],{allowGifs:false,label:"Image",aspectRatio:3/2,dimensionMins:{width:1110},errors:this.state.errors.image,helperText:"This image will display in large cards and is used as a fallback when a mobile image is not provided. This image should have a ratio of 3:2 and be 3330x2220 (minimum 1110x740px) for the best quality.",imageData:this.state.fields.image.value,propagateStatus:function propagateStatus(isBusy){return _this5.setIsBusy(isBusy,'image');},propagateUpload:function propagateUpload(image){return _this5.setStateOrError(null,'image',image);}})),_react["default"].createElement("div",{id:"vfmobile_image"},_react["default"].createElement(_form_image_uploader["default"],{allowGifs:false,label:"Mobile image (optional)",aspectRatio:1/1,attachmentType:'MobileCoverImage',dimensionMins:{width:120},errors:this.state.errors.mobile_image,helperText:"This image will display in mobile cards and sections where the image is a square. This image should have a ratio of 1:1 and be 360x360px (minimum 120x120px) for the best quality.",imageData:this.state.fields.mobile_image.value,propagateStatus:function propagateStatus(isBusy){return _this5.setIsBusy(isBusy,'mobile_image');},propagateUpload:function propagateUpload(image){return _this5.setStateOrError(null,'mobile_image',image);}})),_react["default"].createElement("div",{id:"vfevent_type"},_react["default"].createElement(_form_select["default"],{key:"event_type",errors:this.state.errors.event_type,label:"Event type",onSelectedChange:function onSelectedChange(opt){return _this5.setStateOrError(null,'event_type',opt);},options:EVENT_TYPES_OPTS,placeholder:"Select event type",selectOpts:{rule:'norule'},value:this.state.fields.event_type.value})),(!this.props.isAdmin||this.props.isAdmin&&!isSponsoredEvent)&&this._getSponsorInputs()))),_react["default"].createElement("section",{className:"".concat(_forms2["default"].panel," ").concat(_layout["default"].fullWidth)},_react["default"].createElement("div",{className:"".concat(_forms2["default"].panelHeader," ").concat(_util["default"].borderBottom)},_react["default"].createElement("p",{className:"".concat(_inputs["default"].label," ").concat(_layout["default"].margin0)},"".concat(isSponsoredEvent?'Sponsored event':'Event'," card preview"))),_react["default"].createElement("div",{className:_forms2["default"].panelInner},isSponsoredEvent?_react["default"].createElement(_PreviewLayoutSponsored["default"],{item:currentRecord}):_react["default"].createElement(_PreviewLayoutDefault["default"],{item:currentRecord}))),this.props.renderRecaptchaBadge("".concat(_layout["default"].fullWidth," ").concat(_layout["default"].flexJustifyEnd," ").concat(_layout["default"].marginBottom30)))),_react["default"].createElement("div",{className:"".concat(_news_admin_templates["default"].actionsBarRoot," ").concat(_util["default"].posRelative),id:STICKY_FOOTER_ID},_react["default"].createElement(_sticky_wrapper["default"],{className:"".concat(_news_admin_templates["default"].actionsBar," ").concat(_util["default"].borderTop," ").concat(_layout["default"].flexJustifyCenter),parentId:STICKY_FOOTER_ID,startPos:"bottom",stickToEnd:false},_react["default"].createElement("div",{className:"".concat(_layout["default"].wrapper1170," ").concat(_news_admin_templates["default"].actionsBarInner)},_react["default"].createElement(_breadcrumb["default"],{classList:{root:_layout["default"].margin0,text:_layout["default"].hiddenSmallDown},href:this.props.breadcrumbProps.href,onClick:this.props.breadcrumbProps.onClick,text:this.props.breadcrumbProps.text}),_react["default"].createElement("h1",{className:"".concat(_typography["default"].bodyM," ").concat(_layout["default"].margin0)},isDefaultMode?'Create event':'Edit event'),_react["default"].createElement("div",null,!isDefaultMode&&_react["default"].createElement(_base["default"],{className:_layout["default"].marginRight10,colorStyle:"danger",disabled:this.state.isBusy||this.props.isBusy,onClick:this.props.onDeleteClick},"Delete"),_react["default"].createElement(_actionable["default"],{disabled:this.state.isBusy,isBusy:this.props.isBusy,onClick:this.addOrUpdateContent,text:isDefaultMode?'Publish':'Update'}))))));}}]);return EventForm;}(_react.PureComponent);EventForm.propTypes={algoliaPlatformsService:_propTypes["default"].object.isRequired,breadcrumbProps:_propTypes["default"].shape({href:_propTypes["default"].string,onClick:_propTypes["default"].func,text:_propTypes["default"].string}),initRecord:_propTypes["default"].shape({custom_sponsors:_propTypes["default"].arrayOf(_propTypes["default"].string),event_type:_propTypes["default"].string,image:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}),link:_propTypes["default"].string,location:_propTypes["default"].shape({city:_propTypes["default"].string,countryCode:_propTypes["default"].string,state:_propTypes["default"].string}),platforms:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired})),start_date:_propTypes["default"].string,title:_propTypes["default"].string,user:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired})}),isAdmin:_propTypes["default"].bool.isRequired,isBusy:_propTypes["default"].bool.isRequired,mode:_propTypes["default"].string,onDeleteClick:_propTypes["default"].func,renderRecaptchaBadge:_propTypes["default"].func,saveContent:_propTypes["default"].func.isRequired};EventForm.defaultProps={breadcrumbProps:{},initRecord:null,mode:'default',onDeleteClick:null,renderRecaptchaBadge:function renderRecaptchaBadge(){return null;}};var _default=EventForm;exports["default"]=_default;}),825:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _EventCardHorizontalLargePreview=_interopRequireDefault(__webpack_require__(49805));var _EventCardHorizontalSmallPreview=_interopRequireDefault(__webpack_require__(74853));var _EventCardVerticalPreview=_interopRequireDefault(__webpack_require__(38535));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var PreviewLayoutDefault=function PreviewLayoutDefault(_ref){var item=_ref.item;return _react["default"].createElement("div",null,_react["default"].createElement("div",{style:{maxWidth:524}},_react["default"].createElement(_EventCardHorizontalLargePreview["default"],{item:item})),_react["default"].createElement("div",{className:"".concat(_layout["default"].marginTop45," ").concat(_layout["default"].marginBottom30," ").concat(_layout["default"].paddingTop45," ").concat(_util["default"].borderTop)},_react["default"].createElement("div",{style:{maxWidth:350}},_react["default"].createElement(_EventCardHorizontalSmallPreview["default"],{item:item}))),_react["default"].createElement("div",{className:"".concat(_layout["default"].marginTop45," ").concat(_layout["default"].marginBottom30," ").concat(_layout["default"].paddingTop45," ").concat(_util["default"].borderTop)},_react["default"].createElement("div",{style:{maxWidth:270}},_react["default"].createElement(_EventCardVerticalPreview["default"],{item:item}))));};var _default=PreviewLayoutDefault;exports["default"]=_default;}),20417:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _EventCardSponsoredLargePreview=_interopRequireDefault(__webpack_require__(89737));var _EventCardSponsoredSmallPreview=_interopRequireDefault(__webpack_require__(74847));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var PreviewLayoutSponsored=function PreviewLayoutSponsored(_ref){var item=_ref.item;return _react["default"].createElement("div",null,_react["default"].createElement(_EventCardSponsoredLargePreview["default"],{item:item}),_react["default"].createElement("div",{className:"".concat(_layout["default"].marginTop45," ").concat(_layout["default"].marginBottom30," ").concat(_layout["default"].paddingTop45," ").concat(_util["default"].borderTop)},_react["default"].createElement("div",{style:{maxWidth:350}},_react["default"].createElement(_EventCardSponsoredSmallPreview["default"],{item:item}))));};var _default=PreviewLayoutSponsored;exports["default"]=_default;}),55569:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _templates=__webpack_require__(67133);var _colors=_interopRequireDefault(__webpack_require__(5941));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DateRangePlaceholder=function DateRangePlaceholder(){return _react["default"].createElement("div",{className:"".concat(_util["default"].bgWhite," ").concat(_layout["default"].flexCenterItems," ").concat(_layout["default"].flexJustifySpaceBetween," ").concat(_layout["default"].flexColumn," ").concat(_util["default"].borderRadius," ").concat(_layout["default"].padding15),style:{height:78,width:66}},_react["default"].createElement(_templates.TextPlaceholder,{backgroundColor:_colors["default"]['v-pebble'],height:22,width:15}),_react["default"].createElement(_templates.TextPlaceholder,{backgroundColor:_colors["default"]['v-pebble'],height:16,width:"100%"}));};var _default=DateRangePlaceholder;exports["default"]=_default;}),49805:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _EventCardTextPreview=_interopRequireDefault(__webpack_require__(91771));var _LazyBackgroundImage=_interopRequireDefault(__webpack_require__(48844));var _accessors=__webpack_require__(4887);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _base_card_horizontal_lg=_interopRequireDefault(__webpack_require__(64221));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var EventCardHorizontalLargePreview=function EventCardHorizontalLargePreview(_ref){var className=_ref.className,item=_ref.item;var imageUrl=(0,_accessors.getInObj)(['image','url'],item);return _react["default"].createElement("div",{className:"".concat(_base_card_horizontal_lg["default"].card," ").concat(_layout["default"].fullWidth," ").concat(_typography["default"].breakWord," ").concat(className)},_react["default"].createElement("div",{className:"".concat(_base_card_horizontal_lg["default"].image," ").concat(_util["default"].posRelative," ").concat(_util["default"].borderRadius," ").concat(imageUrl?'':_util["default"].bgAsphalt)},!!imageUrl&&_react["default"].createElement(_LazyBackgroundImage["default"],{key:imageUrl,classList:{image:_util["default"].borderRadius},alt:item.title,ratio:"3:2",setStyle:false,src:imageUrl,width:204})),_react["default"].createElement(_EventCardTextPreview["default"],{className:_base_card_horizontal_lg["default"].text,item:item,size:"L"}));};EventCardHorizontalLargePreview.propTypes={event:_propTypes["default"].shape({custom_sponsors:_propTypes["default"].arrayOf(_propTypes["default"].string),end_date:_propTypes["default"].string,event_type:_propTypes["default"].string,image:_propTypes["default"].shape({url:_propTypes["default"].string}),location:_propTypes["default"].shape({}),platforms:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired})),start_date:_propTypes["default"].string,state:_propTypes["default"].string,title:_propTypes["default"].string})};EventCardHorizontalLargePreview.defaultProps={event:{custom_sponsors:[],end_date:null,event_type:null,image:null,location:null,platforms:[],start_date:null,state:null,title:null}};var _default=EventCardHorizontalLargePreview;exports["default"]=_default;}),74853:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _EventCardTextPreview=_interopRequireDefault(__webpack_require__(91771));var _LazyBackgroundImage=_interopRequireDefault(__webpack_require__(48844));var _accessors=__webpack_require__(4887);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var EventCardHorizontalSmallPreview=function EventCardHorizontalSmallPreview(_ref){var className=_ref.className,item=_ref.item;var imageUrl=(0,_accessors.getInObj)(['mobile_image','url'],item)||(0,_accessors.getInObj)(['image','url'],item);return _react["default"].createElement("div",{className:"".concat(className," ").concat(_layout["default"].flexCenterItems," ").concat(_layout["default"].fullWidth," ").concat(_typography["default"].breakWord)},_react["default"].createElement("div",{className:"".concat(_util["default"].posRelative," ").concat(_layout["default"].flex10Auto," ").concat(_util["default"].borderRadius," ").concat(imageUrl?'':_util["default"].bgAsphalt),style:{width:120,height:120}},!!imageUrl&&_react["default"].createElement(_LazyBackgroundImage["default"],{key:imageUrl,classList:{image:_util["default"].borderRadius},alt:item.title,ratio:"1:1",src:imageUrl,width:120})),_react["default"].createElement(_EventCardTextPreview["default"],{className:_layout["default"].marginLeft15,item:item}));};EventCardHorizontalSmallPreview.propTypes={event:_propTypes["default"].shape({custom_sponsors:_propTypes["default"].arrayOf(_propTypes["default"].string),end_date:_propTypes["default"].string,event_type:_propTypes["default"].string,image:_propTypes["default"].shape({url:_propTypes["default"].string}),location:_propTypes["default"].shape({}),platforms:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired})),start_date:_propTypes["default"].string,state:_propTypes["default"].string,title:_propTypes["default"].string})};EventCardHorizontalSmallPreview.defaultProps={event:{custom_sponsors:[],end_date:null,event_type:null,image:null,location:null,platforms:[],start_date:null,state:null,title:null}};var _default=EventCardHorizontalSmallPreview;exports["default"]=_default;}),89737:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DateRange=_interopRequireDefault(__webpack_require__(48250));var _DateRangePlaceholder=_interopRequireDefault(__webpack_require__(55569));var _EventTypeOrLocation=_interopRequireDefault(__webpack_require__(67154));var _icon=_interopRequireDefault(__webpack_require__(44509));var _LazyBackgroundImage=_interopRequireDefault(__webpack_require__(48844));var _SponsorList=_interopRequireDefault(__webpack_require__(34138));var _templates=__webpack_require__(67133);var _eventCardHelpers=__webpack_require__(88818);var _accessors=__webpack_require__(4887);var _types=__webpack_require__(88742);var _colors=_interopRequireDefault(__webpack_require__(5941));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _event_card=_interopRequireDefault(__webpack_require__(41219));var _preview_cards=_interopRequireDefault(__webpack_require__(95909));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var getImage=function getImage(imageUrl,title){return _react["default"].createElement(_LazyBackgroundImage["default"],{key:imageUrl,classList:{image:_util["default"].borderRadiusLarge},alt:title,ratio:"3:2",setStyle:false,src:imageUrl,width:555});};var getTitlePlaceholder=function getTitlePlaceholder(){return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement(_templates.TextPlaceholder,{height:34,backgroundColor:_colors["default"]['v-asphalt'],width:"100%"}),_react["default"].createElement(_templates.TextPlaceholder,{height:34,backgroundColor:_colors["default"]['v-asphalt'],marginTop:10,width:"100%"}));};var EventCardSponsoredLargePreview=function EventCardSponsoredLargePreview(_ref){var className=_ref.className,imageRight=_ref.imageRight,item=_ref.item;var imageUrl=(0,_accessors.getInObj)(['image','url'],item);return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexCenterItems," ").concat(imageRight?_layout["default"].flexRowReverse:_layout["default"].flexRow," ").concat(_event_card["default"].largeCard," ").concat(_typography["default"].breakWord," ").concat(_layout["default"].fullWidth," ").concat(className)},_react["default"].createElement("div",{className:"".concat(_layout["default"].flex1," ").concat(_event_card["default"].imageLarge," ").concat(_util["default"].posRelative," ").concat(_util["default"].borderRadiusLarge," ").concat(imageUrl?'':_util["default"].bgAsphalt)},!!imageUrl&&getImage(imageUrl,item.title),_react["default"].createElement("div",{className:_event_card["default"].dateBadge},item.start_date||item.end_date?_react["default"].createElement(_DateRange["default"],{endDate:item.end_date,startDate:item.start_date}):_react["default"].createElement(_DateRangePlaceholder["default"],null))),_react["default"].createElement("div",{className:"".concat(_typography["default"].bodyL," ").concat(_layout["default"].flexColumnWrap," ").concat(_layout["default"].flex1," ").concat(imageRight?_event_card["default"].largeCardInfoWrapperLeft:_event_card["default"].largeCardInfoWrapperRight)},_react["default"].createElement("div",{className:"".concat(_event_card["default"].largeCardInfoSection," ").concat(_preview_cards["default"].largeCardInfoSection),onClick:function onClick(e){return e.preventDefault();}},(0,_types.isBlank)(item.platforms)&&(0,_types.isBlank)(item.custom_sponsors)?_react["default"].createElement(_templates.TextPlaceholder,{backgroundColor:_colors["default"]['v-asphalt'],height:18,width:"50%"}):_react["default"].createElement(_SponsorList["default"],{item:item})),_react["default"].createElement("div",{className:"".concat(_event_card["default"].largeCardInfoSection," ").concat(_preview_cards["default"].largeCardInfoSection)},item.title?_react["default"].createElement("span",{className:"".concat(_typography["default"].linkCharcoal," ").concat(_typography["default"].h2Responsive," ").concat(_event_card["default"].largeCardTitle)},item.title):getTitlePlaceholder()),!!item.summary&&_react["default"].createElement("div",{className:"".concat(_event_card["default"].largeCardInfoSection," ").concat(_preview_cards["default"].largeCardInfoSection)},item.summary),_react["default"].createElement("div",{className:"".concat(_event_card["default"].largeCardInfoSection," ").concat(_preview_cards["default"].largeCardInfoSection)},_react["default"].createElement("div",{className:"".concat(_layout["default"].inlineFlex," ").concat(_layout["default"].flexCenterItems)},item.start_date||item.end_date?(0,_eventCardHelpers.getDateRangeAsText)(item):_react["default"].createElement(_templates.TextPlaceholder,{backgroundColor:_colors["default"]['v-asphalt'],height:18,width:80}),_react["default"].createElement("span",{className:"".concat(_layout["default"].marginLeft10," ").concat(_layout["default"].marginRight10)},"\u2022"),item.event_type?_react["default"].createElement(_EventTypeOrLocation["default"],{item:item}):_react["default"].createElement(_templates.TextPlaceholder,{backgroundColor:_colors["default"]['v-asphalt'],height:18,width:80})),_react["default"].createElement("span",{className:"".concat(_event_card["default"].ctaLink," ").concat(_typography["default"].bold," ").concat(_typography["default"].linkBlue," ").concat(_typography["default"].textWithIcon)},'Learn more',_react["default"].createElement(_icon["default"],{className:_layout["default"].marginLeft5,name:"arrow-right"})))));};EventCardSponsoredLargePreview.propTypes={event:_propTypes["default"].shape({custom_sponsors:_propTypes["default"].arrayOf(_propTypes["default"].string),end_date:_propTypes["default"].string,event_type:_propTypes["default"].string,image:_propTypes["default"].shape({url:_propTypes["default"].string}),location:_propTypes["default"].shape({}),platforms:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired})),start_date:_propTypes["default"].string,state:_propTypes["default"].string,title:_propTypes["default"].string})};EventCardSponsoredLargePreview.defaultProps={event:{custom_sponsors:[],end_date:null,event_type:null,image:null,location:null,platforms:[],start_date:null,state:null,title:null}};var _default=EventCardSponsoredLargePreview;exports["default"]=_default;}),74847:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DateRange=_interopRequireDefault(__webpack_require__(48250));var _DateRangePlaceholder=_interopRequireDefault(__webpack_require__(55569));var _EventTypeOrLocation=_interopRequireDefault(__webpack_require__(67154));var _icon=_interopRequireDefault(__webpack_require__(44509));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _SponsorList=_interopRequireDefault(__webpack_require__(34138));var _templates=__webpack_require__(67133);var _eventCardHelpers=__webpack_require__(88818);var _accessors=__webpack_require__(4887);var _types=__webpack_require__(88742);var _colors=_interopRequireDefault(__webpack_require__(5941));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _event_card=_interopRequireDefault(__webpack_require__(41219));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var getTitlePlaceholder=function getTitlePlaceholder(){return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement(_templates.TextPlaceholder,{height:24,backgroundColor:_colors["default"]['v-asphalt'],marginTop:15,width:"100%"}),_react["default"].createElement(_templates.TextPlaceholder,{height:24,backgroundColor:_colors["default"]['v-asphalt'],marginTop:10,width:"80%"}));};var EventCardSponsoredSmallPreview=function EventCardSponsoredSmallPreview(_ref){var className=_ref.className,imageRight=_ref.imageRight,item=_ref.item;var imageUrl=(0,_accessors.getInObj)(['image','url'],item);return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexCenterItems," ").concat(_layout["default"].flexColumnWrap," ").concat(_layout["default"].fullWidth," ").concat(_typography["default"].breakWord," ").concat(className)},_react["default"].createElement("div",{className:"".concat(_util["default"].absolutePlaceholderParent," ").concat(_util["default"].aspectRatioPadding3_2," ").concat(_layout["default"].fullWidth," ").concat(_util["default"].borderRadius," ").concat(imageUrl?'':_util["default"].bgAsphalt," ").concat(_typography["default"].breakWord)},!!imageUrl&&_react["default"].createElement(_LazyImage["default"],{alt:item.title,classList:{root:_util["default"].absolutePlaceholderChild,image:_util["default"].borderRadius},ratio:"3:2",setStyle:false,src:imageUrl,width:370}),_react["default"].createElement("div",{className:_event_card["default"].dateBadge},item.start_date||item.end_date?_react["default"].createElement(_DateRange["default"],{endDate:item.end_date,startDate:item.start_date}):_react["default"].createElement(_DateRangePlaceholder["default"],null))),_react["default"].createElement("div",{className:"".concat(_typography["default"].bodyL," ").concat(_layout["default"].flexColumnWrap," ").concat(_layout["default"].flexCenterItems," ").concat(_layout["default"].fullWidth),onClick:function onClick(e){return e.preventDefault();}},(0,_types.isBlank)(item.platforms)&&(0,_types.isBlank)(item.custom_sponsors)?_react["default"].createElement(_templates.TextPlaceholder,{backgroundColor:_colors["default"]['v-asphalt'],height:18,marginTop:22,width:"50%"}):_react["default"].createElement(_SponsorList["default"],{className:"".concat(_layout["default"].marginTop22," ").concat(_typography["default"].textCenter),item:item}),item.title?_react["default"].createElement("span",{className:"".concat(_typography["default"].linkCharcoal," ").concat(_typography["default"].h3Responsive," ").concat(_layout["default"].marginTop10," ").concat(_typography["default"].textCenter)},item.title):getTitlePlaceholder(),_react["default"].createElement("div",{className:"".concat(_layout["default"].inlineFlex," ").concat(_layout["default"].flexCenterItems," ").concat(_layout["default"].marginTop10)},item.start_date||item.end_date?(0,_eventCardHelpers.getDateRangeAsText)(item):_react["default"].createElement(_templates.TextPlaceholder,{backgroundColor:_colors["default"]['v-asphalt'],height:18,width:80}),_react["default"].createElement("span",{className:"".concat(_layout["default"].marginLeft10," ").concat(_layout["default"].marginRight10)},"\u2022"),item.event_type?_react["default"].createElement(_EventTypeOrLocation["default"],{item:item}):_react["default"].createElement(_templates.TextPlaceholder,{backgroundColor:_colors["default"]['v-asphalt'],height:18,width:80})),_react["default"].createElement("span",{className:"".concat(_layout["default"].flex," ").concat(_layout["default"].flexJustifyCenter," ").concat(_layout["default"].marginTop10," ").concat(_typography["default"].bold," ").concat(_typography["default"].linkBlue," ").concat(_typography["default"].textWithIcon)},'Learn more',_react["default"].createElement(_icon["default"],{className:_layout["default"].marginLeft5,name:"arrow-right"}))));};EventCardSponsoredSmallPreview.propTypes={event:_propTypes["default"].shape({custom_sponsors:_propTypes["default"].arrayOf(_propTypes["default"].string),end_date:_propTypes["default"].string,event_type:_propTypes["default"].string,image:_propTypes["default"].shape({url:_propTypes["default"].string}),location:_propTypes["default"].shape({}),platforms:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired})),start_date:_propTypes["default"].string,state:_propTypes["default"].string,title:_propTypes["default"].string})};EventCardSponsoredSmallPreview.defaultProps={event:{custom_sponsors:[],end_date:null,event_type:null,image:null,location:null,platforms:[],start_date:null,state:null,title:null}};var _default=EventCardSponsoredSmallPreview;exports["default"]=_default;}),91771:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _EventTypeOrLocation=_interopRequireDefault(__webpack_require__(67154));var _eventCardHelpers=__webpack_require__(88818);var _templates=__webpack_require__(67133);var _colors=_interopRequireDefault(__webpack_require__(5941));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var getLink=function getLink(_ref){var color=_ref.color,item=_ref.item,size=_ref.size;return _react["default"].createElement("span",{className:"".concat(_typography["default"].link," ").concat(_typography["default"].bold," ").concat(size==='M'?_typography["default"].bodyM:_typography["default"].bodyL," ").concat(_typography["default"][color])},item.title);};var getLinkPlaceholder=function getLinkPlaceholder(size){var height=size==='M'?16:18;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement(_templates.TextPlaceholder,{height:height,backgroundColor:_colors["default"]['v-asphalt'],width:"100%"}),_react["default"].createElement(_templates.TextPlaceholder,{height:height,backgroundColor:_colors["default"]['v-asphalt'],marginTop:size==='M'?6:8,width:"100%"}));};var getInfoLinePlaceholder=function getInfoLinePlaceholder(size){return _react["default"].createElement(_templates.TextPlaceholder,{backgroundColor:_colors["default"]['v-asphalt'],height:size==='M'?14:16,width:"50%"});};var EventCardTextPreview=function EventCardTextPreview(_ref2){var className=_ref2.className,color=_ref2.color,item=_ref2.item,size=_ref2.size;return _react["default"].createElement("div",{className:"".concat(className," ").concat(_layout["default"].fullWidth," ").concat(_typography["default"].breakWord)},item.title?getLink({color:color,item:item,size:size}):getLinkPlaceholder(size),_react["default"].createElement("div",{className:"".concat(size==='M'?_typography["default"].bodyS:_typography["default"].bodyM," ").concat(_typography["default"][color])},_react["default"].createElement("div",{className:_layout["default"].marginTop10},item.start_date||item.end_date?(0,_eventCardHelpers.getDateRangeAsText)(item):getInfoLinePlaceholder(size)),_react["default"].createElement("div",{className:_layout["default"].marginTop10},item.event_type?_react["default"].createElement(_EventTypeOrLocation["default"],{item:item}):getInfoLinePlaceholder(size))));};EventCardTextPreview.propTypes={className:_propTypes["default"].string,color:_propTypes["default"].string,item:_propTypes["default"].shape({city:_propTypes["default"].string,country_iso2:_propTypes["default"].string,custom_sponsors:_propTypes["default"].arrayOf(_propTypes["default"].string),event_type:_propTypes["default"].string,id:_propTypes["default"].number,image:_propTypes["default"].shape({url:_propTypes["default"].string}),imageRight:_propTypes["default"].bool,link:_propTypes["default"].string,start_date:_propTypes["default"].string,state:_propTypes["default"].string,title:_propTypes["default"].string}).isRequired,size:_propTypes["default"].oneOf(['M','L'])};EventCardTextPreview.defaultProps={className:'',color:'charcoal',size:'M'};var _default=EventCardTextPreview;exports["default"]=_default;}),38535:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _EventCardTextPreview=_interopRequireDefault(__webpack_require__(91771));var _LazyBackgroundImage=_interopRequireDefault(__webpack_require__(48844));var _accessors=__webpack_require__(4887);var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));var _base_card_vertical=_interopRequireDefault(__webpack_require__(88301));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var EventCardVerticalPreview=function EventCardVerticalPreview(_ref){var className=_ref.className,item=_ref.item;var imageUrl=(0,_accessors.getInObj)(['image','url'],item);return _react["default"].createElement("div",{className:"".concat(_base_card_vertical["default"].cardResponsive," ").concat(_layout["default"].flexColumn," ").concat(_layout["default"].fullWidth," ").concat(className)},_react["default"].createElement("div",{className:"".concat(_base_card_vertical["default"].imageResponsive," ").concat(_layout["default"].fullWidth," ").concat(_util["default"].absolutePlaceholderParent," ").concat(_util["default"].aspectRatioPadding3_2," ").concat(_util["default"].borderRadius," ").concat(_util["default"].overflowHidden," ").concat(imageUrl?'':_util["default"].bgAsphalt)},!!imageUrl&&_react["default"].createElement(_LazyBackgroundImage["default"],{key:imageUrl,classList:{root:"".concat(_util["default"].absolutePlaceholderChild)},alt:item.title,ratio:"3:2",setStyle:false,src:imageUrl,width:204})),_react["default"].createElement("div",{className:"".concat(_base_card_vertical["default"].textResponsive," ").concat(_layout["default"].marginTop22)},_react["default"].createElement(_EventCardTextPreview["default"],{item:item})));};EventCardVerticalPreview.propTypes={event:_propTypes["default"].shape({custom_sponsors:_propTypes["default"].arrayOf(_propTypes["default"].string),end_date:_propTypes["default"].string,event_type:_propTypes["default"].string,image:_propTypes["default"].shape({url:_propTypes["default"].string}),location:_propTypes["default"].shape({}),platforms:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired})),start_date:_propTypes["default"].string,state:_propTypes["default"].string,title:_propTypes["default"].string})};EventCardVerticalPreview.defaultProps={event:{custom_sponsors:[],end_date:null,event_type:null,image:null,location:null,platforms:[],start_date:null,state:null,title:null}};var _default=EventCardVerticalPreview;exports["default"]=_default;}),67133:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getSponsorsList=exports.getLocation=exports.getDateSmall=exports.getDate=exports.TextPlaceholder=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _DateRange=_interopRequireDefault(__webpack_require__(48250));var _EventTypeOrLocation=_interopRequireDefault(__webpack_require__(67154));var _SponsorList=_interopRequireDefault(__webpack_require__(34138));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));var _preview_cards=_interopRequireDefault(__webpack_require__(95909));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var TextPlaceholder=function TextPlaceholder(_ref){var _ref$backgroundColor=_ref.backgroundColor,backgroundColor=_ref$backgroundColor===void 0?"#F7F7F7":_ref$backgroundColor,_ref$height=_ref.height,height=_ref$height===void 0?"inherit":_ref$height,_ref$marginTop=_ref.marginTop,marginTop=_ref$marginTop===void 0?"0":_ref$marginTop,_ref$width=_ref.width,width=_ref$width===void 0?"inherit":_ref$width;return _react["default"].createElement("div",{style:{backgroundColor:backgroundColor,borderRadius:2,height:height,marginTop:marginTop,width:width}});};exports.TextPlaceholder=TextPlaceholder;var getDate=function getDate(event){return event.start_date?getDateView(event):getDatePreview();};exports.getDate=getDate;var getDatePreview=function getDatePreview(){return _react["default"].createElement("div",{className:_preview_cards["default"].datePlaceholder});};var getDateView=function getDateView(event){return _react["default"].createElement(_DateRange["default"],{endDate:event.end_date,large:true,startDate:event.start_date});};var getDateSmall=function getDateSmall(event){return event.start_date?getDateSmallView(event):getDateSmallPreview();};exports.getDateSmall=getDateSmall;var getDateSmallPreview=function getDateSmallPreview(){return _react["default"].createElement("div",{className:_preview_cards["default"].datePlaceholder});};var getDateSmallView=function getDateSmallView(event){return _react["default"].createElement("div",{className:"".concat(_layout["default"].fullWidth," ").concat(_util["default"].absolutePlaceholderChild)},_react["default"].createElement(_DateRange["default"],{startDate:event.start_date,endDate:event.end_date}));};var getLocation=function getLocation(event){return event.event_type&&event.location?getLocationView(event):getLocationPreview();};exports.getLocation=getLocation;var getLocationPreview=function getLocationPreview(){return _react["default"].createElement(TextPlaceholder,{height:20,width:200});};var getLocationView=function getLocationView(event){return _react["default"].createElement(_EventTypeOrLocation["default"],{item:event});};var getSponsorsList=function getSponsorsList(event){var prependSlash=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return event.event_type?getSponsorsListView(event,prependSlash):null;};exports.getSponsorsList=getSponsorsList;var getSponsorsListView=function getSponsorsListView(event,prependSlash){return _react["default"].createElement(_SponsorList["default"],{item:event,prependSlash:prependSlash});};}),15304:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _ActionsSection=_interopRequireDefault(__webpack_require__(59729));var _cta_form=_interopRequireDefault(__webpack_require__(96706));var _config=_interopRequireDefault(__webpack_require__(90026));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _home_sections=_interopRequireDefault(__webpack_require__(61122));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var EditCTAView=function(_Component){_inherits(EditCTAView,_Component);var _super=_createSuper(EditCTAView);function EditCTAView(props){var _this;_classCallCheck(this,EditCTAView);_this=_super.call(this,props);_this.state={isBusy:false};_this.ctaForm;return _this;}
_createClass(EditCTAView,[{key:"_addCTASection",value:function _addCTASection(){if(!this.ctaForm)return(0,_error_handler["default"])('ctaForm ref does not exist!');var isValid=this.ctaForm.validate();if(isValid){var ctaConfig=(0,_config["default"])('cta');this.props.updateSection({index:this.props.ctaSection.index,data:ctaConfig.toSection(this.ctaForm.getFormData())});this.props.toggleView('table');}}},{key:"render",value:function render(){var _this2=this;var _this$props$ctaSectio=this.props.ctaSection.data,title=_this$props$ctaSectio.title,meta=_this$props$ctaSectio.meta,value=_this$props$ctaSectio.value;return _react["default"].createElement("div",{className:_home_sections["default"].root},_react["default"].createElement("h2",{className:"".concat(_typography["default"].h2," ").concat(_layout["default"].marginBottom30)},"Edit ".concat(title)),_react["default"].createElement(_cta_form["default"],{ref:function ref(el){return _this2.ctaForm=el;},initData:{image:{id:value,name:meta.image_name,url:meta.image_url},link:meta.link,name:title},propagateStatus:function propagateStatus(bool){return _this2.setState({isBusy:bool});}}),_react["default"].createElement("div",null,_react["default"].createElement(_ActionsSection["default"],{isBusy:this.state.isBusy,primaryBtnConfig:{onClick:function onClick(){return _this2._addCTASection();},text:'Save changes'},secondaryBtnConfig:{onClick:function onClick(){return _this2.props.toggleView('table');}}})));}}]);return EditCTAView;}(_react.Component);EditCTAView.propTypes={ctaSection:_propTypes["default"].shape({index:_propTypes["default"].number,data:_propTypes["default"].shape({key:_propTypes["default"].string.isRequired,label:_propTypes["default"].string.isRequired,meta:_propTypes["default"].shape({image_name:_propTypes["default"].string,image_url:_propTypes["default"].string.isRequired,link:_propTypes["default"].string.isRequired}),title:_propTypes["default"].string.isRequired,value:_propTypes["default"].number.isRequired}).isRequired}).isRequired,toggleView:_propTypes["default"].func.isRequired,updateSection:_propTypes["default"].func.isRequired};EditCTAView.defaultProps={};var _default=EditCTAView;exports["default"]=_default;}),56353:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _ActionsSection=_interopRequireDefault(__webpack_require__(59729));var _promoted_content_form=_interopRequireDefault(__webpack_require__(66290));var _config=_interopRequireDefault(__webpack_require__(90026));var _parts_service=_interopRequireDefault(__webpack_require__(77721));var _tags_service=_interopRequireDefault(__webpack_require__(84718));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _home_sections=_interopRequireDefault(__webpack_require__(61122));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var EditPromotedContentView=function(_Component){_inherits(EditPromotedContentView,_Component);var _super=_createSuper(EditPromotedContentView);function EditPromotedContentView(props){var _this;_classCallCheck(this,EditPromotedContentView);_this=_super.call(this,props);_this.state={isBusy:false};_this.algoliaPartsService=new _parts_service["default"]();_this.algoliaTagsService=new _tags_service["default"]();_this.promotedContent;return _this;}
_createClass(EditPromotedContentView,[{key:"_validateAndUpdateSection",value:function _validateAndUpdateSection(){if(!this.promotedContent)return(0,_error_handler["default"])('promotedContent ref does not exist!');var isValid=this.promotedContent.validate();if(isValid){var config=(0,_config["default"])('promotedContent');this.props.updateSection({index:this.props.section.index,data:config.toSection(this.promotedContent.getContent())});this.props.toggleView('table');}}},{key:"render",value:function render(){var _this2=this;var _this$props$section$d=this.props.section.data,meta=_this$props$section$d.meta,title=_this$props$section$d.title;return _react["default"].createElement("div",{className:_home_sections["default"].root},_react["default"].createElement("h2",{className:"".concat(_typography["default"].h2," ").concat(_layout["default"].marginBottom30)},"Edit promoted content section"),_react["default"].createElement(_promoted_content_form["default"],{ref:function ref(el){return _this2.promotedContent=el;},algoliaPartsService:this.algoliaPartsService,algoliaTagsService:this.algoliaTagsService,initData:meta.content,initTitle:title,propagateStatus:function propagateStatus(bool){return _this2.setState({isBusy:bool});}}),_react["default"].createElement("div",null,_react["default"].createElement(_ActionsSection["default"],{isBusy:this.state.isBusy,primaryBtnConfig:{onClick:function onClick(){return _this2._validateAndUpdateSection();},text:'Save changes'},secondaryBtnConfig:{onClick:function onClick(){return _this2.props.toggleView('table');}}})));}}]);return EditPromotedContentView;}(_react.Component);EditPromotedContentView.propTypes={section:_propTypes["default"].shape({index:_propTypes["default"].number,data:_propTypes["default"].shape({key:_propTypes["default"].string.isRequired,label:_propTypes["default"].string.isRequired,meta:_propTypes["default"].shape({content:_propTypes["default"].arrayOf(_propTypes["default"].shape({contentType:_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].string}),description:_propTypes["default"].string,image11:_propTypes["default"].shape({id:_propTypes["default"].number,name:_propTypes["default"].string,url:_propTypes["default"].string}),image43:_propTypes["default"].shape({id:_propTypes["default"].number,name:_propTypes["default"].string,url:_propTypes["default"].string}),link:_propTypes["default"].string,products:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].bool,_propTypes["default"].number])})),tags:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].bool,_propTypes["default"].number])})),title:_propTypes["default"].string}))}),title:_propTypes["default"].string.isRequired,value:_propTypes["default"].string.isRequired}).isRequired}).isRequired,toggleView:_propTypes["default"].func.isRequired,updateSection:_propTypes["default"].func.isRequired};var _default=EditPromotedContentView;exports["default"]=_default;}),90026:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=getConfigByType;exports.createSelectComponentLabel=exports.createOptionLabel=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _uuid=__webpack_require__(21614);var _async_select=_interopRequireDefault(__webpack_require__(38260));var _cta_form=_interopRequireDefault(__webpack_require__(96706));var _promoted_content_form=_interopRequireDefault(__webpack_require__(66290));var _select=_interopRequireDefault(__webpack_require__(79463));var _videos_form=_interopRequireDefault(__webpack_require__(39890));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _formatters=__webpack_require__(88231);var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _home_sections=_interopRequireDefault(__webpack_require__(61122));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
var NOOP_COMPONENT=function NOOP_COMPONENT(){return _react["default"].createElement("div",null);};var createAsyncSelect=function createAsyncSelect(ctx,_ref){var algoliaParameters=_ref.algoliaParameters,algoliaRecordsToOptions=_ref.algoliaRecordsToOptions,algoliaService=_ref.algoliaService,_ref$placeholder=_ref.placeholder,placeholder=_ref$placeholder===void 0?'Select an option from the dropdown or type to search':_ref$placeholder,type=_ref.type;return _react["default"].createElement(_async_select["default"],{key:type,algoliaParameters:algoliaParameters,algoliaProjectsService:ctx['algoliaProjectsService'],algoliaRecordsToOptions:algoliaRecordsToOptions,algoliaService:ctx[algoliaService],errors:ctx.getErrorsForType(type),maxWidth:500,onSelect:function onSelect(option){return ctx.setCurrentSelectionForType(type,option);},placeholder:placeholder,value:ctx.getValueForType(type)});};var createCTAForm=function createCTAForm(ctx){return _react["default"].createElement(_cta_form["default"],{ref:function ref(el){return ctx['ctaForm']=el;},propagateStatus:ctx.toggleBusyStatus});};var createPromotedContent=function createPromotedContent(ctx){return _react["default"].createElement(_promoted_content_form["default"],{ref:function ref(el){return ctx['promotedContent']=el;},algoliaPartsService:ctx['algoliaPartsService'],algoliaTagsService:ctx['algoliaTagsService'],propagateStatus:ctx.toggleBusyStatus});};var createVideos=function createVideos(ctx){return _react["default"].createElement(_videos_form["default"],{ref:function ref(el){return ctx['video']=el;},propogateStatus:ctx.toggleBusyStatus});};var createSelect=function createSelect(ctx,_ref2){var _ref2$placeholder=_ref2.placeholder,placeholder=_ref2$placeholder===void 0?'Select an option from the dropdown':_ref2$placeholder,type=_ref2.type;return _react["default"].createElement(_select["default"],{key:type,errors:ctx.getErrorsForType(type),maxWidth:500,onSelectedChange:function onSelectedChange(opt){return ctx.setCurrentSelectionForType(type,opt);},options:listToSelectOptions(ctx.getSelectionListForType(type)),placeholder:placeholder,value:ctx.getValueForType(type)});};var createCTAComponentLabel=function createCTAComponentLabel(){return _react["default"].createElement("h2",{className:"".concat(_typography["default"].h2," ").concat(_layout["default"].marginBottom30)},"Create a call to action item");};var createOptionLabel=function createOptionLabel(_ref3,projectCountThreshold){var name=_ref3.name,projects_count=_ref3.projects_count;return _react["default"].createElement("span",{className:"".concat(_home_sections["default"].option," ").concat(projects_count<projectCountThreshold&&_home_sections["default"].optionDisabled)},_react["default"].createElement("span",{className:_home_sections["default"].optionName},name),_react["default"].createElement("span",null,"(",projects_count," ",(0,_formatters.pluralize)('project',projects_count),")"));};exports.createOptionLabel=createOptionLabel;var createSelectComponentLabel=function createSelectComponentLabel(type){return _react["default"].createElement("label",{className:_inputs["default"].label},"Select a ".concat(type));};exports.createSelectComponentLabel=createSelectComponentLabel;var ctaToSection=function ctaToSection(cta){return{key:'cta',label:cta.name,meta:{image_name:cta.image.name,image_url:cta.image.url,link:cta.link},title:cta.name,value:cta.image.id};};var promotedContentToSection=function promotedContentToSection(content){return{key:'promoted',label:'Promoted content',meta:{content:content.content},title:content.title,value:(0,_uuid.v1)()};};var videoContentToSection=function videoContentToSection(content){return{key:'video',label:'Videos',meta:{content:content.content},title:content.title,value:(0,_uuid.v1)()};};var recordToSection=function recordToSection(record,key){return{key:key,label:record.name,title:record.name,value:record.id};};var recordsToSelectOptions=function recordsToSelectOptions(){var records=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var projectsCountByIds=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var projectCountThreshold=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;return records.map(function(record){var projects_count=projectsCountByIds&&projectsCountByIds.hasOwnProperty(record.id)?projectsCountByIds[record.id]:record.hasOwnProperty('projects_count')?record.projects_count:0;return{disabled:projects_count<projectCountThreshold,label:record.name,labelView:createOptionLabel({name:record.name,projects_count:projects_count},projectCountThreshold),value:record.id,record:record};});};var listToSelectOptions=function listToSelectOptions(){var list=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return list.map(function(item){return{disabled:false,label:item.label,value:item.value,record:item};});};var buildFacetsForAsyncSelect=function buildFacetsForAsyncSelect(sections,initFacet,sectionKey,algoliaKey){var ids=sections.reduce(function(acc,section){return section.key===sectionKey?acc.concat("".concat(algoliaKey,":-").concat(section.value)):acc;},[]);return ids.length?[].concat(_toConsumableArray(ids),_toConsumableArray(initFacet)):initFacet;};var SECTION_TYPES={cta:function cta(){return{component:function component(ctx){return createCTAForm(ctx);},label:function label(){return createCTAComponentLabel();},toSection:function toSection(cta){return ctaToSection(cta);}};},collection:function collection(){return{component:function component(ctx){return createSelect(ctx,{type:'collection'});},label:function label(){return createSelectComponentLabel('Collection');},toSection:function toSection(record){return record;}};},contest:function contest(){return{component:function component(ctx){return createAsyncSelect(ctx,{algoliaParameters:{hitsPerPage:100,initFacet:buildFacetsForAsyncSelect(ctx.props.existingSections,[],'contest_id','id'),projectsServiceFacetKey:'contest_ids'},algoliaRecordsToOptions:function algoliaRecordsToOptions(records,projectsCountByIds){return recordsToSelectOptions(records,projectsCountByIds,3);},algoliaService:'algoliaContestsService',type:'contest'});},label:function label(){return createSelectComponentLabel('Contest');},toSection:function toSection(record){return recordToSection(record,'contest_id');}};},platform:function platform(){return{component:function component(ctx){return createAsyncSelect(ctx,{algoliaParameters:{hitsPerPage:100,initFacet:buildFacetsForAsyncSelect(ctx.props.existingSections,['model:Platform'],'platform_id','id'),projectsServiceFacetKey:'platforms.id'},algoliaRecordsToOptions:recordsToSelectOptions,algoliaService:'algoliaPlatformsService',type:'platform'});},label:function label(){return createSelectComponentLabel('Platform');},toSection:function toSection(record){return recordToSection(record,'platform_id');}};},promotedContent:function promotedContent(){return{actionLabel:function actionLabel(){return _react["default"].createElement("p",null,"You must add at least 4 items before publishing");},component:function component(ctx){return createPromotedContent(ctx);},label:function label(){return null;},toSection:function toSection(content){return promotedContentToSection(content);}};},projectCollection:function projectCollection(){return{component:function component(ctx){return createSelect(ctx,{type:'projectCollection'});},label:function label(){return createSelectComponentLabel('Project collection');},toSection:function toSection(record){return record;}};},topic:function topic(){return{component:function component(ctx){return createAsyncSelect(ctx,{algoliaParameters:{hitsPerPage:100,initFacet:buildFacetsForAsyncSelect(ctx.props.existingSections,['display_on_home:true'],'topic_id','id'),projectsServiceFacetKey:'platforms.id'},algoliaRecordsToOptions:recordsToSelectOptions,algoliaService:'algoliaTopicsService',type:'topic'});},label:function label(){return createSelectComponentLabel('Topic');},toSection:function toSection(record){return recordToSection(record,'topic_id');}};},video:function video(){return{component:function component(ctx){return createVideos(ctx);},label:function label(){return null;},toSection:function toSection(content){return videoContentToSection(content);}};},_failSafe:function _failSafe(){return{component:function component(){return NOOP_COMPONENT;},label:function label(){return createSelectComponentLabel('...');},toSection:function toSection(){}};}};function getConfigByType(type){if(!SECTION_TYPES.hasOwnProperty(type)){(0,_error_handler["default"])("AddSectionView getConfigByType expected type, ".concat(type," to exist.  Known keys: ").concat(Object.keys(SECTION_TYPES)));return SECTION_TYPES._failSafe();}
return SECTION_TYPES[type]();}}),96706:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _isURL=_interopRequireDefault(__webpack_require__(2492));var _basic_form_input=_interopRequireDefault(__webpack_require__(54392));var _form_image_uploader=_interopRequireDefault(__webpack_require__(59272));var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _forms=_interopRequireDefault(__webpack_require__(98672));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var CTAForm=function(_Component){_inherits(CTAForm,_Component);var _super=_createSuper(CTAForm);function CTAForm(props){var _this;_classCallCheck(this,CTAForm);_this=_super.call(this,props);_this.state=Object.assign({errors:{}},_this._initState(props));_this.getFormData=_this.getFormData.bind(_assertThisInitialized(_this));_this.validate=_this.validate.bind(_assertThisInitialized(_this));return _this;}
_createClass(CTAForm,[{key:"_initState",value:function _initState(props){if(!props.initData){return{image:null,link:'',name:''};}
return props.initData;}},{key:"getFormData",value:function getFormData(){return{image:this.state.image,link:this.state.link,name:this.state.name};}},{key:"validate",value:function validate(){var _this2=this;var map={image:this._imageV(),name:this._nameV(),link:this._linkV()};var errors=Object.keys(map).reduce(function(acc,key){if(map[key]&&typeof map[key]==='string'){acc[key]=map[key];}
return acc;},{});if(Object.keys(errors).length>0){this.setState({errors:errors},function(){return _this2._scrollToError(errors);});return false;}
return true;}},{key:"_scrollToError",value:function _scrollToError(errors){var el=['name','image','link'].reduce(function(acc,key){if(acc!==null)return acc;return errors.hasOwnProperty(key)?document.getElementById("cta".concat(key)):acc;},null);if(el){(0,_smoothScroll["default"])(el);}}},{key:"_imageV",value:function _imageV(){var _this3=this;return['id','name','url'].every(function(key){return _this3.state.image&&_this3.state.image.hasOwnProperty(key);})?null:'An image is required';}},{key:"_nameV",value:function _nameV(){return this.state.name&&this.state.name.length>2?null:'A name is required. 3 characters or more';}},{key:"_linkV",value:function _linkV(){return this.state.link&&this.state.link.length>0&&(0,_isURL["default"])(this.state.link,{require_protocol:true})?null:'A link is required. Make sure to add a correct protocol (http:// or https://)';}},{key:"_removeErrorForType",value:function _removeErrorForType(type){var _this$state$errors=this.state.errors,deleted=_this$state$errors[type],errors=_objectWithoutProperties(_this$state$errors,[type].map(_toPropertyKey));return errors;}},{key:"_setErrorForType",value:function _setErrorForType(type,msg){this.setState({errors:Object.assign({},this.state.errors,_defineProperty({},type,msg))});}},{key:"render",value:function render(){var _this4=this;return _react["default"].createElement("form",{className:_forms["default"].container},_react["default"].createElement("div",{id:"ctaname"},_react["default"].createElement(_basic_form_input["default"],{errors:this.state.errors.name,helperText:"This is used for admin purposes",label:"Name",name:"name",onChange:function onChange(e){return _this4.setState({name:e.target.value});},value:this.state.name})),_react["default"].createElement("div",{id:"ctaimage"},_react["default"].createElement(_form_image_uploader["default"],{aspectRatio:4/1,dimensionMins:{width:1170},errors:this.state.errors.image,helperText:"This image will display in mobile cards and sections where the image is a square. This image should have a ratio of 4:1 and be 3510x877.5px (minimum 1170x292.5px) for the best quality.",imageData:this.state.image,label:"Add image",propagateStatus:this.props.propagateStatus,propagateUpload:function propagateUpload(image){return _this4.setState({image:image,errors:_this4._removeErrorForType('image')});},reportError:function reportError(msg){return _this4._setErrorForType('image',msg);}})),_react["default"].createElement("div",{id:"ctalink"},_react["default"].createElement(_basic_form_input["default"],{errors:this.state.errors.link,label:"Action link",name:"link",onChange:function onChange(e){return _this4.setState({link:e.target.value});},value:this.state.link})));}}]);return CTAForm;}(_react.Component);CTAForm.propTypes={initData:_propTypes["default"].shape({image:_propTypes["default"].shape({id:_propTypes["default"].number,name:_propTypes["default"].string,url:_propTypes["default"].string}),link:_propTypes["default"].string,name:_propTypes["default"].string}),propagateStatus:_propTypes["default"].func};CTAForm.defaultProps={initData:null,propagateStatus:function propagateStatus(){}};var _default=CTAForm;exports["default"]=_default;}),42463:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _ContentCard=_interopRequireDefault(__webpack_require__(7185));var _DragAndDropList=_interopRequireDefault(__webpack_require__(61640));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));var _section_list=_interopRequireDefault(__webpack_require__(35715));var _home_sections=_interopRequireDefault(__webpack_require__(61122));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var noContentMsg=function noContentMsg(){return _react["default"].createElement("div",{className:_section_list["default"].row},_react["default"].createElement("span",{className:_section_list["default"].noContentMsg},"No content items"));};var PromotedContentTableView=function PromotedContentTableView(props){return _react["default"].createElement("div",null,_react["default"].createElement("header",{className:_home_sections["default"].header},_react["default"].createElement("div",null,_react["default"].createElement("button",{className:_buttons["default"].lg,onClick:function onClick(){return props.openDialog();},type:"button"},"Add new item"))),_react["default"].createElement("div",{className:_home_sections["default"].tableContainer},_react["default"].createElement("div",{className:_layout["default"].flex},_react["default"].createElement("div",{className:"".concat(_home_sections["default"].ghostDragBox," ").concat(_util["default"].bgFog)}),_react["default"].createElement("div",{className:"".concat(_home_sections["default"].headerCellName," ").concat(_section_list["default"].cell60)},"Title"),_react["default"].createElement("div",{className:"".concat(_home_sections["default"].headerCell," ").concat(_section_list["default"].cell20)},"Type"),_react["default"].createElement("div",{className:"".concat(_home_sections["default"].headerCell," ").concat(_section_list["default"].cell20)},"Action")),props.content&&props.content.length>0?_react["default"].createElement(_DragAndDropList["default"],{dragEndCallback:props.updateSectionsOrder,hasDragHandle:true,ItemComponent:_ContentCard["default"],itemProps:{removeItem:props.removeSection,updateItem:props.updateSection},items:props.content.map(function(c){return Object.assign({},c,{id:c.title});})}):noContentMsg()));};PromotedContentTableView.propTypes={content:_propTypes["default"].arrayOf(_propTypes["default"].shape({})).isRequired,openDialog:_propTypes["default"].func.isRequired,removeSection:_propTypes["default"].func.isRequired,updateSection:_propTypes["default"].func.isRequired,updateSectionsOrder:_propTypes["default"].func.isRequired};PromotedContentTableView.defaultProps={};var _default=PromotedContentTableView;exports["default"]=_default;}),51923:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.recordsToOptions=exports.createSelect=exports.createMultiSelect=exports.createCropperTitle=exports.createImageUploader=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _multi_select=_interopRequireDefault(__webpack_require__(16205));var _form_image_uploader=_interopRequireDefault(__webpack_require__(59272));var _select=_interopRequireDefault(__webpack_require__(79463));var _cta_form=_interopRequireDefault(__webpack_require__(20601));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var createImageUploader=function createImageUploader(_ref){var aspectRatio=_ref.aspectRatio,attachmentType=_ref.attachmentType,classList=_ref.classList,cropperTitle=_ref.cropperTitle,dimensionMins=_ref.dimensionMins,errors=_ref.errors,helperText=_ref.helperText,imageData=_ref.imageData,label=_ref.label,nestedDialogLevel=_ref.nestedDialogLevel,propagateStatus=_ref.propagateStatus,propagateUpload=_ref.propagateUpload,reportError=_ref.reportError,showPreview=_ref.showPreview;return _react["default"].createElement(_form_image_uploader["default"],{allowGifs:false,aspectRatio:aspectRatio,attachmentType:attachmentType,classList:classList,cropperTitle:cropperTitle,dimensionMins:dimensionMins,errors:errors,helperText:helperText,imageData:imageData,label:label,nestedDialogLevel:nestedDialogLevel,propagateStatus:propagateStatus,propagateUpload:propagateUpload,reportError:reportError,showPreview:showPreview});};exports.createImageUploader=createImageUploader;var createCropperTitle=function createCropperTitle(_ref2){var subtitle=_ref2.subtitle,title=_ref2.title;return _react["default"].createElement("div",{className:_cta_form["default"].cropperTitle},_react["default"].createElement("h4",null,title),subtitle&&_react["default"].createElement("small",null,subtitle));};exports.createCropperTitle=createCropperTitle;var createMultiSelect=function createMultiSelect(_ref3){var _ref3$algoliaParamete=_ref3.algoliaParameters,algoliaParameters=_ref3$algoliaParamete===void 0?null:_ref3$algoliaParamete,algoliaService=_ref3.algoliaService,errors=_ref3.errors,_ref3$maxWidth=_ref3.maxWidth,maxWidth=_ref3$maxWidth===void 0?500:_ref3$maxWidth,onSelect=_ref3.onSelect,placeholder=_ref3.placeholder,recordsToOptions=_ref3.recordsToOptions,_ref3$selectionLimit=_ref3.selectionLimit,selectionLimit=_ref3$selectionLimit===void 0?null:_ref3$selectionLimit,value=_ref3.value;return _react["default"].createElement(_multi_select["default"],{algoliaParameters:algoliaParameters||{hitsPerPage:100,initFacet:[]},algoliaRecordsToOptions:recordsToOptions,algoliaService:algoliaService,errors:Array.isArray(errors)?errors:typeof errors==='string'&&errors.length>0?[errors]:errors,maxWidth:maxWidth,onSelect:onSelect,placeholder:placeholder||" ",selectionLimit:selectionLimit,value:value});};exports.createMultiSelect=createMultiSelect;var createSelect=function createSelect(_ref4){var errors=_ref4.errors,key=_ref4.key,_ref4$maxWidth=_ref4.maxWidth,maxWidth=_ref4$maxWidth===void 0?500:_ref4$maxWidth,onChange=_ref4.onChange,options=_ref4.options,placeholder=_ref4.placeholder,value=_ref4.value;return _react["default"].createElement(_select["default"],{hasErrors:errors&&errors.length>0,maxWidth:maxWidth,onSelectedChange:function onSelectedChange(option){return onChange(key,option);},options:options,placeholder:placeholder,value:value});};exports.createSelect=createSelect;var recordsToOptions=function recordsToOptions(records){return records.map(function(record){return{label:record.name,value:record.id};});};exports.recordsToOptions=recordsToOptions;}),43895:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _ActionsSection=_interopRequireDefault(__webpack_require__(59729));var _multi_select=_interopRequireDefault(__webpack_require__(16205));var _basic_form_input=_interopRequireDefault(__webpack_require__(54392));var _form_select=_interopRequireDefault(__webpack_require__(70154));var _components=__webpack_require__(51923);var _validators=__webpack_require__(73235);var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _forms=_interopRequireDefault(__webpack_require__(98672));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var CONTENT_TYPES=['News Article','Contest','Event','From Around The Web','Platform','Product','Project','Topic','Video','Webinar','Workshop'].map(function(s){return{label:s,value:s};});var ContentForm=function(_Component){_inherits(ContentForm,_Component);var _super=_createSuper(ContentForm);function ContentForm(props){var _this;_classCallCheck(this,ContentForm);_this=_super.call(this,props);_this.state={errors:{},isBusy:false,fields:_this._initFields(props),workers:[]};_this.addOrUpdateContent=_this.addOrUpdateContent.bind(_assertThisInitialized(_this));return _this;}
_createClass(ContentForm,[{key:"_initFields",value:function _initFields(props){var _this2=this;var template={contentType:{order:1,validate:function validate(){return null;},value:''},description:{order:2,validate:function validate(value){return(0,_validators.maxLength)(90,value);},value:''},image11:{order:7,validate:function validate(value){return _this2._imageV(value);},value:null},image43:{order:6,validate:function validate(value){return _this2._imageV(value);},value:null},link:{order:3,validate:function validate(value){return(0,_validators.isUrlWithProtocol)(value);},value:''},products:{order:5,validate:function validate(value){return(0,_validators.maxLength)(3,value);},value:[],notRequired:true},tags:{order:4,validate:function validate(value){return(0,_validators.maxLength)(3,value);},value:[],notRequired:true},title:{order:0,validate:function validate(value){return(0,_validators.maxLength)(67,value);},value:''}};if(!props.initData||!props.initData.data)return template;var content=props.initData.data;var keys=Object.keys(template);return keys.reduce(function(acc,key){if(content.hasOwnProperty(key)){acc[key]=Object.assign({},template[key],{value:content[key]});}else{acc[key]=template[key];}
return acc;},{});}},{key:"addOrUpdateContent",value:function addOrUpdateContent(){var validated=this._validate();if(validated){this.props.saveContent(this._getObjectToPropagate());}}},{key:"_getFieldValuesAsObject",value:function _getFieldValuesAsObject(){var _this3=this;var keys=Object.keys(this.state.fields);return keys.reduce(function(acc,key){acc[key]=_this3.state.fields[key].value;return acc;},{});}},{key:"_getObjectToPropagate",value:function _getObjectToPropagate(){return{data:this._getFieldValuesAsObject(),index:this.props.initData&&this.props.initData.index!==null?this.props.initData.index:null};}},{key:"_imageV",value:function _imageV(image){return['id','name','url'].every(function(key){return image&&image.hasOwnProperty(key);})?null:'A valid image is required!';}},{key:"_setIsBusy",value:function _setIsBusy(status,worker){if(status&&this.state.workers.includes(worker))return;var workers=status?this.state.workers.concat(worker):this.state.workers.filter(function(w){return w!==worker;});this.setState({isBusy:workers.length>0,workers:workers});}},{key:"_setStateOrError",value:function _setStateOrError(errorMsg,key,value){var _this4=this;if(errorMsg===null){var _this$state$errors=this.state.errors,deleted=_this$state$errors[key],errors=_objectWithoutProperties(_this$state$errors,[key].map(_toPropertyKey));this.setState({errors:errors,fields:Object.assign({},this.state.fields,_defineProperty({},key,Object.assign({},this.state.fields[key],{value:value})))},function(){return _this4.props.propagateContent(_this4._getObjectToPropagate());});}else{this.setState({errors:Object.assign({},this.state.errors,_defineProperty({},key,errorMsg))});}}},{key:"_scrollToError",value:function _scrollToError(errors){var _this5=this;var el=Object.keys(this.state.fields).sort(function(a,b){return _this5.state.fields[a].order-_this5.state.fields[b].order;}).reduce(function(acc,key){if(acc!==null)return acc;return errors.hasOwnProperty(key)?document.getElementById("pcf".concat(key)):acc;},null);if(el){var container=document.querySelector("[data-ref=\"".concat(this.props.dialogRef,"\"]"));(0,_smoothScroll["default"])(el,500,null,container);}}},{key:"_validate",value:function _validate(){var _this6=this;var keys=Object.keys(this.state.fields);var errors=keys.reduce(function(acc,key){var field=_this6.state.fields[key];var validations=field.hasOwnProperty('notRequired')&&field.notRequired===true?[field.validate]:[_validators.isRequired,field.validate];var error=validations.reduce(function(a,fn){if(a!==null)return a;return fn(field.value);},null);if(error&&error.length){acc[key]=error;}
return acc;},{});if(Object.keys(errors).length){this.setState({errors:Object.assign({},this.state.errors,errors)},function(){return _this6._scrollToError(_this6.state.errors);});return false;}
return true;}},{key:"render",value:function render(){var _this7=this;return _react["default"].createElement("form",{className:_forms["default"].container},_react["default"].createElement("div",{id:"pcftitle"},_react["default"].createElement(_basic_form_input["default"],{charCount:this.state.fields.title.value.length,errors:this.state.errors.title,label:"Title",maxVal:67,name:"title",onChange:function onChange(e){return _this7._setStateOrError((0,_validators.maxLength)(67,e.target.value),'title',e.target.value);},value:this.state.fields.title.value})),_react["default"].createElement("div",{id:"pcfcontentType"},_react["default"].createElement(_form_select["default"],{errors:this.state.errors.contentType,helperText:"Select which type of content this is",label:"Content type",onSelectedChange:function onSelectedChange(value){return _this7._setStateOrError(null,'contentType',value);},options:CONTENT_TYPES,placeholder:"i.e. Contest",value:this.state.fields.contentType.value})),_react["default"].createElement("div",{id:"pcfdescription"},_react["default"].createElement(_basic_form_input["default"],{charCount:this.state.fields.description.value.length,errors:this.state.errors.description,label:"Description",helperText:"A short description is displayed on large cards",maxVal:90,name:"description",onChange:function onChange(e){return _this7._setStateOrError((0,_validators.maxLength)(90,e.target.value),'description',e.target.value);},type:"textarea",value:this.state.fields.description.value})),_react["default"].createElement("div",{id:"pcflink"},_react["default"].createElement(_basic_form_input["default"],{errors:this.state.errors.link,helperText:"Insert link to content",label:"Link",name:"link",onChange:function onChange(e){return _this7._setStateOrError(null,'link',e.target.value);},placeholder:"http://www.example.com",value:this.state.fields.link.value})),_react["default"].createElement("div",{id:"pcftags"},_react["default"].createElement(_multi_select["default"],{algoliaParameters:{hitsPerPage:100,initFacet:[]},algoliaRecordsToOptions:_components.recordsToOptions,algoliaService:this.props.algoliaTagsService,errors:this.state.errors.tags,helperText:"Which categories does this relate to? (Select 3 max)",label:"Tags (optional)",onSelect:function onSelect(tags){return _this7._setStateOrError(null,'tags',tags);},selectionLimit:3,value:this.state.fields.tags.value})),_react["default"].createElement("div",{id:"pcfproducts"},_react["default"].createElement(_multi_select["default"],{algoliaParameters:{hitsPerPage:100,initFacet:[]},algoliaRecordsToOptions:_components.recordsToOptions,algoliaService:this.props.algoliaPartsService,errors:this.state.errors.products,helperText:"Which specific products were involved? (Select 3 max)",label:"Products (optional)",onSelect:function onSelect(products){return _this7._setStateOrError(null,'products',products);},selectionLimit:3,value:this.state.fields.products.value})),_react["default"].createElement("div",{id:"pcfimage43"},(0,_components.createImageUploader)({aspectRatio:4/3,cropperTitle:(0,_components.createCropperTitle)({subtitle:'This image will be used if the content item is the first to be featured.',title:'4:3 Crop'}),errors:this.state.errors['image43'],label:'Large thumbnail image (4:3 crop)',dimensionMins:{width:370},helperText:'Make sure your image is 1110x831px (minimum 370x277px) for best quality',imageData:this.state.fields.image43.value,nestedDialogLevel:1,propagateStatus:function propagateStatus(isBusy){return _this7._setIsBusy(isBusy,'image43');},propagateUpload:function propagateUpload(image43){return _this7._setStateOrError(null,'image43',image43);}})),_react["default"].createElement("div",{id:"pcfimage11",className:_forms["default"].container},(0,_components.createImageUploader)({aspectRatio:1,cropperTitle:(0,_components.createCropperTitle)({subtitle:'This image will be used when the content item is not the first to be featured.',title:'1:1 Crop'}),errors:this.state.errors['image11'],label:'Small thumbnail image (1:1 crop)',dimensionMins:{width:100},helperText:'Make sure your image is atleast 300x300px (minimum 100x100px) for best quality',imageData:this.state.fields.image11.value,nestedDialogLevel:1,propagateStatus:function propagateStatus(isBusy){return _this7._setIsBusy(isBusy,'image11');},propagateUpload:function propagateUpload(image11){return _this7._setStateOrError(null,'image11',image11);}})),_react["default"].createElement("div",{className:_util["default"].borderTop},_react["default"].createElement(_ActionsSection["default"],{isBusy:this.state.isBusy,primaryBtnConfig:{onClick:this.addOrUpdateContent,text:this.props.mode==='default'?'Add content':'Save'},secondaryBtnConfig:{onClick:this.props.dismiss}})));}}]);return ContentForm;}(_react.Component);ContentForm.propTypes={algoliaPartsService:_propTypes["default"].object.isRequired,algoliaTagsService:_propTypes["default"].object.isRequired,dialogRef:_propTypes["default"].string,dismiss:_propTypes["default"].func.isRequired,initData:_propTypes["default"].shape({data:_propTypes["default"].object,index:_propTypes["default"].number}),mode:_propTypes["default"].string.isRequired,propagateContent:_propTypes["default"].func.isRequired,saveContent:_propTypes["default"].func.isRequired};ContentForm.defaultProps={dialogRef:null,initData:null};var _default=ContentForm;exports["default"]=_default;}),7185:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _buttons=_interopRequireDefault(__webpack_require__(9010));var _typography=_interopRequireDefault(__webpack_require__(68163));var _section_list=_interopRequireDefault(__webpack_require__(35715));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var DragHandle=function DragHandle(_ref){var attributes=_ref.attributes,listeners=_ref.listeners;return _react["default"].createElement("span",_extends({},attributes,listeners,{className:_section_list["default"].dragHandle}),_react["default"].createElement("span",{className:_section_list["default"].dragHandleIcon},": :"));};var ContentCard=function ContentCard(_ref2){var attributes=_ref2.attributes,item=_ref2.item,itemIndex=_ref2.itemIndex,listeners=_ref2.listeners,removeItem=_ref2.removeItem,updateItem=_ref2.updateItem;var contentType=item.contentType,title=item.title;return _react["default"].createElement("div",{className:itemIndex<4?_section_list["default"].rowHighlight:_section_list["default"].row},_react["default"].createElement(DragHandle,{attributes:attributes,listeners:listeners}),_react["default"].createElement("span",{className:_section_list["default"].contentCardTitle},_react["default"].createElement("span",{className:_section_list["default"].title},_react["default"].createElement("span",null,title)),_react["default"].createElement("span",{className:_section_list["default"].buttonCntr},_react["default"].createElement("button",{className:_buttons["default"].blank,type:"button",onClick:function onClick(){return updateItem({index:itemIndex,data:item});}},_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].linkBlue," ").concat(_typography["default"].bold)},"Edit")))),_react["default"].createElement("span",{className:"".concat(_section_list["default"].cell," ").concat(_section_list["default"].cell20)},contentType.value),_react["default"].createElement("span",{className:"".concat(_section_list["default"].cell," ").concat(_section_list["default"].cell20)},_react["default"].createElement("button",{className:_buttons["default"].blank,type:"button",onClick:function onClick(){return removeItem({index:itemIndex,data:item});}},_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].linkBlue," ").concat(_typography["default"].bold)},"Remove"))));};ContentCard.propTypes={item:_propTypes["default"].shape({contentType:_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].string}),description:_propTypes["default"].string,image11:_propTypes["default"].shape({id:_propTypes["default"].number,name:_propTypes["default"].string,url:_propTypes["default"].string}),image43:_propTypes["default"].shape({id:_propTypes["default"].number,name:_propTypes["default"].string,url:_propTypes["default"].string}),link:_propTypes["default"].string,products:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].bool,_propTypes["default"].number])})),tags:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].bool,_propTypes["default"].number])})),title:_propTypes["default"].string}).isRequired,itemIndex:_propTypes["default"].number.isRequired,removeItem:_propTypes["default"].func.isRequired,updateItem:_propTypes["default"].func.isRequired};var _default=ContentCard;exports["default"]=_default;}),66290:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _uuid=__webpack_require__(21614);var _basic_form_input=_interopRequireDefault(__webpack_require__(54392));var _content_form=_interopRequireDefault(__webpack_require__(43895));var _Dialog=_interopRequireDefault(__webpack_require__(27408));var _promoted_content=_interopRequireDefault(__webpack_require__(2056));var _PromotedContentTableView=_interopRequireDefault(__webpack_require__(42463));var _accessors=__webpack_require__(4887);var _forms=_interopRequireDefault(__webpack_require__(98672));var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var DEFAULT_DIALOG_STATE={data:null,mode:'default',open:false,title:''};var MIN_SECTIONS_TO_SAVE=2;var TABLE_MIN_SECTIONS_MSG='You must have at least 2 items before publishing';var PromotedContentForm=function(_Component){_inherits(PromotedContentForm,_Component);var _super=_createSuper(PromotedContentForm);function PromotedContentForm(props){var _this;_classCallCheck(this,PromotedContentForm);_this=_super.call(this,props);_this.state={errors:{},dialog:DEFAULT_DIALOG_STATE,sections:props.initData,title:props.initTitle};_this.addSection=_this.addSection.bind(_assertThisInitialized(_this));_this.getContent=_this.getContent.bind(_assertThisInitialized(_this));_this.removeSection=_this.removeSection.bind(_assertThisInitialized(_this));_this.updateSection=_this.updateSection.bind(_assertThisInitialized(_this));_this.validate=_this.validate.bind(_assertThisInitialized(_this));return _this;}
_createClass(PromotedContentForm,[{key:"getContent",value:function getContent(){return{content:this.state.sections,title:this.state.title};}},{key:"validate",value:function validate(){var errors={};if(!this.state.title.length){errors={title:'A title is required'};}
if(this.state.sections.length<MIN_SECTIONS_TO_SAVE){errors=Object.assign({},errors,{table:TABLE_MIN_SECTIONS_MSG});}
if(Object.keys(errors).length>0){this.setState({errors:errors});return false;}else{return true;}}},{key:"addSection",value:function addSection(data){this.setState(function(state){return{errors:Object.assign({},state.errors,{table:null}),dialog:DEFAULT_DIALOG_STATE,sections:state.sections.concat(Object.assign({},data,{key:(0,_uuid.v1)()}))};});}},{key:"removeSection",value:function removeSection(section){this.setState({sections:this.state.sections.filter(function(sect,i){return section.index!==i;})});}},{key:"updateSection",value:function updateSection(section){this.setState({dialog:DEFAULT_DIALOG_STATE,sections:this.state.sections.map(function(sect,i){return section.index===i?Object.assign({},section.data,{key:sect.key}):sect;})});}},{key:"_openDialogWithData",value:function _openDialogWithData(_ref){var data=_ref.data,mode=_ref.mode,title=_ref.title;this.setState({dialog:{data:data,mode:mode,title:title,open:true}});}},{key:"_closeDialogWithData",value:function _closeDialogWithData(){var useDefault=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.setState({dialog:useDefault?DEFAULT_DIALOG_STATE:Object.assign({},this.state.dialog,{open:false})});}},{key:"_getTableErrorView",value:function _getTableErrorView(){return _react["default"].createElement("div",{className:"".concat((0,_accessors.getInObj)(['table'],this.state.errors)?_inputs["default"].error:_typography["default"].bodyS)},TABLE_MIN_SECTIONS_MSG);}},{key:"render",value:function render(){var _this2=this;return _react["default"].createElement("div",null,_react["default"].createElement("div",{className:"".concat(_forms["default"].container," ").concat(_layout["default"].marginBottom60)},_react["default"].createElement(_basic_form_input["default"],{errors:this.state.errors.title,label:"Section title",onChange:function onChange(e){return _this2.setState({errors:Object.assign({},_this2.state.errors,{title:null}),title:e.target.value});},placeholder:"Type your title here",value:this.state.title})),_react["default"].createElement(_PromotedContentTableView["default"],{content:this.state.sections,openDialog:function openDialog(){return _this2._openDialogWithData({data:_this2.state.dialog.data,mode:'default',title:'Add content item'});},removeSection:this.removeSection,updateSection:function updateSection(section){return _this2._openDialogWithData({data:section,mode:'edit',title:'Edit content item'});},updateSectionsOrder:function updateSectionsOrder(sections){return _this2.setState({sections:sections});}}),_react["default"].createElement("div",{className:_layout["default"].marginBottom30},_react["default"].createElement("div",{className:_layout["default"].marginBottom15},_react["default"].createElement("h3",{className:_typography["default"].h3},"Preview")),_react["default"].createElement(_promoted_content["default"],{content:this.state.sections,renderForPreview:true})),this._getTableErrorView(),_react["default"].createElement(_Dialog["default"],{dismiss:function dismiss(){return _this2._closeDialogWithData(_this2.state.dialog.mode==='edit');},dismissStyle:{fontWeight:100,opacity:1},open:this.state.dialog.open,title:this.state.dialog.title,titleStyle:{fontSize:24,marginBottom:40,textAlign:'left'},wrapperStyle:{marginTop:100,width:870}},_react["default"].createElement(_content_form["default"],{algoliaPartsService:this.props.algoliaPartsService,algoliaTagsService:this.props.algoliaTagsService,dismiss:function dismiss(){return _this2._closeDialogWithData();},initData:this.state.dialog.data,mode:this.state.dialog.mode,propagateContent:function propagateContent(content){return _this2.setState({dialog:Object.assign({},_this2.state.dialog,{data:content})});},saveContent:function saveContent(content){return content.index!==null?_this2.updateSection(content):_this2.addSection(content.data);}})));}}]);return PromotedContentForm;}(_react.Component);PromotedContentForm.propTypes={algoliaPartsService:_propTypes["default"].object.isRequired,algoliaTagsService:_propTypes["default"].object.isRequired,initData:_propTypes["default"].arrayOf(_propTypes["default"].shape({})),initTitle:_propTypes["default"].string};PromotedContentForm.defaultProps={initData:[],initTitle:''};var _default=PromotedContentForm;exports["default"]=_default;}),42212:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _grid_list=_interopRequireDefault(__webpack_require__(68201));var _video_card=_interopRequireDefault(__webpack_require__(81326));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DefaultView=function DefaultView(){return _react["default"].createElement("div",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold," ").concat(_typography["default"].textCenter)},"Preview will populate once 4 videos are selected");};var PreviewView=function PreviewView(_ref){var records=_ref.records;return _react["default"].createElement(_grid_list["default"],{ItemComponent:_video_card["default"],horizontal:true,itemProps:{onClick:function onClick(e){return e.preventDefault();}},placeholder:DefaultView(),records:records.map(function(r){return Object.assign({},r,{image_url:r.image.url});}),validationFn:function validationFn(_ref2){var records=_ref2.records;return records.length>=4;}});};PreviewView.propTypes={records:_propTypes["default"].arrayOf(_propTypes["default"].shape({category:_propTypes["default"].string.isRequired,created_at:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]).isRequired,description:_propTypes["default"].string.isRequired,duration:_propTypes["default"].integer,id:_propTypes["default"].number,image:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string,url:_propTypes["default"].string.isRequired}),title:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired})).isRequired};var _default=PreviewView;exports["default"]=_default;}),66240:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _base=_interopRequireDefault(__webpack_require__(6094));var _basic_search_input=_interopRequireDefault(__webpack_require__(63359));var _selectable=_interopRequireDefault(__webpack_require__(76274));var _edit_videos=_interopRequireDefault(__webpack_require__(78521));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var VideosTableView=function VideosTableView(_ref){var disabledState=_ref.disabledState,headers=_ref.headers,isBusy=_ref.isBusy,onPagination=_ref.onPagination,onSearch=_ref.onSearch,onSort=_ref.onSort,pagination=_ref.pagination,reportSelected=_ref.reportSelected,selectedIndexes=_ref.selectedIndexes,summonDialog=_ref.summonDialog,tableItems=_ref.tableItems,tableRef=_ref.tableRef;return _react["default"].createElement("div",null,_react["default"].createElement("div",{className:_edit_videos["default"].tableActions},_react["default"].createElement("div",null,_react["default"].createElement(_base["default"],{disabled:isBusy,onClick:function onClick(){return summonDialog('default');}},"Add new video")),_react["default"].createElement("div",null,_react["default"].createElement(_basic_search_input["default"],{onEnter:onSearch,placeholder:"Search videos"}))),_react["default"].createElement(_selectable["default"],{ref:tableRef,disabledState:disabledState,headers:headers,isBusy:isBusy,onPagination:onPagination,onSort:onSort,pagination:pagination,reportSelected:reportSelected,selectedIndexes:selectedIndexes,tableItems:tableItems}));};VideosTableView.propTypes={disabledState:_propTypes["default"].bool.isRequired,headers:_propTypes["default"].arrayOf(_propTypes["default"].shape({title:_propTypes["default"].string.isRequired,orderable:_propTypes["default"].bool,sort:_propTypes["default"].string})).isRequired,isBusy:_propTypes["default"].bool.isRequired,onPagination:_propTypes["default"].func.isRequired,onSearch:_propTypes["default"].func.isRequired,onSort:_propTypes["default"].func.isRequired,pagination:_propTypes["default"].shape({current_page:_propTypes["default"].number,next_page:_propTypes["default"].number,per_page:_propTypes["default"].number,prev_page:_propTypes["default"].number}),reportSelected:_propTypes["default"].func,selectedIndexes:_propTypes["default"].array.isRequired,summonDialog:_propTypes["default"].func.isRequired,tableItems:_propTypes["default"].arrayOf(_propTypes["default"].shape({columns:_propTypes["default"].array.isRequired,record:_propTypes["default"].object})).isRequired,tableRef:_propTypes["default"].func.isRequired};var _default=VideosTableView;exports["default"]=_default;}),39890:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _AddOrEditVideoView=_interopRequireDefault(__webpack_require__(94757));var _basic_form_input=_interopRequireDefault(__webpack_require__(54392));var _Dialog=_interopRequireDefault(__webpack_require__(27408));var _DragAndDropList=_interopRequireDefault(__webpack_require__(61640));var _PreviewView=_interopRequireDefault(__webpack_require__(42212));var _SectionCard=_interopRequireDefault(__webpack_require__(1366));var _VideosTableView=_interopRequireDefault(__webpack_require__(66240));var _parts_service=_interopRequireDefault(__webpack_require__(77721));var _platforms_service=_interopRequireDefault(__webpack_require__(51652));var _tags_service=_interopRequireDefault(__webpack_require__(84718));var _topics_service=_interopRequireDefault(__webpack_require__(38101));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _time=__webpack_require__(28716);var _window=__webpack_require__(33852);var _graphql=__webpack_require__(2740);var _enums=__webpack_require__(93594);var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _forms=_interopRequireDefault(__webpack_require__(98672));var _layout=_interopRequireDefault(__webpack_require__(42721));var _table=_interopRequireDefault(__webpack_require__(87509));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _edit_videos=_interopRequireDefault(__webpack_require__(78521));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var HEADERS=[{cell:'title',title:'title',orderable:true,sort:'title'},{cell:'category',title:'category',orderable:false,sort:null},{cell:'created_at',title:'date added',orderable:true,sort:'most_recent',"default":true},{cell:'actionFn',title:'actions',orderable:false,sort:null}];var SELECTED_VIDEO_LIMIT=4;var TITLE_ID='vf_title';var VideosForm=function(_Component){_inherits(VideosForm,_Component);var _super=_createSuper(VideosForm);function VideosForm(props){var _this;_classCallCheck(this,VideosForm);_this=_super.call(this,props);_this.state={currentSearch:null,currentSort:{sort:'most_recent',status:0},dialog:{mode:'default',open:false,record:null,scroll:0},errors:{},isBusy:false,mode:props.mode,pagination:{current_page:1,next_page:2,per_page:20,prev_page:null},records:[],selectedIndexes:[],selectedRecords:[],title:props.initTitle};_this.algoliaPartsService=new _parts_service["default"]();_this.algoliaPlatformsService=new _platforms_service["default"]();_this.algoliaTagsService=new _tags_service["default"]();_this.algoliaTopicsService=new _topics_service["default"]();_this.addNewRecord=_this.addNewRecord.bind(_assertThisInitialized(_this));_this.handlePagination=_this.handlePagination.bind(_assertThisInitialized(_this));_this.handleReportedSelectedIndexes=_this.handleReportedSelectedIndexes.bind(_assertThisInitialized(_this));_this.handleSearch=_this.handleSearch.bind(_assertThisInitialized(_this));_this.handleSort=_this.handleSort.bind(_assertThisInitialized(_this));_this.updateRecord=_this.updateRecord.bind(_assertThisInitialized(_this));_this._tableRef;return _this;}
_createClass(VideosForm,[{key:"__getContent",value:function __getContent(){return{content:this.state.selectedRecords.map(function(r){return r.id;}),title:this.state.title};}},{key:"__validate",value:function __validate(){var _this2=this;if(!this.state.title.length){this.setState({errors:{title:'A title is required'}},function(){return _this2._safeScroll(TITLE_ID);});return false;}
return this.state.selectedRecords.length>=SELECTED_VIDEO_LIMIT;}},{key:"componentDidMount",value:function componentDidMount(){this._fetchRecords();}},{key:"_fetchRecords",value:function _fetchRecords(){var _this3=this;this._toggleIsBusy(true);return Promise.all([this._handlePaginationRequest(1),this._fetchInitRecords(this.props.initRecords)]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),videos=_ref2[0].videos,initRecords=_ref2[1].initRecords;_this3.setState({isBusy:false,pagination:videos.metadata,records:_this3._formatRecords(videos.records),selectedIndexes:_this3._getSelectedIndexesForIds(videos.records,initRecords),selectedRecords:initRecords},function(){return _this3._forceUpdateTableView();});})["catch"](function(err){_this3._toggleIsBusy(false);(0,_error_handler["default"])('EditVideos _fetchRecords:',err);});}},{key:"_fetchInitRecords",value:function _fetchInitRecords(){var _this4=this;var ids=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return new Promise(function(resolve,reject){if(!ids.length)return resolve({initRecords:[]});return(0,_graphql.graphQuery)({t:'videos_by_id_admin'},{ids:ids}).then(function(_ref3){var records=_ref3.records;return resolve({initRecords:_this4._sortRecordsByOrder(ids,records)});})["catch"](function(err){return reject(err);});});}},{key:"_formatRecords",value:function _formatRecords(records){var _this5=this;return records.map(function(record,i){return{record:record,columns:[record.title,record.category,(0,_time.timestampToPrettyDate)(record.created_at),_this5._createActionsColumn.bind(_this5,record,i)]};});}},{key:"addNewRecord",value:function addNewRecord(record){var _this6=this;var sliceLastIfWillOverflow=this.state.records.length===this.state.pagination.per_page?-1:this.state.records.length;var incrementedIndexes=this.state.selectedIndexes.reduce(function(acc,si){return si+1<=_this6.state.pagination.per_page-1?acc.concat(si+1):acc;},this.state.selectedRecords.length===SELECTED_VIDEO_LIMIT?[]:[0]);this.setState({records:this._formatRecords([record]).concat(this.state.records.slice(0,sliceLastIfWillOverflow)),selectedIndexes:incrementedIndexes,selectedRecords:this.state.selectedRecords.length===SELECTED_VIDEO_LIMIT?this.state.selectedRecords:this.state.selectedRecords.concat(record)},function(){return _this6._dismissDialog();});}},{key:"handlePagination",value:function handlePagination(page){var _this7=this;this._toggleIsBusy(true);return this._handlePaginationRequest(page).then(function(_ref4){var videos=_ref4.videos;_this7.setState({isBusy:false,pagination:videos.metadata,records:_this7._formatRecords(videos.records),selectedIndexes:_this7._getSelectedIndexesForIds(videos.records)},function(){return _this7._forceUpdateTableView();});})["catch"](function(err){_this7._toggleIsBusy(false);(0,_error_handler["default"])('EditVideos handlePagination:',err);});}},{key:"handleReportedSelectedIndexes",value:function handleReportedSelectedIndexes(selectedIndexes,wasSelected,record){var selectedRecords=wasSelected?this.state.selectedRecords.concat(record):this.state.selectedRecords.filter(function(r){return r.id!==record.id;});this.setState({selectedIndexes:selectedIndexes,selectedRecords:selectedRecords});}},{key:"handleSearch",value:function handleSearch(val){var _this8=this;this._toggleIsBusy(true);return(0,_graphql.graphQuery)({t:'videos_admin'},{page:1,per_page:this.state.pagination.per_page,search:val,sort:(0,_enums.getSortEnum)(this.state.currentSort.sort,this.state.currentSort.status)}).then(function(_ref5){var errors=_ref5.errors,videos=_ref5.videos;if(errors)return Promise.reject(errors);_this8.setState({currentSearch:val,isBusy:false,pagination:videos.metadata,records:_this8._formatRecords(videos.records),selectedIndexes:_this8._getSelectedIndexesForIds(videos.records)},function(){return _this8._forceUpdateTableView();});})["catch"](function(err){_this8._toggleIsBusy(false);(0,_error_handler["default"])('EditVideos handlePagination:',err);});}},{key:"handleSort",value:function handleSort(_ref6){var _this9=this;var sort=_ref6.sort,status=_ref6.status;this._toggleIsBusy(true);return(0,_graphql.graphQuery)({t:'videos_admin'},{page:1,per_page:this.state.pagination.per_page,search:this.state.currentSearch,sort:(0,_enums.getSortEnum)(sort,status)}).then(function(_ref7){var errors=_ref7.errors,videos=_ref7.videos;if(errors)return Promise.reject(errors);_this9.setState({currentSort:{sort:sort,status:status},isBusy:false,pagination:videos.metadata,records:_this9._formatRecords(videos.records),selectedIndexes:_this9._getSelectedIndexesForIds(videos.records)},function(){return _this9._forceUpdateTableView();});})["catch"](function(err){_this9._toggleIsBusy(false);(0,_error_handler["default"])('EditVideos handlePagination:',err);});}},{key:"updateRecord",value:function updateRecord(record){var _this10=this;this.setState({records:this.state.records.map(function(r){return r.record.id===record.id?_this10._formatRecords([Object.assign({},r.record,record)])[0]:r;}),selectedRecords:this.state.selectedRecords.map(function(r){return r.id===record.id?record:r;})},function(){return _this10._dismissDialog();});}},{key:"_removeFromSelectedRecords",value:function _removeFromSelectedRecords(record){var index=this.state.records.findIndex(function(r){return r.record.id===record.id;});this.setState({records:this._formatRecords(this.state.records.map(function(r){return r.record;})),selectedIndexes:this.state.selectedIndexes.filter(function(si){return si!==index;}),selectedRecords:this.state.selectedRecords.filter(function(r){return r.id!==record.id;})});}},{key:"_sortRecordsByOrder",value:function _sortRecordsByOrder(ids,records){return ids.map(function(id){return records.find(function(r){return r.id===id;});});}},{key:"_updateSelectedRecords",value:function _updateSelectedRecords(selectedRecords){this.setState({selectedRecords:selectedRecords});}},{key:"_disableRow",value:function _disableRow(record){return this._disableUnselectedRows()&&this.state.selectedRecords.findIndex(function(r){return r.id===record.id;})===-1;}},{key:"_disableUnselectedRows",value:function _disableUnselectedRows(){return this.state.selectedRecords.length>=SELECTED_VIDEO_LIMIT;}},{key:"_dismissDialog",value:function _dismissDialog(){if(this.state.isBusy)return;this.setState({dialog:{open:false,mode:'default',record:null,scroll:0}});}},{key:"_forceUpdateTableView",value:function _forceUpdateTableView(){if(this._tableRef){this._tableRef.forceUpdate();}}},{key:"_getSelectedIndexesForIds",value:function _getSelectedIndexesForIds(records){var selectedRecords=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.state.selectedRecords;if(!selectedRecords.length)return[];return records.reduce(function(acc,record,i){return selectedRecords.findIndex(function(r){return r.id===record.id;})>-1?acc.concat(i):acc;},[]);}},{key:"_handlePaginationRequest",value:function _handlePaginationRequest(page){var _this11=this;return new Promise(function(resolve,reject){return(0,_graphql.graphQuery)({t:'videos_admin'},{page:page,per_page:_this11.state.pagination.per_page,search:_this11.state.currentSearch,sort:(0,_enums.getSortEnum)(_this11.state.currentSort.sort,_this11.state.currentSort.status)}).then(function(_ref8){var errors=_ref8.errors,videos=_ref8.videos;if(errors)return Promise.reject(errors);resolve({videos:videos});})["catch"](function(err){return reject(err);});});}},{key:"_safeScroll",value:function _safeScroll(id){var el=document.getElementById(id);if(el){(0,_smoothScroll["default"])(el,200);}}},{key:"_summonDialog",value:function _summonDialog(){var _this12=this;var mode=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'default';var record=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.setState({dialog:{open:true,scroll:window.scrollY,mode:mode,record:record}},function(){return(0,_window.windowScrollTo)(0,_this12.state.dialog.scroll);});}},{key:"_toggleIsBusy",value:function _toggleIsBusy(isBusy){this.setState({isBusy:isBusy});}},{key:"_createActionsColumn",value:function _createActionsColumn(record,i){var disableRow=this._disableRow(record);return _react["default"].createElement("span",null,_react["default"].createElement("button",{className:"".concat(_table["default"].editBtn," ").concat(disableRow?_table["default"].disabled:''),disabled:disableRow,onClick:this._summonDialog.bind(this,'edit',record)},"Edit"));}},{key:"render",value:function render(){var _this13=this;return _react["default"].createElement("div",null,_react["default"].createElement("div",{id:TITLE_ID},_react["default"].createElement(_basic_form_input["default"],{classList:{root:_forms["default"].container},errors:this.state.errors.title||null,label:"Section title",onChange:function onChange(e){return _this13.setState({title:e.target.value,errors:Object.assign({},_this13.state.errors,{title:null})});},placeholder:"Enter your title",value:this.state.title})),_react["default"].createElement("div",{className:_layout["default"].marginBottom30},_react["default"].createElement("h2",{className:_typography["default"].h2},"Select ".concat(SELECTED_VIDEO_LIMIT," videos")),_react["default"].createElement("p",{className:_typography["default"].bodyM},"Select the videos you would like to feature in this section.")),_react["default"].createElement("div",{className:_layout["default"].marginBottom60},_react["default"].createElement(_VideosTableView["default"],{tableRef:function tableRef(el){return _this13._tableRef=el;},disabledState:this._disableUnselectedRows(),headers:HEADERS,isBusy:this.state.isBusy,onDelete:this.handleMassDeletion,onPagination:this.handlePagination,onSearch:this.handleSearch,onSort:this.handleSort,pagination:this.state.pagination,reportSelected:this.handleReportedSelectedIndexes,selectedIndexes:this.state.selectedIndexes,summonDialog:function summonDialog(mode){return _this13._summonDialog(mode);},tableItems:this.state.records})),_react["default"].createElement("div",{className:_layout["default"].marginBottom30},_react["default"].createElement("h2",{className:"".concat(_typography["default"].h2," ").concat(_layout["default"].marginBottom5)},"Selected videos"),_react["default"].createElement("p",{className:_typography["default"].bodyM},"You must add 4 content items before publishing. Drag a video to a new position to reorder it.")),_react["default"].createElement("div",{className:"".concat(_layout["default"].marginBottom60," ").concat(_util["default"].border),style:{borderTop:'none'}},this.state.selectedRecords.length>0?_react["default"].createElement(_DragAndDropList["default"],{dragEndCallback:function dragEndCallback(records){return _this13._updateSelectedRecords(records);},hasDragHandle:true,ItemComponent:_SectionCard["default"],itemProps:{removeItem:function removeItem(data){return _this13._removeFromSelectedRecords(data);},updateItem:function updateItem(data){return _this13._summonDialog('edit',data);}},items:this.state.selectedRecords}):_react["default"].createElement("div",{className:"".concat(_edit_videos["default"].selectedPlaceholder)},"No videos selected")),_react["default"].createElement("div",{className:_layout["default"].marginBottom30},_react["default"].createElement("h2",{className:"".concat(_typography["default"].h2," ").concat(_layout["default"].marginBottom5)},"Preview"),_react["default"].createElement("p",{className:_typography["default"].bodyM},"This is how the section will appear on the homepage.")),_react["default"].createElement("div",{className:_layout["default"].paddingBottom30},_react["default"].createElement(_PreviewView["default"],{records:this.state.selectedRecords})),_react["default"].createElement(_Dialog["default"],{dismiss:function dismiss(){return _this13._dismissDialog();},dismissStyle:{fontWeight:100,opacity:1},open:this.state.dialog.open,wrapperStyle:{marginTop:100,width:870}},_react["default"].createElement(_AddOrEditVideoView["default"],{algoliaPartsService:this.algoliaPartsService,algoliaPlatformsService:this.algoliaPlatformsService,algoliaTagsService:this.algoliaTagsService,algoliaTopicsService:this.algoliaTopicsService,dismiss:function dismiss(){return _this13._dismissDialog();},initRecord:this.state.dialog.record,mode:this.state.dialog.mode,propagateBusyStatus:function propagateBusyStatus(isBusy){return _this13._toggleIsBusy(isBusy);},propagateEditedRecord:this.updateRecord,propagateNewRecord:this.addNewRecord})));}}]);return VideosForm;}(_react.Component);VideosForm.propTypes={initRecords:_propTypes["default"].arrayOf(_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string])),initTitle:_propTypes["default"].string,mode:_propTypes["default"].string,propogateStatus:_propTypes["default"].func};VideosForm.defaultProps={initRecords:[],initTitle:'',mode:'default',propogateStatus:function propogateStatus(){}};var _default=VideosForm;exports["default"]=_default;}),1366:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _FlexCell=_interopRequireDefault(__webpack_require__(52110));var _time=__webpack_require__(28716);var _cells=_interopRequireDefault(__webpack_require__(1859));var _table=_interopRequireDefault(__webpack_require__(87509));var _section_list=_interopRequireDefault(__webpack_require__(35715));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var DragHandle=function DragHandle(_ref){var attributes=_ref.attributes,listeners=_ref.listeners;return _react["default"].createElement("span",_extends({},attributes,listeners,{className:_section_list["default"].dragHandle}),_react["default"].createElement("span",{className:_section_list["default"].dragHandleIcon},": :"));};var SectionCard=function SectionCard(_ref2){var attributes=_ref2.attributes,item=_ref2.item,listeners=_ref2.listeners,removeItem=_ref2.removeItem,updateItem=_ref2.updateItem;return _react["default"].createElement("div",{className:_section_list["default"].row},_react["default"].createElement(DragHandle,{attributes:attributes,listeners:listeners}),_react["default"].createElement(_FlexCell["default"],{className:"".concat(_cells["default"].cell0),body:item.title}),_react["default"].createElement(_FlexCell["default"],{body:item.category}),_react["default"].createElement(_FlexCell["default"],{body:(0,_time.timestampToPrettyDate)(item.created_at)}),_react["default"].createElement(_FlexCell["default"],{body:function body(){return _react["default"].createElement("span",null,_react["default"].createElement("button",{className:"".concat(_table["default"].editBtn),type:"button",onClick:function onClick(){return updateItem(item);}},"Edit"),_react["default"].createElement("button",{className:"".concat(_table["default"].deleteBtn),type:"button",onClick:function onClick(){return removeItem(item);}},"Unselect"));}}));};SectionCard.propTypes={item:_propTypes["default"].shape({category:_propTypes["default"].string.isRequired,created_at:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]).isRequired,title:_propTypes["default"].string.isRequired}).isRequired,removeItem:_propTypes["default"].func.isRequired,updateItem:_propTypes["default"].func.isRequired};SectionCard.defaultProps={};var _default=SectionCard;exports["default"]=_default;}),94757:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _video_form=_interopRequireDefault(__webpack_require__(40060));var _graphql=__webpack_require__(2740);var _enums=__webpack_require__(93594);var _time=__webpack_require__(28716);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AddOrEditVideoView=function(_Component){_inherits(AddOrEditVideoView,_Component);var _super=_createSuper(AddOrEditVideoView);function AddOrEditVideoView(props){var _this;_classCallCheck(this,AddOrEditVideoView);_this=_super.call(this,props);_this.state={isBusy:false,mode:props.mode};_this.saveContent=_this.saveContent.bind(_assertThisInitialized(_this));return _this;}
_createClass(AddOrEditVideoView,[{key:"saveContent",value:function saveContent(_ref){var data=_ref.data;var video={category:(0,_enums.getCategoryEnum)(data.category),description:data.description,duration:(0,_time.durationToSeconds)(data.duration),image_id:data.image.id,part_ids:data.products.map(function(p){return p.value;}),platform_ids:data.platforms.map(function(p){return p.value;}),tag_ids:data.tags.map(function(t){return t.value;}),title:data.title,topic_ids:data.topics.map(function(t){return t.value;}),url:data.url};this._setIsBusy(true);return this.state.mode==='default'?this._postVideo(video,data):this._updateVideo(video,data);}},{key:"_postVideo",value:function _postVideo(video,data){var _this2=this;return(0,_graphql.graphMutate)({t:'create_video'},video).then(function(_ref2){var record=_ref2.record;_this2._setIsBusy(false);_this2.props.propagateNewRecord(Object.assign({},data,{category:data.category,created_at:Date.now(),duration:video.duration,id:parseInt(record.id)}));})["catch"](function(err){_this2._setIsBusy(false);(0,_error_handler["default"])('AddOrEditVideoView _postVideo: ',err);});}},{key:"_updateVideo",value:function _updateVideo(video,data){var _this3=this;return(0,_graphql.graphMutate)({t:'update_video'},Object.assign({},video,{id:this.props.initRecord.id})).then(function(_ref3){var record=_ref3.record;_this3._setIsBusy(false);_this3.props.propagateEditedRecord(Object.assign({},data,{created_at:_this3.props.initRecord.created_at,duration:video.duration,id:parseInt(record.id)}));})["catch"](function(err){_this3._setIsBusy(false);(0,_error_handler["default"])('AddOrEditVideoView _updateVideo: ',err);});}},{key:"_getInitDataForForm",value:function _getInitDataForForm(){if(this.props.mode==='default')return null;return{data:Object.assign({},this.props.initRecord,{duration:(0,_time.secondsToDuration)(this.props.initRecord.duration)}),index:null};}},{key:"_setIsBusy",value:function _setIsBusy(isBusy){this.props.propagateBusyStatus(isBusy);this.setState({isBusy:isBusy});}},{key:"_getTitleForMode",value:function _getTitleForMode(){return this.props.mode==='default'?'Add video':'Edit video';}},{key:"render",value:function render(){return _react["default"].createElement("div",null,_react["default"].createElement("h1",{className:"".concat(_typography["default"].h1," ").concat(_layout["default"].marginBottom60)},this._getTitleForMode()),_react["default"].createElement(_video_form["default"],{algoliaPartsService:this.props.algoliaPartsService,algoliaPlatformsService:this.props.algoliaPlatformsService,algoliaTagsService:this.props.algoliaTagsService,algoliaTopicsService:this.props.algoliaTopicsService,initData:this._getInitDataForForm(),isBusy:this.state.isBusy,dismiss:this.props.dismiss,mode:this.state.mode,saveContent:this.saveContent}));}}]);return AddOrEditVideoView;}(_react.Component);AddOrEditVideoView.propTypes={algoliaPartsService:_propTypes["default"].object.isRequired,algoliaPlatformsService:_propTypes["default"].object.isRequired,algoliaTagsService:_propTypes["default"].object.isRequired,algoliaTopicsService:_propTypes["default"].object.isRequired,dismiss:_propTypes["default"].func.isRequired,initRecord:_propTypes["default"].shape({category:_propTypes["default"].string.isRequired,created_at:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]).isRequired,description:_propTypes["default"].string.isRequired,duration:_propTypes["default"].integer,id:_propTypes["default"].number,image:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string,url:_propTypes["default"].string.isRequired}),products:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].number})),tag_ids:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].number})),title:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}),mode:_propTypes["default"].string,propagateBusyStatus:_propTypes["default"].func,propagateEditedRecord:_propTypes["default"].func.isRequired,propagateNewRecord:_propTypes["default"].func.isRequired};AddOrEditVideoView.defaultProps={mode:'default',propagateBusyStatus:function propagateBusyStatus(){}};var _default=AddOrEditVideoView;exports["default"]=_default;}),40060:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _ActionsSection=_interopRequireDefault(__webpack_require__(59729));var _basic_form_input=_interopRequireDefault(__webpack_require__(54392));var _form_select=_interopRequireDefault(__webpack_require__(70154));var _components=__webpack_require__(51923);var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _forms=__webpack_require__(49448);var _accessors=__webpack_require__(4887);var _validators=__webpack_require__(73235);var _duration=__webpack_require__(9231);var _formatters=__webpack_require__(60414);var _window=__webpack_require__(33852);var _enums=__webpack_require__(93594);var _forms2=_interopRequireDefault(__webpack_require__(98672));var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var CATEGORY_OPTIONS=_enums.VIDEO_CATEGORIES.map(function(key){return{label:key,value:key};});var FIELDS_TEMPLATE={category:{order:1,validate:function validate(value){return(0,_validators.minLength)(1,value);},value:'',formatIn:function formatIn(v){return(0,_formatters.valueToSelectIn)(v);},formatOut:function formatOut(v){return(0,_accessors.getInObj)(['value'],v);}},description:{order:2,validate:function validate(value){return(0,_validators.minLength)(1,value);},value:''},duration:{order:3,validate:function validate(value){return(0,_duration.validation)(value);},value:''},image:{order:9,validate:function validate(value){return(0,_validators.imageV)(value);},value:null},platforms:{order:7,validate:function validate(value){return null;},value:[],notRequired:true},products:{order:6,validate:function validate(value){return null;},value:[],notRequired:true},tags:{order:5,validate:function validate(value){return null;},value:[],notRequired:true},title:{order:0,validate:function validate(value){return(0,_validators.maxLength)(67,value);},value:''},topics:{order:8,validate:function validate(value){return null;},value:[],notRequired:true},url:{order:4,validate:function validate(value){return(0,_validators.isValidEmbedUrl)(value);},value:''}};var VideoForm=function(_Component){_inherits(VideoForm,_Component);var _super=_createSuper(VideoForm);function VideoForm(props){var _this;_classCallCheck(this,VideoForm);_this=_super.call(this,props);_this.state={errors:{},isBusy:false,fields:(0,_forms.initFields)(FIELDS_TEMPLATE,_this._getInitData(props)),workers:[]};_this.addOrUpdateContent=_this.addOrUpdateContent.bind(_assertThisInitialized(_this));_this.getFieldValuesAsObject=_forms.getFieldValuesAsObject.bind(_assertThisInitialized(_this));return _this;}
_createClass(VideoForm,[{key:"_getInitData",value:function _getInitData(props){return(0,_accessors.getInObj)(['initData','data'],props)||{};}},{key:"componentDidMount",value:function componentDidMount(){(0,_window.windowScrollTo)(0,0);}},{key:"addOrUpdateContent",value:function addOrUpdateContent(){var validated=this._validate();if(validated){this.props.saveContent(this._getObjectToPropagate());}}},{key:"_getObjectToPropagate",value:function _getObjectToPropagate(){return{data:this.getFieldValuesAsObject(),index:this.props.initData&&this.props.initData.index!==null?this.props.initData.index:null};}},{key:"_setIsBusy",value:function _setIsBusy(status,worker){if(status&&this.state.workers.includes(worker))return;var workers=status?this.state.workers.concat(worker):this.state.workers.filter(function(w){return w!==worker;});this.setState({isBusy:workers.length>0,workers:workers});}},{key:"_setStateOrError",value:function _setStateOrError(errorMsg,key,value){if(errorMsg===null){var _this$state$errors=this.state.errors,deleted=_this$state$errors[key],errors=_objectWithoutProperties(_this$state$errors,[key].map(_toPropertyKey));this.setState({errors:errors,fields:Object.assign({},this.state.fields,_defineProperty({},key,Object.assign({},this.state.fields[key],{value:value})))});}else{this.setState({errors:Object.assign({},this.state.errors,_defineProperty({},key,errorMsg)),fields:Object.assign({},this.state.fields,_defineProperty({},key,Object.assign({},this.state.fields[key],{value:value})))});}}},{key:"_scrollToError",value:function _scrollToError(errors){var _this2=this;var el=Object.keys(this.state.fields).sort(function(a,b){return _this2.state.fields[a].order-_this2.state.fields[b].order;}).reduce(function(acc,key){if(acc!==null)return acc;return errors.hasOwnProperty(key)?document.getElementById("vf".concat(key)):acc;},null);if(el){(0,_smoothScroll["default"])(el,200,null,window);}}},{key:"_validate",value:function _validate(){var _this3=this;var keys=Object.keys(this.state.fields);var errors=keys.reduce(function(acc,key){var field=_this3.state.fields[key];var validations=field.notRequired?[field.validate]:[_validators.isRequired,field.validate];var error=validations.reduce(function(a,fn){if(a!==null)return a;return fn(field.value);},null);if(error&&error.length){acc[key]=error;}
return acc;},{});if(Object.keys(errors).length){this.setState({errors:Object.assign({},this.state.errors,errors)},function(){return _this3._scrollToError(_this3.state.errors);});return false;}
return true;}},{key:"_getErrorViewForType",value:function _getErrorViewForType(type,helperText){return _react["default"].createElement("div",{className:_inputs["default"].msgWrapper},_react["default"].createElement("div",null,this.state.errors.hasOwnProperty(type)&&_react["default"].createElement("div",{className:_inputs["default"].error},this.state.errors[type]),helperText&&_react["default"].createElement("div",{className:_inputs["default"].help},helperText)));}},{key:"render",value:function render(){var _this4=this;return _react["default"].createElement("form",{className:_forms2["default"].container},_react["default"].createElement("div",{id:"vftitle"},_react["default"].createElement(_basic_form_input["default"],{charCount:this.state.fields.title.value.length,errors:this.state.errors.title,label:"Title",maxVal:60,onChange:function onChange(e){return _this4._setStateOrError((0,_validators.maxLength)(60,e.target.value),'title',e.target.value);},placeholder:"Type your title here",value:this.state.fields.title.value})),_react["default"].createElement("div",{id:"vfcategory"},_react["default"].createElement(_form_select["default"],{errors:this.state.errors.category,label:"Category",onSelectedChange:function onSelectedChange(opt){return _this4._setStateOrError(null,'category',opt);},options:CATEGORY_OPTIONS,placeholder:"Select a category",selectOpts:{rule:'norule'},value:this.state.fields.category.value})),_react["default"].createElement("div",{id:"vfdescription"},_react["default"].createElement(_basic_form_input["default"],{element:"textarea",errors:this.state.errors.description,label:"Description",onChange:function onChange(e){return _this4._setStateOrError(null,'description',e.target.value);},placeholder:"Write a quick description of the video",value:this.state.fields.description.value})),_react["default"].createElement("div",{id:"vfduration"},_react["default"].createElement(_basic_form_input["default"],{classList:{input:_inputs["default"].halfWidth},element:"duration",errors:this.state.errors.duration,label:"Duration",onChange:function onChange(e,formattedVal){return _this4._setStateOrError(null,'duration',formattedVal);},placeholder:"00:00:00",value:this.state.fields.duration.value})),_react["default"].createElement("div",{id:"vfurl"},_react["default"].createElement(_basic_form_input["default"],{errors:this.state.errors.url,label:"Url",onChange:function onChange(e){return _this4._setStateOrError(null,'url',e.target.value);},placeholder:"Example: https://www.youtube.com",value:this.state.fields.url.value})),_react["default"].createElement("div",{id:"vftags",className:_layout["default"].marginBottom30},_react["default"].createElement("label",{className:_inputs["default"].label},"Select up to 5 tags (optional)"),(0,_components.createMultiSelect)({algoliaService:this.props.algoliaTagsService,errors:this.state.errors.hasOwnProperty('tags')?this.state.errors.tags:null,maxWidth:'100%',onSelect:function onSelect(tags){return _this4._setStateOrError(null,'tags',tags);},recordsToOptions:_components.recordsToOptions,selectionLimit:5,value:this.state.fields.tags.value}),this._getErrorViewForType('tags')),_react["default"].createElement("div",{id:"vfproducts",className:_layout["default"].marginBottom30},_react["default"].createElement("label",{className:_inputs["default"].label},"Select relevant products (optional)"),(0,_components.createMultiSelect)({algoliaService:this.props.algoliaPartsService,errors:this.state.errors.hasOwnProperty('products')?this.state.errors.products:null,maxWidth:'100%',onSelect:function onSelect(products){return _this4._setStateOrError(null,'products',products);},recordsToOptions:_components.recordsToOptions,value:this.state.fields.products.value}),this._getErrorViewForType('products')),_react["default"].createElement("div",{id:"vfplatforms",className:_layout["default"].marginBottom30},_react["default"].createElement("label",{className:_inputs["default"].label},"Select relevant platforms (optional)"),(0,_components.createMultiSelect)({algoliaService:this.props.algoliaPlatformsService,errors:this.state.errors.hasOwnProperty('platforms')?this.state.errors.platforms:null,maxWidth:'100%',onSelect:function onSelect(platforms){return _this4._setStateOrError(null,'platforms',platforms);},recordsToOptions:_components.recordsToOptions,value:this.state.fields.platforms.value}),this._getErrorViewForType('platforms')),_react["default"].createElement("div",{id:"vftopics",className:_layout["default"].marginBottom30},_react["default"].createElement("label",{className:_inputs["default"].label},"Select relevant topics (optional)"),(0,_components.createMultiSelect)({algoliaService:this.props.algoliaTopicsService,errors:this.state.errors.hasOwnProperty('topics')?this.state.errors.topics:null,maxWidth:'100%',onSelect:function onSelect(topics){return _this4._setStateOrError(null,'topics',topics);},recordsToOptions:_components.recordsToOptions,value:this.state.fields.topics.value}),this._getErrorViewForType('topics')),_react["default"].createElement("div",{id:"vfimage"},(0,_components.createImageUploader)({aspectRatio:16/9,cropperTitle:(0,_components.createCropperTitle)({title:'16:9 Crop'}),errors:this.state.errors['image'],label:'Upload image',dimensionMins:{width:912},helperText:'This picture should have a ratio of 16:9 and be 2736x1539px (minimum 912x513px) for the best quality.',imageData:this.state.fields.image.value,nestedDialogLevel:1,propagateStatus:function propagateStatus(isBusy){return _this4._setIsBusy(isBusy,'image');},propagateUpload:function propagateUpload(image){return _this4._setStateOrError(null,'image',image);}})),_react["default"].createElement(_ActionsSection["default"],{classNames:{root:_layout["default"].marginTop30},isBusy:this.state.isBusy||this.props.isBusy,mode:this.props.mode,primaryBtnConfig:{onClick:this.addOrUpdateContent,text:'Create video'},secondaryBtnConfig:{onClick:this.props.dismiss}}));}}]);return VideoForm;}(_react.Component);VideoForm.propTypes={algoliaPartsService:_propTypes["default"].object.isRequired,algoliaPlatformsService:_propTypes["default"].object.isRequired,algoliaTagsService:_propTypes["default"].object.isRequired,algoliaTopicsService:_propTypes["default"].object.isRequired,initData:_propTypes["default"].shape({data:_propTypes["default"].object,index:_propTypes["default"].number}),isBusy:_propTypes["default"].bool.isRequired,mode:_propTypes["default"].string,saveContent:_propTypes["default"].func.isRequired};VideoForm.defaultProps={initData:null,mode:'default'};var _default=VideoForm;exports["default"]=_default;}),58279:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _sections=_interopRequireDefault(__webpack_require__(24264));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var HomePage=function(_Component){_inherits(HomePage,_Component);var _super=_createSuper(HomePage);function HomePage(props){_classCallCheck(this,HomePage);return _super.call(this,props);}
_createClass(HomePage,[{key:"render",value:function render(){var _this$props=this.props,pathHelpers=_this$props.pathHelpers,renderForPreview=_this$props.renderForPreview,sections=_this$props.sections;return _react["default"].createElement("div",null,_react["default"].createElement(_sections["default"],{pathHelpers:pathHelpers,renderForPreview:renderForPreview,sections:sections}));}}]);return HomePage;}(_react.Component);HomePage.propTypes={pathHelpers:_propTypes["default"].shape({rootPath:_propTypes["default"].string.isRequired,videosPath:_propTypes["default"].string.isRequired}).isRequired,renderForPreview:_propTypes["default"].bool,sections:_propTypes["default"].arrayOf(_propTypes["default"].shape({key:_propTypes["default"].string,label:_propTypes["default"].string,meta:_propTypes["default"].shape({}),title:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].bool,_propTypes["default"].number,_propTypes["default"].string])})).isRequired};HomePage.defaultProps={renderForPreview:false};var _default=HomePage;exports["default"]=_default;}),278:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _util=_interopRequireDefault(__webpack_require__(48161));var _view_all=_interopRequireDefault(__webpack_require__(10076));var _cta_banner=_interopRequireDefault(__webpack_require__(57149));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var CTABanner=function CTABanner(_ref){var image_url=_ref.image_url,link=_ref.link,title=_ref.title;return _react["default"].createElement("div",{className:_view_all["default"].container},_react["default"].createElement("div",{className:_cta_banner["default"].banner},_react["default"].createElement("a",{href:link,className:_cta_banner["default"].imageLink},_react["default"].createElement(_LazyImage["default"],{alt:title,captureScroll:true,className:_cta_banner["default"].image,classList:{image:_util["default"].borderRadius},setStyle:false,src:image_url,ratio:"4:1",width:1170}))));};CTABanner.propTypes={image_url:_propTypes["default"].string,link:_propTypes["default"].string,title:_propTypes["default"].string};CTABanner.defaultProps={image_url:'',link:'',title:''};var _default=CTABanner;exports["default"]=_default;}),24264:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _cta_banner=_interopRequireDefault(__webpack_require__(278));var _HomePageBannerAd=_interopRequireDefault(__webpack_require__(77320));var _InfiniteScroll=_interopRequireDefault(__webpack_require__(12813));var _promoted_content=_interopRequireDefault(__webpack_require__(2056));var _video_dialog=_interopRequireDefault(__webpack_require__(6112));var _view_all_builder=_interopRequireDefault(__webpack_require__(69800));var _ads=_interopRequireDefault(__webpack_require__(28949));var _seo_handler=_interopRequireDefault(__webpack_require__(38891));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _seoConfig=_interopRequireDefault(__webpack_require__(70723));var _mainServiceOperators=__webpack_require__(90375);var _window=__webpack_require__(33852);var _enums=__webpack_require__(72973);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));var _sections=_interopRequireDefault(__webpack_require__(45680));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var PAGE_SIZE=10;var SECTIONS_PER_SCROLL_LOAD=2;var TRACKING_PAGE_TYPE='pages#home';var Sections=function(_Component){_inherits(Sections,_Component);var _super=_createSuper(Sections);function Sections(props){var _this;_classCallCheck(this,Sections);_this=_super.call(this,props);var _this$_initSections=_this._initSections(props),homeSections=_this$_initSections.homeSections,sections=_this$_initSections.sections,totalSections=_this$_initSections.totalSections;_this.state={additionalSections:[],ads:{banner:null},dialog:{open:false,data:null},homeSections:homeSections,sections:sections,totalSections:totalSections};_this.seoHandler=new _seo_handler["default"]({config:_seoConfig["default"]});_this.adsService=new _ads["default"](_enums.HOME_PAGE);_this.handleVideoDismiss=_this.handleVideoDismiss.bind(_assertThisInitialized(_this));_this.loadMoreSectionsOnClick=_this.loadMoreSectionsOnClick.bind(_assertThisInitialized(_this));_this.loadMoreSectionsOnScroll=_this.loadMoreSectionsOnScroll.bind(_assertThisInitialized(_this));_this.summonVideoDialog=_this.summonVideoDialog.bind(_assertThisInitialized(_this));_this.viewAllBuilder=new _view_all_builder["default"]({type:'home',props:{doScroll:false}},_assertThisInitialized(_this));_this._videoDialog;return _this;}
_createClass(Sections,[{key:"_initSections",value:function _initSections(props){var homeSections=props.renderForPreview?[]:props.sections.slice(0,PAGE_SIZE);var sections=props.renderForPreview?props.sections:props.sections.slice(0,SECTIONS_PER_SCROLL_LOAD);var totalSections=props.renderForPreview?props.sections.length:homeSections.length;return{homeSections:homeSections,sections:sections,totalSections:totalSections};}},{key:"componentDidMount",value:function componentDidMount(){this._fetchAds();}},{key:"loadMoreSectionsOnClick",value:function loadMoreSectionsOnClick(){var updatedHomeSections=this.props.sections.slice(0,this.state.homeSections.length+PAGE_SIZE);this.setState({homeSections:updatedHomeSections,totalSections:updatedHomeSections.length},function(){return(0,_window.windowScrollTo)(0,parseInt((0,_window.getWindowProperty)('scrollY'))+50);});}},{key:"loadMoreSectionsOnScroll",value:function loadMoreSectionsOnScroll(){var _this2=this;return new Promise(function(resolve){_this2.setState({sections:_this2.state.homeSections.slice(0,_this2.state.sections.length+SECTIONS_PER_SCROLL_LOAD)},function(){return resolve();});});}},{key:"handleVideoDismiss",value:function handleVideoDismiss(){this.seoHandler.reportView({path:'/'});}},{key:"summonVideoDialog",value:function summonVideoDialog(video,itemIndex,sectionIndex){if(this._videoDialog){this._videoDialog._summonDialog(video);var item={id:video.id,index:itemIndex,type:'video_card'};var section={key:'video',value:'uuid'};(0,_mainServiceOperators.fireViewAllSectionClickAnalytics)({delayRedirect:false,index:sectionIndex,item:item,pageType:TRACKING_PAGE_TYPE,section:section});}}},{key:"_fetchAds",value:function _fetchAds(){var _this3=this;return this.adsService.getAdsForPage().then(function(ads){return _this3.setState({ads:ads});})["catch"](function(err){(0,_error_handler["default"])("HomePage Sections _fetchAds: ".concat(err));});}},{key:"_injectBannerAdInSections",value:function _injectBannerAdInSections(sections){return sections.slice(0,2).concat([{key:'home_page_banner_ad',value:0}]).concat(sections.slice(2));}},{key:"_shouldRenderMoreButton",value:function _shouldRenderMoreButton(){return this.state.sections.length===this.state.totalSections&&(this.state.sections.length<this.props.sections.length||this.state.additionalSections.length>0);}},{key:"_getCTABanner",value:function _getCTABanner(section,i){return _react["default"].createElement(_cta_banner["default"],{key:"".concat(section.key,"_").concat(section.value),id:section.value,image_url:section.meta.image_url,link:section.meta.link,onClick:function onClick(e){var item={type:'cta_banner'};(0,_mainServiceOperators.fireViewAllSectionClickAnalytics)({delayRedirect:true,e:e,index:i,item:item,pageType:TRACKING_PAGE_TYPE,section:section,url:section.meta.link});},title:section.title});}},{key:"_getHomePageBannerAd",value:function _getHomePageBannerAd(section){if(this.state.ads.banner===null)return null;return _react["default"].createElement(_HomePageBannerAd["default"],{key:"".concat(section.key,"_").concat(section.value),ad:this.state.ads.banner});}},{key:"_getPromotedContent",value:function _getPromotedContent(section,i){return _react["default"].createElement(_promoted_content["default"],{key:"".concat(section.key,"_").concat(section.value),content:section.meta.content,onClick:function onClick(e,link,itemIndex){var item={index:itemIndex,type:'cta_banner'};(0,_mainServiceOperators.fireViewAllSectionClickAnalytics)({delayRedirect:true,e:e,index:i,item:item,pageType:TRACKING_PAGE_TYPE,section:section,url:link});},title:section.title});}},{key:"_getSections",value:function _getSections(sections){var _this4=this;var sectionsWithAd=this._injectBannerAdInSections(sections);return sectionsWithAd.map(function(section,i){switch(section.key){case 'cta':return _this4._getCTABanner(section,i);case 'home_page_banner_ad':return _this4._getHomePageBannerAd(section);case 'promoted':return _this4._getPromotedContent(section,i);default:return _this4._getViewAllList(section,i);}});}},{key:"_getViewAllList",value:function _getViewAllList(section,i){return this.viewAllBuilder.getComponent(section,i,{reportProjectsCount:function reportProjectsCount(){},loadMoreSectionsOnClickdex:i,transition:function transition(e,links){var item=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var events=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];var url=item.type&&item.type==='view_all_link'&&links.hasOwnProperty('view_all')?links.view_all:links.external;(0,_mainServiceOperators.fireViewAllSectionClickAnalytics)({delayRedirect:true,e:e,events:events,index:i,item:item,pageType:TRACKING_PAGE_TYPE,section:section,url:url});}},this.state.sections);}},{key:"render",value:function render(){var _this5=this;return _react["default"].createElement("div",{className:_layout["default"].container},_react["default"].createElement(_InfiniteScroll["default"],{buffer:150,classList:{container:_layout["default"].wrapper1170},fetchMore:this.loadMoreSectionsOnScroll,recordsCount:this.state.sections.length,totalRecordsCount:this.state.totalSections},this._getSections(this.state.sections),this._shouldRenderMoreButton()&&_react["default"].createElement("div",{className:_sections["default"].button},_react["default"].createElement("button",{className:"".concat(_buttons["default"].outlineBlack," ").concat(_buttons["default"].md),onClick:this.loadMoreSectionsOnClick},"Load More"))),this.props.renderForPreview===false&&_react["default"].createElement(_video_dialog["default"],{ref:function ref(el){return _this5._videoDialog=el;},onDismiss:this.handleVideoDismiss,pathHelpers:this.props.pathHelpers,seoHandler:this.seoHandler}));}}]);return Sections;}(_react.Component);Sections.propTypes={pathHelpers:_propTypes["default"].shape({rootPath:_propTypes["default"].string.isRequired,videosPath:_propTypes["default"].string.isRequired}).isRequired,renderForPreview:_propTypes["default"].bool,sections:_propTypes["default"].arrayOf(_propTypes["default"].shape({key:_propTypes["default"].string,label:_propTypes["default"].string,meta:_propTypes["default"].shape({}),title:_propTypes["default"].string,value:_propTypes["default"].oneOfType([_propTypes["default"].bool,_propTypes["default"].number,_propTypes["default"].string])}))};Sections.defaultProps={renderForPreview:false,sections:[]};var _default=Sections;exports["default"]=_default;}),37943:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.DummyTwoByCard=exports.DummyMobileView=exports.DummyContentDefaultView=exports.DummyListItem=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _promoted_content=_interopRequireDefault(__webpack_require__(44815));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var DummyMobileCard=function DummyMobileCard(){return _react["default"].createElement("div",{className:_promoted_content["default"].mobileCard},_react["default"].createElement("div",{className:_promoted_content["default"].dummyMobileCardImage}),_react["default"].createElement("div",{className:_promoted_content["default"].mobileCardInfo},_react["default"].createElement("p",{className:_typography["default"].h5},"Type"),_react["default"].createElement("a",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].link," ").concat(_typography["default"].bold)},"Title")));};var DummyListItem=function DummyListItem(){return _react["default"].createElement("div",{className:_promoted_content["default"].listItem},_react["default"].createElement("div",null,_react["default"].createElement("p",{className:_typography["default"].h5},"Type"),_react["default"].createElement("p",{className:"".concat(_typography["default"].link," ").concat(_typography["default"].bodyM," ").concat(_typography["default"].bold)},"Title")),_react["default"].createElement("div",{className:_promoted_content["default"].dummyImageSmall}));};exports.DummyListItem=DummyListItem;var DummyContentDefaultView=function DummyContentDefaultView(){return _react["default"].createElement("div",{className:_promoted_content["default"].defaultView},_react["default"].createElement("div",{className:_promoted_content["default"].mainCard},_react["default"].createElement("div",{className:_promoted_content["default"].mainInfo},_react["default"].createElement("p",{className:"".concat(_typography["default"].h5," ").concat(_layout["default"].marginBottom10)},"Type"),_react["default"].createElement("p",{className:"".concat(_typography["default"].linkCharcoal," ").concat(_typography["default"].h3," ").concat(_layout["default"].marginBottom15," ").concat(_layout["default"].block)},"Four item preview"),_react["default"].createElement("p",{className:_typography["default"].bodyM},"This preview layout will change when you add 1-2 items, then again on 3-4 items.")),_react["default"].createElement("div",{className:_promoted_content["default"].dummyImageLarge})),_react["default"].createElement("div",{className:_promoted_content["default"].listContainer},[0,0,0].map(function(n,i){return _react["default"].createElement(DummyListItem,{key:i});})));};exports.DummyContentDefaultView=DummyContentDefaultView;var DummyMobileView=function DummyMobileView(){return _react["default"].createElement("div",{className:_promoted_content["default"].dummyMobileView},[0,0,0,0].map(function(item,i){return _react["default"].createElement(DummyMobileCard,{key:i});}));};exports.DummyMobileView=DummyMobileView;var DummyTwoByCard=function DummyTwoByCard(){return _react["default"].createElement("div",{className:_promoted_content["default"].twoByCard},_react["default"].createElement("div",{className:_promoted_content["default"].twoByCardInfo},_react["default"].createElement("div",null,_react["default"].createElement("p",{className:"".concat(_typography["default"].h5," ").concat(_layout["default"].marginBottom10)},"Type"),_react["default"].createElement("p",{className:"".concat(_typography["default"].linkCharcoal," ").concat(_typography["default"].h4," ").concat(_layout["default"].marginBottom22," ").concat(_layout["default"].block)},"Title")),_react["default"].createElement("p",{className:_typography["default"].bodyS},"Description")),_react["default"].createElement("div",{className:_promoted_content["default"].dummyImageTwoBy}));};exports.DummyTwoByCard=DummyTwoByCard;}),65180:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DummyViews=__webpack_require__(37943);var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _promoted_content=_interopRequireDefault(__webpack_require__(44815));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _getMainView=function _getMainView(props){return props.content.length<=2?TwoItemsView(props):DefaultView(props);};var _sideItemsCountImageWidth=function _sideItemsCountImageWidth(content){return content.length===3?100:70;};var ListItem=function ListItem(_ref){var contentLen=_ref.contentLen,imageWidth=_ref.imageWidth,index=_ref.index,item=_ref.item,_onClick=_ref.onClick,renderForPreview=_ref.renderForPreview;return _react["default"].createElement("div",{className:_promoted_content["default"].listItem},_react["default"].createElement("div",{className:_promoted_content["default"].listItemContentWrapper},_react["default"].createElement("div",null,_react["default"].createElement("p",{className:"".concat(_typography["default"].h5," ").concat(_layout["default"].marginBottom10)},item.contentType.value),_react["default"].createElement("a",{className:"".concat(_typography["default"].link," ").concat(_typography["default"].bodyM," ").concat(_typography["default"].bold," ").concat(_promoted_content["default"]["listItemTitle".concat(imageWidth)]),href:item.link,onClick:function onClick(e){if(renderForPreview)return e.preventDefault();_onClick(e,item.link,index);}},item.title)),_react["default"].createElement("a",{className:"".concat(_promoted_content["default"]["listItemImageDims".concat(imageWidth)]),href:item.link,onClick:function onClick(e){if(renderForPreview)return e.preventDefault();_onClick(e,item.link,index);}},_react["default"].createElement(_LazyImage["default"],{key:"".concat(item.title,"_").concat(contentLen,"_").concat(index),alt:item.image11.name,src:item.image11.url,ratio:"1:1",width:imageWidth}))));};var DefaultView=function DefaultView(_ref2){var content=_ref2.content,_onClick2=_ref2.onClick,renderForPreview=_ref2.renderForPreview;var sideItemImageWidth=_sideItemsCountImageWidth(content);return _react["default"].createElement("div",{className:_promoted_content["default"].defaultView},_react["default"].createElement("div",{className:_promoted_content["default"].mainCard},_react["default"].createElement("div",{className:_promoted_content["default"].mainInfo},_react["default"].createElement("p",{className:"".concat(_typography["default"].h5," ").concat(_layout["default"].marginBottom10)},content[0].contentType.value),_react["default"].createElement("a",{className:"".concat(_typography["default"].linkCharcoal," ").concat(_typography["default"].h3," ").concat(_typography["default"].overflowBreakWord," ").concat(_layout["default"].marginBottom15," ").concat(_layout["default"].block),href:content[0].link,onClick:function onClick(e){if(renderForPreview)return e.preventDefault();_onClick2(e,content[0].link,0);}},content[0].title),_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].overflowBreakWord)},content[0].description)),_react["default"].createElement("div",null,_react["default"].createElement("a",{className:_promoted_content["default"].mainImageWrapper,href:content[0].link,onClick:function onClick(e){if(renderForPreview)return e.preventDefault();_onClick2(e,content[0].link,0);}},_react["default"].createElement(_LazyImage["default"],{key:"".concat(content[0].title,"_",0),alt:content[0].image43.name,src:content[0].image43.url,ratio:"4:3",width:375})))),_react["default"].createElement("div",{className:_promoted_content["default"].listContainer},content.slice(1,4).map(function(item,i){return _react["default"].createElement(ListItem,{key:"".concat(item.title,"_").concat(content.length,"_").concat(i),contentLen:content.length,imageWidth:sideItemImageWidth,index:i+1,item:item,onClick:_onClick2,renderForPreview:renderForPreview});})));};var TwoItemCardView=function TwoItemCardView(_ref3){var index=_ref3.index,item=_ref3.item,_onClick3=_ref3.onClick,renderForPreview=_ref3.renderForPreview;return _react["default"].createElement("div",{className:_promoted_content["default"].twoByCard},_react["default"].createElement("div",{className:_promoted_content["default"].twoByCardInfo},_react["default"].createElement("div",null,_react["default"].createElement("h5",{className:"".concat(_typography["default"].h5," ").concat(_layout["default"].marginBottom10)},item.contentType.value),_react["default"].createElement("a",{className:"".concat(_typography["default"].linkCharcoal," ").concat(_typography["default"].bodyM," ").concat(_typography["default"].bold," ").concat(_layout["default"].marginBottom22," ").concat(_layout["default"].block),href:item.link,onClick:function onClick(e){if(renderForPreview)return e.preventDefault();_onClick3(e,item.link,index);}},item.title)),_react["default"].createElement("p",{className:_typography["default"].bodyS},item.description)),_react["default"].createElement("div",null,_react["default"].createElement("a",{className:_promoted_content["default"].twoByMainImageWrapper,href:item.link,onClick:function onClick(e){if(renderForPreview)return e.preventDefault();_onClick3(e,item.link,index);}},_react["default"].createElement(_LazyImage["default"],{key:"".concat(item.title,"_").concat(index),alt:item.image43.name,src:item.image43.url,ratio:"4:3",width:285}))));};var TwoItemsView=function TwoItemsView(_ref4){var content=_ref4.content,onClick=_ref4.onClick,renderForPreview=_ref4.renderForPreview;return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifySpaceBetween," ").concat(_promoted_content["default"].twoByView)},_react["default"].createElement(TwoItemCardView,{index:0,item:content[0],onClick:onClick,renderForPreview:renderForPreview}),content.length===2?_react["default"].createElement(TwoItemCardView,{index:1,item:content[1],onClick:onClick,renderForPreview:renderForPreview}):_react["default"].createElement(_DummyViews.DummyTwoByCard,null));};var PromotedContentDefaultView=function PromotedContentDefaultView(props){return!props.content.length?_react["default"].createElement(_DummyViews.DummyContentDefaultView,null):_getMainView(props);};PromotedContentDefaultView.propTypes={content:_propTypes["default"].arrayOf(_propTypes["default"].shape({contentType:_propTypes["default"].shape({label:_propTypes["default"].string,value:_propTypes["default"].string}),description:_propTypes["default"].string,image11:_propTypes["default"].shape({dimensions:_propTypes["default"].shape({height:_propTypes["default"].number,width:_propTypes["default"].number}),id:_propTypes["default"].number,name:_propTypes["default"].string,url:_propTypes["default"].string}),image43:_propTypes["default"].shape({dimensions:_propTypes["default"].shape({height:_propTypes["default"].number,width:_propTypes["default"].number}),id:_propTypes["default"].number,name:_propTypes["default"].string,url:_propTypes["default"].string}),link:_propTypes["default"].string,products:_propTypes["default"].array,tags:_propTypes["default"].array,title:_propTypes["default"].string})),onClick:_propTypes["default"].func.isRequired,renderForPreview:_propTypes["default"].bool};PromotedContentDefaultView.defaultProps={renderForPreview:false};var _default=PromotedContentDefaultView;exports["default"]=_default;}),80525:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _DummyViews=__webpack_require__(37943);var _horizontal_scroll=_interopRequireDefault(__webpack_require__(26759));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _promoted_content=_interopRequireDefault(__webpack_require__(44815));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var MobileCard=function MobileCard(_ref){var index=_ref.index,item=_ref.item,_onClick=_ref.onClick;return _react["default"].createElement("div",{className:_promoted_content["default"].mobileCard},_react["default"].createElement("a",{className:_promoted_content["default"].mobileImageWrapper,href:item.link,onClick:function onClick(e){return _onClick(e,item.link,index);}},_react["default"].createElement(_LazyImage["default"],{alt:item.image11.name,captureScroll:true,constrainSize:true,src:item.image11.url,ratio:"1:1",width:82})),_react["default"].createElement("div",{className:_promoted_content["default"].mobileCardInfo},_react["default"].createElement("p",{className:"".concat(_typography["default"].h5," ").concat(_layout["default"].marginBottom5)},item.contentType.value),_react["default"].createElement("a",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].link," ").concat(_typography["default"].bold," ").concat(_layout["default"].block),href:item.link},item.title)));};var PromotedContentMobileView=function PromotedContentMobileView(_ref2){var content=_ref2.content,onClick=_ref2.onClick;if(!content.length)return _react["default"].createElement(_DummyViews.DummyMobileView,null);return _react["default"].createElement(_horizontal_scroll["default"],{classList:{wrapper:_promoted_content["default"].horizontalScrollWrapper},recordsCount:1,totalRecordsCount:1},_react["default"].createElement("div",{className:_promoted_content["default"].mobileView},content.map(function(item,i){return _react["default"].createElement(MobileCard,{key:i,index:i,item:item,onClick:onClick});})));};PromotedContentMobileView.propTypes={content:_propTypes["default"].arrayOf(_propTypes["default"].object),onClick:_propTypes["default"].func.isRequired};var _default=PromotedContentMobileView;exports["default"]=_default;}),2056:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _PromotedContentDefaultView=_interopRequireDefault(__webpack_require__(65180));var _PromotedContentMobileView=_interopRequireDefault(__webpack_require__(80525));var _view_all=_interopRequireDefault(__webpack_require__(10076));var _promoted_content=_interopRequireDefault(__webpack_require__(44815));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var getTitle=function getTitle(_ref){var renderForPreview=_ref.renderForPreview,title=_ref.title;return renderForPreview?null:titleView(title);};var titleView=function titleView(title){return _react["default"].createElement("div",{className:"".concat(_view_all["default"].header," ").concat(_promoted_content["default"].titleWrapper)},_react["default"].createElement("p",{className:_view_all["default"].title},title));};var PromotedContent=function PromotedContent(_ref2){var content=_ref2.content,onClick=_ref2.onClick,renderForPreview=_ref2.renderForPreview,title=_ref2.title;return _react["default"].createElement("div",{className:_view_all["default"].container},getTitle({renderForPreview:renderForPreview,title:title}),_react["default"].createElement("div",null,_react["default"].createElement(_PromotedContentDefaultView["default"],{content:content.slice(0,4),onClick:onClick,renderForPreview:renderForPreview}),_react["default"].createElement(_PromotedContentMobileView["default"],{content:content.slice(0,4),onClick:onClick,renderForPreview:renderForPreview})));};PromotedContent.propTypes={content:_propTypes["default"].arrayOf(_propTypes["default"].shape({})).isRequired,onClick:_propTypes["default"].func,renderForPreview:_propTypes["default"].bool,title:_propTypes["default"].string};PromotedContent.defaultProps={onClick:function onClick(){},renderForPreview:false,title:null};var _default=PromotedContent;exports["default"]=_default;}),70723:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _pageMetadata=__webpack_require__(39225);var CONFIG={'/':function _(){return{title:_pageMetadata.DEFAULT_PAGE_TITLE,pageType:'pages#home',meta_desc:_pageMetadata.DEFAULT_PAGE_DESCRIPTION};}};var _default=function _default(path){return CONFIG[path];};exports["default"]=_default;}),68568:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _breadcrumb=_interopRequireDefault(__webpack_require__(13050));var _ring=_interopRequireDefault(__webpack_require__(49737));var _accessors=__webpack_require__(4887);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var NewsArticleAnalytics=function(_Component){_inherits(NewsArticleAnalytics,_Component);var _super=_createSuper(NewsArticleAnalytics);function NewsArticleAnalytics(props){var _this;_classCallCheck(this,NewsArticleAnalytics);_this=_super.call(this,props);_this.state={redirectToArticle:_this._initFromQuery(props.currentHistoryData)};return _this;}
_createClass(NewsArticleAnalytics,[{key:"_initFromQuery",value:function _initFromQuery(currentHistoryData){if(this.props.view==='default')return false;var search=(0,_accessors.getInObj)(['search'],currentHistoryData);return search.includes('from_article=t');}},{key:"_onBreadCrumbClick",value:function _onBreadCrumbClick(e){if(!this.state.redirectToArticle){e.preventDefault();this.props.toggleCurrentView();}}},{key:"_getBreadCrumbData",value:function _getBreadCrumbData(){return this.state.redirectToArticle?{href:this.props.currentRecord.record.url,text:'Back to article'}:{href:'/news/admin',text:'Back to articles'};}},{key:"_getViewForType",value:function _getViewForType(){return this.props.view==='default'?this._getDefaultView():this._getArticleStatsView();}},{key:"_getDefaultView",value:function _getDefaultView(){return _react["default"].createElement("div",null,_react["default"].createElement("div",{className:_layout["default"].marginBottom30},_react["default"].createElement("h1",{className:"".concat(_typography["default"].h1," ").concat(_layout["default"].marginBottom30)},"Analytics")),_react["default"].createElement("iframe",{allowFullScreen:true,frameBorder:"0",height:this.props.analytics.metadata.height,src:this.props.analytics.url,width:this.props.analytics.metadata.width}));}},{key:"_getArticleStatsView",value:function _getArticleStatsView(){if(!this.props.currentRecord.record)return this._getLoaderView();var _this$props$currentRe=this.props.currentRecord.record,analytics=_this$props$currentRe.analytics,respects_count=_this$props$currentRe.respects_count,title=_this$props$currentRe.title;return _react["default"].createElement("div",null,_react["default"].createElement("div",{className:_layout["default"].marginBottom30},_react["default"].createElement("h1",{className:"".concat(_typography["default"].h1," ").concat(_layout["default"].marginBottom30)},"Stats"),_react["default"].createElement("h2",{className:_typography["default"].h3},title),_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold," ").concat(_layout["default"].marginTop15)},"Respects: ".concat(respects_count))),_react["default"].createElement("iframe",{allowFullScreen:true,frameBorder:"0",height:analytics.metadata.height,src:analytics.url,width:analytics.metadata.width}));}},{key:"_getLoaderView",value:function _getLoaderView(){return _react["default"].createElement("div",{className:_layout["default"].container},_react["default"].createElement("div",{className:"".concat(_layout["default"].wrapper1170," ").concat(_layout["default"].flex)},_react["default"].createElement(_ring["default"],{size:20}),_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold," ").concat(_layout["default"].marginLeft10)},"Loading...")));}},{key:"render",value:function render(){var _this2=this;var breadcrumb=this._getBreadCrumbData();return _react["default"].createElement("div",{className:_layout["default"].container},_react["default"].createElement("div",{className:_layout["default"].wrapper1170},_react["default"].createElement("div",{className:_layout["default"].marginBottom30},_react["default"].createElement(_breadcrumb["default"],{color:"Charcoal",href:breadcrumb.href,onClick:function onClick(e){return _this2._onBreadCrumbClick(e);},text:breadcrumb.text})),this._getViewForType()));}}]);return NewsArticleAnalytics;}(_react.Component);NewsArticleAnalytics.propTypes={analytics:_propTypes["default"].shape({metadata:_propTypes["default"].shape({height:_propTypes["default"].number.isRequired,width:_propTypes["default"].number.isRequired}).isRequired,url:_propTypes["default"].string.isRequired}),currentHistoryData:_propTypes["default"].object.isRequired,currentRecord:_propTypes["default"].shape({hasChanges:_propTypes["default"].bool.isRequired,record:_propTypes["default"].shape({analytics:_propTypes["default"].shape({metadata:_propTypes["default"].shape({height:_propTypes["default"].number.isRequired,width:_propTypes["default"].number.isRequired}).isRequired,url:_propTypes["default"].string.isRequired}).isRequired,title:_propTypes["default"].string.isRequired})}),toggleCurrentView:_propTypes["default"].func.isRequired,view:_propTypes["default"].string.isRequired};NewsArticleAnalytics.defaultProps={analytics:null,currentRecord:{hasChanges:false,record:null}};var _default=NewsArticleAnalytics;exports["default"]=_default;}),60333:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=createDraftsterConfig;var _draftster=__webpack_require__(3623);function createDraftsterConfig(_ref){var initContent=_ref.initContent,isEditorWorking=_ref.isEditorWorking,onEditorUpdate=_ref.onEditorUpdate;return{className:'story-editor',editorWasUpdated:function editorWasUpdated(){onEditorUpdate();},handleImageUpload:function handleImageUpload(image,callback){return(0,_draftster.uploadImageToServer)(image).then(function(mergedImage){return callback(null,mergedImage);})["catch"](function(err){return callback(err,image);});},isEditorBusy:function isEditorBusy(bool){isEditorWorking(bool);},processImage:function processImage(image){return(0,_draftster.processRemoteImage)(image);},setInitialContent:function setInitialContent(){return(0,_draftster.prepareModelForDraftsterInstance)(initContent);}};}}),84734:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _draftster_core=_interopRequireDefault(__webpack_require__(66220));var _draftsterConfig=_interopRequireDefault(__webpack_require__(60333));var _draftster=__webpack_require__(3623);var _basic_form_input=_interopRequireDefault(__webpack_require__(54392));var _radio_group=_interopRequireDefault(__webpack_require__(85883));var _StickyActionsBar=_interopRequireDefault(__webpack_require__(4580));var _TopMenuBar=_interopRequireDefault(__webpack_require__(23769));var _components=__webpack_require__(51923);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _templates=__webpack_require__(32797);var _accessors=__webpack_require__(4887);var _filters=__webpack_require__(58429);var _forms=__webpack_require__(49448);var _formatters=__webpack_require__(60414);var _validators=__webpack_require__(73235);var _forms2=_interopRequireDefault(__webpack_require__(98672));var _inputs=_interopRequireDefault(__webpack_require__(26241));var _layout=_interopRequireDefault(__webpack_require__(42721));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var FIELDS_TEMPLATE={content:{order:1,validate:function validate(){return null;},value:null,notRequired:true},image:{order:3,validate:function validate(){return null;},value:null,notRequired:true},mobile_image:{order:4,validate:function validate(){return null;},value:null,notRequired:true},platforms:{order:8,validate:function validate(v){return(0,_validators.maxLength)(5,v);},value:[],notRequired:true,formatIn:function formatIn(v){return(0,_formatters.multiSelectIn)(v,'name');}},products:{order:7,validate:function validate(v){return(0,_validators.maxLength)(5,v);},value:[],notRequired:true,formatIn:function formatIn(v){return(0,_formatters.multiSelectIn)(v,'name');}},summary:{order:2,validate:function validate(v){return(0,_validators.maxLength)(140,v);},value:'',notRequired:true},tags:{order:6,validate:function validate(v){return(0,_validators.maxLength)(5,v);},value:[],notRequired:true,formatIn:function formatIn(v){return(0,_formatters.multiSelectIn)(v,'name');}},title:{order:0,validate:function validate(v){return(0,_validators.minLength)(3,v)||(0,_validators.maxLength)(100,v);},value:''},topics:{order:5,validate:function validate(v){return(0,_validators.maxLength)(5,v);},value:[],notRequired:true,formatIn:function formatIn(v){return(0,_formatters.multiSelectIn)(v,'name');}}};var SPONSERED_FIELDS_TEMPLATE={sponsored:{order:9,validate:function validate(){return null;},value:'false',formatIn:function formatIn(v){return(0,_formatters.boolOrNullIn)(v);},formatOut:function formatOut(v){return(0,_formatters.boolOrNullOut)(v);}},sponsor_image:{order:12,validate:function validate(){return null;},value:null,notRequired:true},sponsor_link:{order:11,validate:function validate(){return null;},value:'',notRequired:true},sponsor_name:{order:10,validate:function validate(){return null;},value:'',notRequired:true}};var SPONSORED_BUTTONS=[{label:'Yes',value:true},{label:'No',value:false}];var SPONSOR_STATE_RESET={sponsored:false,sponsor_image:null,sponsor_link:null,sponsor_name:null};var STATE_SPREAD={hasChanges:true};var SUBMISSION_VALIDATIONS={content:{validate:function validate(v){return(0,_validators.minLength)(1,v);}},image:{validate:function validate(v){return(0,_validators.imageV)(v);}},mobile_image:{validate:function validate(v){return v!==null&&Object.keys(v).length>0&&(0,_validators.imageV)(v);},notRequired:true},platforms:{validate:function validate(v){return(0,_validators.maxLength)(5,v);},notRequired:true},products:{validate:function validate(v){return(0,_validators.maxLength)(5,v);},notRequired:true},summary:{validate:function validate(v){return(0,_validators.maxLength)(140,v);}},tags:{validate:function validate(v){return(0,_validators.maxLength)(5,v);},notRequired:true},topics:{validate:function validate(v){return(0,_validators.maxLength)(5,v);},notRequired:true}};var SUBMISSION_SPONSORED_VALIDATIONS={sponsor_image:{validate:function validate(v){return(0,_validators.imageV)(v);}},sponsor_link:{validate:function validate(v){return(0,_validators.isUrlWithProtocol)(v);}},sponsor_name:{validate:function validate(v){return(0,_validators.minLength)(1,v);}}};var NewsArticleForm=function(_PureComponent){_inherits(NewsArticleForm,_PureComponent);var _super=_createSuper(NewsArticleForm);function NewsArticleForm(props){var _this;_classCallCheck(this,NewsArticleForm);_this=_super.call(this,props);var template=props.isAdminOrEditor?Object.assign({},FIELDS_TEMPLATE,SPONSERED_FIELDS_TEMPLATE):FIELDS_TEMPLATE;_this.state={errors:{},formError:null,hasChanges:props.currentRecord.hasChanges,isBusy:false,fields:(0,_forms.initFields)(template,props.currentRecord.record),workers:[]};_this.addOrUpdateContent=_this.addOrUpdateContent.bind(_assertThisInitialized(_this));_this.onEditorUpdate=_this.onEditorUpdate.bind(_assertThisInitialized(_this));_this.isEditorWorking=_this.isEditorWorking.bind(_assertThisInitialized(_this));_this.requestResolver=_this.requestResolver.bind(_assertThisInitialized(_this));_this.toggleCurrentViewProxy=_this.toggleCurrentViewProxy.bind(_assertThisInitialized(_this));_this.getErrorForField=_forms.getErrorForField.bind(_assertThisInitialized(_this));_this.getFieldValuesAsObject=_forms.getFieldValuesAsObject.bind(_assertThisInitialized(_this));_this.setIsBusy=_forms.setIsBusy.bind(_assertThisInitialized(_this));_this.setStateOrError=_forms.setStateOrError.bind(_assertThisInitialized(_this));_this.validate=_forms.validateFields.bind(_assertThisInitialized(_this));_this._contentEditor;return _this;}
_createClass(NewsArticleForm,[{key:"_initDraftster",value:function _initDraftster(){return(0,_draftsterConfig["default"])({initContent:(0,_accessors.getInObj)(['content'],this.props.currentRecord.record),isEditorWorking:this.isEditorWorking,onEditorUpdate:this.onEditorUpdate});}},{key:"addOrUpdateContent",value:function addOrUpdateContent(validationLvl){var status=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var validated=validationLvl===0?this._valiadatePrimary():this._valiadateSecondary();if(validated){status?this._submitOrPublishContent(status):this._saveContent();}}},{key:"isEditorWorking",value:function isEditorWorking(bool){if(this.state.isBusy!==bool)this.setState({isBusy:bool});}},{key:"onEditorUpdate",value:function onEditorUpdate(){if(this.state.errors.hasOwnProperty('content')){this.setState({errors:(0,_filters.removeFromObject)(this.state.errors,'content'),hasChanges:true});}else{this.setState({hasChanges:true});}}},{key:"requestResolver",value:function requestResolver(err){if(err)return this.setState({formError:err,isBusy:false});this.setState({hasChanges:false,isBusy:false});}},{key:"toggleCurrentViewProxy",value:function toggleCurrentViewProxy(view){return view==='default'&&this.state.hasChanges?this.props.summonPrompt('redirect',view):this._memoizeContentAndToggleView(view);}},{key:"_buildObjectForPropagation",value:function _buildObjectForPropagation(){var _this2=this;return new Promise(function(resolve,reject){return(0,_draftster.convertToJSONModel)(_this2._contentEditor.getEditorContent(),true).then(function(content){return resolve(_this2._buildObjectWithContent(content));})["catch"](function(err){return reject(err);});});}},{key:"_buildObjectWithContent",value:function _buildObjectWithContent(content){var id=this.props.currentRecord.record?{id:this.props.currentRecord.record.id}:{};var valuesObj=this.getFieldValuesAsObject();return Object.assign({},id,valuesObj,this._buildObjectForSponsor(valuesObj),{content:content,platforms:(0,_formatters.multiSelectToRecordShapeOut)(valuesObj.platforms),products:(0,_formatters.multiSelectToRecordShapeOut)(valuesObj.products),tags:(0,_formatters.multiSelectToRecordShapeOut)(valuesObj.tags),topics:(0,_formatters.multiSelectToRecordShapeOut)(valuesObj.topics)});}},{key:"_buildObjectForSponsor",value:function _buildObjectForSponsor(valuesObj){if((0,_accessors.getInObj)(['sponsored','value'],this.state.fields)==='false')return SPONSOR_STATE_RESET;var article=this.props.currentRecord.record;return{sponsored:valuesObj.sponsored||(0,_accessors.getInObj)(['sponsored'],article),sponsor_image:valuesObj.sponsor_image||(0,_accessors.getInObj)(['sponsor_image'],article),sponsor_link:valuesObj.sponsor_link||(0,_accessors.getInObj)(['sponsor_link'],article),sponsor_name:valuesObj.sponsor_name||(0,_accessors.getInObj)(['sponsor_name'],article)};}},{key:"_memoizeContentAndToggleView",value:function _memoizeContentAndToggleView(view){var _this3=this;if(!this.state.hasChanges)return this.props.toggleCurrentView(view);return this._buildObjectForPropagation().then(function(obj){return _this3.props.toggleCurrentView(view,obj);})["catch"](function(err){return(0,_error_handler["default"])('NewsArticleForm _memoizeContentAndToggleView',err);});}},{key:"_saveContent",value:function _saveContent(){var _this4=this;return this._buildObjectForPropagation().then(function(obj){return _this4.props.saveContent(obj,_this4.requestResolver);})["catch"](function(err){return(0,_error_handler["default"])('NewsArticleForm _saveContent',err);});}},{key:"_setContentFieldErrorAndScrollTo",value:function _setContentFieldErrorAndScrollTo(contentError){var _this5=this;this.setState({errors:Object.assign({},this.state.errors,{content:contentError})},function(){return(0,_forms.scrollToError)(_this5.state.errors,{content:{order:0}});});}},{key:"_submitOrPublishContent",value:function _submitOrPublishContent(status){this.props.submitOrPublishArticle(this.props.currentRecord.record.id,status,this.requestResolver);}},{key:"_valiadatePrimary",value:function _valiadatePrimary(){if(!this.props.isAdminOrEditor)return this.validate();var sponsorValidations=(0,_accessors.getInObj)(['sponsored','value'],this.state.fields)==='true'?SUBMISSION_SPONSORED_VALIDATIONS:{};return this.validate({validationOverrideMap:sponsorValidations});}},{key:"_valiadateSecondary",value:function _valiadateSecondary(){var submissionValidations=(0,_accessors.getInObj)(['sponsored','value'],this.state.fields)==='true'?Object.assign({},SUBMISSION_VALIDATIONS,SUBMISSION_SPONSORED_VALIDATIONS):SUBMISSION_VALIDATIONS;var validated=this.validate({validationOverrideMap:submissionValidations});var contentError=(0,_validators.isDraftsterEmpty)(this._contentEditor.getEditorContent());if(validated&&contentError){this._setContentFieldErrorAndScrollTo(contentError);}
return validated===true&&contentError===null;}},{key:"_getSponsoredInput",value:function _getSponsoredInput(){var _this6=this;if(!this.props.isAdminOrEditor)return null;return _react["default"].createElement("div",{id:"vfsponsored"},_react["default"].createElement(_radio_group["default"],{buttonFirst:true,buttons:SPONSORED_BUTTONS,errors:this.state.errors.sponsored,label:"Is this a sponsored story?",onChange:function onChange(e){return _this6.setStateOrError(null,'sponsored',e.target.value,STATE_SPREAD);},value:this.state.fields.sponsored.value}),this.state.fields.sponsored.value==='true'&&this._getSponsorInputs());}},{key:"_getSponsorInputs",value:function _getSponsorInputs(){var _this7=this;return _react["default"].createElement("div",{className:_forms2["default"].nestedFogContainer},_react["default"].createElement("div",{id:"vfsponsor_name"},_react["default"].createElement(_basic_form_input["default"],{charCount:this.state.fields.sponsor_name.value.length,errors:this.state.errors.sponsor_name,label:"Sponsor name",maxVal:255,onChange:function onChange(e){return _this7.setStateOrError((0,_validators.maxLength)(255,e.target.value),'sponsor_name',e.target.value,STATE_SPREAD);},value:this.state.fields.sponsor_name.value})),_react["default"].createElement("div",{id:"vfsponsor_link"},_react["default"].createElement(_basic_form_input["default"],{charCount:this.state.fields.sponsor_link.value.length,errors:this.state.errors.sponsor_link,label:"Sponsor link",maxVal:255,onChange:function onChange(e){return _this7.setStateOrError((0,_validators.maxLength)(255,e.target.value),'sponsor_link',e.target.value,STATE_SPREAD);},value:this.state.fields.sponsor_link.value})),_react["default"].createElement("div",{id:"vfsponsor_image"},_react["default"].createElement("label",{className:_inputs["default"].label},"Sponsor image"),(0,_components.createImageUploader)({aspectRatio:1/1,attachmentType:'Avatar',cropperTitle:(0,_components.createCropperTitle)({title:'1:1 Crop'}),dimensionMins:{width:80},errors:this.state.errors.sponsor_image,helperText:'This picture should have a ratio of 1:1 and be 240x240px (minimum 80x80px) for the best quality.',imageData:this.state.fields.sponsor_image.value,propagateStatus:function propagateStatus(isBusy){return _this7.setIsBusy(isBusy,'sponsor_image');},propagateUpload:function propagateUpload(image){return _this7.setStateOrError(null,'sponsor_image',image,STATE_SPREAD);}})));}},{key:"render",value:function render(){var _this8=this;return _react["default"].createElement("form",null,_react["default"].createElement(_TopMenuBar["default"],{article:this.props.currentRecord.record,deleteArticle:this.props.deleteArticle,isAdminOrEditor:this.props.isAdminOrEditor,unpublishArticle:this.props.unpublishArticle}),_react["default"].createElement("div",{className:"".concat(_layout["default"].flexColumn," ").concat(_layout["default"].flexCenterItems," ").concat(_layout["default"].padding3015)},_react["default"].createElement("div",{className:_forms2["default"].container675},_react["default"].createElement("div",{id:"vftitle"},_react["default"].createElement(_basic_form_input["default"],{charCount:this.state.fields.title.value.length,errors:this.state.errors.title,label:"Title",maxVal:100,onChange:function onChange(e){return _this8.setStateOrError((0,_validators.maxLength)(100,e.target.value),'title',e.target.value,STATE_SPREAD);},placeholder:"Article title",value:this.state.fields.title.value})),_react["default"].createElement("div",{id:"vfcontent",className:_layout["default"].marginBottom30},_react["default"].createElement("label",{className:_inputs["default"].label},"Content"),_react["default"].createElement(_draftster_core["default"],{ref:function ref(el){return _this8._contentEditor=el;},config:this._initDraftster()}),(0,_templates.getErrorHelperView)(this.state.errors.content)),_react["default"].createElement("div",{id:"vfsummary"},_react["default"].createElement(_basic_form_input["default"],{charCount:this.state.fields.summary.value.length,classList:{help:_layout["default"].paddingRight45},element:"textarea",errors:this.state.errors.summary,helperText:"This summary will display in cards when the article is featured.",label:"Summary",maxVal:140,onChange:function onChange(e){return _this8.setStateOrError((0,_validators.maxLength)(140,e.target.value),'summary',e.target.value,STATE_SPREAD);},placeholder:"i.e. Learn how to automate almost anything in your home.",value:this.state.fields.summary.value})),_react["default"].createElement("div",{id:"vfimage"},_react["default"].createElement("label",{className:_inputs["default"].label},"Thumbnail"),(0,_components.createImageUploader)({aspectRatio:16/9,attachmentType:'CoverImage',cropperTitle:(0,_components.createCropperTitle)({title:'16:9 Crop'}),dimensionMins:{width:349},errors:this.state.errors.image,helperText:'This image will display in cards that link to the article. Use a ratio of 16:9 and be 1860x1047px (minimum 620x349px) for the best quality.',imageData:this.state.fields.image.value,propagateStatus:function propagateStatus(isBusy){return _this8.setIsBusy(isBusy,'image');},propagateUpload:function propagateUpload(image){return _this8.setStateOrError(null,'image',image,STATE_SPREAD);}})),_react["default"].createElement("div",{id:"vfmobile_image"},_react["default"].createElement("label",{className:_inputs["default"].label},"Mobile thumbnail"),(0,_components.createImageUploader)({aspectRatio:1/1,attachmentType:'MobileCoverImage',cropperTitle:(0,_components.createCropperTitle)({title:'1:1 Crop'}),dimensionMins:{width:120},errors:this.state.errors.mobile_image,helperText:'This image will display in the latest/trending section and on mobile. Use a ratio of 1:1 and be 360x360px (minimum 120x120px) for the best quality.',imageData:this.state.fields.mobile_image.value,propagateStatus:function propagateStatus(isBusy){return _this8.setIsBusy(isBusy,'mobile_image');},propagateUpload:function propagateUpload(image){return _this8.setStateOrError(null,'mobile_image',image,STATE_SPREAD);}})),_react["default"].createElement("div",{id:"vftopics"},_react["default"].createElement("label",{className:_inputs["default"].label},"Which main topics does this article relate to? (optional)"),(0,_components.createMultiSelect)({algoliaParameters:{hitsPerPage:100,initFacet:['model:TopicChannel']},algoliaService:this.props.algoliaServices.topics,errors:this.state.errors.topics,maxWidth:'100%',onSelect:function onSelect(topics){return _this8.setStateOrError(null,'topics',topics,STATE_SPREAD);},placeholder:'i.e. Wearables, Gaming, Robotics',recordsToOptions:_components.recordsToOptions,selectionLimit:5,value:this.state.fields.topics.value})),_react["default"].createElement("div",{id:"vftags"},_react["default"].createElement("label",{className:_inputs["default"].label},"Add up to 5 tags to help readers know what this article is about (optional)"),(0,_components.createMultiSelect)({algoliaParameters:{hitsPerPage:100},algoliaService:this.props.algoliaServices.tags,errors:this.state.errors.tags,maxWidth:'100%',onSelect:function onSelect(tags){return _this8.setStateOrError(null,'tags',tags,STATE_SPREAD);},placeholder:'i.e. iot',recordsToOptions:_components.recordsToOptions,selectionLimit:5,value:this.state.fields.tags.value})),_react["default"].createElement("div",{id:"vfproducts"},_react["default"].createElement("label",{className:_inputs["default"].label},"Select products that are relevant to this article (optional)"),(0,_components.createMultiSelect)({algoliaParameters:{hitsPerPage:100},algoliaService:this.props.algoliaServices.parts,errors:this.state.errors.products,maxWidth:'100%',onSelect:function onSelect(products){return _this8.setStateOrError(null,'products',products,STATE_SPREAD);},placeholder:'i.e. Raspberry Pi Zero',recordsToOptions:_components.recordsToOptions,selectionLimit:5,value:this.state.fields.products.value})),_react["default"].createElement("div",{id:"vfplatforms"},_react["default"].createElement("label",{className:_inputs["default"].label},"Select platforms that are relevant to this article (optional)"),(0,_components.createMultiSelect)({algoliaParameters:{hitsPerPage:100,initFacet:['model:Platform']},algoliaService:this.props.algoliaServices.platforms,errors:this.state.errors.platforms,maxWidth:'100%',onSelect:function onSelect(platforms){return _this8.setStateOrError(null,'platforms',platforms,STATE_SPREAD);},placeholder:'i.e. Arduino, Raspberry Pi',recordsToOptions:_components.recordsToOptions,selectionLimit:5,value:this.state.fields.platforms.value})),this._getSponsoredInput())),_react["default"].createElement(_StickyActionsBar["default"],{article:this.props.currentRecord.record,disabled:this.state.isBusy,hasChanges:this.state.hasChanges,isAdminOrEditor:this.props.isAdminOrEditor,isBusy:this.props.isBusy,saveProgress:this.addOrUpdateContent,submitOrPublish:this.submitOrPublishContent,toggleCurrentView:this.toggleCurrentViewProxy,view:"form"}));}}]);return NewsArticleForm;}(_react.PureComponent);NewsArticleForm.propTypes={algoliaServices:_propTypes["default"].shape({parts:_propTypes["default"].object.isRequired,platforms:_propTypes["default"].object.isRequired,tags:_propTypes["default"].object.isRequired,topics:_propTypes["default"].object.isRequired}).isRequired,currentRecord:_propTypes["default"].shape({hasChanges:_propTypes["default"].bool.isRequired,record:_propTypes["default"].shape({content:_propTypes["default"].array,id:_propTypes["default"].number,image:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,url:_propTypes["default"].string.isRequired}),platforms:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired})),products:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired})),published_at:_propTypes["default"].string,respects_count:_propTypes["default"].number,sponsor_image:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,url:_propTypes["default"].string.isRequired}),sponsor_link:_propTypes["default"].string,sponsor_name:_propTypes["default"].string,sponsored:_propTypes["default"].bool.isRequired,status:_propTypes["default"].string.isRequired,tags:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired})),title:_propTypes["default"].string.isRequired,topics:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired})),updated_at:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]).isRequired,url:_propTypes["default"].string,user:_propTypes["default"].shape({avatar_url:_propTypes["default"].string.isRequired,id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,news_role:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired})}),deleteArticle:_propTypes["default"].func.isRequired,isAdminOrEditor:_propTypes["default"].bool.isRequired,isBusy:_propTypes["default"].bool.isRequired,isFetchingRecord:_propTypes["default"].bool.isRequired,saveContent:_propTypes["default"].func.isRequired,submitOrPublishArticle:_propTypes["default"].func.isRequired,summonPrompt:_propTypes["default"].func.isRequired,toggleCurrentView:_propTypes["default"].func.isRequired,unpublishArticle:_propTypes["default"].func.isRequired};NewsArticleForm.defaultProps={currentRecord:{hasChanges:false,record:null}};var _default=NewsArticleForm;exports["default"]=_default;}),20071:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _analytics=_interopRequireDefault(__webpack_require__(68568));var _form=_interopRequireDefault(__webpack_require__(84734));var _list=_interopRequireDefault(__webpack_require__(41639));var _preview=_interopRequireDefault(__webpack_require__(97067));var _not_found=_interopRequireDefault(__webpack_require__(3495));var _PublishDialog=_interopRequireDefault(__webpack_require__(64148));var _Prompt=_interopRequireDefault(__webpack_require__(19439));var _parts_service=_interopRequireDefault(__webpack_require__(77721));var _platforms_service=_interopRequireDefault(__webpack_require__(51652));var _tags_service=_interopRequireDefault(__webpack_require__(84718));var _topics_service=_interopRequireDefault(__webpack_require__(38101));var _graphql=__webpack_require__(2740);var _enums=__webpack_require__(2254);var _history=_interopRequireWildcard(__webpack_require__(58886));var _Router=__webpack_require__(5986);var _draftster=__webpack_require__(3623);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _window=__webpack_require__(33852);var _accessors=__webpack_require__(4887);var _converters=__webpack_require__(39719);var _dispatchers=__webpack_require__(10912);var _filters=__webpack_require__(58429);var _pagination=__webpack_require__(90112);var _time=__webpack_require__(28716);var _pagination2=__webpack_require__(22986);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var LOCKED_ARTICLE_ERROR='This article cannot be unpublished or deleted while featured on the News Page.';var CURRENT_EDITING_RECORD_EMPTY_STATE={hasChanges:false,record:null};var EMPTY_DIALOG_STATE={open:false,props:null,type:null};var DELETE_PROMPT={action:'Delete',colorClass:'danger',body:'This action cannot be undone. Deleted articles are gone forever.',title:'Are you sure you want to delete this article?'};var REDIRECT_PROMPT={action:'Leave page',body:'You will lose any info you added or changed if you leave this page.',title:'Are you sure you want to leave without saving?'};var UNSAVED_CHANGED_MSG='There are unsaved changes.';var NewsAdminPage=function(_Component){_inherits(NewsAdminPage,_Component);var _super=_createSuper(NewsAdminPage);function NewsAdminPage(props){var _this;_classCallCheck(this,NewsAdminPage);_this=_super.call(this,props);var currentPath=(0,_Router.initCurrentPath)(props.path_helpers.fullPath,props.path_helpers.basePath);_this.history=(0,_history["default"])(props.path_helpers.basePath);_this.state={currentEditingRecord:CURRENT_EDITING_RECORD_EMPTY_STATE,currentHistoryData:_this.history.location,currentPath:currentPath,currentView:_this._getCurrentViewForPath(currentPath),dialog:EMPTY_DIALOG_STATE,isAdminOrEditor:_this._isAdminOrEditor(),isBusy:false,isNavigating:true,offset:0,pagination:_pagination2.SIMPLE_PAGINATION,records:[]};_this.deleteArticle=_this.deleteArticle.bind(_assertThisInitialized(_this));_this.handleLocationChange=_this.handleLocationChange.bind(_assertThisInitialized(_this));_this.handleSearchQueryUpdate=_this.handleSearchQueryUpdate.bind(_assertThisInitialized(_this));_this.handleUnloadEvent=_this.handleUnloadEvent.bind(_assertThisInitialized(_this));_this.postOrUpdateArticle=_this.postOrUpdateArticle.bind(_assertThisInitialized(_this));_this.publishOrScheduleArticleViaDialog=_this.publishOrScheduleArticleViaDialog.bind(_assertThisInitialized(_this));_this.submitOrPublishArticle=_this.submitOrPublishArticle.bind(_assertThisInitialized(_this));_this.unpublishArticle=_this.unpublishArticle.bind(_assertThisInitialized(_this));_this.algoliaPartsService=new _parts_service["default"]();_this.algoliaPlatformsService=new _platforms_service["default"]();_this.algoliaTagsService=new _tags_service["default"]();_this.algoliaTopicsService=new _topics_service["default"]();return _this;}
_createClass(NewsAdminPage,[{key:"componentDidMount",value:function componentDidMount(){this.unlisten=this.history.listen(this.handleLocationChange);window.addEventListener('beforeunload',this.handleUnloadEvent);this._init();this._scrollToTop();}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.unlisten();window.removeEventListener('beforeunload',this.handleUnloadEvent);}},{key:"_init",value:function _init(){this._fetchRecordsForCurrentView(this.state.currentView,this.state.currentPath);}},{key:"deleteArticle",value:function deleteArticle(record){if(this.props.news_page_ids.includes(record.id))return(0,_dispatchers.summonGlobalMessenger)({msg:LOCKED_ARTICLE_ERROR,type:'error'});this._summonDialog('prompt',{record:record,type:'delete'});}},{key:"handleLocationChange",value:function handleLocationChange(pathData,action){var _this2=this;var currentPath=(0,_history.cleanPreAndPostSlashes)(pathData.pathname);var currentView=this._getCurrentViewForPath(currentPath);this.setState({currentPath:currentPath,currentView:currentView,currentHistoryData:Object.assign({},pathData,{action:action}),dialog:EMPTY_DIALOG_STATE,isBusy:true,isNavigating:true,offset:0},function(){_this2._fetchRecordsForCurrentView(currentView,currentPath);});}},{key:"handleSearchQueryUpdate",value:function handleSearchQueryUpdate(queryMap){var currentQueryMap=(0,_converters.mapifyStringQuery)(this.state.currentHistoryData.search);var search=(0,_converters.mapToStringQuery)(Object.assign({},currentQueryMap,queryMap));this.history.push({search:search});this._scrollToTop();}},{key:"handleUnloadEvent",value:function handleUnloadEvent(e){if(this.state.currentView!=='default'&&this.state.currentEditingRecord.hasChanges){(e||window.event).returnValue=UNSAVED_CHANGED_MSG;return UNSAVED_CHANGED_MSG;}}},{key:"postOrUpdateArticle",value:function postOrUpdateArticle(record,resolverFn){this.setState({isBusy:true});return record.hasOwnProperty('id')?this._updateArticle(record,resolverFn):this._createArticle(record,resolverFn);}},{key:"publishOrScheduleArticleViaDialog",value:function publishOrScheduleArticleViaDialog(){var schedule_at=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;this._publishOrScheduleArticle(Object.assign({},this.state.dialog.props,{schedule_at:schedule_at}));}},{key:"submitOrPublishArticle",value:function submitOrPublishArticle(id,status,resolverFn){return status===_enums.PUBLISHED_STATUS?this._summonDialog('dialog',{id:id,status:status,resolverFn:resolverFn}):this._publishOrScheduleArticle({id:id,status:status,resolverFn:resolverFn});}},{key:"unpublishArticle",value:function unpublishArticle(record){if(this.props.news_page_ids.includes(record.id))return(0,_dispatchers.summonGlobalMessenger)({msg:LOCKED_ARTICLE_ERROR,type:'error'});var status=['admin','editor'].includes((0,_accessors.getInObj)(['user','news_role'],record))?_enums.DRAFT_STATUS:_enums.SUBMITTED_STATUS;return this._unpublishArticle(record,status);}},{key:"_isAdminOrEditor",value:function _isAdminOrEditor(){return['admin','editor'].includes(this.props.current_user.news_role);}},{key:"_fetchRecordsForCurrentView",value:function _fetchRecordsForCurrentView(currentView,currentPath){if(['analytics','new'].includes(currentPath))return this._resolveBusyState();if(['form','preview','stats'].includes(currentView))return this._getSingularArticle(currentView,currentPath);return this._getPaginatedArticles();}},{key:"_getCurrentViewForPath",value:function _getCurrentViewForPath(path){if(path==='/')return 'default';if(path.includes('analytics'))return 'analytics';if(path.includes('new')||path.includes('edit'))return 'form';if(path.includes('preview'))return 'preview';if(path.includes('stats'))return 'stats';return 'default';}},{key:"_getPathForView",value:function _getPathForView(view){switch(view){case 'analytics':return '/analytics';case 'form':return this.state.currentEditingRecord.record?"/".concat(this.state.currentEditingRecord.record.id,"/edit"):'/new';case 'preview':return "/".concat(this.state.currentEditingRecord.record.id,"/preview");case 'stats':return "/".concat(this.state.currentEditingRecord.record.id,"/stats");default:return '/';}}},{key:"_resolveBusyState",value:function _resolveBusyState(){this.setState({isBusy:false,isNavigating:false});}},{key:"_redirectFromDialog",value:function _redirectFromDialog(view){this.history.replace(this._getPathForView(view));this._scrollToTop();this.setState({currentEditingRecord:CURRENT_EDITING_RECORD_EMPTY_STATE});}},{key:"_redirectToEditViewForArticle",value:function _redirectToEditViewForArticle(article){this.history.push("/".concat(article.id,"/edit"));this._scrollToTop();}},{key:"_redirectToStatsViewForArticle",value:function _redirectToStatsViewForArticle(article){this.history.push("/".concat(article.id,"/stats"));this._scrollToTop();}},{key:"_redirectToView",value:function _redirectToView(view){var _this3=this;var currentEditingRecordObject=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var path=this._getPathForView(view);if(path==='/'&&this.state.currentEditingRecord.hasChanges)return this._summonDialog('prompt',{type:'redirect',view:view});var resolverFn=function resolverFn(){_this3.history.push(path);_this3._scrollToTop();};if(!currentEditingRecordObject)return resolverFn();this.setState({currentEditingRecord:{hasChanges:true,record:Object.assign({},this.state.currentEditingRecord.record,currentEditingRecordObject)}},function(){return resolverFn();});}},{key:"_scrollToTop",value:function _scrollToTop(){(0,_window.windowScrollTo)(0,0);}},{key:"_summonDialog",value:function _summonDialog(type,props){this.setState({dialog:{open:true,type:type,props:props}});}},{key:"_translateRecordForRequest",value:function _translateRecordForRequest(record){var cleaned=(0,_filters.removeFromObject)(record,['image','mobile_image','platforms','products','sponsor_image','tags','topics']);var content=(0,_draftster.cleanUrlsFromCarousels)(record.content);var image_id=record.image?{image_id:record.image.id}:{};var mobile_image_id=record.mobile_image?{mobile_image_id:record.mobile_image.id}:{};var sponsor_image_id=record.sponsor_image?{sponsor_image_id:record.sponsor_image.id}:{};return Object.assign({},cleaned,image_id,mobile_image_id,sponsor_image_id,{content:JSON.stringify(content),part_ids:record.products.map(function(p){return p.id;}),platform_ids:record.platforms.map(function(p){return p.id;}),tag_ids:record.tags.map(function(t){return t.id;}),topic_ids:record.topics.map(function(t){return t.id;})});}},{key:"_translateRecordForNewState",value:function _translateRecordForNewState(record){return Object.assign({},record,{published_at:null,respects_count:0,sponsored:record.sponsored||false,status:_enums.DRAFT_STATUS,updated_at:(0,_time.timeToUTC)(Date.now()),user:this.props.current_user});}},{key:"_createArticle",value:function _createArticle(record,resolverFn){var _this4=this;return(0,_graphql.graphMutate)({t:'create_news_article'},this._translateRecordForRequest(record)).then(function(_ref){var article=_ref.article;var decoratedRecord=_this4._translateRecordForNewState(Object.assign({},record,{id:article.id,url:article.url}));_this4.setState({currentEditingRecord:{hasChanges:false,record:decoratedRecord},isBusy:false,records:[decoratedRecord]},function(){return _this4._createArticleSetStateCallbackResolver(article,resolverFn);});})["catch"](function(err){_this4.setState({isBusy:false});resolverFn('Sorry there was a error creating your article. Please try again.');(0,_error_handler["default"])('NewsAdminPage _createArticle',err);});}},{key:"_createArticleSetStateCallbackResolver",value:function _createArticleSetStateCallbackResolver(article,resolverFn){this.history.replace("/".concat(article.id,"/edit"));resolverFn();(0,_dispatchers.summonGlobalMessenger)({msg:'Article successfully saved.',type:'success'});}},{key:"_deleteArticle",value:function _deleteArticle(record){var _this5=this;this.setState({isBusy:true});return(0,_graphql.graphMutate)({t:'delete_news_article'},{id:record.id}).then(function(){(0,_dispatchers.summonGlobalMessenger)({msg:'Article successfully deleted.',type:'success'});_this5.state.currentView==='default'?_this5._deleteArticleDefaultResolver():_this5._deleteArticleRedirectResolver();})["catch"](function(err){var errorMsg=(0,_accessors.getInObj)(['response','body','form_error'],err)||'There was an issue deleting your article. Please try again.';_this5.setState({isBusy:false});(0,_dispatchers.summonGlobalMessenger)({msg:errorMsg,type:'error'});(0,_error_handler["default"])('NewsAdminPage deleteArticle',err);});}},{key:"_deleteArticleDefaultResolver",value:function _deleteArticleDefaultResolver(){this._getPaginatedArticles((0,_pagination.getCurrentOrPreviousPagePostDeletion)(this.state.pagination,1));}},{key:"_deleteArticleRedirectResolver",value:function _deleteArticleRedirectResolver(){this.setState({currentEditingRecord:CURRENT_EDITING_RECORD_EMPTY_STATE,dialog:EMPTY_DIALOG_STATE});this.history.replace('/');}},{key:"_getPaginatedArticles",value:function _getPaginatedArticles(){var _this6=this;var page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return(0,_graphql.graphQuery)({t:'news_articles_admin_simple_pagination'},this._getPaginatedArticlesArgs(page)).then(function(_ref2){var articles=_ref2.articles;_this6.setState({currentEditingRecord:CURRENT_EDITING_RECORD_EMPTY_STATE,dialog:EMPTY_DIALOG_STATE,isBusy:false,isNavigating:false,pagination:articles.metadata,records:articles.records});})["catch"](function(err){_this6.setState({isBusy:false,isNavigating:false});(0,_error_handler["default"])('NewsAdminPage _getPaginatedArticles:',err);});}},{key:"_getPaginatedArticlesArgs",value:function _getPaginatedArticlesArgs(){var pageOverride=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var queryMap=(0,_converters.mapifyStringQuery)(this.state.currentHistoryData.search);var page=pageOverride||(0,_pagination.getPageFromQueryMap)(queryMap);var status=queryMap.status||null;var search=queryMap.q||null;var by_current_user=this.state.isAdminOrEditor?{}:{by_current_user:true};var by_status_type=status?{by_status_type:(0,_enums.getStatusForFilterEnum)(queryMap.status)}:{};var pageObj=page?{page:page}:{};var searchObj=search?{search:search}:{};return Object.assign({},by_current_user,by_status_type,pageObj,searchObj,{offset:this.state.offset,sort:(0,_enums.getSortEnumForFilter)(status)});}},{key:"_getSingularArticle",value:function _getSingularArticle(){var _this7=this;var id=parseInt(this.state.currentPath.split('/')[0]);if((0,_accessors.getInObj)(['record','id'],this.state.currentEditingRecord)===id)return this._resolveBusyState();return(0,_graphql.graphQuery)({t:'news_article'},{id:id}).then(function(_ref3){var article=_ref3.article;return _this7._getSingularArticleResolver(article);})["catch"](function(err){_this7.setState({isBusy:false,isNavigating:false});(0,_error_handler["default"])('NewsAdminPage _getSingularArticle:',err);});}},{key:"_getSingularArticleResolver",value:function _getSingularArticleResolver(article){this.setState({currentEditingRecord:{hasChanges:false,record:article},currentView:article?this.state.currentView:'not_found',isBusy:false,isNavigating:false,offset:0,pagination:_pagination2.SIMPLE_PAGINATION,records:article?[article]:[]});}},{key:"_publishOrScheduleArticle",value:function _publishOrScheduleArticle(){var _this8=this;var _ref4=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},id=_ref4.id,status=_ref4.status,resolverFn=_ref4.resolverFn,_ref4$schedule_at=_ref4.schedule_at,schedule_at=_ref4$schedule_at===void 0?null:_ref4$schedule_at;this.setState({isBusy:true});return(0,_graphql.graphMutate)({t:'update_news_article_status'},{id:id,schedule_at:schedule_at,status:status}).then(function(){_this8.history.replace('/');_this8._scrollToTop();var statusMsg=schedule_at!==null?'SCHEDULED':status;(0,_dispatchers.summonGlobalMessenger)({msg:"Article successfully ".concat(statusMsg.toLowerCase(),"."),type:'success'});})["catch"](function(err){_this8.setState({isBusy:false});resolverFn("There was an issue ".concat(schedule_at?'scheduling':'publishing'," your article. Please try again."));(0,_error_handler["default"])('NewsAdminPage _publishOrScheduleArticle',err);});}},{key:"_updateArticle",value:function _updateArticle(record,resolverFn){var _this9=this;return(0,_graphql.graphMutate)({t:'update_news_article'},this._translateRecordForRequest(record)).then(function(_ref5){var article=_ref5.article;var updatedRecord=Object.assign({},_this9.state.records[0],record,{updated_at:article.updated_at});_this9.setState({currentEditingRecord:{hasChanges:false,record:updatedRecord},isBusy:false,records:[updatedRecord]});resolverFn();(0,_dispatchers.summonGlobalMessenger)({msg:'Article successfully saved.',type:'success'});})["catch"](function(err){_this9.setState({isBusy:false});resolverFn('There was an issue saving your article. Please try again.');(0,_error_handler["default"])('NewsAdminPage _updateArticle',err);});}},{key:"_unpublishArticle",value:function _unpublishArticle(record,status){var _this10=this;this.setState({isBusy:true});return(0,_graphql.graphMutate)({t:'update_news_article_status'},{id:record.id,status:status}).then(function(_ref6){var article=_ref6.article;(0,_dispatchers.summonGlobalMessenger)({msg:"Article successfully updated.",type:'success'});_this10.state.currentView==='default'?_this10._unpublishArticleDefaultResolver():_this10._unpublishArticleEditingResolver(article,record,status);})["catch"](function(err){var errorMsg=(0,_accessors.getInObj)(['response','body','form_error'],err)||'There was an issue updating your article. Please try again.';_this10.setState({isBusy:false});(0,_dispatchers.summonGlobalMessenger)({msg:errorMsg,type:'error'});(0,_error_handler["default"])('NewsAdminPage _unpublishArticle',err);});}},{key:"_unpublishArticleDefaultResolver",value:function _unpublishArticleDefaultResolver(){this.history.replace({pathname:'/',search:this.history.location.search});}},{key:"_unpublishArticleEditingResolver",value:function _unpublishArticleEditingResolver(serverRecord,stateRecord,status){var updatedRecord=Object.assign({},stateRecord,{status:status,published_at:serverRecord.published_at,updated_at:serverRecord.updated_at,url:serverRecord.url});this.setState({currentEditingRecord:Object.assign({},this.state.currentEditingRecord,{record:updatedRecord}),isBusy:false,records:[updatedRecord]});}},{key:"_getRenderedView",value:function _getRenderedView(){switch(this.state.currentView){case 'analytics':return this._getAnalyticsView();case 'default':return this._getDefaultView();case 'form':return this._getEditView();case 'not_found':return this._getNotFoundView();case 'preview':return this._getPreviewView();case 'stats':return this._getStatsView();default:return null;}}},{key:"_getAnalyticsView",value:function _getAnalyticsView(){var _this11=this;return _react["default"].createElement(_analytics["default"],{analytics:this.props.analytics,currentRecord:this.state.currentEditingRecord,currentHistoryData:this.state.currentHistoryData,toggleCurrentView:function toggleCurrentView(){return _this11._redirectToView('default');},view:"default"});}},{key:"_getDefaultView",value:function _getDefaultView(){var _this12=this;return _react["default"].createElement(_list["default"],{adminNewsUrl:this.props.admin_news_url,currentHistoryData:this.state.currentHistoryData,deleteArticle:this.deleteArticle,isAdminOrEditor:this.state.isAdminOrEditor,isBusy:this.state.isBusy,isNavigating:this.state.isNavigating,news_page_ids:this.props.news_page_ids,pagination:this.state.pagination,propagateSearchQuery:this.handleSearchQueryUpdate,records:this.state.records,redirectToArticleEdit:function redirectToArticleEdit(article){return _this12._redirectToEditViewForArticle(article);},redirectToArticleStats:function redirectToArticleStats(article){return _this12._redirectToStatsViewForArticle(article);},toggleCurrentView:function toggleCurrentView(view){return _this12._redirectToView(view);},unpublishArticle:this.unpublishArticle});}},{key:"_getEditView",value:function _getEditView(){var _this13=this;if(this.state.isNavigating)return null;return _react["default"].createElement(_form["default"],{algoliaServices:{parts:this.algoliaPartsService,platforms:this.algoliaPlatformsService,tags:this.algoliaTagsService,topics:this.algoliaTopicsService},currentRecord:this.state.currentEditingRecord,deleteArticle:this.deleteArticle,isAdminOrEditor:this.state.isAdminOrEditor,isBusy:this.state.isBusy,isFetchingRecord:this.state.isNavigating,saveContent:this.postOrUpdateArticle,submitOrPublishArticle:this.submitOrPublishArticle,summonPrompt:function summonPrompt(type,view){return _this13._summonDialog('prompt',{type:type,view:view});},toggleCurrentView:function toggleCurrentView(view,currentEditingRecordObject){return _this13._redirectToView(view,currentEditingRecordObject);},unpublishArticle:this.unpublishArticle});}},{key:"_getNotFoundView",value:function _getNotFoundView(){var _this14=this;return _react["default"].createElement(_not_found["default"],{action:{href:'/news/admin',onClick:function onClick(e){e.preventDefault();_this14._redirectToView('default');},text:'Return to the admin page.'}});}},{key:"_getPreviewView",value:function _getPreviewView(){var _this15=this;if(this.state.isNavigating)return null;return _react["default"].createElement(_preview["default"],{article:this.state.currentEditingRecord.record,deleteArticle:this.deleteArticle,isAdminOrEditor:this.state.isAdminOrEditor,toggleCurrentView:function toggleCurrentView(view){return _this15._redirectToView(view);},unpublishArticle:this.unpublishArticle});}},{key:"_getStatsView",value:function _getStatsView(){var _this16=this;if(this.state.isNavigating)return null;return _react["default"].createElement(_analytics["default"],{currentRecord:this.state.currentEditingRecord,currentHistoryData:this.state.currentHistoryData,toggleCurrentView:function toggleCurrentView(){return _this16._redirectToView('default');},view:"stats"});}},{key:"_getPromptProps",value:function _getPromptProps(){var _this17=this;if(!this.state.dialog.open||this.state.dialog.type!=='prompt')return{};switch(this.state.dialog.props.type){case 'delete':return Object.assign({},DELETE_PROMPT,{okay:function okay(){return _this17._deleteArticle(_this17.state.dialog.props.record);}});case 'redirect':return Object.assign({},REDIRECT_PROMPT,{okay:function okay(){return _this17._redirectFromDialog(_this17.state.dialog.props.view);}});default:return{};}}},{key:"render",value:function render(){var _this18=this;return _react["default"].createElement("div",null,this._getRenderedView(),_react["default"].createElement(_PublishDialog["default"],{dismiss:function dismiss(){return!_this18.state.isBusy&&_this18.setState({dialog:EMPTY_DIALOG_STATE});},isBusy:this.state.isBusy,open:this.state.dialog.open&&this.state.dialog.type==='dialog',onPublish:this.publishOrScheduleArticleViaDialog}),_react["default"].createElement(_Prompt["default"],_extends({dismiss:function dismiss(){return!_this18.state.isBusy&&_this18.setState({dialog:EMPTY_DIALOG_STATE});},isBusy:this.state.isBusy,open:this.state.dialog.open&&this.state.dialog.type==='prompt'},this._getPromptProps())));}}]);return NewsAdminPage;}(_react.Component);NewsAdminPage.propTypes={admin_news_url:_propTypes["default"].string.isRequired,analytics:_propTypes["default"].shape({metadata:_propTypes["default"].shape({height:_propTypes["default"].number.isRequired,width:_propTypes["default"].number.isRequired}).isRequired,url:_propTypes["default"].string.isRequired}).isRequired,current_user:_propTypes["default"].shape({avatar_url:_propTypes["default"].string.isRequired,id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,news_role:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired,news_page_ids:_propTypes["default"].arrayOf(_propTypes["default"].number).isRequired,path_helpers:_propTypes["default"].shape({basePath:_propTypes["default"].string.isRequired,fullPath:_propTypes["default"].string.isRequired,rootPath:_propTypes["default"].string.isRequired}).isRequired};var _default=NewsAdminPage;exports["default"]=_default;}),87580:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _custom=_interopRequireDefault(__webpack_require__(79953));var _IconOptionsMenu=_interopRequireDefault(__webpack_require__(68863));var _LazyBackgroundImage=_interopRequireDefault(__webpack_require__(48844));var _enums=__webpack_require__(2254);var _time=__webpack_require__(28716);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _news_admin_list=_interopRequireDefault(__webpack_require__(74114));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var NewsArticleListItem=function(_PureComponent){_inherits(NewsArticleListItem,_PureComponent);var _super=_createSuper(NewsArticleListItem);function NewsArticleListItem(props){_classCallCheck(this,NewsArticleListItem);return _super.call(this,props);}
_createClass(NewsArticleListItem,[{key:"_getStatusData",value:function _getStatusData(){switch(this.props.article.status){case _enums.DRAFT_STATUS:return{classColor:_util["default"].categoryGrayBG,text:"Draft saved ".concat((0,_time.timeFromNow)(this.props.article.updated_at))};case _enums.PUBLISHED_STATUS:var published_at=this.props.article.published_at;var isScheduled=(0,_time.timeIsFuture)(published_at);return isScheduled?{classColor:_util["default"].categoryGreenBG,text:"Scheduled for ".concat((0,_time.timestampToPrettyDate)(published_at,_time.NEWS_SCHEDULED_FORMAT))}:{classColor:null,text:"Published on ".concat((0,_time.timestampToPrettyDate)(published_at,_time.DATE_FORMAT))};case _enums.SUBMITTED_STATUS:return{classColor:_util["default"].categoryOrangeBG,text:"Submitted on ".concat((0,_time.timestampToPrettyDate)(this.props.article.updated_at,_time.DATE_FORMAT))};default:return{classColor:null,text:'Error'};}}},{key:"_getStatusView",value:function _getStatusView(){var _this$_getStatusData=this._getStatusData(),classColor=_this$_getStatusData.classColor,text=_this$_getStatusData.text;return _react["default"].createElement("div",{className:_layout["default"].flexCenterItems},classColor&&_react["default"].createElement("div",{className:"".concat(_util["default"].categoryBadgeRectSmall," ").concat(_layout["default"].marginRight10," ").concat(classColor," ").concat(_news_admin_list["default"].statusColorBlock)}),_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyS)},text));}},{key:"render",value:function render(){return _react["default"].createElement("div",{className:_news_admin_list["default"].listItem},_react["default"].createElement("div",{className:_news_admin_list["default"].listItemTitleCell},this.props.article.image&&_react["default"].createElement("a",{className:_news_admin_list["default"].listItemCoverImageWrapper,href:this.props.article.url,target:"_blank"},_react["default"].createElement(_LazyBackgroundImage["default"],{classList:{image:_util["default"].borderRadius,root:_news_admin_list["default"].listItemCoverImage},ratio:"16:9",setStyle:false,src:this.props.article.image.url,width:96})),_react["default"].createElement("div",{className:_news_admin_list["default"].listItemData},this.props.article.sponsored&&_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].pebble," ").concat(_layout["default"].marginRight10)},"Sponsored"),_react["default"].createElement("a",{className:"".concat(_typography["default"].link," ").concat(_typography["default"].bodyM," ").concat(_typography["default"].bold),href:this.props.article.url,target:"_blank"},this.props.article.title),this.props.isFeaturedOnNewsPage&&_react["default"].createElement(_custom["default"],{className:_news_admin_list["default"].star,name:"star",size:16}),_react["default"].createElement("div",{className:_news_admin_list["default"].listItemMobileAuthorStatus},this.props.isAdminOrEditor&&_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyS," ").concat(_layout["default"].marginBottom5)},this.props.article.user.name),this._getStatusView()))),this.props.isAdminOrEditor&&_react["default"].createElement("div",{className:_news_admin_list["default"].listItemAuthorCell},_react["default"].createElement("p",{className:_typography["default"].bodyS},this.props.article.user.name)),_react["default"].createElement("div",{className:_news_admin_list["default"].listItemDateCell},this._getStatusView()),_react["default"].createElement(_IconOptionsMenu["default"],{article:this.props.article,deleteArticle:this.props.deleteArticle,isAdminOrEditor:this.props.isAdminOrEditor,redirectToArticleEdit:this.props.redirectToArticleEdit,redirectToArticleStats:this.props.redirectToArticleStats,type:"list",unpublishArticle:this.props.unpublishArticle}));}}]);return NewsArticleListItem;}(_react.PureComponent);NewsArticleListItem.propTypes={article:_propTypes["default"].shape({id:_propTypes["default"].number,image:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,url:_propTypes["default"].string.isRequired}),published_at:_propTypes["default"].string,sponsored:_propTypes["default"].bool,status:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired,updated_at:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]).isRequired,url:_propTypes["default"].string.isRequired,user:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired}).isRequired}).isRequired,deleteArticle:_propTypes["default"].func.isRequired,isAdminOrEditor:_propTypes["default"].bool.isRequired,isFeaturedOnNewsPage:_propTypes["default"].bool.isRequired,redirectToArticleEdit:_propTypes["default"].func.isRequired,redirectToArticleStats:_propTypes["default"].func.isRequired,unpublishArticle:_propTypes["default"].func.isRequired};NewsArticleListItem.defaultProps={};var _default=NewsArticleListItem;exports["default"]=_default;}),43374:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _animation=_interopRequireDefault(__webpack_require__(61461));var _news_admin_list=_interopRequireDefault(__webpack_require__(74114));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
var NewsArticleListItemDummy=function NewsArticleListItemDummy(_ref){var isAdminOrEditor=_ref.isAdminOrEditor;return _react["default"].createElement("div",{className:_news_admin_list["default"].listItem},_react["default"].createElement("div",{className:_news_admin_list["default"].listItemTitleCell},_react["default"].createElement("div",{className:_news_admin_list["default"].listItemCoverImageWrapper},_react["default"].createElement("div",{style:{borderRadius:2},className:"".concat(_news_admin_list["default"].listItemCoverImage," ").concat(_animation["default"].loader)})),_react["default"].createElement("div",{style:{width:'100%'},className:_news_admin_list["default"].listItemData},_react["default"].createElement("div",{style:{height:18,marginBottom:5,width:'100%'},className:_animation["default"].loader}),_react["default"].createElement("div",{className:_news_admin_list["default"].listItemMobileAuthorStatus},isAdminOrEditor&&_react["default"].createElement("div",{style:{height:16,marginBottom:5,width:100},className:_animation["default"].loader}),_react["default"].createElement("div",{style:{height:16,width:100},className:_animation["default"].loader})))),isAdminOrEditor&&_react["default"].createElement("div",{style:{height:18,width:200},className:"".concat(_news_admin_list["default"].listItemAuthorCell," ").concat(_animation["default"].loader)}),_react["default"].createElement("div",{className:_news_admin_list["default"].listItemDateCell},_react["default"].createElement("div",{style:{height:18,width:isAdminOrEditor?100:200},className:_animation["default"].loader})));};var NewsArticleListLoader=function NewsArticleListLoader(_ref2){var isAdminOrEditor=_ref2.isAdminOrEditor;return _react["default"].createElement("div",null,_toConsumableArray(Array(5).keys()).map(function(n){return _react["default"].createElement(NewsArticleListItemDummy,{key:n,isAdminOrEditor:isAdminOrEditor});}));};NewsArticleListLoader.propTypes={isAdminOrEditor:_propTypes["default"].bool.isRequired};var _default=NewsArticleListLoader;exports["default"]=_default;}),41639:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _basic_search_input=_interopRequireDefault(__webpack_require__(63359));var _breadcrumb=_interopRequireDefault(__webpack_require__(13050));var _base=_interopRequireDefault(__webpack_require__(6094));var _horizontal_scroll_box=_interopRequireDefault(__webpack_require__(56072));var _icon=_interopRequireDefault(__webpack_require__(44509));var _NewsArticleListItem=_interopRequireDefault(__webpack_require__(87580));var _NewsArticleListLoader=_interopRequireDefault(__webpack_require__(43374));var _paginator=_interopRequireDefault(__webpack_require__(67556));var _simple_select=_interopRequireDefault(__webpack_require__(76677));var _enums=__webpack_require__(2254);var _accessors=__webpack_require__(4887);var _converters=__webpack_require__(39719);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _news_admin_list=_interopRequireDefault(__webpack_require__(74114));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var STATUS_OPTS=[{key:'all',"default":true,label:'All',value:null},{key:'drafts',label:'Drafts',value:_enums.DRAFT_FILTER},{key:'submitted',label:'Submitted',value:_enums.SUBMITTED_FILTER},{key:'scheduled',label:'Scheduled',value:_enums.SCHEDULED_FILTER},{key:'published',label:'Published',value:_enums.PUBLISHED_FILTER}];var NewsArticlesList=function(_PureComponent){_inherits(NewsArticlesList,_PureComponent);var _super=_createSuper(NewsArticlesList);function NewsArticlesList(props){_classCallCheck(this,NewsArticlesList);return _super.call(this,props);}
_createClass(NewsArticlesList,[{key:"_getSearchValueFromHistory",value:function _getSearchValueFromHistory(queryMap){return(0,_accessors.getInObj)(['q'],queryMap)||'';}},{key:"_getStatusOptions",value:function _getStatusOptions(queryMap){var sort=(0,_accessors.getInObj)(['status'],queryMap);return sort?STATUS_OPTS.map(function(opt){return opt.value===sort?Object.assign({},opt,{active:true}):opt;}):STATUS_OPTS;}},{key:"_getEmptyView",value:function _getEmptyView(){return _react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_layout["default"].paddingTop30)},"No articles found");}},{key:"_getLayoutBreadCrumb",value:function _getLayoutBreadCrumb(){if(!this.props.isAdminOrEditor)return null;return _react["default"].createElement(_breadcrumb["default"],{direction:"right",href:this.props.adminNewsUrl,text:"Go to layout editor",size:"M"});}},{key:"_getListView",value:function _getListView(){var _this=this;if(this.props.isNavigating)return _react["default"].createElement(_NewsArticleListLoader["default"],{isAdminOrEditor:this.props.isAdminOrEditor});if(!this.props.records.length)return this._getEmptyView();return this.props.records.map(function(article,i){return _react["default"].createElement(_NewsArticleListItem["default"],{key:article.id,article:article,deleteArticle:_this.props.deleteArticle,isAdminOrEditor:_this.props.isAdminOrEditor,isFeaturedOnNewsPage:_this.props.news_page_ids.includes(article.id),redirectToArticleEdit:_this.props.redirectToArticleEdit,redirectToArticleStats:_this.props.redirectToArticleStats,unpublishArticle:_this.props.unpublishArticle});});}},{key:"_getPaginatorView",value:function _getPaginatorView(){var _this2=this;if(!this.props.pagination.next_page&&!this.props.pagination.prev_page)return null;return _react["default"].createElement(_paginator["default"],{classList:{root:_layout["default"].marginTop30},currentPage:this.props.pagination.current_page,currentQuery:this.props.currentQuery,disabled:this.props.isBusy||this.props.isNavigating,nextPage:this.props.pagination.next_page,onClick:function onClick(page){return _this2.props.propagateSearchQuery({page:page});},prevPage:this.props.pagination.prev_page});}},{key:"render",value:function render(){var _this3=this;var queryMap=(0,_converters.mapifyStringQuery)(this.props.currentHistoryData.search);return _react["default"].createElement("div",{className:_layout["default"].container},_react["default"].createElement("div",{className:_layout["default"].wrapper1170},this._getLayoutBreadCrumb(),_react["default"].createElement("div",{className:_news_admin_list["default"].header},_react["default"].createElement("h1",{className:_typography["default"].h1},"Articles"),_react["default"].createElement("div",{className:_news_admin_list["default"].actionsWrapper},_react["default"].createElement(_basic_search_input["default"],{classList:{wrapper:_news_admin_list["default"].inputWrapper},enableHistory:true,initVal:this._getSearchValueFromHistory(queryMap),onEnter:function onEnter(search){return _this3.props.propagateSearchQuery({q:search});},placeholder:"Search by article name"}),_react["default"].createElement(_base["default"],{className:"".concat(_buttons["default"].inputPairedRight," ").concat(_layout["default"].flex10Auto),colorStyle:"outlineBlue",onClick:function onClick(){return _this3.props.toggleCurrentView('analytics');},size:"md"},_react["default"].createElement("span",{className:_news_admin_list["default"].addBtnDefault},"View analytics"),_react["default"].createElement(_icon["default"],{className:_news_admin_list["default"].addBtnPlus,name:"platforms",size:"16"})),_react["default"].createElement(_base["default"],{className:"".concat(_buttons["default"].inputPairedRight," ").concat(_layout["default"].flex10Auto),onClick:function onClick(){return _this3.props.toggleCurrentView('form');},size:"md"},_react["default"].createElement("span",{className:_news_admin_list["default"].addBtnDefault},"New article"),_react["default"].createElement(_icon["default"],{className:_news_admin_list["default"].addBtnPlus,name:"plus",size:"16"})))),_react["default"].createElement("div",null,_react["default"].createElement(_horizontal_scroll_box["default"],{classList:{wrapper:_util["default"].borderBottom}},_react["default"].createElement(_simple_select["default"],{onSelection:function onSelection(opt){return _this3.props.propagateSearchQuery({page:null,status:opt.value});},options:this._getStatusOptions(queryMap),tabbedViewUnderline:false,view:"tabbed"}))),_react["default"].createElement("div",{className:_news_admin_list["default"].listWrapper},this._getListView(),this._getPaginatorView())));}}]);return NewsArticlesList;}(_react.PureComponent);NewsArticlesList.propTypes={adminNewsUrl:_propTypes["default"].string.isRequired,currentHistoryData:_propTypes["default"].object.isRequired,deleteArticle:_propTypes["default"].func.isRequired,isAdminOrEditor:_propTypes["default"].bool.isRequired,isBusy:_propTypes["default"].bool.isRequired,isNavigating:_propTypes["default"].bool.isRequired,news_page_ids:_propTypes["default"].arrayOf(_propTypes["default"].number).isRequired,pagination:_propTypes["default"].shape({current_page:_propTypes["default"].number.isRequired,next_page:_propTypes["default"].number,prev_page:_propTypes["default"].number}).isRequired,records:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number,image:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,url:_propTypes["default"].string.isRequired}),published_at:_propTypes["default"].string,status:_propTypes["default"].string.isRequired,title:_propTypes["default"].string.isRequired,updated_at:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]).isRequired,url:_propTypes["default"].string.isRequired,user:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired}).isRequired})).isRequired,redirectToArticleEdit:_propTypes["default"].func.isRequired,redirectToArticleStats:_propTypes["default"].func.isRequired,toggleCurrentView:_propTypes["default"].func.isRequired,unpublishArticle:_propTypes["default"].func.isRequired};var _default=NewsArticlesList;exports["default"]=_default;}),97067:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _preview=_interopRequireDefault(__webpack_require__(12378));var _preview2=_interopRequireDefault(__webpack_require__(99259));var _preview3=_interopRequireDefault(__webpack_require__(63849));var _preview4=_interopRequireDefault(__webpack_require__(71959));var _article_layout=_interopRequireDefault(__webpack_require__(5842));var _StickyActionsBar=_interopRequireDefault(__webpack_require__(4580));var _TopMenuBar=_interopRequireDefault(__webpack_require__(23769));var _layout=_interopRequireDefault(__webpack_require__(42721));var _grid=_interopRequireDefault(__webpack_require__(56211));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _preview5=_interopRequireDefault(__webpack_require__(43149));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var getCardsPreviewSection=function getCardsPreviewSection(article){return article.sponsored?getSponsoredCardPreviewView(article):getCardsPreviewView(article);};var getCardsPreviewView=function getCardsPreviewView(article){return _react["default"].createElement("div",{className:"".concat(_util["default"].borderTop," ").concat(_layout["default"].paddingTop45)},_react["default"].createElement("div",{className:_preview5["default"].wrapper},_react["default"].createElement("div",{className:"".concat(_layout["default"].flex1," ").concat(_preview5["default"].defaultCardContainer)},_react["default"].createElement("h4",{className:"".concat(_typography["default"].h4," ").concat(_layout["default"].marginBottom15)},"Default Card"),_react["default"].createElement("div",{className:_preview5["default"].defaultCardWrapper},_react["default"].createElement(_preview["default"],{article:article}))),_react["default"].createElement("div",{className:_layout["default"].flex1},_react["default"].createElement("h4",{className:"".concat(_typography["default"].h4," ").concat(_layout["default"].marginBottom15)},"Featured Card"),_react["default"].createElement("div",{className:_preview5["default"].featuredCardWrapper},_react["default"].createElement(_preview2["default"],{article:article})))));};var getSponsoredCardPreviewView=function getSponsoredCardPreviewView(article){return _react["default"].createElement("div",{className:"".concat(_util["default"].borderTop," ").concat(_layout["default"].paddingTop45)},_react["default"].createElement("div",{className:"".concat(_grid["default"].grid," ").concat(_grid["default"].guttersH30," ").concat(_grid["default"].guttersV30)},_react["default"].createElement("div",{className:"".concat(_grid["default"].cell," ").concat(_grid["default"].cell_1," ").concat(_grid["default"].cell_1_2_md)},_react["default"].createElement("h4",{className:"".concat(_typography["default"].h4," ").concat(_layout["default"].marginBottom15)},"Sponsored Card on Article Page"),_react["default"].createElement("div",{className:_preview5["default"].sponsoredCardWrapper},_react["default"].createElement(_preview3["default"],{article:article}))),_react["default"].createElement("div",{className:"".concat(_grid["default"].cell," ").concat(_grid["default"].cell_1," ").concat(_grid["default"].cell_1_2_md)},_react["default"].createElement("h4",{className:"".concat(_typography["default"].h4," ").concat(_layout["default"].marginBottom15)},"Sponsored Card on News Home Page"),_react["default"].createElement("div",{style:{maxWidth:570}},_react["default"].createElement(_preview4["default"],{article:article})))));};var NewsArticlePreview=function NewsArticlePreview(_ref){var article=_ref.article,deleteArticle=_ref.deleteArticle,isAdminOrEditor=_ref.isAdminOrEditor,toggleCurrentView=_ref.toggleCurrentView,unpublishArticle=_ref.unpublishArticle;return _react["default"].createElement("div",null,_react["default"].createElement(_TopMenuBar["default"],{article:article,deleteArticle:deleteArticle,isAdminOrEditor:isAdminOrEditor,unpublishArticle:unpublishArticle}),_react["default"].createElement("div",{className:_layout["default"].container},_react["default"].createElement("div",{className:_layout["default"].wrapper1170},article&&_react["default"].createElement("div",{className:_layout["default"].marginBottom60},_react["default"].createElement(_article_layout["default"],{article:article,isPreview:true})),article&&getCardsPreviewSection(article))),_react["default"].createElement(_StickyActionsBar["default"],{isAdminOrEditor:isAdminOrEditor,toggleCurrentView:toggleCurrentView,view:"preview"}));};NewsArticlePreview.propTypes={article:_propTypes["default"].object,deleteArticle:_propTypes["default"].func.isRequired,isAdminOrEditor:_propTypes["default"].bool.isRequired,toggleCurrentView:_propTypes["default"].func.isRequired,unpublishArticle:_propTypes["default"].func.isRequired};NewsArticlePreview.defaultProps={article:null};var _default=NewsArticlePreview;exports["default"]=_default;}),68863:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _dropdown=_interopRequireDefault(__webpack_require__(87327));var _icon=_interopRequireDefault(__webpack_require__(44509));var _enums=__webpack_require__(2254);var _time=__webpack_require__(28716);var _clipboard=__webpack_require__(96222);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));var _simple_select=_interopRequireDefault(__webpack_require__(27464));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var IconOptionsMenu=function(_PureComponent){_inherits(IconOptionsMenu,_PureComponent);var _super=_createSuper(IconOptionsMenu);function IconOptionsMenu(props){var _this;_classCallCheck(this,IconOptionsMenu);_this=_super.call(this,props);_this.state={openMenu:false};_this.toggleMenu=_this.toggleMenu.bind(_assertThisInitialized(_this));return _this;}
_createClass(IconOptionsMenu,[{key:"toggleMenu",value:function toggleMenu(){this.setState({openMenu:!this.state.openMenu});}},{key:"_copyUrlToClipboard",value:function _copyUrlToClipboard(){(0,_clipboard.copyStringToClipboard)(this.props.article.url);this.toggleMenu();}},{key:"_editArticle",value:function _editArticle(){this.props.redirectToArticleEdit(this.props.article);this.toggleMenu();}},{key:"_deleteArticle",value:function _deleteArticle(){this.props.deleteArticle(this.props.article);this.toggleMenu();}},{key:"_openInNewWindow",value:function _openInNewWindow(){window.open(this.props.article.url);this.toggleMenu();}},{key:"_unpublishArticle",value:function _unpublishArticle(){this.props.unpublishArticle(this.props.article);this.toggleMenu();}},{key:"_viewStats",value:function _viewStats(){this.props.redirectToArticleStats(this.props.article);this.toggleMenu();}},{key:"_getDropdownOptions",value:function _getDropdownOptions(){return this.props.isAdminOrEditor?this._getMenuOptsForAdminOrEditor():this._getMenuOptsForAuthor();}},{key:"_getMenuOptsForAdminOrEditor",value:function _getMenuOptsForAdminOrEditor(){var _this2=this;var status=this.props.article.status;var isLive=status===_enums.PUBLISHED_STATUS&&(0,_time.timeIsPast)(this.props.article.published_at);var isScheduled=status===_enums.PUBLISHED_STATUS&&(0,_time.timeIsFuture)(this.props.article.published_at);return _react["default"].createElement(_react.Fragment,null,isLive&&_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:function onClick(){return _this2._unpublishArticle();}},"Unpublish"),isLive&&_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:function onClick(){return _this2._openInNewWindow();}},"View live article"),isLive&&_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:function onClick(){return _this2._viewStats();}},"View stats"),isScheduled&&_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:function onClick(){return _this2._unpublishArticle();}},"Unschedule"),!isLive&&_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:function onClick(){return _this2._copyUrlToClipboard();}},"Copy draft link"),_react["default"].createElement("hr",{className:"".concat(_util["default"].hr," ").concat(_layout["default"].marginTop10," ").concat(_layout["default"].marginBottom10)}),this.props.type==='list'&&_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:function onClick(){return _this2._editArticle();}},"Edit article"),_react["default"].createElement("li",{className:"".concat(_simple_select["default"].option," ").concat(_typography["default"].error),onClick:function onClick(){return _this2._deleteArticle();}},"Delete article"));}},{key:"_getMenuOptsForAuthor",value:function _getMenuOptsForAuthor(){var _this3=this;var status=this.props.article.status;var isLive=status===_enums.PUBLISHED_STATUS&&(0,_time.timeIsPast)(this.props.article.published_at);return _react["default"].createElement(_react.Fragment,null,isLive&&_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:function onClick(){return _this3._openInNewWindow();}},"View live article"),isLive&&_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:function onClick(){return _this3._viewStats();}},"View stats"),!isLive&&_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:function onClick(){return _this3._copyUrlToClipboard();}},"Copy draft link"),(status!==_enums.PUBLISHED_STATUS||this.props.type==='list')&&_react["default"].createElement("hr",{className:"".concat(_util["default"].hr," ").concat(_layout["default"].marginTop10," ").concat(_layout["default"].marginBottom10)}),this.props.type==='list'&&_react["default"].createElement("li",{className:_simple_select["default"].option,onClick:function onClick(){return _this3._editArticle();}},"Edit article"),status!==_enums.PUBLISHED_STATUS&&_react["default"].createElement("li",{className:"".concat(_simple_select["default"].option," ").concat(_typography["default"].error),onClick:function onClick(){return _this3._deleteArticle();}},"Delete article"));}},{key:"render",value:function render(){return _react["default"].createElement("div",{className:"".concat(_util["default"].posRelative," ").concat(_util["default"].height100P)},_react["default"].createElement("button",{className:_buttons["default"].blank,onClick:this.toggleMenu,type:"button"},_react["default"].createElement(_icon["default"],{name:"view-more",size:16})),this.state.openMenu&&_react["default"].createElement(_dropdown["default"],{key:"menu",className:this.props.classList.dropdown,alignTop:false,dismiss:this.toggleMenu,alignRight:true},_react["default"].createElement("ul",{className:_util["default"].ulReset},_react["default"].Children.toArray(this._getDropdownOptions()))));}}]);return IconOptionsMenu;}(_react.PureComponent);IconOptionsMenu.propTypes={article:_propTypes["default"].shape({status:_propTypes["default"].string.isRequired,published_at:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]),url:_propTypes["default"].string}).isRequired,classList:_propTypes["default"].shape({dropdown:_propTypes["default"].string}),deleteArticle:_propTypes["default"].func.isRequired,isAdminOrEditor:_propTypes["default"].bool.isRequired,redirectToArticleEdit:_propTypes["default"].func,redirectToArticleStats:_propTypes["default"].func,type:_propTypes["default"].oneOf(['list','topbar']),unpublishArticle:_propTypes["default"].func.isRequired};IconOptionsMenu.defaultProps={classList:{dropdown:''},redirectToArticleEdit:null};var _default=IconOptionsMenu;exports["default"]=_default;}),64148:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _actionable=_interopRequireDefault(__webpack_require__(29362));var _Dialog=_interopRequireDefault(__webpack_require__(27408));var _datetime_local=_interopRequireDefault(__webpack_require__(75374));var _templates=__webpack_require__(32797);var _time=__webpack_require__(28716);var _validators=__webpack_require__(73235);var _forms=__webpack_require__(49448);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _news_admin_templates=_interopRequireDefault(__webpack_require__(10209));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var FIELDS_TEMPLATE={datetime:{validate:_validators.isDatetimeLocalValueInFuture,customRequired:_validators.isDatetimeLocalValueValid,value:''}};var PublishDialog=function(_PureComponent){_inherits(PublishDialog,_PureComponent);var _super=_createSuper(PublishDialog);function PublishDialog(props){var _this;_classCallCheck(this,PublishDialog);_this=_super.call(this,props);_this.state={errors:{},fields:(0,_forms.initFields)(FIELDS_TEMPLATE,{})};_this.onScheduleClick=_this.onScheduleClick.bind(_assertThisInitialized(_this));_this.setStateOrError=_forms.setStateOrError.bind(_assertThisInitialized(_this));_this.validate=_forms.validateFields.bind(_assertThisInitialized(_this));return _this;}
_createClass(PublishDialog,[{key:"onScheduleClick",value:function onScheduleClick(){var validated=this.validate();if(!validated)return;this.props.onPublish((0,_time.datetimeLocalValueToUTCTimestamp)(this.state.fields.datetime.value));}},{key:"_getHelperText",value:function _getHelperText(){return "Local time (GMT".concat((0,_time.getLocalOffsetLabel)(),")");}},{key:"render",value:function render(){var _this2=this;return _react["default"].createElement(_Dialog["default"],{className:_layout["default"].flexJustifyCenter,dismiss:this.props.dismiss,open:this.props.open,wrapperClassName:_news_admin_templates["default"].dialogWrapper},_react["default"].createElement("div",{className:_news_admin_templates["default"].dialogBody},_react["default"].createElement("div",{className:_news_admin_templates["default"].box},_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold," ").concat(_layout["default"].marginBottom10)},"Publish now"),_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].textCenter," ").concat(_layout["default"].marginBottom10)},"The article will be immediately available to read."),_react["default"].createElement(_actionable["default"],{isBusy:this.props.isBusy,onClick:function onClick(){return _this2.props.onPublish();},text:"Publish",type:"fullWidth"})),_react["default"].createElement("div",{className:"".concat(_news_admin_templates["default"].box," ").concat(_news_admin_templates["default"].boxBorder)},_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold," ").concat(_layout["default"].marginBottom10)},"Schedule for later"),_react["default"].createElement("div",{className:_layout["default"].marginBottom10},_react["default"].createElement(_datetime_local["default"],{autoComplete:"off",onChange:function onChange(value){return _this2.setStateOrError(null,'datetime',value);}}),(0,_templates.getErrorHelperView)(this.state.errors.datetime,this._getHelperText())),_react["default"].createElement(_actionable["default"],{isBusy:this.props.isBusy,onClick:this.onScheduleClick,text:"Schedule",type:"fullWidth"}))));}}]);return PublishDialog;}(_react.PureComponent);PublishDialog.propTypes={dismiss:_propTypes["default"].func.isRequired,isBusy:_propTypes["default"].bool.isRequired,onPublish:_propTypes["default"].func.isRequired,open:_propTypes["default"].bool.isRequired};var _default=PublishDialog;exports["default"]=_default;}),4580:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _actionable=_interopRequireDefault(__webpack_require__(29362));var _base=_interopRequireDefault(__webpack_require__(6094));var _breadcrumb=_interopRequireDefault(__webpack_require__(13050));var _sticky_wrapper=_interopRequireDefault(__webpack_require__(96659));var _enums=__webpack_require__(2254);var _accessors=__webpack_require__(4887);var _time=__webpack_require__(28716);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _news_admin_templates=_interopRequireDefault(__webpack_require__(10209));var _ACTIONABLE_MAP;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var PUBLISH_ARTICLE='PUBLISH';var SAVE_PROGRESS='SAVE';var SUBMIT_ARTICLE='SUBMIT';var UPDATE_ARTICLE='UPDATE';var ACTIONABLE_MAP=(_ACTIONABLE_MAP={},_defineProperty(_ACTIONABLE_MAP,PUBLISH_ARTICLE,{action:function action(saveProgress){return saveProgress(1,_enums.PUBLISHED_STATUS);},text:'Publish'}),_defineProperty(_ACTIONABLE_MAP,SAVE_PROGRESS,{action:function action(saveProgress){return saveProgress(0);},text:'Save progress'}),_defineProperty(_ACTIONABLE_MAP,SUBMIT_ARTICLE,{action:function action(saveProgress){return saveProgress(1,_enums.SUBMITTED_STATUS);},text:'Submit article'}),_defineProperty(_ACTIONABLE_MAP,UPDATE_ARTICLE,{action:function action(saveProgress){return saveProgress(1);},text:'Update article'}),_ACTIONABLE_MAP);var STICKY_FOOTER_ID='newsAdminStickyFooter';var getActionableKey=function getActionableKey(article,hasChanges,isAdminOrEditor){var status=(0,_accessors.getInObj)(['status'],article);if(status===null)return SAVE_PROGRESS;if(isAdminOrEditor){if(status===_enums.PUBLISHED_STATUS)return UPDATE_ARTICLE;return hasChanges?SAVE_PROGRESS:PUBLISH_ARTICLE;}else{if([_enums.PUBLISHED_STATUS,_enums.SUBMITTED_STATUS].includes(status))return UPDATE_ARTICLE;return hasChanges?SAVE_PROGRESS:SUBMIT_ARTICLE;}};var getBreadcrumb=function getBreadcrumb(_ref){var disabled=_ref.disabled,isBusy=_ref.isBusy,toggleCurrentView=_ref.toggleCurrentView;return _react["default"].createElement(_breadcrumb["default"],{classList:{root:_news_admin_templates["default"].actionsBreadcrumbRoot},href:"/news/admin",onClick:function onClick(e){e.preventDefault();if(!disabled&&!isBusy)toggleCurrentView('default');},size:"M",text:"Back to articles"});};var getTimeStamp=function getTimeStamp(article){if(!article)return null;return _react["default"].createElement("div",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].pebble," ").concat(_layout["default"].hiddenMedDown)},"Saved on ".concat((0,_time.timestampToPrettyDate)(article.updated_at,_time.DATE_AT_TIME_FORMAT,true)));};var getFormView=function getFormView(_ref2){var article=_ref2.article,disabled=_ref2.disabled,hasChanges=_ref2.hasChanges,isAdminOrEditor=_ref2.isAdminOrEditor,isBusy=_ref2.isBusy,saveProgress=_ref2.saveProgress,toggleCurrentView=_ref2.toggleCurrentView,view=_ref2.view;var actionable=ACTIONABLE_MAP[getActionableKey(article,hasChanges,isAdminOrEditor)];return _react["default"].createElement(_react.Fragment,null,getBreadcrumb({isBusy:isBusy,toggleCurrentView:toggleCurrentView}),getTimeStamp(article),_react["default"].createElement("div",{className:"".concat(_layout["default"].flex," ").concat(_news_admin_templates["default"].actionsFormViewButtons)},article!==null&&_react["default"].createElement(_base["default"],{className:_layout["default"].marginRight10,colorStyle:"tertiary",disabled:disabled||isBusy,onClick:function onClick(){return toggleCurrentView('preview');},size:"md"},'Preview'),_react["default"].createElement(_actionable["default"],{key:actionable.text,color:'',disabled:disabled,isBusy:isBusy,onClick:function onClick(){return actionable.action(saveProgress);},size:"md",text:actionable.text})));};var getPreviewView=function getPreviewView(_ref3){var article=_ref3.article,disabled=_ref3.disabled,isAdminOrEditor=_ref3.isAdminOrEditor,isBusy=_ref3.isBusy,toggleCurrentView=_ref3.toggleCurrentView;return _react["default"].createElement(_react.Fragment,null,getBreadcrumb({disabled:disabled,isBusy:isBusy,toggleCurrentView:toggleCurrentView}),getTimeStamp(article),_react["default"].createElement(_base["default"],{className:_layout["default"].marginRight10,colorStyle:"tertiary",disabled:isBusy||disabled,onClick:function onClick(){return toggleCurrentView('form');},size:"md"},'Continue editing'));};var getViewForType=function getViewForType(props){switch(props.view){case 'form':return getFormView(props);case 'preview':return getPreviewView(props);default:return null;}};var StickyActionsBar=function StickyActionsBar(props){return _react["default"].createElement("div",{className:"".concat(_news_admin_templates["default"].actionsBarRoot," ").concat(_util["default"].posRelative),id:STICKY_FOOTER_ID},_react["default"].createElement(_sticky_wrapper["default"],{className:"".concat(_news_admin_templates["default"].actionsBar," ").concat(_util["default"].borderTop," ").concat(_layout["default"].flexJustifyCenter),parentId:STICKY_FOOTER_ID,startPos:"bottom",stickToEnd:false},_react["default"].createElement("div",{className:"".concat(_layout["default"].wrapper1170," ").concat(_news_admin_templates["default"].actionsBarInner)},getViewForType(props))));};StickyActionsBar.propTypes={article:_propTypes["default"].shape({status:_propTypes["default"].string,updated_at:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number])}),disabled:_propTypes["default"].bool,hasChanges:_propTypes["default"].bool,isAdminOrEditor:_propTypes["default"].bool.isRequired,isBusy:_propTypes["default"].bool,saveProgress:_propTypes["default"].func,toggleCurrentView:_propTypes["default"].func.isRequired,view:_propTypes["default"].string.isRequired};StickyActionsBar.defaultProps={article:null,disabled:false,hasChanges:false,isBusy:false,saveProgress:null};var _default=StickyActionsBar;exports["default"]=_default;}),23769:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _IconOptionsMenu=_interopRequireDefault(__webpack_require__(68863));var _enums=__webpack_require__(2254);var _accessors=__webpack_require__(4887);var _time=__webpack_require__(28716);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _news_admin_templates=_interopRequireDefault(__webpack_require__(10209));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var getStatusData=function getStatusData(article){switch(article.status){case _enums.DRAFT_STATUS:return{classColor:_util["default"].categoryGrayBG,text:'Draft'};case _enums.PUBLISHED_STATUS:var published_at=article.published_at;var prettyTime=(0,_time.timestampToPrettyDate)(published_at,_time.DATE_AT_TIME_FORMAT);var isScheduled=(0,_time.timeIsFuture)(published_at);return isScheduled?{classColor:_util["default"].categoryGreenBG,text:"Scheduled for ".concat(prettyTime)}:{classColor:null,text:"Published on ".concat(prettyTime)};case _enums.SUBMITTED_STATUS:return{classColor:_util["default"].categoryOrangeBG,text:'Submitted'};default:return{classColor:null,text:'Error'};}};var getArticleUserView=function getArticleUserView(_ref){var article=_ref.article,isAdminOrEditor=_ref.isAdminOrEditor;if(!isAdminOrEditor)return null;var avatar=(0,_accessors.getInObj)(['user','avatar_url'],article);var name=(0,_accessors.getInObj)(['user','name'],article);return _react["default"].createElement("div",{className:_layout["default"].flexCenterItems},_react["default"].createElement("span",{style:{fontSize:22,padding:'0 15px'},className:_typography["default"].asphalt},"|"),avatar&&_react["default"].createElement("img",{style:{height:20,width:20},className:_util["default"].circle,src:avatar}),name&&_react["default"].createElement("p",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].breakWord," ").concat(_layout["default"].paddingLeft10)},name));};var getStatusView=function getStatusView(article){var _getStatusData=getStatusData(article),classColor=_getStatusData.classColor,text=_getStatusData.text;return _react["default"].createElement("div",{className:"".concat(_layout["default"].flexCenterItems," ").concat(_news_admin_templates["default"].topMenuBarStatus)},classColor&&_react["default"].createElement("div",{className:"".concat(_util["default"].categoryBadgeRectSmall," ").concat(_layout["default"].marginRight10," ").concat(classColor)}),_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].bold)},text));};var TopMenuBar=function TopMenuBar(_ref2){var article=_ref2.article,deleteArticle=_ref2.deleteArticle,isAdminOrEditor=_ref2.isAdminOrEditor,unpublishArticle=_ref2.unpublishArticle;if(!article)return null;return _react["default"].createElement("div",{className:"".concat(_util["default"].borderBottom," ").concat(_news_admin_templates["default"].topMenuBarRoot)},_react["default"].createElement("div",{className:"".concat(_layout["default"].wrapper1170," ").concat(_layout["default"].flexCenterItems)},_react["default"].createElement("div",{className:"".concat(_layout["default"].flex1," ").concat(_layout["default"].flexJustifyCenter)},getStatusView(article),getArticleUserView({article:article,isAdminOrEditor:isAdminOrEditor})),_react["default"].createElement(_IconOptionsMenu["default"],{article:article,deleteArticle:deleteArticle,isAdminOrEditor:isAdminOrEditor,type:"topbar",unpublishArticle:unpublishArticle})));};TopMenuBar.propTypes={article:_propTypes["default"].shape({status:_propTypes["default"].string,published_at:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]),url:_propTypes["default"].string}),deleteArticle:_propTypes["default"].func.isRequired,isAdminOrEditor:_propTypes["default"].bool.isRequired,unpublishArticle:_propTypes["default"].func.isRequired};TopMenuBar.defaultProps={article:null};var _default=TopMenuBar;exports["default"]=_default;}),75928:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _user_card=_interopRequireDefault(__webpack_require__(42263));var _relation_button=_interopRequireDefault(__webpack_require__(87164));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _getFollowButton=function _getFollowButton(user){return _react["default"].createElement("span",{className:_layout["default"].marginLeft15},_react["default"].createElement(_relation_button["default"],{id:user.id,type:"followed_user_xs"}));};var ArticleAuthorCredits=function ArticleAuthorCredits(_ref){var user=_ref.user;return _react["default"].createElement("div",{className:"".concat(_util["default"].borderTop," ").concat(_layout["default"].paddingTop45," ").concat(_layout["default"].marginTop45)},_react["default"].createElement(_user_card["default"],{avatarMargin:30,avatarSize:75,postTitle:_getFollowButton(user),titleColor:"Charcoal",titleSize:"L",user:user},_react["default"].createElement("div",{className:"".concat(_typography["default"].bodyM," ").concat(_typography["default"].breakWord," ").concat(_layout["default"].marginTop10)},user.bio)));};ArticleAuthorCredits.propTypes={user:_propTypes["default"].shape({avatar_url:_propTypes["default"].string,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}).isRequired};var _default=ArticleAuthorCredits;exports["default"]=_default;}),49227:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _user_card=_interopRequireDefault(__webpack_require__(42263));var _relation_button=_interopRequireDefault(__webpack_require__(87164));var _joinComponents=_interopRequireDefault(__webpack_require__(62238));var _accessors=__webpack_require__(4887);var _types=__webpack_require__(88742);var _time=__webpack_require__(28716);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var _getSponsorAsUser=function _getSponsorAsUser(_ref){var sponsor_image=_ref.sponsor_image,sponsor_link=_ref.sponsor_link,sponsor_name=_ref.sponsor_name;return{avatar_url:(0,_accessors.getInObj)(['url'],sponsor_image),name:sponsor_name,url:sponsor_link};};var _getLink=function _getLink(_ref2){var name=_ref2.name,url=_ref2.url;return _react["default"].createElement("a",{className:_typography["default"].linkPebble,href:url},name);};var _getTopics=function _getTopics(topics){return _react["default"].createElement(_react.Fragment,null," \u2022 ",(0,_joinComponents["default"])(topics.map(_getLink),' / '));};var _getFollowButton=function _getFollowButton(user){return _react["default"].createElement("span",{className:_layout["default"].marginLeft15},_react["default"].createElement(_relation_button["default"],{id:user.id,type:"followed_user_xs"}));};var ArticleHeader=function ArticleHeader(_ref3){var article=_ref3.article;return _react["default"].createElement("header",null,_react["default"].createElement("h1",{className:"".concat(_typography["default"].h1Responsive," ").concat(_typography["default"].breakWord)},article.title),_react["default"].createElement("h2",{className:"".concat(_typography["default"].h3," ").concat(_typography["default"].fontWeightNormal," ").concat(_typography["default"].pebble," ").concat(_layout["default"].marginTop15)},article.summary),_react["default"].createElement(_user_card["default"],{className:_layout["default"].marginTop30,avatarMargin:15,avatarSize:56,postTitle:article.sponsored?null:_getFollowButton(article.user),preTitle:article.sponsored?_react["default"].createElement("span",{className:"".concat(_typography["default"].bodyL," ").concat(_typography["default"].bold)},'Sponsored by '):null,titleColor:article.sponsored?'Blue':'',titleSize:"L",user:article.sponsored?_getSponsorAsUser(article):article.user},_react["default"].createElement("div",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].pebble," ").concat(_layout["default"].marginTop10)},_react["default"].createElement("span",{title:(0,_time.timestampToPrettyDate)(article.published_at||article.updated_at)},(0,_time.timeFromNow)(article.published_at||article.updated_at)),!(0,_types.isBlank)(article.topics)&&_getTopics(article.topics))));};ArticleHeader.propTypes={article:_propTypes["default"].shape({published_at:_propTypes["default"].string,sponsor_image:_propTypes["default"].shape({id:_propTypes["default"].number,url:_propTypes["default"].string}),sponsor_link:_propTypes["default"].string,sponsor_name:_propTypes["default"].string,sponsored:_propTypes["default"].bool,title:_propTypes["default"].string.isRequired,topics:_propTypes["default"].arrayOf(_propTypes["default"].shape({name:_propTypes["default"].string,url:_propTypes["default"].string})),updated_at:_propTypes["default"].string,user:_propTypes["default"].object})};var _default=ArticleHeader;exports["default"]=_default;}),71780:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _anchor=_interopRequireDefault(__webpack_require__(41159));var _ArticleAuthorCredits=_interopRequireDefault(__webpack_require__(75928));var _ArticleHeader=_interopRequireDefault(__webpack_require__(49227));var _ArticleStickySidebar=_interopRequireDefault(__webpack_require__(6731));var _LazyImage=_interopRequireDefault(__webpack_require__(44322));var _templates=__webpack_require__(64012);var _storyJSONHelpers=__webpack_require__(56473);var _types=__webpack_require__(88742);var _ArticlePageSimpleAd=__webpack_require__(13262);var _grid=_interopRequireDefault(__webpack_require__(56211));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _article_layout=_interopRequireDefault(__webpack_require__(93014));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _getCoverImageLayout=function _getCoverImageLayout(_ref){var article=_ref.article,coverImage=_ref.coverImage,isPreview=_ref.isPreview,social_sharing_links=_ref.social_sharing_links;return _react["default"].createElement("article",null,_react["default"].createElement(_ArticleHeader["default"],{article:article}),_react["default"].createElement("figure",{className:_layout["default"].marginTop30},_react["default"].createElement("div",{className:"".concat(_util["default"].absolutePlaceholderParent," ").concat(_util["default"].aspectRatioPadding16_9," ").concat(_article_layout["default"].coverImage)},_react["default"].createElement(_LazyImage["default"],{className:_util["default"].absolutePlaceholderChild,ratio:"16:9",setStyle:false,src:coverImage.url,width:830})),!!coverImage.figcaption&&_react["default"].createElement("figcaption",{className:"".concat(_typography["default"].bodyS," ").concat(_typography["default"].pebble," ").concat(_typography["default"].textCenter," ").concat(_layout["default"].marginTop10)},coverImage.figcaption)),_react["default"].createElement("div",{id:_ArticlePageSimpleAd.PORTAL_ID}),_react["default"].createElement("div",{className:"".concat(_layout["default"].flex," ").concat(_layout["default"].marginTop30)},_react["default"].createElement("div",{className:"".concat(_layout["default"].flex," ").concat(_layout["default"].flex1)},_react["default"].createElement(_ArticleStickySidebar["default"],{article:article,disabled:isPreview,social_sharing_links:social_sharing_links})),_react["default"].createElement("div",{className:_article_layout["default"].body},_react["default"].createElement("section",null,(0,_templates.renderContent)(article,isPreview)),_getTags(article.tags),!article.sponsored&&_react["default"].createElement(_ArticleAuthorCredits["default"],{user:article.user})),_react["default"].createElement("div",{className:_layout["default"].flex1})," "));};var _getDefaultLayout=function _getDefaultLayout(_ref2){var article=_ref2.article,isPreview=_ref2.isPreview,social_sharing_links=_ref2.social_sharing_links;return _react["default"].createElement("div",{className:_layout["default"].flex},_react["default"].createElement("div",{className:"".concat(_layout["default"].flex," ").concat(_layout["default"].flex1)},_react["default"].createElement(_ArticleStickySidebar["default"],{article:article,disabled:isPreview,shouldFadeIn:true,social_sharing_links:social_sharing_links})),_react["default"].createElement("article",{className:_article_layout["default"].body},_react["default"].createElement(_ArticleHeader["default"],{article:article}),_react["default"].createElement("div",{id:_ArticlePageSimpleAd.PORTAL_ID}),_react["default"].createElement("section",{className:_layout["default"].marginTop30},(0,_templates.renderContent)(article,isPreview)),_getTags(article.tags),!article.sponsored&&_react["default"].createElement(_ArticleAuthorCredits["default"],{user:article.user})),_react["default"].createElement("div",{className:_layout["default"].flex1})," ");};var _getTags=function _getTags(tags){if((0,_types.isBlank)(tags))return null;return _react["default"].createElement("section",{className:_layout["default"].marginTop45},_react["default"].createElement("div",{className:"".concat(_layout["default"].flexRowWrap," ").concat(_grid["default"].guttersH10," ").concat(_grid["default"].guttersV10)},tags.map(function(_ref3,i){var name=_ref3.name,url=_ref3.url;return _react["default"].createElement("div",{key:i,className:_grid["default"].cell},_react["default"].createElement(_anchor["default"],{colorStyle:"tertiary",href:url,size:"sm"},name));})));};var Article=function Article(_ref4){var article=_ref4.article,isPreview=_ref4.isPreview,social_sharing_links=_ref4.social_sharing_links;var _extractCoverImageFro=(0,_storyJSONHelpers.extractCoverImageFromStory)(article.content),coverImage=_extractCoverImageFro.coverImage,story=_extractCoverImageFro.story;var extractedArticle=Object.assign({},article,{content:story});if(coverImage)return _getCoverImageLayout({article:extractedArticle,coverImage:coverImage,isPreview:isPreview,social_sharing_links:social_sharing_links});return _getDefaultLayout({article:extractedArticle,isPreview:isPreview,social_sharing_links:social_sharing_links});};Article.propTypes={article:_propTypes["default"].shape({sponsored:_propTypes["default"].bool,tags:_propTypes["default"].arrayOf(_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired})),user:_propTypes["default"].object.isRequired}).isRequired,isPreview:_propTypes["default"].bool,social_sharing_links:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string.isRequired,service:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}))};Article.defaultProps={isPreview:false,social_sharing_links:[]};var _default=Article;exports["default"]=_default;}),64012:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.renderContent=exports.ParagraphPlaceholder=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _ImagePlaceholder=_interopRequireDefault(__webpack_require__(93010));var _StoryJSON=_interopRequireDefault(__webpack_require__(21228));var _storyJSONHelpers=__webpack_require__(56473);var _animation=_interopRequireDefault(__webpack_require__(61461));var _colors=_interopRequireDefault(__webpack_require__(5941));var _layout=_interopRequireDefault(__webpack_require__(42721));var _article_layout=_interopRequireDefault(__webpack_require__(93014));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
var ParagraphPlaceholder=function ParagraphPlaceholder(_ref){var _ref$animated=_ref.animated,animated=_ref$animated===void 0?false:_ref$animated,_ref$numLines=_ref.numLines,numLines=_ref$numLines===void 0?5:_ref$numLines,_ref$backgroundColor=_ref.backgroundColor,backgroundColor=_ref$backgroundColor===void 0?_colors["default"]['v-fog']:_ref$backgroundColor,_ref$textHeight=_ref.textHeight,textHeight=_ref$textHeight===void 0?'1em':_ref$textHeight,_ref$lastLineWidth=_ref.lastLineWidth,lastLineWidth=_ref$lastLineWidth===void 0?'inherit':_ref$lastLineWidth,_ref$textSpacing=_ref.textSpacing,textSpacing=_ref$textSpacing===void 0?'0.2em':_ref$textSpacing,_ref$width=_ref.width,width=_ref$width===void 0?"inherit":_ref$width;return _react["default"].Children.toArray(_toConsumableArray(new Array(numLines).keys()).map(function(i){return _react["default"].createElement("div",{key:i,className:animated?_animation["default"].loader:null,style:{backgroundColor:backgroundColor,height:textHeight,marginTop:textSpacing,width:i===numLines-1?lastLineWidth:width}});}));};exports.ParagraphPlaceholder=ParagraphPlaceholder;var _getContentParagraphPlaceholder=function _getContentParagraphPlaceholder(numLines){return _react["default"].createElement(ParagraphPlaceholder,{backgroundColor:_colors["default"]['v-asphalt'],textHeight:16,textSpacing:6,lastLineWidth:"60%",numLines:numLines});};var _getContentPlaceholder=function _getContentPlaceholder(){return _react["default"].createElement("div",{className:_layout["default"].fullWith},_getContentParagraphPlaceholder(8),_react["default"].createElement(_ImagePlaceholder["default"],{className:"".concat(_layout["default"].marginTop30," ").concat(_layout["default"].marginBottom30),aspectRatio:16/9,backgroundColor:_colors["default"]['v-asphalt']}),_getContentParagraphPlaceholder(10));};var _getContent=function _getContent(article){return _react["default"].createElement(_StoryJSON["default"],{className:_article_layout["default"].content,story:article.content});};var _getContentOrPlaceholder=function _getContentOrPlaceholder(article){return(0,_storyJSONHelpers.doesStoryHaveContent)(article.content)?_getContent(article):_getContentPlaceholder();};var renderContent=function renderContent(article,isPreview){return isPreview?_getContentOrPlaceholder(article):_getContent(article);};exports.renderContent=renderContent;}),5842:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _article=_interopRequireDefault(__webpack_require__(71780));var _sidebar=_interopRequireDefault(__webpack_require__(90295));var _SidebarPlaceholder=_interopRequireDefault(__webpack_require__(16725));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));var _article_layout=_interopRequireDefault(__webpack_require__(93014));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var ArticleLayout=function ArticleLayout(_ref){var article=_ref.article,isPreview=_ref.isPreview,latestArticles=_ref.latestArticles,relatedArticles=_ref.relatedArticles,signup_cta_image_urls=_ref.signup_cta_image_urls,social_sharing_links=_ref.social_sharing_links,sponsoredArticles=_ref.sponsoredArticles;return _react["default"].createElement("div",{className:"".concat(_layout["default"].fullWidth," ").concat(_layout["default"].flex," ").concat(_article_layout["default"].row1)},_react["default"].createElement("div",{className:_layout["default"].flex1},_react["default"].createElement(_article["default"],{article:article,isPreview:isPreview,social_sharing_links:social_sharing_links})),_react["default"].createElement("div",{className:"".concat(_layout["default"].hiddenMedDown," ").concat(_layout["default"].marginLeft30," ").concat(_layout["default"].marginRight30," ").concat(_util["default"].borderLeft)}),_react["default"].createElement("div",{className:_article_layout["default"].sidebar},isPreview?_react["default"].createElement(_SidebarPlaceholder["default"],null):_react["default"].createElement(_sidebar["default"],{article:article,latestArticles:latestArticles,signup_cta_image_urls:signup_cta_image_urls,relatedArticles:relatedArticles,sponsoredArticles:sponsoredArticles})));};ArticleLayout.propTypes={article:_propTypes["default"].object.isRequired,isPreview:_propTypes["default"].bool,latestArticles:_propTypes["default"].array,relatedArticles:_propTypes["default"].array,signup_cta_image_urls:_propTypes["default"].object,social_sharing_links:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string.isRequired,service:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired})),sponsoredArticles:_propTypes["default"].array};ArticleLayout.defaultProps={isPreview:false,latestArticles:null,relatedArticles:null,signup_cta_image_urls:null,social_sharing_links:[],sponsoredArticles:null};var _default=ArticleLayout;exports["default"]=_default;}),16725:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _templates=__webpack_require__(64012);var _colors=_interopRequireDefault(__webpack_require__(5941));var _layout=_interopRequireDefault(__webpack_require__(42721));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var _getSection=function _getSection(numLines,animated){return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement(_templates.ParagraphPlaceholder,{animated:animated,backgroundColor:_colors["default"]['v-asphalt'],lastLineWidth:"40%",numLines:numLines,textHeight:16,textSpacing:6}),_react["default"].createElement("div",{className:"".concat(_layout["default"].marginTop15," ").concat(_layout["default"].marginBottom15," ").concat(_util["default"].borderTop)}));};var SidebarPlaceholder=function SidebarPlaceholder(_ref){var animated=_ref.animated;return _react["default"].createElement("div",{className:_layout["default"].fullWith},_getSection(3,animated),_getSection(4,animated),_getSection(3,animated),_getSection(4,animated));};var _default=SidebarPlaceholder;exports["default"]=_default;}),80229:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _sponsored_card=_interopRequireDefault(__webpack_require__(22646));var _dummy=_interopRequireDefault(__webpack_require__(88682));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var _getCardsView=function _getCardsView(articles){return articles.map(function(article,i){return _react["default"].createElement(_react.Fragment,{key:article.id},i===0?null:_getDivider(),_react["default"].createElement(_sponsored_card["default"],{article:article,isResponsive:false,location:"sponsored_articles_side"}));});};var _getDivider=function _getDivider(){return _react["default"].createElement("div",{className:"".concat(_layout["default"].marginTop15," ").concat(_layout["default"].marginBottom15," ").concat(_util["default"].borderTop)});};var _getLoadingView=function _getLoadingView(){return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement(_dummy["default"],{isResponsive:false}),_getDivider(),_react["default"].createElement(_dummy["default"],{isResponsive:false}));};var SponsoredArticles=function SponsoredArticles(_ref){var articles=_ref.articles;if(articles&&articles.length===0)return null;return _react["default"].createElement("div",{className:"".concat(_layout["default"].marginTop45," ").concat(_layout["default"].fullWidth)},_react["default"].createElement("h5",{className:_typography["default"].h5},"Sponsored articles"),_getDivider(),_react["default"].createElement("div",{className:"".concat(_layout["default"].padding15," ").concat(_util["default"].bgFog)},articles?_getCardsView(articles):_getLoadingView()));};SponsoredArticles.propTypes={articles:_propTypes["default"].array};SponsoredArticles.defaultProps={articles:null};var _default=SponsoredArticles;exports["default"]=_default;}),90295:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _LatestArticlesSide=_interopRequireDefault(__webpack_require__(70391));var _ModularAd=_interopRequireDefault(__webpack_require__(66546));var _signup_cta=_interopRequireDefault(__webpack_require__(31223));var _RelatedArticlesSide=_interopRequireDefault(__webpack_require__(13406));var _SponsoredArticles=_interopRequireDefault(__webpack_require__(80229));var _layout=_interopRequireDefault(__webpack_require__(42721));var _article_layout=_interopRequireDefault(__webpack_require__(93014));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var adRelations=function adRelations(article){return{platform_ids:article.platforms.map(function(p){return p.id;}),tag_ids:article.tags.map(function(t){return t.id;})};};var ArticleSidebar=function ArticleSidebar(_ref){var article=_ref.article,latestArticles=_ref.latestArticles,signup_cta_image_urls=_ref.signup_cta_image_urls,relatedArticles=_ref.relatedArticles,sponsoredArticles=_ref.sponsoredArticles;return _react["default"].createElement("div",{className:_article_layout["default"].sidebarInner},_react["default"].createElement(_ModularAd["default"],{page_type:"article_page",relations:adRelations(article)}),_react["default"].createElement("div",{className:_layout["default"].hiddenMedDown},_react["default"].createElement(_LatestArticlesSide["default"],{records:latestArticles})),!article.sponsored&&_react["default"].createElement(_SponsoredArticles["default"],{articles:sponsoredArticles}),_react["default"].createElement("div",{className:_layout["default"].hiddenMedDown},_react["default"].createElement(_RelatedArticlesSide["default"],{records:relatedArticles})),_react["default"].createElement(_signup_cta["default"],{imageURLs:signup_cta_image_urls,className:_article_layout["default"].signupCTA}));};ArticleSidebar.propTypes={article:_propTypes["default"].shape({sponsored:_propTypes["default"].bool}).isRequired,latestArticles:_propTypes["default"].array,relatedArticles:_propTypes["default"].array,signup_cta_image_urls:_propTypes["default"].object.isRequired,sponsoredArticles:_propTypes["default"].array};ArticleSidebar.defaultProps={latestArticles:null,relatedArticles:null,sponsoredArticles:null};var _default=ArticleSidebar;exports["default"]=_default;}),70391:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _AnalyticsLink=_interopRequireDefault(__webpack_require__(48961));var _SidebarPlaceholder=_interopRequireDefault(__webpack_require__(16725));var _linkConstants=__webpack_require__(24275);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var _getRecordsView=function _getRecordsView(records){return records.map(function(record,i){return _react["default"].createElement("div",{key:record.id,className:"".concat(_layout["default"].paddingTop15," ").concat(_layout["default"].paddingBottom15," ").concat(_util["default"].borderTop)},_react["default"].createElement(_AnalyticsLink["default"],{className:"".concat(_typography["default"].link," ").concat(_typography["default"].bodyM," ").concat(_typography["default"].bold),item:record,linkType:_linkConstants.NEWS_ARTICLE_CARD,location:"latest_articles_side"},record.title));});};var LatestArticlesSide=function LatestArticlesSide(_ref){var records=_ref.records;if(records&&records.length===0)return null;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("h5",{className:"".concat(_typography["default"].h5," ").concat(_layout["default"].marginBottom15)},"Latest articles"),records?_getRecordsView(records):_react["default"].createElement(_SidebarPlaceholder["default"],{animated:true}));};LatestArticlesSide.propTypes={records:_propTypes["default"].arrayOf(_propTypes["default"].shape({title:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}))};LatestArticlesSide.defaultProps={records:null};var _default=LatestArticlesSide;exports["default"]=_default;}),13406:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _AnalyticsLink=_interopRequireDefault(__webpack_require__(48961));var _SidebarPlaceholder=_interopRequireDefault(__webpack_require__(16725));var _linkConstants=__webpack_require__(24275);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var _getRecordsView=function _getRecordsView(records){return records.map(function(record,i){return _react["default"].createElement("div",{key:record.id,className:"".concat(_layout["default"].paddingTop15," ").concat(_layout["default"].paddingBottom15," ").concat(_util["default"].borderTop)},_react["default"].createElement(_AnalyticsLink["default"],{className:"".concat(_typography["default"].link," ").concat(_typography["default"].bodyM," ").concat(_typography["default"].bold),item:record,linkType:_linkConstants.NEWS_ARTICLE_CARD,location:"related_articles_side"},record.title));});};var RelatedArticlesSide=function RelatedArticlesSide(_ref){var records=_ref.records;if(records&&records.length===0)return null;return _react["default"].createElement("div",{"class":_layout["default"].marginTop45},_react["default"].createElement("h5",{className:"".concat(_typography["default"].h5," ").concat(_layout["default"].marginBottom15)},"Related articles"),records?_getRecordsView(records):_react["default"].createElement(_SidebarPlaceholder["default"],{animated:true}));};RelatedArticlesSide.propTypes={records:_propTypes["default"].arrayOf(_propTypes["default"].shape({title:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}))};RelatedArticlesSide.defaultProps={records:null};var _default=RelatedArticlesSide;exports["default"]=_default;}),32297:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _respect_button=_interopRequireDefault(__webpack_require__(9782));var _button_dropdown=_interopRequireDefault(__webpack_require__(32067));var _icon=_interopRequireDefault(__webpack_require__(44509));var _enum=__webpack_require__(96463);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _sticky_actions=_interopRequireDefault(__webpack_require__(6773));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
var getSocialLink=function getSocialLink(_ref){var label=_ref.label,service=_ref.service,url=_ref.url;return _react["default"].createElement("a",{className:"".concat(_typography["default"].link," ").concat(_typography["default"].bodyS," ").concat(_typography["default"].bold),href:url,rel:"noopener nofollow"},_react["default"].createElement("div",{className:_sticky_actions["default"].socialIcon},_react["default"].createElement("i",{className:"fa fa-".concat(service)})),_react["default"].createElement("span",null,"Share on ".concat(label)));};var stylesForPosition=function stylesForPosition(position){return position==='side'?"".concat(_layout["default"].marginTop10," ").concat(_sticky_actions["default"].stickyButton):_layout["default"].marginLeft10;};var ActionButtons=function ActionButtons(_ref2){var article=_ref2.article,disabled=_ref2.disabled,position=_ref2.position,social_sharing_links=_ref2.social_sharing_links;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement(_respect_button["default"],{disabled:disabled,id:article.id,respects:article.respects_count,theme:position==='side'?'articleSide':'articleBottom',type:_enum.NEWS_ARTICLE}),_react["default"].createElement(_button_dropdown["default"],{classList:{button:"".concat(_buttons["default"].icon," ").concat(_buttons["default"].outlineBlack," ").concat(_buttons["default"].md," ").concat(stylesForPosition(position)),dropdown:_typography["default"].whitespaceNowrap},alignTop:position==='bottom',disabled:disabled,label:_react["default"].createElement(_icon["default"],{name:"share-project"})},_react["default"].createElement("div",{className:_layout["default"].padding15},social_sharing_links.map(function(link){return _react["default"].createElement("div",{key:link.service},getSocialLink(link));}))));};ActionButtons.propTypes={article:_propTypes["default"].shape({id:_propTypes["default"].number.isRequired,respects_count:_propTypes["default"].number.isRequired}).isRequired,disabled:_propTypes["default"].bool,position:_propTypes["default"].oneOf(['bottom','side']),social_sharing_links:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string.isRequired,service:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}))};ActionButtons.defaultProps={disabled:false,position:'side',social_sharing_links:[]};var _default=ActionButtons;exports["default"]=_default;}),6731:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _observers=__webpack_require__(44014);var _ActionButtons=_interopRequireDefault(__webpack_require__(32297));var _sticky_wrapper=_interopRequireDefault(__webpack_require__(96659));var _layout=_interopRequireDefault(__webpack_require__(42721));var _lazy_image=_interopRequireDefault(__webpack_require__(79310));var _util=_interopRequireDefault(__webpack_require__(48161));var _sticky_actions=_interopRequireDefault(__webpack_require__(6773));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var STICKY_SIDEBAR_ID='articleStickySidebar';var ArticleStickySidebar=function(_PureComponent){_inherits(ArticleStickySidebar,_PureComponent);var _super=_createSuper(ArticleStickySidebar);function ArticleStickySidebar(props){var _this;_classCallCheck(this,ArticleStickySidebar);_this=_super.call(this,props);_this.state={visible:!props.shouldFadeIn};_this.setVisible=_this.setVisible.bind(_assertThisInitialized(_this));_this._sentinelRef=_react["default"].createRef();_this._intersectionObserver;return _this;}
_createClass(ArticleStickySidebar,[{key:"componentDidMount",value:function componentDidMount(){if(!this.props.shouldFadeIn)return;this._intersectionObserver=new _observers.IntersectionObserver(this.setVisible);this._intersectionObserver.observe(this._sentinelRef.current);this.setVisible();}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(!this.props.shouldFadeIn)return;this._intersectionObserver.disconnect();this._intersectionObserver=undefined;}},{key:"setVisible",value:function setVisible(){var el=this._sentinelRef&&this._sentinelRef.current;if(el){var dims=el.getBoundingClientRect();var visible=dims.top<0;if(visible!==this.state.visible){this.setState({visible:visible});}}}},{key:"render",value:function render(){var _this$props=this.props,article=_this$props.article,disabled=_this$props.disabled,social_sharing_links=_this$props.social_sharing_links;return _react["default"].createElement("div",{className:"".concat(_util["default"].posRelative," ").concat(_layout["default"].marginRight30," ").concat(_layout["default"].hiddenMedDown," ").concat(_sticky_actions["default"].zIndex10),id:STICKY_SIDEBAR_ID},_react["default"].createElement("div",{ref:this._sentinelRef}),_react["default"].createElement("div",{className:_sticky_actions["default"].stickyButton})," ",_react["default"].createElement(_sticky_wrapper["default"],{parentId:STICKY_SIDEBAR_ID,stickToEnd:true,startBuffer:"50vh"},_react["default"].createElement("div",{className:"".concat(_lazy_image["default"].fade," ").concat(this.state.visible?_lazy_image["default"].fadeIn:'')},_react["default"].createElement(_ActionButtons["default"],{article:article,disabled:disabled,social_sharing_links:social_sharing_links}))));}}]);return ArticleStickySidebar;}(_react.PureComponent);ArticleStickySidebar.propTypes={article:_propTypes["default"].object.isRequired,disabled:_propTypes["default"].bool,shouldFadeIn:_propTypes["default"].bool,social_sharing_links:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string.isRequired,service:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired}))};ArticleStickySidebar.defaultProps={disabled:false,shouldFadeIn:false,social_sharing_links:[]};var _default=ArticleStickySidebar;exports["default"]=_default;}),31223:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _base=_interopRequireDefault(__webpack_require__(6094));var _current_user=_interopRequireDefault(__webpack_require__(94691));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _dispatchers=__webpack_require__(10912);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var LOGIN_PANEL_ARGS={detail:{state:{currentPanel:'signup'},source:'news_cta'}};var NewsSignupCTA=function(_Component){_inherits(NewsSignupCTA,_Component);var _super=_createSuper(NewsSignupCTA);function NewsSignupCTA(props){var _this;_classCallCheck(this,NewsSignupCTA);_this=_super.call(this,props);_this.state={currentUserId:null,initialized:false};return _this;}
_createClass(NewsSignupCTA,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;return _current_user["default"].getAsync('id').then(function(currentUserId){return _this2.setState({currentUserId:currentUserId,initialized:true});})["catch"](function(err){return(0,_error_handler["default"])('NewsSignupCTA',err);});}},{key:"render",value:function render(){if(!this.state.initialized||this.state.currentUserId)return null;var _this$props$imageURLs=this.props.imageURLs,x1=_this$props$imageURLs.x1,x2=_this$props$imageURLs.x2;return _react["default"].createElement("div",{className:"".concat(this.props.className," ").concat(_layout["default"].flexJustifyCenter)},_react["default"].createElement("div",{className:_layout["default"].fullWidth,style:{maxWidth:480}},_react["default"].createElement("div",{className:"".concat(_layout["default"].flexJustifySpaceBetween," ").concat(_layout["default"].flexCenterItems)},_react["default"].createElement("div",{className:"".concat(_typography["default"].bodyL," ").concat(_layout["default"].marginRight10," ").concat(_layout["default"].flex1)},"Get our weekly newsletter when you join Hackster."),_react["default"].createElement("div",{className:"".concat(_layout["default"].paddingLeft15," ").concat(_layout["default"].paddingRight15),style:{flex:'0 1 auto'}},_react["default"].createElement("img",{src:x1,srcSet:"".concat(x1," 1x, ").concat(x2," 2x")}))),_react["default"].createElement(_base["default"],{className:"".concat(_layout["default"].fullWidth," ").concat(_layout["default"].marginTop30),onClick:function onClick(){return(0,_dispatchers.summonLoginPanel)(LOGIN_PANEL_ARGS);},size:"lg"},"Sign up")));}}]);return NewsSignupCTA;}(_react.Component);NewsSignupCTA.propTypes={className:_propTypes["default"].string,imageURLs:_propTypes["default"].shape({x1:_propTypes["default"].string.isRequired,x2:_propTypes["default"].string.isRequired}).isRequired};NewsSignupCTA.defaultProps={className:''};var _default=NewsSignupCTA;exports["default"]=_default;}),3495:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var NotFoundPage=function NotFoundPage(_ref){var action=_ref.action,msg=_ref.msg,viewRenderer=_ref.viewRenderer;if(typeof viewRenderer==='function')return viewRenderer();return _react["default"].createElement("div",{className:_layout["default"].container},_react["default"].createElement("div",{className:_layout["default"].wrapper1170},_react["default"].createElement("p",{className:_typography["default"].bodyM},msg,action&&_react["default"].createElement("a",{className:_typography["default"].linkBlue,href:action.href,onClick:action.onClick},action.text))));};NotFoundPage.propTypes={action:_propTypes["default"].shape({href:_propTypes["default"].string,onClick:_propTypes["default"].func,text:_propTypes["default"].string}),msg:_propTypes["default"].string,viewRenderer:_propTypes["default"].func};NotFoundPage.defaultProps={action:{href:'/',onClick:null,text:'Click for the home page.'},msg:'Sorry, we couldn\'t find what you\'re looking for. '};var _default=NotFoundPage;exports["default"]=_default;}),72889:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _converters=__webpack_require__(39719);var CONFIG={'/':function _(location){var queryMap=(0,_converters.mapifyStringQuery)(location.search);return{title:"Explore videos - Page ".concat(queryMap.page||1," - Hackster.io"),pageType:'videos#index'};},'/*':function _(){var video=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{title:"Watch video - ".concat(video.title," - Hackster.io"),pageType:'videos#modal',entity_id:video.id};}};var _default=function _default(path){return CONFIG[path];};exports["default"]=_default;}),55941:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _CarouselImage=_interopRequireDefault(__webpack_require__(6760));var _icon=_interopRequireDefault(__webpack_require__(44509));var _lazy_component=_interopRequireDefault(__webpack_require__(99171));var _math=__webpack_require__(45498);var _lodash=_interopRequireDefault(__webpack_require__(91296));var _lodash2=_interopRequireDefault(__webpack_require__(93096));var _helpers=__webpack_require__(64103);var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));var _util=_interopRequireDefault(__webpack_require__(48161));var _lazy_image=_interopRequireDefault(__webpack_require__(79310));var _image_carousel=_interopRequireDefault(__webpack_require__(67825));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var HEADLINE_CONSTRAINT={height:555,width:740};var FALLBACK_STYLES={maxWidth:HEADLINE_CONSTRAINT.width,paddingTop:'75%'};var Carousel=function(_Component){_inherits(Carousel,_Component);var _super=_createSuper(Carousel);function Carousel(props){var _this;_classCallCheck(this,Carousel);_this=_super.call(this,props);_this.state={activeIndex:props.activeIndex,isImgLoaded:false,lazyWrapperDims:null,loadedImageIndexes:{0:true},noScroll:false,resizing:false,shouldHandleImgLoad:false};_this.centerImage=(0,_lodash["default"])(_this.centerImage.bind(_assertThisInitialized(_this)),300);_this.centerScrollPosition=_this.centerScrollPosition.bind(_assertThisInitialized(_this));_this.eagerUpdate=(0,_lodash2["default"])(_this.eagerUpdate.bind(_assertThisInitialized(_this)),200);_this.getBrokenBoundary=_this.getBrokenBoundary.bind(_assertThisInitialized(_this));_this.handleImgLoad=_this.handleImgLoad.bind(_assertThisInitialized(_this));_this.handleKeyDown=_this.handleKeyDown.bind(_assertThisInitialized(_this));_this.handleResize=_this.handleResize.bind(_assertThisInitialized(_this));_this.handleScrollContainerReveal=_this.handleScrollContainerReveal.bind(_assertThisInitialized(_this));_this.preventScrollAndUpdate=_this.preventScrollAndUpdate.bind(_assertThisInitialized(_this));_this.scrollHandler=_this.scrollHandler.bind(_assertThisInitialized(_this));_this.updateActiveIndex=_this.updateActiveIndex.bind(_assertThisInitialized(_this));_this.updateAfterResize=(0,_lodash["default"])(_this.updateAfterResize.bind(_assertThisInitialized(_this)),600);_this.updateImagePositions=(0,_lodash["default"])(_this.updateImagePositions.bind(_assertThisInitialized(_this)),40);_this.updateOnBoundaryBreak=_this.updateOnBoundaryBreak.bind(_assertThisInitialized(_this));_this.updateState=_this.updateState.bind(_assertThisInitialized(_this));_this._lazyWrapper;_this._scrollContainer;return _this;}
_createClass(Carousel,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(this.props.activeIndex!==prevProps.activeIndex){this.centerScrollPosition();}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(window&&document){window.removeEventListener('resize',this.handleResize);window.removeEventListener('keydown',this.handleKeyDown);}
this._isMounted=false;}},{key:"_getImgPlaceholderStyle",value:function _getImgPlaceholderStyle(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},height=_ref.height,width=_ref.width;if(!height||!width)return FALLBACK_STYLES;var scale=Math.min(HEADLINE_CONSTRAINT.height/height,HEADLINE_CONSTRAINT.width/width,1);return{maxWidth:width*scale,paddingTop:(0,_math.aspectRatioPadding)({height:height,width:width})};}},{key:"_getLazyWrapperDims",value:function _getLazyWrapperDims(){return{height:this._scrollContainer.clientHeight,width:Math.floor(this._scrollContainer.clientWidth)};}},{key:"centerImage",value:function centerImage(){this.updateOnBoundaryBreak('midpoint');}},{key:"centerScrollPosition",value:function centerScrollPosition(){this._scrollContainer.scrollLeft=this._scrollContainer.clientWidth;}},{key:"eagerUpdate",value:function eagerUpdate(){this.updateOnBoundaryBreak('eager');}},{key:"getBrokenBoundary",value:function getBrokenBoundary(trigger){var width=Math.floor(this._scrollContainer.clientWidth);var middleOfScreen=this._scrollContainer.scrollLeft+width/2;var scrollLeft=this._scrollContainer.scrollLeft;var rules={midpoint:{snapLeft:width>middleOfScreen,center:width*2>middleOfScreen&&this._scrollContainer.scrollLeft!==this._scrollContainer.clientWidth,snapRight:width*2<middleOfScreen},edge:{left:scrollLeft<=0,right:scrollLeft+width>=width*3},eager:{eagerUpdateLeft:scrollLeft<=0,eagerUpdateRight:scrollLeft+width>=width*3}}[trigger];return Object.keys(rules).reduce(function(memo,rule){return!memo&&rules[rule]?rule:memo;},'');}},{key:"handleImgLoad",value:function handleImgLoad(){var _this2=this;this.updateState({isImgLoaded:true,lazyWrapperDims:this._getLazyWrapperDims(),shouldHandleImgLoad:false},function(){_this2.centerScrollPosition();});}},{key:"handleKeyDown",value:function handleKeyDown(event){if(!this.props.enableArrowKeyNavigation)return;switch(event.keyCode){case 37:event.preventDefault();this.updateActiveIndex(this.props.activeIndex-1);break;case 39:event.preventDefault();this.updateActiveIndex(this.props.activeIndex+1);break;default:return;};}},{key:"handleResize",value:function handleResize(){clearTimeout(this._resizeTimer);if(!this.state.resizing)this.setState({lazyWrapperDims:null,resizing:true});this.updateAfterResize();}},{key:"handleScrollContainerReveal",value:function handleScrollContainerReveal(){var _this3=this;if(window&&document){window.addEventListener('resize',this.handleResize);window.addEventListener('keydown',this.handleKeyDown);}
this.updateState({shouldHandleImgLoad:true},function(){_this3.centerScrollPosition();});}},{key:"preventScrollAndUpdate",value:function preventScrollAndUpdate(update){this.updateState({noScroll:true},function(){return update();});}},{key:"scrollHandler",value:function scrollHandler(event){if(this._scrollContainer.scrollLeft===0||this.state.noScroll)event.preventDefault();this.centerImage();this.eagerUpdate();this.updateImagePositions();}},{key:"updateActiveIndex",value:function updateActiveIndex(index){this.props.updateActiveIndex((0,_helpers.cycleIndex)(index,this.props.images.length-1));}},{key:"updateAfterResize",value:function updateAfterResize(){var _this4=this;this.setState({resizing:false,lazyWrapperDims:this._getLazyWrapperDims()},function(){return _this4.centerScrollPosition();});}},{key:"updateImagePositions",value:function updateImagePositions(){this.updateOnBoundaryBreak('edge');}},{key:"updateOnBoundaryBreak",value:function updateOnBoundaryBreak(trigger){var update=_helpers.updateActionsOnScroll[this.getBrokenBoundary(trigger)];if(update)update(this);}},{key:"updateState",value:function updateState(){if(this._isMounted)this.setState.apply(this,arguments);}},{key:"_getCaption",value:function _getCaption(activeIndex,images){var showCount=images.length>1;var showCaption=images[activeIndex]&&images[activeIndex].caption;if(!showCount&&!showCaption)return;return _react["default"].createElement("div",{className:_image_carousel["default"].caption},showCount&&_react["default"].createElement("span",null,"".concat(activeIndex+1," / ").concat(images.length)),showCount&&showCaption&&' • ',showCaption&&_react["default"].createElement("span",null,images[activeIndex].caption));}},{key:"_getNavArrows",value:function _getNavArrows(activeIndex){var _this5=this;if(this.props.images.length<=1)return;return _react["default"].createElement(_react.Fragment,null,_react["default"].createElement("div",{className:_image_carousel["default"].navAreaLeft,onClick:function onClick(){return _this5.updateActiveIndex(activeIndex-1);}},_react["default"].createElement("div",{className:_image_carousel["default"].hoverHighlightLeft},_react["default"].createElement(_icon["default"],{className:_typography["default"].white,name:"arrow-left",size:16}))),_react["default"].createElement("div",{className:_image_carousel["default"].navAreaRight,onClick:function onClick(){return _this5.updateActiveIndex(activeIndex+1);}},_react["default"].createElement("div",{className:_image_carousel["default"].hoverHighlightRight},_react["default"].createElement(_icon["default"],{className:_typography["default"].white,name:"arrow-right",size:16}))));}},{key:"_getImgPlaceholder",value:function _getImgPlaceholder(img){var _this$_getImgPlacehol=this._getImgPlaceholderStyle(img),maxWidth=_this$_getImgPlacehol.maxWidth,paddingTop=_this$_getImgPlacehol.paddingTop;return _react["default"].createElement("div",{style:{maxWidth:maxWidth}},_react["default"].createElement("div",{className:_util["default"].absolutePlaceholderParent,style:{paddingTop:paddingTop}}));}},{key:"_getScrollContainer",value:function _getScrollContainer(activeIndex,images){var _this6=this;var cycledImages=(0,_helpers.getCycledArray)(images,activeIndex);var containerStyles="".concat(_layout["default"].noScrollBar," ").concat(_image_carousel["default"].scrollContainer," ").concat(this.state.noScroll?_image_carousel["default"].noScrollContainer:'');return _react["default"].createElement("div",{ref:function ref(el){return _this6._scrollContainer=el;},className:"".concat(containerStyles," ").concat(this.state.isImgLoaded?'':_image_carousel["default"].scrollContainerPreImgLoad),onWheel:cycledImages.length>1?this.scrollHandler:null,onTouchMove:cycledImages.length>1?this.scrollHandler:null},this._getNavArrows(activeIndex),this.state.resizing&&cycledImages.length>1?_react["default"].createElement("div",{className:_image_carousel["default"].resizeOverlay},_react["default"].createElement("img",{src:cycledImages[1].url})):cycledImages.map(function(image,i){return _react["default"].createElement(_CarouselImage["default"],{key:"".concat(image.imageIndex,"-").concat(i),className:_this6.props.classList.image,alt:image.caption,format:image.format,handleImgLoad:_this6.handleImgLoad,hasLoaded:_this6.state.loadedImageIndexes[image.imageIndex],onClick:_this6.props.onImageClick,shouldHandleImgLoad:_this6.state.shouldHandleImgLoad,shouldLoad:image.imageIndex===_this6.props.activeIndex||_this6.state.loadedImageIndexes[image.imageIndex]||i===1,src:image.url});}));}},{key:"_renderLazyChildren",value:function _renderLazyChildren(isRevealed,activeIndex,images){return _react["default"].createElement(_react.Fragment,null,!this.state.isImgLoaded&&this._getImgPlaceholder(images[0]),isRevealed&&this._getScrollContainer(activeIndex,images));}},{key:"render",value:function render(){var _this7=this;var _this$props=this.props,activeIndex=_this$props.activeIndex,images=_this$props.images;return _react["default"].createElement("div",{className:"".concat(_image_carousel["default"].container," ").concat(this.props.classList.container)},_react["default"].createElement(_lazy_component["default"],{ref:function ref(el){return _this7._lazyWrapper=el;},className:"".concat(_image_carousel["default"].wrapper," ").concat(_lazy_image["default"].fade," ").concat(this.state.isImgLoaded?_lazy_image["default"].fadeIn:''),style:!this.props.inViewer&&this.state.lazyWrapperDims?this.state.lazyWrapperDims:{},alwaysRenderChildren:true,onReveal:this.handleScrollContainerReveal},function(isRevealed){return _this7._renderLazyChildren(isRevealed,activeIndex,images);}),this._getCaption(activeIndex,images));}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){if(nextProps.activeIndex===prevState.activeIndex)return null;return{activeIndex:nextProps.activeIndex,noScroll:false};}}]);return Carousel;}(_react.Component);Carousel.propTypes={activeIndex:_propTypes["default"].number,classList:_propTypes["default"].shape({container:_propTypes["default"].string,image:_propTypes["default"].string}),enableArrowKeyNavigation:_propTypes["default"].bool,images:_propTypes["default"].array,inViewer:_propTypes["default"].bool,onImageClick:_propTypes["default"].func,updateActiveIndex:_propTypes["default"].func.isRequired};Carousel.defaultProps={activeIndex:0,classList:{},enableArrowKeyNavigation:false,images:[],inViewer:false,onImageClick:function onImageClick(){}};var _default=Carousel;exports["default"]=_default;}),6760:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _MediaElement=_interopRequireDefault(__webpack_require__(94140));var _helpers=__webpack_require__(90041);var _animation=_interopRequireDefault(__webpack_require__(61461));var _image_carousel=_interopRequireDefault(__webpack_require__(67825));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var CarouselImage=function(_Component){_inherits(CarouselImage,_Component);var _super=_createSuper(CarouselImage);function CarouselImage(props){var _this;_classCallCheck(this,CarouselImage);_this=_super.call(this,props);_this.onImageLoad=_this.onImageLoad.bind(_assertThisInitialized(_this));_this.onError=_this.onError.bind(_assertThisInitialized(_this));_this.state={hasLoaded:props.hasLoaded,format:props.format};_this._isMounted;return _this;}
_createClass(CarouselImage,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;}},{key:"onError",value:function onError(err){if(this._isMounted&&this.state.format===_helpers.VIDEO){this.setState({format:_helpers.IMG});}}},{key:"onImageLoad",value:function onImageLoad(){var _this2=this;if(!this._isMounted)return;this.setState({hasLoaded:true},function(){if(_this2.props.shouldHandleImgLoad)_this2.props.handleImgLoad();});}},{key:"render",value:function render(){return _react["default"].createElement("div",{className:_image_carousel["default"].imageContainer},_react["default"].createElement("div",{className:_image_carousel["default"].imageWrapper},!this.state.hasLoaded&&_react["default"].createElement("div",{className:"".concat(_animation["default"].delayAppear," ").concat(_image_carousel["default"].loader)},_react["default"].createElement("i",{className:"fa fa-circle-o-notch fa-spin"})),!!this.props.shouldLoad&&_react["default"].createElement(_MediaElement["default"],{className:"".concat(_image_carousel["default"].image," ").concat(this.state.hasLoaded?'':_image_carousel["default"].imageLoading," ").concat(this.props.className),alt:this.props.alt,format:this.state.format,onClick:this.props.onClick,onError:this.onError,onLoad:this.onImageLoad,src:this.props.src})));}}]);return CarouselImage;}(_react.Component);CarouselImage.propTypes={alt:_propTypes["default"].string,className:_propTypes["default"].string,format:_propTypes["default"].string.isRequired,handleImgLoad:_propTypes["default"].func,hasLoaded:_propTypes["default"].bool,onClick:_propTypes["default"].func,shouldHandleImgLoad:_propTypes["default"].bool,shouldLoad:_propTypes["default"].bool,src:_propTypes["default"].string.isRequired};CarouselImage.defaultProps={alt:'',className:'',handleImgLoad:function handleImgLoad(){},hasLoaded:false,onClick:function onClick(){},shouldHandleImgLoad:false,shouldLoad:false};var _default=CarouselImage;exports["default"]=_default;}),3229:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireDefault(__webpack_require__(67294));var _Dialog=_interopRequireDefault(__webpack_require__(27408));var _image_carousel=_interopRequireDefault(__webpack_require__(67825));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
var Viewer=function Viewer(_ref){var dialogProps=_ref.dialogProps,children=_ref.children,carouselProps=_ref.carouselProps;return _react["default"].createElement(_Dialog["default"],_extends({bodyClassName:_image_carousel["default"].dialogBody,className:_image_carousel["default"].dialog,dismissClassName:_image_carousel["default"].dismiss,fullScreen:true,overlayClassName:_image_carousel["default"].overlay,wrapperClassName:_image_carousel["default"].dialogWrapper},dialogProps),children);};Viewer.propTypes={dialogProps:_propTypes["default"].shape({open:_propTypes["default"].bool.isRequired,dismiss:_propTypes["default"].func.isRequired})};Viewer.defaultProps={};var _default=Viewer;exports["default"]=_default;}),64103:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.cycleIndex=cycleIndex;exports.getCycledArray=getCycledArray;exports.gifToVideo=gifToVideo;exports.updateActionsOnScroll=void 0;var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _urls=__webpack_require__(13380);var _helpers=__webpack_require__(90041);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var VIDEO_PARAMS={fm:'mp4',auto:'compress'};function cycleIndex(index,limit){return index>limit?0:index<0?limit:index;}
function getCycledArray(array,index){if(!Array.isArray(array)||array.length===0){return[];}else if(array.length===1){return array;}else if(array.length===2){return index===0?[array[1],array[0],array[1]]:[array[0],array[1],array[0]];}else{return index===array.length-1?[array[array.length-2],array[array.length-1],array[0]]:index===0?[array[array.length-1],array[0],array[1]]:[array[index-1],array[index],array[index+1]];}}
function gifToVideo(image){var _image$image_urls=image.image_urls,headline_url=_image$image_urls.headline_url,lightbox_url=_image$image_urls.lightbox_url;if(!(0,_helpers.canConvertToMP4)(headline_url))return Object.assign({},image,{format:_helpers.IMG});return Object.assign({},image,{format:_helpers.VIDEO,image_urls:{headline_url:(0,_urls.addQueryParamsToURL)(headline_url,VIDEO_PARAMS),lightbox_url:(0,_urls.addQueryParamsToURL)(lightbox_url,VIDEO_PARAMS)}});}
var updateActionsOnScroll={left:function left(instance){var index=instance.props.activeIndex-1;instance.preventScrollAndUpdate(function(){return instance.updateActiveIndex(index);});},right:function right(instance){var index=instance.props.activeIndex+1;instance.preventScrollAndUpdate(function(){return instance.updateActiveIndex(index);});},snapLeft:function snapLeft(instance){instance.preventScrollAndUpdate(function(){return(0,_smoothScroll["default"])(0,200,function(){return instance.updateActiveIndex(instance.props.activeIndex-1);},instance._scrollContainer,true);});},center:function center(instance){var width=Math.floor(instance._scrollContainer.clientWidth);instance.preventScrollAndUpdate(function(){return(0,_smoothScroll["default"])(width,200,function(){return instance.updateState({noScroll:false});},instance._scrollContainer,true);});},snapRight:function snapRight(instance){var width=Math.floor(instance._scrollContainer.clientWidth);instance.preventScrollAndUpdate(function(){return(0,_smoothScroll["default"])(width*2,200,function(){return instance.updateActiveIndex(instance.props.activeIndex+1);},instance._scrollContainer,true);});},eagerUpdateRight:function eagerUpdateRight(instance){if(instance.state.activeIndex!==instance.props.activeIndex)return;var index=cycleIndex(instance.props.activeIndex+1,instance.props.images.length-1);instance.updateState({activeIndex:index,loadedImageIndexes:Object.assign({},instance.state.loadedImageIndexes,_defineProperty({},index,true))});},eagerUpdateLeft:function eagerUpdateLeft(instance){if(instance.state.activeIndex!==instance.props.activeIndex)return;var index=cycleIndex(instance.props.activeIndex-1,instance.props.images.length-1);instance.updateState({activeIndex:index,loadedImageIndexes:Object.assign({},instance.state.loadedImageIndexes,_defineProperty({},index,true))});}};exports.updateActionsOnScroll=updateActionsOnScroll;}),11865:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _Carousel=_interopRequireDefault(__webpack_require__(55941));var _Viewer=_interopRequireDefault(__webpack_require__(3229));var _helpers=__webpack_require__(64103);var _image_carousel=_interopRequireDefault(__webpack_require__(67825));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var ImageCarousel=function(_Component){_inherits(ImageCarousel,_Component);var _super=_createSuper(ImageCarousel);function ImageCarousel(props){var _this;_classCallCheck(this,ImageCarousel);_this=_super.call(this,props);var images=props.images.map(_helpers.gifToVideo);_this.state={active:false,activeIndex:0,activeViewerIndex:0,images:images.map(function(image,i){return Object.assign({},image,{url:image.image_urls['headline_url'],imageIndex:i});}),showViewer:false,viewerImages:images.map(function(image,i){return Object.assign({},image,{url:image.image_urls['lightbox_url'],imageIndex:i});})};_this.dismiss=_this.dismiss.bind(_assertThisInitialized(_this));_this.updateActiveIndex=_this.updateActiveIndex.bind(_assertThisInitialized(_this));_this.toggleActive=_this.toggleActive.bind(_assertThisInitialized(_this));return _this;}
_createClass(ImageCarousel,[{key:"dismiss",value:function dismiss(){this.setState({showViewer:false,activeIndex:this.state.activeViewerIndex});}},{key:"toggleActive",value:function toggleActive(bool){if(this.state.active===bool)return;this.setState({active:bool});}},{key:"updateActiveIndex",value:function updateActiveIndex(key,activeIndex){this.setState(_defineProperty({},key,activeIndex));}},{key:"render",value:function render(){var _this2=this;return _react["default"].createElement("div",{key:"react-carousel-".concat(this.props.uid),onMouseOver:function onMouseOver(){return _this2.toggleActive(true);},onMouseLeave:function onMouseLeave(){return _this2.toggleActive(false);}},_react["default"].createElement(_Carousel["default"],{activeIndex:this.state.activeIndex,classList:this.props.classList,enableArrowKeyNavigation:this.state.active&&!this.state.showViewer,images:this.state.images,onImageClick:function onImageClick(){return _this2.setState({showViewer:true,activeViewerIndex:_this2.state.activeIndex});},updateActiveIndex:function updateActiveIndex(index){return _this2.updateActiveIndex('activeIndex',index);}}),_react["default"].createElement(_Viewer["default"],{dialogProps:{dismiss:this.dismiss,open:this.state.showViewer}},_react["default"].createElement(_Carousel["default"],{activeIndex:this.state.activeViewerIndex,classList:{image:_image_carousel["default"].viewerImage,container:_image_carousel["default"].viewerContainer},enableArrowKeyNavigation:this.state.showViewer,images:this.state.viewerImages,inViewer:this.state.showViewer,updateActiveIndex:function updateActiveIndex(index){return _this2.updateActiveIndex('activeViewerIndex',index);}})));}}]);return ImageCarousel;}(_react.Component);ImageCarousel.propTypes={classList:_propTypes["default"].shape({container:_propTypes["default"].string}),images:_propTypes["default"].array.isRequired,uid:_propTypes["default"].string.isRequired};ImageCarousel.defaultProps={classList:{}};var _default=ImageCarousel;exports["default"]=_default;}),58594:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _channel_card=_interopRequireDefault(__webpack_require__(50776));var _community_card=_interopRequireDefault(__webpack_require__(98689));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var CommunityCard=function(_Component){_inherits(CommunityCard,_Component);var _super=_createSuper(CommunityCard);function CommunityCard(props){_classCallCheck(this,CommunityCard);return _super.call(this,props);}
_createClass(CommunityCard,[{key:"render",value:function render(){var _this$props=this.props,avatar_url=_this$props.avatar_url,brief=_this$props.brief,classList=_this$props.classList,id=_this$props.id,name=_this$props.name,stats=_this$props.stats,url=_this$props.url;var styles=Object.assign({},_community_card["default"],classList);var item={avatar_url:avatar_url,id:id,members_count:stats.members,name:name,pitch:brief,projects_count:stats.projects,url:url};return _react["default"].createElement(_channel_card["default"],{classList:{wrapper:styles.root},item:item,showBorder:false});}}]);return CommunityCard;}(_react.Component);CommunityCard.propTypes={avatar_url:_propTypes["default"].string,brief:_propTypes["default"].string.isRequired,classList:_propTypes["default"].shape({root:_propTypes["default"].string,panel:_propTypes["default"].string}),id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,stats:_propTypes["default"].shape({members:_propTypes["default"].number.isRequired,projects:_propTypes["default"].number.isRequired}),url:_propTypes["default"].string.isRequired};CommunityCard.defaultProps={avatar_url:null,classList:{}};var _default=CommunityCard;exports["default"]=_default;}),34140:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.labelOverride=labelOverride;exports.getStoreKey=getStoreKey;exports["default"]=getConfigForType;var _react=_interopRequireDefault(__webpack_require__(67294));var _icon=_interopRequireDefault(__webpack_require__(44509));var _accessors=__webpack_require__(4887);var _buttons=_interopRequireDefault(__webpack_require__(9010));var _layout=_interopRequireDefault(__webpack_require__(42721));var _typography=_interopRequireDefault(__webpack_require__(68163));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var channelConfig=function channelConfig(size){return{className:[_buttons["default"][size],"".concat(_buttons["default"][size]," ").concat(_buttons["default"].secondary)],create:{t:'create_channel_member'},"delete":{t:'delete_channel_member'},label:['Join Community',_react["default"].createElement("span",null,_react["default"].createElement(_icon["default"],{className:"".concat(_typography["default"].iconBaselineFix," ").concat(_layout["default"].marginRight5),name:"checkmark"}),_react["default"].createElement("span",null,"You're a member"))],storeKey:'channel'};};var respectConfig={className:'',create:{t:'create_respect'},"delete":{t:'delete_respect'},label:[]};var userConfig=function userConfig(size){return{className:[_buttons["default"][size],"".concat(_buttons["default"][size]," ").concat(_buttons["default"].secondary)],create:{t:'create_follow_relation'},"delete":{t:'delete_follow_relation'},label:['Follow',_react["default"].createElement("span",null,_react["default"].createElement(_icon["default"],{className:"".concat(_typography["default"].iconBaselineFix," ").concat(_layout["default"].marginRight5),name:"checkmark"}),_react["default"].createElement("span",null,"Following"))],storeKey:'followed_user'};};var configMap={channel_sm:channelConfig('sm'),channel_md:channelConfig('md'),followed_user_xs:userConfig('xs'),followed_user_sm:userConfig('sm'),followed_user_md:userConfig('md'),part:{className:["".concat(_buttons["default"].md," ").concat(_buttons["default"].secondary),"".concat(_buttons["default"].md," ").concat(_buttons["default"].secondary)],create:{t:'create_part_user'},"delete":{t:'delete_part_user'},label:['Add to toolbox',_react["default"].createElement("span",null,_react["default"].createElement(_icon["default"],{className:"".concat(_typography["default"].iconBaselineFix," ").concat(_layout["default"].marginRight5),name:"checkmark"}),_react["default"].createElement("span",null,"In toolbox"))]},respected_comment:respectConfig,respected_feed_post:respectConfig,respected_news_article:respectConfig,respected_project:respectConfig};function labelOverride(){var label=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return[label,_react["default"].createElement("span",null,_react["default"].createElement(_icon["default"],{className:"".concat(_typography["default"].iconBaselineFix," ").concat(_layout["default"].marginRight5),name:"checkmark"}),_react["default"].createElement("span",null,"You're a member"))];};function getStoreKey(configKey){var key=(0,_accessors.getInObj)([configKey,'storeKey'],configMap)||configKey;return "".concat(key,"_ids");}
function getConfigForType(type){return configMap[type]||{};}}),87164:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _config=_interopRequireWildcard(__webpack_require__(34140));var _user_relations_store=_interopRequireDefault(__webpack_require__(34765));var _trackRelation=_interopRequireDefault(__webpack_require__(52383));var _graphql=__webpack_require__(2740);var _dispatchers=__webpack_require__(10912);var _promises=__webpack_require__(25426);var _util=_interopRequireDefault(__webpack_require__(48161));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var UserRelationButton=function(_Component){_inherits(UserRelationButton,_Component);var _super=_createSuper(UserRelationButton);function UserRelationButton(props){var _this;_classCallCheck(this,UserRelationButton);_this=_super.call(this,props);_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.state={config:Object.assign({},(0,_config["default"])(props.type),props.config),currentUser:null,disabled:props.disabled,viewIndex:0};_this.updateSub=_user_relations_store["default"].getChannel().subscribe('store.changed',_this.handleChange);_this.activePromise;return _this;}
_createClass(UserRelationButton,[{key:"componentDidMount",value:function componentDidMount(){return this._handleInitialState((0,_config.getStoreKey)(this.props.type));}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props.config&&prevProps.config&&this.props.config.label!==prevProps.config.label){this.setState({config:Object.assign({},prevState.config,{label:this.props.config.label})});}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.activePromise)this.activePromise.cancel();this.updateSub.unsubscribe();}},{key:"_handleInitialState",value:function _handleInitialState(resource){var _this2=this;if(!_user_relations_store["default"].has(resource)){this.setState({disabled:true});this.activePromise=(0,_promises.cancelablePromise)(_user_relations_store["default"].fetchAll());return this.activePromise.promise.then(function(res){_this2.activePromise=undefined;if(!res.hasOwnProperty('promiseCanceled')){_this2.setState({currentUser:_user_relations_store["default"].has('currentUser')?_user_relations_store["default"].get('currentUser'):null,disabled:false,viewIndex:_user_relations_store["default"].hasIn(resource,_this2.props.id)?1:0});}})["catch"](function(err){_this2.activePromise=undefined;(0,_error_handler["default"])('UserRelationButton fetch error:',err);if(!err.hasOwnProperty('promiseCanceled'))_this2.setState({disabled:false});});}else{this.setState({currentUser:_user_relations_store["default"].has('currentUser')?_user_relations_store["default"].get('currentUser'):this.state.currentUser,disabled:false,viewIndex:_user_relations_store["default"].hasIn(resource,this.props.id)?1:0});}}},{key:"handleChange",value:function handleChange(){var resource=(0,_config.getStoreKey)(this.props.type);if(_user_relations_store["default"].has(resource)){this.setState({disabled:false,viewIndex:_user_relations_store["default"].hasIn(resource,this.props.id)?1:0});}}},{key:"handleClick",value:function handleClick(){if(this.state.disabled)return;if(_user_relations_store["default"].has('currentUser')&&this.state.config.create&&this.state.config["delete"]){this.state.viewIndex===0?this._createRelation():this._deleteRelation();this.props.onClick(this.state.viewIndex===0);}else{(0,_dispatchers.summonLoginPanel)({detail:Object.assign({source:this.props.type},this.props.signinEventDetail)});}}},{key:"_createRelation",value:function _createRelation(){var _this3=this;var _this$props=this.props,additionalRequestArgs=_this$props.additionalRequestArgs,id=_this$props.id,source=_this$props.source;this.setState({disabled:true,viewIndex:1});this.activePromise=(0,_promises.cancelablePromise)((0,_graphql.graphMutate)(this.state.config.create,Object.assign({id:id},additionalRequestArgs)));return this.activePromise.promise.then(function(res){var isResolved=!res.hasOwnProperty('unresolved');var canSetState=!res.hasOwnProperty('promiseCanceled');var key=(0,_config.getStoreKey)(_this3.props.type);if(isResolved){(0,_trackRelation["default"])({key:key,id:id,source:source,createOrDeleteBool:true});_user_relations_store["default"].setIn(key,id);}
if(canSetState){_this3.setState({disabled:false,viewIndex:isResolved?1:0});}})["catch"](function(err){_this3.props.onClick(false);_this3.activePromise=undefined;if(err.status!==401)(0,_error_handler["default"])('_createRelation Error',err);if(!err.hasOwnProperty('promiseCanceled'))_this3.setState({disabled:false,viewIndex:0});});}},{key:"_deleteRelation",value:function _deleteRelation(){var _this4=this;var _this$props2=this.props,additionalRequestArgs=_this$props2.additionalRequestArgs,id=_this$props2.id,source=_this$props2.source;this.setState({disabled:true,viewIndex:0});this.activePromise=(0,_promises.cancelablePromise)((0,_graphql.graphMutate)(this.state.config["delete"],Object.assign({id:id},additionalRequestArgs)));return this.activePromise.promise.then(function(res){var isResolved=!res.hasOwnProperty('unresolved');var canSetState=!res.hasOwnProperty('promiseCanceled');var key=(0,_config.getStoreKey)(_this4.props.type);if(isResolved){(0,_trackRelation["default"])({key:key,id:id,source:source,createOrDeleteBool:false});_user_relations_store["default"].deleteIn(key,id);}
if(canSetState){_this4.setState({disabled:false,viewIndex:isResolved?0:1});}})["catch"](function(err){_this4.props.onClick(true);(0,_error_handler["default"])('_deleteRelation Error',err);if(!err.hasOwnProperty('promiseCanceled'))_this4.setState({disabled:false,viewIndex:1});});}},{key:"_shouldDisableBtn",value:function _shouldDisableBtn(){return this.props.type.includes('followed_user')&&this.state.currentUser===this.props.id;}},{key:"render",value:function render(){var _this$state=this.state,config=_this$state.config,viewIndex=_this$state.viewIndex;var disableCompletely=this.props.disableCompletely||this._shouldDisableBtn();return _react["default"].createElement("button",{className:"".concat(config&&config.className?config.className[viewIndex]:''," ").concat(disableCompletely?_util["default"].disabled:''),disabled:disableCompletely,onClick:this.handleClick,type:"button"},config.label[viewIndex]);}}]);return UserRelationButton;}(_react.Component);UserRelationButton.propTypes={additionalRequestArgs:_propTypes["default"].object,config:_propTypes["default"].shape({className:_propTypes["default"].array,create:_propTypes["default"].object,"delete":_propTypes["default"].object,label:_propTypes["default"].array}),disableCompletely:_propTypes["default"].bool,disabled:_propTypes["default"].bool,id:_propTypes["default"].number.isRequired,onClick:_propTypes["default"].func,signinEventDetail:_propTypes["default"].object,source:_propTypes["default"].string,type:_propTypes["default"].string.isRequired};UserRelationButton.defaultProps={additionalRequestArgs:{},config:null,disableCompletely:false,disabled:false,onClick:function onClick(){},signinEventDetail:{},source:null};var _default=UserRelationButton;exports["default"]=_default;}),30651:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _current_user=_interopRequireDefault(__webpack_require__(94691));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _main=_interopRequireDefault(__webpack_require__(85061));var _eventTypeTemplates=__webpack_require__(10853);var _graphql=__webpack_require__(2740);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var AdAnalytics=function(){function AdAnalytics(){_classCallCheck(this,AdAnalytics);}
_createClass(AdAnalytics,[{key:"_incrementImpression",value:function _incrementImpression(ad){return new Promise(function(resolve,reject){return(0,_graphql.graphMutateWithoutUser)({t:'update_ad_impression'},{id:ad.id}).then(function(_ref){var success=_ref.success;return resolve(success);})["catch"](function(err){return reject(err);});});}},{key:"reportClick",value:function reportClick(ad){_main["default"].reportEventWithObj((0,_eventTypeTemplates.getClickedAdArgs)({id:ad.id}));}},{key:"reportImpression",value:function reportImpression(ad){var _this=this;return _current_user["default"].getAsync('isAdmin').then(function(isAdmin){return isAdmin?Promise.resolve(true):_this._incrementImpression(ad);}).then(function(success){})["catch"](function(err){return(0,_error_handler["default"])('Analytics reportImpression',err);});}},{key:"reportView",value:function reportView(ad){var meta=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_main["default"].reportEventWithObj((0,_eventTypeTemplates.getViewedAdArgs)(Object.assign({id:ad.id},meta)));this.reportImpression(ad);}}]);return AdAnalytics;}();;var adAnalyticsService=new AdAnalytics();var _default=adAnalyticsService;exports["default"]=_default;}),28949:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _PromiseBatcher=_interopRequireDefault(__webpack_require__(44519));var _enums=__webpack_require__(72973);var _accessors=__webpack_require__(4887);var _graphql=__webpack_require__(2740);var _TEMPLATE_MAP;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var TEMPLATE_MAP=(_TEMPLATE_MAP={},_defineProperty(_TEMPLATE_MAP,_enums.CONTENT_PAGE,'get_ads_content_page'),_defineProperty(_TEMPLATE_MAP,_enums.HOME_PAGE,'get_ads_home_page'),_defineProperty(_TEMPLATE_MAP,_enums.NEWS_HOME_PAGE,'get_ads_news_home_page'),_TEMPLATE_MAP);var AdsService=function(){function AdsService(pageType){var relations=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,AdsService);this.pageType=pageType;this.relations=relations;this._batcher=new _PromiseBatcher["default"]();this._isFetching=false;}
_createClass(AdsService,[{key:"_cachePromise",value:function _cachePromise(promise){this._batcher.cachePromise(promise);}},{key:"_fetchAds",value:function _fetchAds(){var _this=this;this._isFetching=true;return(0,_graphql.graphQuery)({t:TEMPLATE_MAP[this.pageType]},this.relations).then(function(_ref){var ads=_ref.ads;_this._isFetching=false;_this._batcher.resolveBatch(ads);})["catch"](function(err){_this._isFetching=false;_this._batcher.rejectBatch(err);});}},{key:"getAdForPage",value:function getAdForPage(key){var _this2=this;return new Promise(function(resolve,reject){_this2.getAdsForPage().then(function(ads){if(!ads.hasOwnProperty(key))return reject("Response does not have a key for arg: ".concat(key));resolve((0,_accessors.getInObj)([key],ads));})["catch"](function(err){return reject(err);});});}},{key:"getAdsForPage",value:function getAdsForPage(){var _this3=this;return new Promise(function(resolve,reject){_this3._cachePromise({resolve:resolve,reject:reject});if(!_this3._isFetching)return _this3._fetchAds();});}}]);return AdsService;}();var _default=AdsService;exports["default"]=_default;}),65175:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _searchIndex=__webpack_require__(22019);var _converters=__webpack_require__(29409);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var BaseAlgoliaService=function(){function BaseAlgoliaService(){var history=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var queryBuilder=arguments.length>2?arguments[2]:undefined;_classCallCheck(this,BaseAlgoliaService);this.algoliaIndex=index;this.history=history;this.mapifySearchQuery=_converters.mapifySearchQuery;this.queryBuilder=queryBuilder;this.queryHistory={currentQuery:'',nextQuery:''};this.stringifyQueryMap=_converters.stringifyQueryMap;}
_createClass(BaseAlgoliaService,[{key:"initializeFromUrl",value:function initializeFromUrl(initFacet,shouldPushToHistory){var _this=this;return new Promise(function(resolve,reject){return _this.mapifySearchQuery().then(function(map){return _this.buildAndStoreNextHistory(map);}).then(function(map){return _this.queryBuilder(map,initFacet);}).then(function(params){return _this.search(params,shouldPushToHistory);}).then(function(algoliaRes){return resolve(algoliaRes);})["catch"](function(err){return reject(err);});});}},{key:"initializeFromUrlWithOpts",value:function initializeFromUrlWithOpts(initFacet,opts,shouldPushToHistory){var _this2=this;return new Promise(function(resolve,reject){return _this2.mapifySearchQuery().then(function(map){return _this2.buildAndStoreNextHistory(Object.assign({},opts,map));}).then(function(map){return _this2.queryBuilder(map,initFacet);}).then(function(params){return _this2.search(params,shouldPushToHistory);}).then(function(algoliaRes){return resolve(algoliaRes);})["catch"](function(err){return reject(err);});});}},{key:"buildAndStoreNextHistory",value:function buildAndStoreNextHistory(queryMap){var _this3=this;return new Promise(function(resolve,reject){return _this3.stringifyQueryMap(queryMap).then(function(queryString){_this3.queryHistory.nextQuery=queryString;resolve(queryMap);})["catch"](function(err){return reject(err);});});}},{key:"setCurrentHistoryAndClearNext",value:function setCurrentHistoryAndClearNext(algoliaRes){var shouldPushToHistory=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(this.history.location.search!==this.queryHistory.nextQuery){this.queryHistory.currentQuery=this.queryHistory.nextQuery;this.queryHistory.nextQuery='';if(shouldPushToHistory)this.history.push({search:this.queryHistory.currentQuery});}
return Promise.resolve(algoliaRes);}},{key:"search",value:function search(){var _this4=this;var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$facets=_ref.facets,facets=_ref$facets===void 0?'*':_ref$facets,_ref$facetFilters=_ref.facetFilters,facetFilters=_ref$facetFilters===void 0?[]:_ref$facetFilters,_ref$params=_ref.params,params=_ref$params===void 0?{}:_ref$params,_ref$query=_ref.query,query=_ref$query===void 0?'':_ref$query,_ref$sort=_ref.sort,sort=_ref$sort===void 0?null:_ref$sort;var shouldPushToHistory=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(params&&params.page){params=Object.assign({},params,{page:Math.max((parseInt(params.page)||0)-1,0).toString()});}
return new Promise(function(resolve,reject){return(0,_searchIndex.searchIndexWithFacets)({index:_this4.algoliaIndex,facets:facets,facetFilters:facetFilters,params:params,query:query,sort:sort}).then(function(algoliaRes){return _this4.setCurrentHistoryAndClearNext(algoliaRes,shouldPushToHistory);}).then(function(algoliaRes){return resolve(algoliaRes);})["catch"](function(err){return reject(err);});});}},{key:"searchWithFilterString",value:function searchWithFilterString(filterString,initFacet){var _this5=this;var opts=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return new Promise(function(resolve,reject){return _this5.mapifySearchQuery().then(function(map){return(0,_converters.appendFilterStringToQueryMap)(Object.assign({},opts,map),filterString);}).then(function(updatedMap){return _this5.buildAndStoreNextHistory(updatedMap);}).then(function(updatedMap){return _this5.queryBuilder(updatedMap,initFacet);}).then(function(params){return _this5.search(params);}).then(function(algoliaRes){return resolve(algoliaRes);})["catch"](function(err){return reject(err);});});}},{key:"searchWithNoEffects",value:function searchWithNoEffects(queryMap,initFacet){var _this6=this;return new Promise(function(resolve,reject){return _this6.queryBuilder(queryMap,initFacet).then(function(params){return(0,_searchIndex.searchIndexWithFacets)(Object.assign({index:_this6.algoliaIndex},params));}).then(function(algoliaRes){return resolve(algoliaRes);})["catch"](function(err){return reject(err);});});}}]);return BaseAlgoliaService;}();exports["default"]=BaseAlgoliaService;}),71846:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _base_service=_interopRequireDefault(__webpack_require__(65175));var _query_builder=_interopRequireDefault(__webpack_require__(8512));var _searchIndex=__webpack_require__(22019);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AlgoliaContestsService=function(_BaseAlgoliaService){_inherits(AlgoliaContestsService,_BaseAlgoliaService);var _super=_createSuper(AlgoliaContestsService);function AlgoliaContestsService(){var history=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AlgoliaContestsService);return _super.call(this,history,'contests',_query_builder["default"]);}
_createClass(AlgoliaContestsService,[{key:"searchWithQueryString",value:function searchWithQueryString(queryString,queryMap,initFacet){var _this=this;return new Promise(function(resolve,reject){return(0,_query_builder["default"])(queryMap,initFacet).then(function(params){return(0,_searchIndex.searchIndexWithFacets)(Object.assign({index:_this.algoliaIndex,query:queryString},params));}).then(function(algoliaRes){return resolve(algoliaRes);})["catch"](function(err){return reject(err);});});}}]);return AlgoliaContestsService;}(_base_service["default"]);exports["default"]=AlgoliaContestsService;}),29409:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.appendFilterStringToQueryMap=appendFilterStringToQueryMap;exports.decodeLastUrlSegment=decodeLastUrlSegment;exports.getUrlSegmentsAfterUrlPart=getUrlSegmentsAfterUrlPart;exports.mapifySearchQuery=mapifySearchQuery;exports.stringifyQueryMap=stringifyQueryMap;var _converters=__webpack_require__(39719);var _window=__webpack_require__(33852);function appendFilterStringToQueryMap(queryMap,filterString){return new Promise(function(resolve){var filter=filterString.split('=');var queryMapCopy=Object.assign({},queryMap);if(filter[1]==='null'&&queryMapCopy.hasOwnProperty(filter[0])){delete queryMapCopy[filter[0]];}else if(filter[0]==='page'&&filter[1]==='0'&&queryMapCopy.hasOwnProperty('page')){delete queryMapCopy.page;}else if(filter[1]!=='null'){queryMapCopy[filter[0]]=filter[1];}
if(filter[0]==='sort'&&queryMapCopy.hasOwnProperty('page')){delete queryMapCopy.page;}
resolve(queryMapCopy);});}
function decodeLastUrlSegment(){return new Promise(function(resolve){var parts=_window.windowLocationPathname.get().split('/').filter(function(part){return part.length&&part!=='/';});var part=parts[parts.length-1]||'';resolve(decodeURIComponent(part));});}
function getUrlSegmentsAfterUrlPart(partToSliceAt){return new Promise(function(resolve){var parts=_window.windowLocationPathname.get().split('/').filter(function(part){return part.length&&part!=='/';});var sliceIndex=parts.indexOf(partToSliceAt);var segments=parts.slice(sliceIndex+1);resolve(segments.map(function(segment){return decodeURIComponent(segment);}));});}
function mapifySearchQuery(){return new Promise(function(resolve){var queryMap=(0,_converters.mapifyStringQuery)(_window.windowLocationSearch.get());var keys=Object.keys(queryMap);var updatedMap=keys.reduce(function(acc,key){if(queryMap[key]&&queryMap[key].length&&queryMap[key]!=='null'&&queryMap[key]!=='undefined'&&queryMap[key]!=='""'){acc[key]=queryMap[key];}
return acc;},{});resolve(updatedMap);});}
function stringifyQueryMap(queryMap){return new Promise(function(resolve){resolve((0,_converters.mapToStringQuery)(queryMap));});}}),34018:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=buildFacetFiltersForWhitelabel;var IGNORE_FACETS_FOR={'14760':function _(index,sort){return index==='parts'&&sort==='name';},'18265':function _(index){return index==='parts';}};function ignoreFacetFor(index,whitelabelId,sort){var fn=IGNORE_FACETS_FOR[whitelabelId.toString()];return typeof fn!=='undefined'&&typeof fn==='function'?fn(index,sort):false;}
function buildFacetFiltersForWhitelabel(index,whitelabelId){var sort=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var facetFilters=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];if(ignoreFacetFor(index,whitelabelId,sort))return facetFilters;var map={misc:[["whitelabel_ids:".concat(whitelabelId),'whitelabel_ids:0']],parts:["platforms.id:".concat(whitelabelId)],projects:["platforms.id:".concat(whitelabelId)],users:["channels.id:".concat(whitelabelId)]};return map.hasOwnProperty(index)?map[index].concat(facetFilters):facetFilters;}}),76519:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=buildParamsFromFilters;exports.FILTER_WHITELIST=void 0;var _validator=__webpack_require__(48966);var _createBoundingBox=_interopRequireDefault(__webpack_require__(63570));var _time=__webpack_require__(28716);var _location=__webpack_require__(86189);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var filterWhitelist={events:{attendance_type:function attendance_type(val){return keyValueFilter(val,'attendance_type');},date:function date(val){return pastOrUpcoming(val,'filter_timestamp');},event_type:function event_type(val){return keyValueFilter(val,'event_type');},location:'location'},projects:{difficulty:function difficulty(){var types=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'difficulty';return arrayToSQL(types,key,'OR');},language:function language(){var languages=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'programming_languages';return arrayToSQL(languages,key,'OR');},parts:function parts(){var _parts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'parts.full_name';return arrayToSQL(_parts,key,'AND');},project_type:function project_type(){var types=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'content_type';return arrayToSQL(types,key,'OR');}},users:{available_for_hire:function available_for_hire(bool){var key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'available_for_hire';return fillIfTrue(bool,key);},location:'location',skills:function skills(){var types=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'skills';return arrayToSQL(types,key,'AND');}},videos:{category:function category(){var types=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'category';return arrayToSQL(types,key,'OR');}}};function arrayToSQL(array,property,SQLseperator){return "(".concat(array.map(function(item){return "".concat(property,":\"").concat((0,_validator.escape)(item),"\"");}).join(" ".concat(SQLseperator," ")),")");}
function fillIfTrue(bool,key){return bool?"(".concat(key,":true)"):'';}
function keyValueFilter(val,key){return val?"(".concat(key,":").concat(val,")"):'';}
function pastOrUpcoming(val,key){if(!val)return '';var symbol=val==='past'?'<':'>';return "(".concat(key," ").concat(symbol," ").concat((0,_time.timeNowUnixSeconds)(),")");}
function filtersForFilterString(index,key){var ingorePropertiesForFilterString={location:true};return filterWhitelist.hasOwnProperty(index)&&filterWhitelist[index].hasOwnProperty(key)&&ingorePropertiesForFilterString.hasOwnProperty(key)===false;}
function buildBoundingBox(filters){if(!filters.hasOwnProperty('location'))return{};if((0,_location.validateLocationObj)(filters.location)===false)return{};var boundingBox=(0,_createBoundingBox["default"])(filters.location.geoloc,filters.location.distance);if(!Array.isArray(boundingBox))return{};return{insideBoundingBox:[boundingBox]};}
var FILTER_WHITELIST=function(whitelist){return Object.keys(whitelist).reduce(function(acc,type){Object.keys(whitelist[type]).forEach(function(key){acc[key]=key;});return acc;},{});}(filterWhitelist);exports.FILTER_WHITELIST=FILTER_WHITELIST;function buildParamsFromFilters(index){var filters=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var keys=Object.keys(filters);if(!keys.length)return '';if(!filterWhitelist.hasOwnProperty(index))return '';var filterString=keys.reduce(function(acc,key){if(filtersForFilterString(index,key)){var filter=filterWhitelist[index][key](filters[key]);return filter.length?acc.concat(filter):acc;}
return acc;},[]).join(' AND ');return Object.assign({filters:filterString},buildBoundingBox(filters));}}),63570:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=createBoundingBox;var toRad=function toRad(n){return n*Math.PI/180;};var toDeg=function toDeg(n){return n*180/Math.PI;};var milesToKM=function milesToKM(miles){if(typeof miles!=='number'){miles=parseFloat(miles);}
return miles*1.6;};var destinationPoint=function destinationPoint(lat,_long,brng,dist){var earthRadius=6371;dist=dist/earthRadius;brng=toRad(brng);var lat1=toRad(lat);var lon1=toRad(_long);var lat2=Math.asin(Math.sin(lat1)*Math.cos(dist)+Math.cos(lat1)*Math.sin(dist)*Math.cos(brng));var lon2=lon1+Math.atan2(Math.sin(brng)*Math.sin(dist)*Math.cos(lat1),Math.cos(dist)-Math.sin(lat1)*Math.sin(lat2));if(isNaN(lat2)||isNaN(lon2))return null;return{lat:toDeg(lat2),lng:toDeg(lon2)};};function createBoundingBox(geoloc,distance){distance=milesToKM(distance);var nw=destinationPoint(parseFloat(geoloc.lat),parseFloat(geoloc.lng),-45,distance);var se=destinationPoint(parseFloat(geoloc.lat),parseFloat(geoloc.lng),135,distance);if(nw===null||se===null)return null;return[nw.lat,nw.lng,se.lat,se.lng];}}),86189:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.validateLocationObj=validateLocationObj;exports.LOCATION_KEYS=void 0;var LOCATION_KEYS=['city','countryCode','distance','geoloc','state'];exports.LOCATION_KEYS=LOCATION_KEYS;function validateLocationObj(loc){var valid=true;LOCATION_KEYS.forEach(function(key){if(key==='geoloc'&&(!loc.hasOwnProperty('geoloc')||!loc.geoloc.hasOwnProperty('lat')||!loc.geoloc.hasOwnProperty('lng'))){valid=false;}else if(!loc.hasOwnProperty(key)){valid=false;}});return valid;}}),37471:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.validatedSortIndex=validatedSortIndex;exports["default"]=getAlgoliaIndex;var _algoliasearch=_interopRequireDefault(__webpack_require__(50638));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var KNOWN_PROJECTS_ALGOLIA_INDEXES=['featured_date','featured_platforms','featured_platforms_last_updated','featured_platforms_most_recent','featured_platforms_most_respected','featured_platforms_trending','last_updated','most_recent','most_respected','platforms_most_recent','trending'];var KNOWN_ALGOLIA_INDEXES={channels:['a_z','last_updated','most_projects'],contests:[],events:['earliest_first','latest_first'],misc:['a_z','most_projects'],news_articles:['most_recent','most_respected'],parts:['a_z','most_owned','name'],projects:KNOWN_PROJECTS_ALGOLIA_INDEXES,tags:[],topics:['a_z','last_updated','most_projects'],videos:['most_popular']};var AlgoliaSearchIndexes=function AlgoliaSearchIndexes(){if(!window||!window.jsk)return null;var jsk=window.jsk;var client=(0,_algoliasearch["default"])(jsk.aai,jsk.ask,{protocol:'https:'});var indexes={channels:client.initIndex(jsk.pli),contests:client.initIndex(jsk.cai),events:client.initIndex(jsk.evi),misc:client.initIndex(jsk.msc),news_articles:client.initIndex(jsk.nai),parts:client.initIndex(jsk.pai),projects:client.initIndex(jsk.pri),suggestions:client.initIndex(jsk.sqi),tags:client.initIndex(jsk.tai),topics:client.initIndex(jsk.tcai),users:client.initIndex(jsk.usi),videos:client.initIndex(jsk.vai)};return{getCustomIndex:function getCustomIndex(idx){return client.initIndex(idx);},getIndex:function getIndex(idx){return indexes[idx];}};};function validatedSortIndex(index,sortType){return KNOWN_ALGOLIA_INDEXES[index].includes(sortType);}
function getAlgoliaIndex(index,sortType){var algoliaSearchIndexes=AlgoliaSearchIndexes();if(!window.jsk)return new Error('window.jsk does not exist!');if(typeof algoliaSearchIndexes.getIndex(index)==='undefined')return new Error("algoliaSearchIndexes does not have index ".concat(index,"!"));if(sortType&&sortType.length){if(validatedSortIndex(index,sortType)===false)return new Error("Unknown index: ".concat(index," with sort ").concat(sortType));var map={channels:'pli',contests:'cai',events:'evi',misc:'msc',news_articles:'nai',parts:'pai',projects:'pri',suggestions:'sqi',tags:'tai',topics:'tcai',users:'usi',videos:'vai'};return algoliaSearchIndexes.getCustomIndex("".concat(window.jsk[map[index]],"_").concat(sortType));}else{return algoliaSearchIndexes.getIndex(index);}}}),61798:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getLazyFilterPromise=getLazyFilterPromise;exports.hasDependency=hasDependency;exports.getDependency=getDependency;var _current_user=_interopRequireDefault(__webpack_require__(94691));var _user_relations_store=_interopRequireDefault(__webpack_require__(34765));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var noop=function noop(){return Promise.resolve();};var fetchCurrentUserParts=function fetchCurrentUserParts(){return _user_relations_store["default"].fetchResource('part_ids');};var promises={user:{part_ids:fetchCurrentUserParts}};function getLazyFilterPromise(filterTypeObject){var key=Object.keys(filterTypeObject)[0];return promises[key]&&promises[key][filterTypeObject[key]]?promises[key][filterTypeObject[key]]:noop;}
var dependencies={user:function user(){return _current_user["default"].getAsync('id');}};function hasDependency(filterTypeObject){var key=Object.keys(filterTypeObject)[0];return dependencies.hasOwnProperty(key);}
function getDependency(filterTypeObject){var key=Object.keys(filterTypeObject)[0];return dependencies[key]?dependencies[key]:noop;}}),77721:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _base_service=_interopRequireDefault(__webpack_require__(65175));var _query_builder=_interopRequireDefault(__webpack_require__(8512));var _searchIndex=__webpack_require__(22019);var _converters=__webpack_require__(29409);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AlgoliaPartsService=function(_BaseAlgoliaService){_inherits(AlgoliaPartsService,_BaseAlgoliaService);var _super=_createSuper(AlgoliaPartsService);function AlgoliaPartsService(){var history=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AlgoliaPartsService);return _super.call(this,history,'parts',_query_builder["default"]);}
_createClass(AlgoliaPartsService,[{key:"getPartSlug",value:function getPartSlug(){return new Promise(function(resolve,reject){return(0,_converters.getUrlSegmentsAfterUrlPart)('products').then(function(segments){return resolve(segments[0]);})["catch"](function(err){return reject(err);});});}},{key:"searchWithQueryString",value:function searchWithQueryString(queryString,queryMap,initFacet){var _this=this;return new Promise(function(resolve,reject){return(0,_query_builder["default"])(queryMap,initFacet).then(function(params){return(0,_searchIndex.searchIndexWithFacets)(Object.assign({index:_this.algoliaIndex,query:queryString},params));}).then(function(algoliaRes){return resolve(algoliaRes);})["catch"](function(err){return reject(err);});});}}]);return AlgoliaPartsService;}(_base_service["default"]);exports["default"]=AlgoliaPartsService;}),8512:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=queryBuilder;var _buildFirstLevelAlgoliaParams=_interopRequireDefault(__webpack_require__(15515));var _buildFacetsFromQueryMap=_interopRequireDefault(__webpack_require__(21326));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
var KNOWN_FACETS={};var ALGOLIA_FACETS={};function composeQueryParameters(queryMap,initFacet){return new Promise(function(resolve,reject){var facetsFromQuery=(0,_buildFacetsFromQueryMap["default"])(queryMap,KNOWN_FACETS,ALGOLIA_FACETS);var facetFilters=[].concat(_toConsumableArray(facetsFromQuery),_toConsumableArray(initFacet)).filter(function(n){return n.length>0;});resolve({facetFilters:facetFilters,params:(0,_buildFirstLevelAlgoliaParams["default"])(queryMap),sort:''});});}
function queryBuilder(queryMap){var initFacet=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return new Promise(function(resolve,reject){return composeQueryParameters(queryMap,initFacet).then(function(queryParams){return resolve(queryParams);})["catch"](function(err){return reject(err);});});}}),51652:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _base_service=_interopRequireDefault(__webpack_require__(65175));var _query_builder=_interopRequireDefault(__webpack_require__(8512));var _searchIndex=__webpack_require__(22019);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AlgoliaPlatformsService=function(_BaseAlgoliaService){_inherits(AlgoliaPlatformsService,_BaseAlgoliaService);var _super=_createSuper(AlgoliaPlatformsService);function AlgoliaPlatformsService(){var history=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AlgoliaPlatformsService);return _super.call(this,history,'channels',_query_builder["default"]);}
_createClass(AlgoliaPlatformsService,[{key:"searchWithQueryString",value:function searchWithQueryString(queryString,queryMap,initFacet){var _this=this;return new Promise(function(resolve,reject){return(0,_query_builder["default"])(queryMap,initFacet).then(function(params){return(0,_searchIndex.searchIndexWithFacets)(Object.assign({index:_this.algoliaIndex,query:queryString},params));}).then(function(algoliaRes){return resolve(algoliaRes);})["catch"](function(err){return reject(err);});});}}]);return AlgoliaPlatformsService;}(_base_service["default"]);exports["default"]=AlgoliaPlatformsService;}),76262:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _base_service=_interopRequireDefault(__webpack_require__(65175));var _query_builder=_interopRequireDefault(__webpack_require__(97984));var _lazy_filters=__webpack_require__(61798);var _promises=__webpack_require__(25426);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AlgoliaProjectsService=function(_BaseAlgoliaService){_inherits(AlgoliaProjectsService,_BaseAlgoliaService);var _super=_createSuper(AlgoliaProjectsService);function AlgoliaProjectsService(){var history=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AlgoliaProjectsService);return _super.call(this,history,'projects',_query_builder["default"]);}
_createClass(AlgoliaProjectsService,[{key:"initializeLazyFiltersDependencies",value:function initializeLazyFiltersDependencies(filterDeps){var _this=this;return new Promise(function(resolve,reject){var dependencies=_this._getDependencies(filterDeps);if(!dependencies.promises.length)return resolve({});Promise.all(dependencies.promises.map(_promises.reflectPromise)).then(function(results){resolve(results.reduce(function(acc,result,i){if(result.status==='resolved'&&result.data){var dep=dependencies['map'][i];acc[dep]=dep;}
return acc;},{}));})["catch"](function(err){return reject(err);});});}},{key:"_getDependencies",value:function _getDependencies(filterDeps){return filterDeps.reduce(function(acc,dep){if((0,_lazy_filters.hasDependency)(dep)){var key=Object.keys(dep)[0];var mapIndex=acc.promises.length;acc.promises.push((0,_lazy_filters.getDependency)(dep)());acc.map[mapIndex]=key;}
return acc;},{promises:[],map:{}});}}]);return AlgoliaProjectsService;}(_base_service["default"]);exports["default"]=AlgoliaProjectsService;}),67068:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=buildFacetsFromQueryMap;var _buildFacetsFromQueryMap=_interopRequireDefault(__webpack_require__(21326));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var KNOWN_FACETS={by:function by(property){return property!=='toolbox';},category_id:function category_id(property){return property!=='featured';},category_ids:function category_ids(property){return property!=='featured';},content_type:function content_type(){return true;},difficulty:function difficulty(){return true;},part_id:function part_id(property){return property!=='me';},tag_id:function tag_id(property){return property!=='featured';},topic_id:function topic_id(property){return property!=='featured';}};var ALGOLIA_FACETS={by:function by(property){return property==='featured'?'featured:true':"by:".concat(property);},category_id:function category_id(property){return getArrayOfFacets('platforms.category_ids',property);},category_ids:function category_ids(property){return getArrayOfFacets('platforms.category_ids',property);},content_type:'content_type',difficulty:'difficulty',part_id:'parts.id',tag_id:'tag_ids',topic_id:'topic_ids'};var getArrayOfFacets=function getArrayOfFacets(key,value){if(Array.isArray(value)){return value.map(function(id){return "".concat(key,":").concat(id);});}else{return["".concat(key,":").concat(value)];}};function buildFacetsFromQueryMap(queryMap){return(0,_buildFacetsFromQueryMap["default"])(queryMap,KNOWN_FACETS,ALGOLIA_FACETS);}}),47834:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=fetchDataForLazyFilterParameters;var _lazy_filters=__webpack_require__(61798);var _promises=__webpack_require__(25426);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function buildToolbox(){var ids=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(!ids.length)return['parts_for_channels:[]'];return ids.map(function(id){return "parts_for_channels:".concat(id);});}
var KNOWN_LAZY_PARAMS={by:function by(property){return property==='toolbox';},part_id:function part_id(property){return property==='me';}};var PARAM_TO_LAZY_FILTER_MAP={by:{user:'part_ids'},part_id:{user:'part_ids'}};var FACET_FILTER_BUILDERS={by:buildToolbox,part_id:buildToolbox};function getPromises(queryMap,keys){return keys.reduce(function(acc,key,i){if(KNOWN_LAZY_PARAMS[key]&&KNOWN_LAZY_PARAMS[key](queryMap[key])){acc.promiseIndexToPropertyMap.push(key);acc.promises.push((0,_lazy_filters.getLazyFilterPromise)(PARAM_TO_LAZY_FILTER_MAP[key])());}
return acc;},{promises:[],promiseIndexToPropertyMap:[]});}
function fetchDataForLazyFilterParameters(){var queryMap=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new Promise(function(resolve,reject){var keys=Object.keys(queryMap);if(!keys.length)return resolve([]);var _getPromises=getPromises(queryMap,keys),promises=_getPromises.promises,promiseIndexToPropertyMap=_getPromises.promiseIndexToPropertyMap;return Promise.all(promises.map(_promises.reflectPromise)).then(function(results){resolve(results.reduce(function(acc,result,i){if(result.status==='resolved'&&result.data){var property=promiseIndexToPropertyMap[i];acc=[].concat(_toConsumableArray(acc),_toConsumableArray(FACET_FILTER_BUILDERS[property](result.data)));}
return acc;},[]));})["catch"](function(err){return reject(err);});});}}),2525:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=getSortFromQueryMap;var _helpers=__webpack_require__(87271);var FILTER_TO_ALGOLIA_MAP={featured_date:function featured_date(){return 'featured_date';},popular:function popular(){return '';},published:function published(initFacet){return(0,_helpers.doesInitFacetHavePlatform)(initFacet)?'platforms_most_recent':'most_recent';},respected:function respected(){return 'most_respected';},trending:function trending(){return 'trending';},updated:function updated(){return 'last_updated';}};var FEATURED_PLATFORMS={category_id:function category_id(value){return value==='featured'?'featured_platforms':'';},tag_id:function tag_id(value){return value==='featured'?'featured_platforms':'';},topic_id:function topic_id(value){return value==='featured'?'featured_platforms':'';}};function getSortIndex(queryMap,initFacet){if(!queryMap.hasOwnProperty('sort')||!FILTER_TO_ALGOLIA_MAP[queryMap['sort']])return 'trending';return FILTER_TO_ALGOLIA_MAP[queryMap['sort']](initFacet);}
function getFeaturedIndexForPlatform(queryMap){var initFacet=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var keys=Object.keys(queryMap);var featuredIndex=keys.reduce(function(acc,key){if(acc.length>0)return acc;return FEATURED_PLATFORMS.hasOwnProperty(key)?FEATURED_PLATFORMS[key](queryMap[key]):acc;},'');var sortIndex=getSortIndex(queryMap,initFacet);var forceTrending=!queryMap.hasOwnProperty('sort');return sortIndex==='trending'||forceTrending?featuredIndex:sortIndex;}
function getSortFromQueryMap(queryMap,initFacet){return(0,_helpers.doesQueryMapContainFeatured)(queryMap)&&(0,_helpers.doesInitFacetHavePlatform)(initFacet)?getFeaturedIndexForPlatform(queryMap,initFacet):getSortIndex(queryMap,initFacet);}}),87271:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.doesInitFacetHavePlatform=doesInitFacetHavePlatform;exports.doesQueryMapContainFeatured=doesQueryMapContainFeatured;function doesInitFacetHavePlatform(){var initFacet=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return initFacet.findIndex(function(facet){return typeof facet==='string'&&facet.split(':')[0]==='platforms.id';})>-1;}
function doesQueryMapContainFeatured(){var queryMap=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var keys=Object.keys(queryMap);return keys.includes('by')&&queryMap['by']==='featured'||keys.includes('tag_id')&&queryMap['tag_id']==='featured'||keys.includes('topic_id')&&queryMap['topic_id']==='featured'||keys.includes('category_id')&&queryMap['category_id']==='featured';}}),97984:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=queryBuilder;var _buildFirstLevelAlgoliaParams=_interopRequireDefault(__webpack_require__(15515));var _buildFacetsFromQueryMap=_interopRequireDefault(__webpack_require__(67068));var _getSortFromQueryMap=_interopRequireDefault(__webpack_require__(2525));var _fetchDataForLazyFilterParameters=_interopRequireDefault(__webpack_require__(47834));var _helpers=__webpack_require__(87271);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function prependFeaturedToPlatformFacet(initFacet,facetKey){return initFacet.reduce(function(acc,facet){var splitFacet=typeof facet==='string'?facet.split(':'):[];if(splitFacet[0]==='platforms.id'){return acc.concat("".concat(facetKey,":").concat(splitFacet[1]));}
acc.push(facet);return acc;},[]);}
function processInitFacetForSort(queryMap,initFacet,sort){if((0,_helpers.doesQueryMapContainFeatured)(queryMap)&&(0,_helpers.doesInitFacetHavePlatform)(initFacet)){return sort==='featured_platforms'?prependFeaturedToPlatformFacet(initFacet,'featured_platform.id'):prependFeaturedToPlatformFacet(initFacet,'featured_platform_ids');}else{return initFacet;}}
function composeQueryParameters(queryMap,initFacet,lazyData,sort){return new Promise(function(resolve){var facetsFiltersFromQuery=(0,_buildFacetsFromQueryMap["default"])(queryMap);var facetFilters=[_toConsumableArray(lazyData)].concat(_toConsumableArray(facetsFiltersFromQuery),_toConsumableArray(initFacet)).filter(function(n){return n.length>0;});var facets=queryMap.facets||[];var queryMapForFirstLevel=queryMap.hasOwnProperty('hitsPerPage')?queryMap:Object.assign({},queryMap,{hitsPerPage:24});resolve({facets:facets,facetFilters:facetFilters,sort:sort,params:(0,_buildFirstLevelAlgoliaParams["default"])(queryMapForFirstLevel),query:''});});}
function queryBuilder(queryMap){var initFacet=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return new Promise(function(resolve,reject){var sort=(0,_getSortFromQueryMap["default"])(queryMap,initFacet);var updatedInitFacet=processInitFacetForSort(queryMap,initFacet,sort);return(0,_fetchDataForLazyFilterParameters["default"])(queryMap).then(function(lazyData){return composeQueryParameters(queryMap,updatedInitFacet,lazyData,sort);}).then(function(queryParams){return resolve(queryParams);})["catch"](function(err){return reject(err);});});}}),21326:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=buildFacetsFromQueryMap;function buildFacetsFromQueryMap(queryMap){var KNOWN_FACETS=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var ALGOLIA_FACETS=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var keys=Object.keys(queryMap);if(!keys.length)return[];return keys.reduce(function(acc,key){var property=queryMap[key];if(KNOWN_FACETS[key]&&KNOWN_FACETS[key](property)&&property!==null){var algoliaFacet=ALGOLIA_FACETS[key];if(typeof algoliaFacet==='function'){acc.push(algoliaFacet(property));}else{acc.push(["".concat(algoliaFacet,":").concat(property)]);}}
return acc;},[]);}}),15515:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=buildFirstLevelAlgoliaParams;var KNOWN_PARAMS={hitsPerPage:'hitsPerPage',length:'length',offset:'offset',page:'page'};function buildFirstLevelAlgoliaParams(queryMap){var extendedParams=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var keys=Object.keys(queryMap);if(!keys.length)return{};var PARAMS=Object.assign({},KNOWN_PARAMS,extendedParams);return keys.reduce(function(acc,key){if(PARAMS[key]){acc[key]=queryMap[key];}
return acc;},{});}}),22019:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.searchForWhitelabel=searchForWhitelabel;exports.searchWithSuggestion=searchWithSuggestion;exports.searchIndexWithFacets=searchIndexWithFacets;exports["default"]=searchIndex;var _buildFacetFiltersForWhitelabel=_interopRequireDefault(__webpack_require__(34018));var _buildParamsFromFilters=_interopRequireDefault(__webpack_require__(76519));var _getAlgoliaIndex=_interopRequireDefault(__webpack_require__(37471));var _IndexSettings=__webpack_require__(85293);var _formatters=__webpack_require__(88231);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function buildParamsForSearchApp(params,filters,index){if(index==='parts'){var facetFilters=params.facetFilters||[];params=Object.assign({},params,{facetFilters:facetFilters.concat([['has_platform:true']])});}
if(index==='projects'){var _facetFilters=params.facetFilters||[];params=Object.assign({},params,{facetFilters:_facetFilters.concat([['approved:true']])});}
if(index==='videos'||index==='contests'){params=Object.assign({},params,{hitsPerPage:18,facetFilters:params.facetFilters||[]});}
return Object.assign({},params,(0,_buildParamsFromFilters["default"])(index,filters),{facets:'*',getRankingInfo:true});}
function _buildParamsForSearchAppWhiteLabels(params,filters,index){if(index==='parts'){var facetFilters=params.facetFilters||[];params=Object.assign({},params,{facetFilters:facetFilters.concat([['has_platform:true']])});}
return Object.assign({},params,(0,_buildParamsFromFilters["default"])(index,filters),{facets:'*',getRankingInfo:true});}
function getSuggestionByCategory(q,suggestion){return new Promise(function(resolve,reject){return searchIndex(Object.assign({},q,{index:suggestion.category})).then(function(res){return res.nbHits>0?resolve({index:suggestion.category,results:res.hits}):resolve(null);})["catch"](function(err){return reject(err);});});}
function getSuggestionByQuery(q){return new Promise(function(resolve,reject){return searchIndex(Object.assign({},q,{params:Object.assign({},q.params,{facetFilters:["query:".concat(q.query)]}),index:'suggestions'})).then(function(res){var bestMatch=res.nbHits>0?_getBestSuggestedMatch(q,res.hits):null;return bestMatch&&_validateSuggestionCategory(bestMatch)?getSuggestionByCategory(q,bestMatch):getSuggestionWaterfall(q);}).then(function(res){return resolve(res);})["catch"](function(err){return reject(err);});});}
function _getBestSuggestedMatch(q,hits){return Object.assign({},hits[0],{category:(0,_formatters.pluralize)(hits[0].category).toLowerCase()});}
function getSuggestionWaterfall(q){return new Promise(function(resolve,reject){return fetchUserByFacet(q).then(function(res){return res.nbHits>0?resolve({index:'users',results:res.hits}):fetchChannelByFacet(q);}).then(function(res){return res.nbHits>0?resolve({index:'channels',results:res.hits}):fetchPartByFacet(q);}).then(function(res){return res.nbHits>0?resolve({index:'parts',results:res.hits}):resolve(null);})["catch"](function(err){return reject(err);});});}
function fetchPartByFacet(q){return searchIndex(Object.assign({},q,{params:Object.assign({},q.params,{facetFilters:["name:".concat(q.query)]}),index:'parts'}));}
function fetchChannelByFacet(q){return searchIndex(Object.assign({},q,{params:Object.assign({},q.params,{facetFilters:["name:".concat(q.query)]}),index:'channels'}));}
function fetchUserByFacet(q){return searchIndex(Object.assign({},q,{params:Object.assign({},q.params,{facetFilters:["name:".concat(q.query)]}),index:'users'}));}
function getSuggestionStrategy(suggestion){return _validateSuggestionCategory(suggestion)?getSuggestionByCategory:getSuggestionByQuery;}
function _validateSuggestionCategory(suggestion){if(suggestion&&suggestion.category){return _IndexSettings.defaultWhiteList.hasOwnProperty(suggestion.category);}
return false;}
function _searchIndexForWhiteLabel(_ref){var index=_ref.index,query=_ref.query,_ref$sort=_ref.sort,sort=_ref$sort===void 0?null:_ref$sort,_ref$params=_ref.params,params=_ref$params===void 0?{}:_ref$params,_ref$filters=_ref.filters,filters=_ref$filters===void 0?{}:_ref$filters;return new Promise(function(resolve,reject){var algoliaIndex=(0,_getAlgoliaIndex["default"])(index,sort);if(algoliaIndex instanceof Error)reject(algoliaIndex);return algoliaIndex.search(query,_buildParamsForSearchAppWhiteLabels(params,filters,index)).then(function(res){return resolve(res);})["catch"](function(err){return reject(err);});});}
function searchForWhitelabel(q,whitelabel){var params=q.params||{};var paramsWithFacets=Object.assign({},params,{facetFilters:(0,_buildFacetFiltersForWhitelabel["default"])(q.index,whitelabel,q.sort,params.facetFilters)});return _searchIndexForWhiteLabel(Object.assign({},q,{params:paramsWithFacets}));}
function searchWithSuggestion(q){var suggestion=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var suggestionStrategy=getSuggestionStrategy(suggestion);return new Promise(function(resolve,reject){return Promise.all([suggestionStrategy({query:q.query,index:q.index,params:{hitsPerPage:5,page:0}},suggestion),searchIndex(q)]).then(function(res){return resolve({suggestion:res[0],res:res[1]});})["catch"](function(err){return reject(err);});});}
function searchIndexWithFacets(_ref2){var index=_ref2.index,_ref2$facetFilters=_ref2.facetFilters,facetFilters=_ref2$facetFilters===void 0?[]:_ref2$facetFilters,_ref2$sort=_ref2.sort,sort=_ref2$sort===void 0?null:_ref2$sort,_ref2$params=_ref2.params,params=_ref2$params===void 0?{}:_ref2$params,_ref2$query=_ref2.query,query=_ref2$query===void 0?'':_ref2$query,_ref2$facets=_ref2.facets,facets=_ref2$facets===void 0?[]:_ref2$facets;return new Promise(function(resolve,reject){var algoliaIndex=(0,_getAlgoliaIndex["default"])(index,sort);if(algoliaIndex instanceof Error)reject(algoliaIndex);return algoliaIndex.search(query,Object.assign({facets:facets,facetFilters:facetFilters},params)).then(function(res){return resolve(res);})["catch"](function(err){return reject(err);});});}
function searchIndex(_ref3){var index=_ref3.index,query=_ref3.query,_ref3$sort=_ref3.sort,sort=_ref3$sort===void 0?null:_ref3$sort,_ref3$params=_ref3.params,params=_ref3$params===void 0?{}:_ref3$params,_ref3$filters=_ref3.filters,filters=_ref3$filters===void 0?{}:_ref3$filters;return new Promise(function(resolve,reject){var algoliaIndex=(0,_getAlgoliaIndex["default"])(index,sort);if(algoliaIndex instanceof Error)reject(algoliaIndex);return algoliaIndex.search(query,buildParamsForSearchApp(params,filters,index)).then(function(res){return resolve(res);})["catch"](function(err){return reject(err);});});}}),85293:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=exports.whitelabelWhiteList=exports.defaultWhiteList=void 0;var _immutable=__webpack_require__(43393);var _getAlgoliaIndex=_interopRequireDefault(__webpack_require__(37471));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var defaultWhiteList={channels:true,contests:true,events:true,parts:true,news_articles:true,projects:true,users:true,videos:true};exports.defaultWhiteList=defaultWhiteList;var whitelabelWhiteList={parts:true,projects:true,users:true};exports.whitelabelWhiteList=whitelabelWhiteList;var IndexSettings=function(){function IndexSettings(){_classCallCheck(this,IndexSettings);this.settings=(0,_immutable.Map)();this.whitelists={"default":defaultWhiteList,whitelabel:whitelabelWhiteList};}
_createClass(IndexSettings,[{key:"getSetting",value:function getSetting(index){var _this=this;return new Promise(function(resolve,reject){if(!_this._inWhiteList(index))return reject(new Error("IndexSettings cannont get setting for invalid index: ".concat(index)));if(_this.settings.has(index))return resolve(_this.settings.get(index));return(0,_getAlgoliaIndex["default"])(index).getSettings().then(function(indexSettings){_this.settings=_this.settings.set(index,indexSettings);resolve(indexSettings);})["catch"](function(err){return reject(err);});});}},{key:"__setSetting",value:function __setSetting(index){var _this2=this;var settings=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return new Promise(function(resolve,reject){if(!_this2._inWhiteList(index))reject(new Error("IndexSettings cannont set setting for invalid index: ".concat(index)));return(0,_getAlgoliaIndex["default"])(index).setSettings(settings).then(function(res){return resolve(res);})["catch"](function(err){return reject(err);});});}},{key:"_inWhiteList",value:function _inWhiteList(index){var whitelabel=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!index||!index.length)return false;var map=whitelabel!==null?this.whitelists.whitelabel:this.whitelists["default"];return map.hasOwnProperty(index.toLowerCase());}}]);return IndexSettings;}();exports["default"]=IndexSettings;}),84718:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _base_service=_interopRequireDefault(__webpack_require__(65175));var _query_builder=_interopRequireDefault(__webpack_require__(8512));var _searchIndex=__webpack_require__(22019);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AlgoliaTagsService=function(_BaseAlgoliaService){_inherits(AlgoliaTagsService,_BaseAlgoliaService);var _super=_createSuper(AlgoliaTagsService);function AlgoliaTagsService(){var history=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AlgoliaTagsService);return _super.call(this,history,'tags',_query_builder["default"]);}
_createClass(AlgoliaTagsService,[{key:"searchWithQueryString",value:function searchWithQueryString(queryString,queryMap,initFacet){var _this=this;return new Promise(function(resolve,reject){return(0,_query_builder["default"])(queryMap,initFacet).then(function(params){return(0,_searchIndex.searchIndexWithFacets)(Object.assign({index:_this.algoliaIndex,query:queryString},params));}).then(function(algoliaRes){return resolve(algoliaRes);})["catch"](function(err){return reject(err);});});}}]);return AlgoliaTagsService;}(_base_service["default"]);exports["default"]=AlgoliaTagsService;}),38101:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _base_service=_interopRequireDefault(__webpack_require__(65175));var _query_builder=_interopRequireDefault(__webpack_require__(8512));var _searchIndex=__webpack_require__(22019);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AlgoliaTopicsService=function(_BaseAlgoliaService){_inherits(AlgoliaTopicsService,_BaseAlgoliaService);var _super=_createSuper(AlgoliaTopicsService);function AlgoliaTopicsService(){var history=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AlgoliaTopicsService);return _super.call(this,history,'topics',_query_builder["default"]);}
_createClass(AlgoliaTopicsService,[{key:"searchWithQueryString",value:function searchWithQueryString(queryString,queryMap,initFacet){var _this=this;return new Promise(function(resolve,reject){return(0,_query_builder["default"])(queryMap,initFacet).then(function(params){return(0,_searchIndex.searchIndexWithFacets)(Object.assign({index:_this.algoliaIndex,query:queryString},params));}).then(function(algoliaRes){return resolve(algoliaRes);})["catch"](function(err){return reject(err);});});}}]);return AlgoliaTopicsService;}(_base_service["default"]);exports["default"]=AlgoliaTopicsService;}),59040:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _base_service=_interopRequireDefault(__webpack_require__(65175));var _query_builder=_interopRequireDefault(__webpack_require__(31547));var _searchIndex=__webpack_require__(22019);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var AlgoliaVideosService=function(_BaseAlgoliaService){_inherits(AlgoliaVideosService,_BaseAlgoliaService);var _super=_createSuper(AlgoliaVideosService);function AlgoliaVideosService(){var history=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AlgoliaVideosService);return _super.call(this,history,'videos',_query_builder["default"]);}
_createClass(AlgoliaVideosService,[{key:"searchWithQueryString",value:function searchWithQueryString(queryString,queryMap,initFacet){var _this=this;return new Promise(function(resolve,reject){return(0,_query_builder["default"])(queryMap,initFacet).then(function(params){return(0,_searchIndex.searchIndexWithFacets)(Object.assign({index:_this.algoliaIndex,query:queryString},params));}).then(function(algoliaRes){return resolve(algoliaRes);})["catch"](function(err){return reject(err);});});}}]);return AlgoliaVideosService;}(_base_service["default"]);exports["default"]=AlgoliaVideosService;}),26461:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=getSortFromQueryMap;var FILTER_TO_ALGOLIA_MAP={popular:function popular(){return 'most_popular';},published:function published(){return '';}};function getSortIndex(queryMap,initFacet){if(!queryMap.hasOwnProperty('sort')||!FILTER_TO_ALGOLIA_MAP[queryMap['sort']])return '';return FILTER_TO_ALGOLIA_MAP[queryMap['sort']](initFacet);}
function getSortFromQueryMap(queryMap,initFacet){return getSortIndex(queryMap,initFacet);}}),31547:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=queryBuilder;var _buildFacetsFromQueryMap=_interopRequireDefault(__webpack_require__(21326));var _buildFirstLevelAlgoliaParams=_interopRequireDefault(__webpack_require__(15515));var _getSortFromQueryMap=_interopRequireDefault(__webpack_require__(26461));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
var KNOWN_FACETS={};var ALGOLIA_FACETS={};function composeQueryParameters(queryMap,initFacet,sort){return new Promise(function(resolve,reject){var facetsFromQuery=(0,_buildFacetsFromQueryMap["default"])(queryMap,KNOWN_FACETS,ALGOLIA_FACETS);var facetFilters=[].concat(_toConsumableArray(facetsFromQuery),_toConsumableArray(initFacet)).filter(function(n){return n.length>0;});resolve({facetFilters:facetFilters,params:(0,_buildFirstLevelAlgoliaParams["default"])(queryMap),sort:sort});});}
function queryBuilder(queryMap){var initFacet=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var sort=(0,_getSortFromQueryMap["default"])(queryMap,initFacet);return new Promise(function(resolve,reject){return composeQueryParameters(queryMap,initFacet,sort).then(function(queryParams){return resolve(queryParams);})["catch"](function(err){return reject(err);});});}}),67129:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _DummyCard=_interopRequireDefault(__webpack_require__(6405));var _project_card=_interopRequireDefault(__webpack_require__(12680));var _shared=__webpack_require__(36511);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var SECTION_KEY_TO_VIEW_METHOD={category_id:'_viewAllList',featured:'_viewAllList',sort:'_viewAllList',topic_id:'_viewAllList'};var _default=function _default(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},community=_ref.community;return{_getViewMethodNameForSectionKey:function _getViewMethodNameForSectionKey(sectionKey){return SECTION_KEY_TO_VIEW_METHOD[sectionKey]||null;},components:{category_id:function category_id(props){return _react["default"].createElement(_project_card["default"],Object.assign({project:props.record},_shared.projectProps));},sort:function sort(props){return _react["default"].createElement(_project_card["default"],Object.assign({project:props.record},_shared.projectProps));},topic_id:function topic_id(props){return _react["default"].createElement(_project_card["default"],Object.assign({project:props.record},_shared.projectProps));}},links:{category_id:function category_id(section){return{external:"/".concat(community.user_name,"/projects?category_id=").concat(section.value),internal:"/projects?category_id=".concat(section.value)};},sort:function sort(section){return{external:"/".concat(community.user_name,"/projects?sort=").concat(section.value),internal:"/projects?sort=".concat(section.value)};},topic_id:function topic_id(section){return{external:"/".concat(community.user_name,"/projects?topic_id=").concat(section.value),internal:"/projects?topic_id=".concat(section.value)};}},listFacet:{category_id:function category_id(section){return["communities.id:".concat(community.id)];},sort:function sort(section){return["communities.id:".concat(community.id)];},topic_id:function topic_id(section){return["communities.id:".concat(community.id),"topic_ids:".concat(section.value)];}},loaderComponent:{category_id:function category_id(){return _react["default"].createElement(_DummyCard["default"],_shared.dummyProjectProps);},sort:function sort(){return _react["default"].createElement(_DummyCard["default"],_shared.dummyProjectProps);},topic_id:function topic_id(){return _react["default"].createElement(_DummyCard["default"],_shared.dummyProjectProps);}},pagination:{category_id:function category_id(){return{maxCardCount:4,type:'page'};},sort:function sort(){return{maxCardCount:4,type:'page'};},topic_id:function topic_id(){return{maxCardCount:4,type:'page'};}},pinnedItemFacet:{},projectsFacet:{},queryMap:{category_id:function category_id(section){return{category_id:section.value,hitsPerPage:4,sort:'trending',qlVars:section.value==='featured'?{base_channel_id:community.id,featured:true}:{base_channel_id:community.id,channel_category_id:section.value}};},sort:function sort(section){return{hitsPerPage:4,sort:section.value,qlVars:{base_channel_id:community.id}};},topic_id:function topic_id(section){return{topic_ids:section.value,hitsPerPage:4,sort:'trending',qlVars:section.value==='featured'?{base_channel_id:community.id,featured:true}:{base_channel_id:community.id,topic_id:section.value}};}},service:{category_id:function category_id(){return 'projectsService';},sort:function sort(){return 'projectsService';},topic_id:function topic_id(){return 'projectsService';}},serviceOverride:{category_id:function category_id(){return 'graphQlProjectsService';},featured:function featured(){return 'graphQlProjectsService';},sort:function sort(){return 'graphQlProjectsService';},topic_id:function topic_id(){return 'graphQlProjectsService';}},pinnedServiceOverride:{}};};exports["default"]=_default;}),21659:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _channel_card=_interopRequireDefault(__webpack_require__(50776));var _contest_card=_interopRequireDefault(__webpack_require__(54555));var _DummyCard=_interopRequireDefault(__webpack_require__(6039));var _DummyCard2=_interopRequireDefault(__webpack_require__(6405));var _DummyCard3=_interopRequireDefault(__webpack_require__(39836));var _simple_logo_card=_interopRequireDefault(__webpack_require__(11044));var _project_card=_interopRequireDefault(__webpack_require__(12680));var _video_card=_interopRequireDefault(__webpack_require__(81326));var _shared=__webpack_require__(36511);var _facets=__webpack_require__(22488);var _accessors=__webpack_require__(4887);var _view_all=_interopRequireDefault(__webpack_require__(10076));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var SECTION_KEY_TO_VIEW_METHOD={category_id:'_viewAllList',contest_id:'_pinnedItemProjectsListView',featured:'_viewAllList',platform_id:'_pinnedItemProjectsListView',platforms:'_viewAllList',sort:'_viewAllList',topic_id:'_pinnedItemProjectsListView',topics:'_viewAllList',video:'_viewAllList'};var getLinksForSort=function getLinksForSort(section){var url=section.value==='featured_date'?'/projects?by=featured&sort=featured_date':"/projects?sort=".concat(section.value);return{external:url,internal:url};};var getPlatformsListFacet=function getPlatformsListFacet(section,allSections,i){var ignored=(0,_facets.negativeFacetsForList)(section,allSections,i,'platform_id','id');return ignored.concat('model:Platform');};var getTopicsListFacet=function getTopicsListFacet(section,allSections,i){var ignoredTopics=(0,_facets.negativeFacetsForList)(section,allSections,i,'topic_id','id');return ignoredTopics.concat('display_on_home:true').concat('model:TopicChannel');};var _default=function _default(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$doScroll=_ref.doScroll,doScroll=_ref$doScroll===void 0?false:_ref$doScroll;var ctx=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return{_getViewMethodNameForSectionKey:function _getViewMethodNameForSectionKey(sectionKey){return SECTION_KEY_TO_VIEW_METHOD[sectionKey]||null;},components:{contest_id:function contest_id(props){return _react["default"].createElement(_contest_card["default"],props);},platform_id:function platform_id(props){return _react["default"].createElement(_channel_card["default"],Object.assign({},props,{channelType:'platform'}));},platforms:function platforms(props){return _react["default"].createElement(_simple_logo_card["default"],Object.assign({},props,{classList:{wrapper:_view_all["default"].scrollerItem}}));},sort:function sort(props){return _react["default"].createElement(_project_card["default"],Object.assign({itemIndex:props.i,overrideTracking:props.overrideTracking,project:props.record},_shared.projectProps));},topic_id:function topic_id(props){return _react["default"].createElement(_channel_card["default"],Object.assign({},props,{channelType:'topic'}));},topics:function topics(props){return _react["default"].createElement(_simple_logo_card["default"],Object.assign({},props,{classList:{wrapper:_view_all["default"].scrollerItem}}));},video:function video(props){return _react["default"].createElement(_video_card["default"],Object.assign({},props,{classList:{wrapper:_view_all["default"].scrollerItemProject},item:props.record,onClick:function onClick(e,item,itemIndex,sectionIndex){e.preventDefault();return ctx?ctx.summonVideoDialog(item,itemIndex,sectionIndex):console.warning('You forgot to bind a callback for homeCofig videos!');}}));}},links:{contest_id:function contest_id(section,contest){return{external:contest.url,internal:''};},platform_id:function platform_id(section,platform){return{external:platform.url?platform.url:'javascript:void(0);',internal:platform.slug?"".concat(platform.slug,"/projects"):'/',view_all:platform.url?"".concat(platform.url,"/projects"):'javascript:void(0);'};},platforms:function platforms(){return{external:'/channels/platforms',internal:'/channels/platforms'};},sort:function sort(section){return getLinksForSort(section);},topic_id:function topic_id(section,topic){return{external:topic.url?topic.url:'javascript:void(0);',internal:topic.url?topic.url:'/',view_all:topic.url?"".concat(topic.url,"/projects"):'javascript:void(0);'};},topics:function topics(){return{external:'/channels/topics',internal:'/channels/topics'};},video:function video(){return{external:'/videos',internal:''};}},listFacet:{platforms:function platforms(section,allSections,i){return getPlatformsListFacet(section,allSections,i);},sort:function sort(section){return[];},topics:function topics(section,allSections,i){return getTopicsListFacet(section,allSections,i);},video:function video(section,allSections,i){return[];}},loaderComponent:{platforms:function platforms(){return _react["default"].createElement(_DummyCard["default"],{classList:{wrapper:"".concat(_view_all["default"].scrollerItem," ").concat(_view_all["default"].dummyCard)}});},sort:function sort(){return _react["default"].createElement(_DummyCard2["default"],_shared.dummyProjectProps);},topics:function topics(){return _react["default"].createElement(_DummyCard["default"],{classList:{wrapper:"".concat(_view_all["default"].scrollerItem," ").concat(_view_all["default"].dummyCard)}});},video:function video(){return _react["default"].createElement(_DummyCard3["default"],{classList:{wrapper:"".concat(_view_all["default"].scrollerItemProject," ").concat(_view_all["default"].dummyCard)}});}},pagination:{contest_id:function contest_id(){return{maxCardCount:doScroll?16:4,type:'offset',length:8};},platform_id:function platform_id(){return{maxCardCount:doScroll?16:4,type:'offset',length:8};},platforms:function platforms(){return{maxCardCount:doScroll?32:8,type:'page'};},sort:function sort(){return{maxCardCount:doScroll?16:4,type:'page'};},topic_id:function topic_id(){return{maxCardCount:doScroll?16:4,type:'offset',length:8};},topics:function topics(){return{maxCardCount:doScroll?32:8,type:'page'};},video:function video(){return{maxCardCount:4,type:'page',length:4};}},pinnedItemFacet:{contest_id:function contest_id(section){return["id:".concat(section.value)];},platform_id:function platform_id(section){return["id:".concat(section.value)];},topic_id:function topic_id(section){return["id:".concat(section.value)];}},projectsFacet:{contest_id:function contest_id(section){return["contest_ids:".concat(section.value)];},platform_id:function platform_id(section){return["platforms.id:".concat(section.value)];},topic_id:function topic_id(section){return["topic_ids:".concat(section.value)];}},queryMap:{contest_id:function contest_id(section){return{length:doScroll?7:3,offset:0,qlVars:{'contest_id':section.value,approved:true}};},platform_id:function platform_id(section){return{length:doScroll?7:3,offset:0,sort:'trending',qlVars:{'channel_id':section.value,approved:true}};},platforms:function platforms(section){return{hitsPerPage:doScroll?16:8};},sort:function sort(section){return{hitsPerPage:doScroll?8:4,sort:section.value,qlVars:{approved:true}};},topic_id:function topic_id(section){return{length:doScroll?7:3,offset:0,sort:'published',qlVars:{'topic_id':section.value,approved:true}};},topics:function topics(section){return{hitsPerPage:doScroll?16:8};},video:function video(section){return{qlVars:{ids:(0,_accessors.getInObj)(['meta','content'],section)}};}},service:{contest_id:function contest_id(){return 'contestsService';},platform_id:function platform_id(){return 'platformsService';},platforms:function platforms(){return 'platformsService';},sort:function sort(){return 'projectsService';},topic_id:function topic_id(){return 'topicsService';},topics:function topics(){return 'topicsService';},video:function video(){return 'videosService';}},serviceOverride:{sort:function sort(){return 'graphQlProjectsService';},video:function video(){return 'graphQlVideosService';}},pinnedServiceOverride:{contest_id:function contest_id(){return 'graphQlProjectsService';},platform_id:function platform_id(){return 'graphQlProjectsService';},topic_id:function topic_id(){return 'graphQlProjectsService';}}};};exports["default"]=_default;}),61609:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=getConfigForType;var _communityConfig=_interopRequireDefault(__webpack_require__(67129));var _homeConfig=_interopRequireDefault(__webpack_require__(21659));var _platformConfig=_interopRequireDefault(__webpack_require__(81602));var _topicConfig=_interopRequireDefault(__webpack_require__(47005));var _whitelabelConfig=_interopRequireDefault(__webpack_require__(52542));var _error_handler=_interopRequireDefault(__webpack_require__(84616));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var APP_CONFIG={community:_communityConfig["default"],home:_homeConfig["default"],platform:_platformConfig["default"],topic:_topicConfig["default"],whitelabel:_whitelabelConfig["default"]};function getConfigForType(type){var props=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var ctx=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!APP_CONFIG.hasOwnProperty(type)){(0,_error_handler["default"])("Expected a known type but got, \"".concat(type,"\". Known types: ").concat(Object.keys(APP_CONFIG)));return{};}
return APP_CONFIG[type](props,ctx);}}),81602:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _DummyCard=_interopRequireDefault(__webpack_require__(6405));var _part_card=_interopRequireDefault(__webpack_require__(95759));var _project_card=_interopRequireDefault(__webpack_require__(12680));var _shared=__webpack_require__(36511);var _view_all=_interopRequireDefault(__webpack_require__(10076));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var SECTION_KEY_TO_VIEW_METHOD={category_id:'_viewAllList',featured:'_viewAllList',part_id:'_pinnedItemProjectsListView',sort:'_viewAllList',topic_id:'_viewAllList'};var _default=function _default(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},platform=_ref.platform;return{_getViewMethodNameForSectionKey:function _getViewMethodNameForSectionKey(sectionKey){return SECTION_KEY_TO_VIEW_METHOD[sectionKey]||null;},components:{category_id:function category_id(props){return _react["default"].createElement(_project_card["default"],Object.assign({project:props.record},_shared.projectProps));},part_id:function part_id(props){return _react["default"].createElement(_part_card["default"],{part:props.item,onClick:props.onClick,classList:{wrapper:_view_all["default"].scrollerItemProject}});},sort:function sort(props){return _react["default"].createElement(_project_card["default"],Object.assign({project:props.record},_shared.projectProps));},topic_id:function topic_id(props){return _react["default"].createElement(_project_card["default"],Object.assign({project:props.record},_shared.projectProps));}},links:{category_id:function category_id(section){return{external:"/".concat(platform.user_name,"/projects?category_id=").concat(section.value),internal:"/projects?category_id=".concat(section.value)};},part_id:function part_id(section,part){return{external:part.url,internal:"/products/".concat(part.slug)};},sort:function sort(section){return{external:"/".concat(platform.user_name,"/projects?sort=").concat(section.value),internal:"/projects?sort=".concat(section.value)};},topic_id:function topic_id(section){return{external:"/".concat(platform.user_name,"/projects?topic_id=").concat(section.value),internal:"/projects?topic_id=".concat(section.value)};}},listFacet:{category_id:function category_id(section){return["platforms.id:".concat(platform.id)];},sort:function sort(section){return["platforms.id:".concat(platform.id)];},topic_id:function topic_id(section){return["platforms.id:".concat(platform.id),"topic_ids:".concat(section.value)];}},loaderComponent:{category_id:function category_id(){return _react["default"].createElement(_DummyCard["default"],_shared.dummyProjectProps);},sort:function sort(){return _react["default"].createElement(_DummyCard["default"],_shared.dummyProjectProps);},topic_id:function topic_id(){return _react["default"].createElement(_DummyCard["default"],_shared.dummyProjectProps);}},pagination:{category_id:function category_id(){return{maxCardCount:4,type:'page'};},part_id:function part_id(){return{maxCardCount:4,type:'offset',length:4};},sort:function sort(){return{maxCardCount:4,type:'page'};},topic_id:function topic_id(){return{maxCardCount:4,type:'page'};}},pinnedItemFacet:{part_id:function part_id(section){return["id:".concat(section.value)];}},projectsFacet:{part_id:function part_id(section){return["platforms.id:".concat(platform.id),"parts_for_channels:".concat(section.value)];}},queryMap:{category_id:function category_id(section){return{category_id:section.value,hitsPerPage:4,sort:'trending',qlVars:section.value==='featured'?{base_channel_id:platform.id,featured:true}:{base_channel_id:platform.id,channel_category_id:section.value}};},part_id:function part_id(section){return{hitsPerPage:3,sort:'trending',qlVars:{base_channel_id:platform.id,'part_id':section.value}};},sort:function sort(section){return{hitsPerPage:4,sort:section.value,qlVars:{base_channel_id:platform.id}};},topic_id:function topic_id(section){return{topic_ids:section.value,hitsPerPage:4,sort:'trending',qlVars:section.value==='featured'?{base_channel_id:platform.id,featured:true}:{base_channel_id:platform.id,topic_id:section.value}};}},service:{category_id:function category_id(){return 'projectsService';},part_id:function part_id(){return 'partsService';},sort:function sort(){return 'projectsService';},topic_id:function topic_id(){return 'projectsService';}},serviceOverride:{category_id:function category_id(){return 'graphQlProjectsService';},featured:function featured(){return 'graphQlProjectsService';},sort:function sort(){return 'graphQlProjectsService';},topic_id:function topic_id(){return 'graphQlProjectsService';}},pinnedServiceOverride:{part_id:function part_id(){return 'graphQlProjectsService';}}};};exports["default"]=_default;}),36511:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.dummyProjectProps=exports.projectProps=void 0;var _view_all=_interopRequireDefault(__webpack_require__(10076));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var projectProps={cardBorder:true,classList:{wrapper:_view_all["default"].scrollerItemProject},usePortal:true};exports.projectProps=projectProps;var dummyProjectProps={cardBorder:true,classList:{card:_view_all["default"].dummyProjectCard,wrapper:_view_all["default"].scrollerItemProject}};exports.dummyProjectProps=dummyProjectProps;}),47005:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _DummyCard=_interopRequireDefault(__webpack_require__(6405));var _project_card=_interopRequireDefault(__webpack_require__(12680));var _shared=__webpack_require__(36511);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var SECTION_KEY_TO_VIEW_METHOD={featured:'_viewAllList',sort:'_viewAllList',tag_id:'_viewAllList'};var _default=function _default(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},topic=_ref.topic;return{_getViewMethodNameForSectionKey:function _getViewMethodNameForSectionKey(sectionKey){return SECTION_KEY_TO_VIEW_METHOD[sectionKey]||null;},components:{sort:function sort(props){return _react["default"].createElement(_project_card["default"],Object.assign({project:props.record},_shared.projectProps));},tag_id:function tag_id(props){return _react["default"].createElement(_project_card["default"],Object.assign({project:props.record},_shared.projectProps));}},links:{sort:function sort(section){return{external:"/".concat(topic.user_name.toLowerCase(),"/projects?sort=").concat(section.value),internal:"/projects?sort=".concat(section.value)};},tag_id:function tag_id(section){return{external:"/".concat(topic.user_name.toLowerCase(),"/projects?tag_id=").concat(section.value),internal:"/projects?tag_id=".concat(section.value)};}},listFacet:{sort:function sort(section){return["topic_ids:".concat(topic.id)];},tag_id:function tag_id(section){return["topic_ids:".concat(topic.id),"tag_ids:".concat(section.value)];}},loaderComponent:{sort:function sort(){return _react["default"].createElement(_DummyCard["default"],_shared.dummyProjectProps);},tag_id:function tag_id(){return _react["default"].createElement(_DummyCard["default"],_shared.dummyProjectProps);}},pagination:{sort:function sort(){return{maxCardCount:4,type:'page'};},tag_id:function tag_id(){return{maxCardCount:4,type:'page'};}},pinnedItemFacet:{},projectsFacet:{},queryMap:{sort:function sort(section){return{hitsPerPage:4,sort:section.value,qlVars:{approved:true,topic_id:topic.id}};},tag_id:function tag_id(section){return{tag_ids:section.value,hitsPerPage:4,sort:'trending',qlVars:section.value==='featured'?{topic_id:topic.id,featured:true}:{approved:true,topic_id:topic.id,tag_id:section.value}};}},service:{sort:function sort(){return 'projectsService';},tag_id:function tag_id(){return 'projectsService';}},serviceOverride:{featured:function featured(){return 'graphQlProjectsService';},sort:function sort(){return 'graphQlProjectsService';},tag_id:function tag_id(){return 'graphQlProjectsService';}}};};exports["default"]=_default;}),52542:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _DummyCard=_interopRequireDefault(__webpack_require__(6405));var _part_card=_interopRequireDefault(__webpack_require__(95759));var _project_card=_interopRequireDefault(__webpack_require__(12680));var _shared=__webpack_require__(36511);var _view_all=_interopRequireDefault(__webpack_require__(10076));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var SECTION_KEY_TO_VIEW_METHOD={category_id:'_viewAllList',featured:'_viewAllList',part_id:'_pinnedItemProjectsListView',sort:'_viewAllList',topic_id:'_viewAllList'};var pathPrefix=function pathPrefix(rootPath){return rootPath==='/'?rootPath:"".concat(rootPath,"/");};var _default=function _default(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},platform=_ref.platform,rootPath=_ref.rootPath;return{_getViewMethodNameForSectionKey:function _getViewMethodNameForSectionKey(sectionKey){return SECTION_KEY_TO_VIEW_METHOD[sectionKey]||null;},components:{category_id:function category_id(props){return _react["default"].createElement(_project_card["default"],Object.assign({project:props.record},_shared.projectProps));},part_id:function part_id(props){return _react["default"].createElement(_part_card["default"],{part:Object.assign({},props.item,{url:"".concat(pathPrefix(rootPath),"products/").concat(props.item.slug)}),onClick:props.onClick,classList:{wrapper:_view_all["default"].scrollerItemProject}});},sort:function sort(props){return _react["default"].createElement(_project_card["default"],Object.assign({project:props.record},_shared.projectProps));},topic_id:function topic_id(props){return _react["default"].createElement(_project_card["default"],Object.assign({project:props.record},_shared.projectProps));}},links:{category_id:function category_id(section){return{external:"".concat(pathPrefix(rootPath),"projects?category_id=").concat(section.value),internal:"".concat(pathPrefix(rootPath),"projects?category_id=").concat(section.value)};},part_id:function part_id(section,part){return{external:"".concat(pathPrefix(rootPath),"products/").concat(part.slug),internal:"".concat(pathPrefix(rootPath),"products/").concat(part.slug)};},sort:function sort(section){return{external:"".concat(pathPrefix(rootPath),"projects?sort=").concat(section.value),internal:"".concat(pathPrefix(rootPath),"projects?sort=").concat(section.value)};},topic_id:function topic_id(section){return{external:"".concat(pathPrefix(rootPath),"projects?topic_id=").concat(section.value),internal:"".concat(pathPrefix(rootPath),"projects?topic_id=").concat(section.value)};}},listFacet:{category_id:function category_id(section){return["platforms.id:".concat(platform.id)];},sort:function sort(section){return["platforms.id:".concat(platform.id)];},topic_id:function topic_id(section){return["platforms.id:".concat(platform.id),"topic_ids:".concat(section.value)];}},loaderComponent:{category_id:function category_id(){return _react["default"].createElement(_DummyCard["default"],_shared.dummyProjectProps);},sort:function sort(){return _react["default"].createElement(_DummyCard["default"],_shared.dummyProjectProps);},topic_id:function topic_id(){return _react["default"].createElement(_DummyCard["default"],_shared.dummyProjectProps);}},pagination:{category_id:function category_id(){return{maxCardCount:4,type:'page'};},part_id:function part_id(){return{maxCardCount:4,type:'offset',length:4};},sort:function sort(){return{maxCardCount:4,type:'page'};},topic_id:function topic_id(){return{maxCardCount:4,type:'page'};}},pinnedItemFacet:{part_id:function part_id(section){return["id:".concat(section.value)];}},projectsFacet:{part_id:function part_id(section){return["platforms.id:".concat(platform.id),"parts_for_channels:".concat(section.value)];}},queryMap:{category_id:function category_id(section){return{category_id:section.value,hitsPerPage:4,sort:'trending',qlVars:section.value==='featured'?{base_channel_id:platform.id,featured:true}:{base_channel_id:platform.id,channel_category_id:section.value}};},part_id:function part_id(section){return{hitsPerPage:3,sort:'trending',qlVars:{base_channel_id:platform.id,'part_id':section.value}};},sort:function sort(section){return{hitsPerPage:4,sort:section.value,qlVars:{base_channel_id:platform.id}};},topic_id:function topic_id(section){return{topic_ids:section.value,hitsPerPage:4,sort:'trending',qlVars:section.value==='featured'?{base_channel_id:platform.id,featured:true}:{base_channel_id:platform.id,topic_id:section.value}};}},service:{category_id:function category_id(){return 'projectsService';},part_id:function part_id(){return 'partsService';},sort:function sort(){return 'projectsService';},topic_id:function topic_id(){return 'projectsService';}},serviceOverride:{category_id:function category_id(){return 'graphQlProjectsService';},featured:function featured(){return 'graphQlProjectsService';},sort:function sort(){return 'graphQlProjectsService';},topic_id:function topic_id(){return 'graphQlProjectsService';}},pinnedServiceOverride:{part_id:function part_id(){return 'graphQlProjectsService';}}};};exports["default"]=_default;}),88017:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.buildPaginatedQuery=void 0;var normalPaginator=function normalPaginator(currentQuery){return{hitsPerPage:currentQuery.hitsPerPage,page:currentQuery.page+1};};var offsetPaginator=function offsetPaginator(currentQuery,pagination){return{length:pagination.length,offset:currentQuery.offset+currentQuery.length,sort:'trending'};};var paginatorMap={offset:offsetPaginator,page:normalPaginator};var buildPaginatedQuery=function buildPaginatedQuery(_ref){var queryMap=_ref.queryMap,pagination=_ref.pagination,currentQuery=_ref.currentQuery;return Object.assign({},queryMap,paginatorMap[pagination.type](currentQuery,pagination));};exports.buildPaginatedQuery=buildPaginatedQuery;}),22488:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.negativeFacetsForList=negativeFacetsForList;function negativeFacetsForList(section,allSections,i,key,algoliaKey){var sectionsBefore=allSections.slice(0,i);return sectionsBefore.reduce(function(acc,section){return section.key===key?acc.concat("".concat(algoliaKey,":-").concat(section.value)):acc;},[]);}}),69800:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _pinned_item_view_all_list=_interopRequireDefault(__webpack_require__(58415));var _view_all_list=_interopRequireDefault(__webpack_require__(64356));var _contests_service=_interopRequireDefault(__webpack_require__(71846));var _parts_service=_interopRequireDefault(__webpack_require__(77721));var _platforms_service=_interopRequireDefault(__webpack_require__(51652));var _projects_service=_interopRequireDefault(__webpack_require__(76262));var _topics_service=_interopRequireDefault(__webpack_require__(38101));var _videos_service=_interopRequireDefault(__webpack_require__(59040));var _projects_service2=_interopRequireDefault(__webpack_require__(26487));var _videos_service2=_interopRequireDefault(__webpack_require__(6825));var _config=_interopRequireDefault(__webpack_require__(61609));var _error_handler=_interopRequireDefault(__webpack_require__(84616));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var ViewAllBuilder=function(){function ViewAllBuilder(_ref){var type=_ref.type,_ref$props=_ref.props,props=_ref$props===void 0?{}:_ref$props;var ctx=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;_classCallCheck(this,ViewAllBuilder);this.config=(0,_config["default"])(type,props,ctx);this.contestsService=new _contests_service["default"]();this.partsService=new _parts_service["default"]();this.platformsService=new _platforms_service["default"]();this.projectsService=new _projects_service["default"]();this.topicsService=new _topics_service["default"]();this.videosService=new _videos_service["default"]();this.graphQlProjectsService=new _projects_service2["default"]();this.graphQlVideosService=new _videos_service2["default"]();}
_createClass(ViewAllBuilder,[{key:"getComponent",value:function getComponent(section,i,boundCallbacks,allSections){var methodName=this.config._getViewMethodNameForSectionKey(section.key);if(!methodName){(0,_error_handler["default"])("ViewAllBuilder getComponent requires a known key but got, ".concat(section.key,"! Check the config's SECTION_KEY_TO_VIEW_METHOD to make sure the key is defined!"));return _react["default"].createElement("div",null);}
return this[methodName](section,i,boundCallbacks,allSections);}},{key:"_getComponentFromConfig",value:function _getComponentFromConfig(section,props){return this.config.components.hasOwnProperty(section.key)?this.config.components[section.key](props):_react["default"].createElement("div",null);}},{key:"_getLinksFromConfig",value:function _getLinksFromConfig(section,item){return this.config.links.hasOwnProperty(section.key)?this.config.links[section.key](section,item):{external:'',internal:''};}},{key:"_getListFacet",value:function _getListFacet(section,allSections,i){return this.config.listFacet.hasOwnProperty(section.key)?this.config.listFacet[section.key](section,allSections,i):[];}},{key:"_getLoaderComponentFromConfig",value:function _getLoaderComponentFromConfig(section){return this.config.loaderComponent.hasOwnProperty(section.key)?this.config.loaderComponent[section.key](section):_react["default"].createElement("div",null);}},{key:"_getPagination",value:function _getPagination(section){return this.config.pagination.hasOwnProperty(section.key)?this.config.pagination[section.key](section):{};}},{key:"_getPinnedItemFacet",value:function _getPinnedItemFacet(section){return this.config.pinnedItemFacet.hasOwnProperty(section.key)?this.config.pinnedItemFacet[section.key](section):[];}},{key:"_getProjectsFacet",value:function _getProjectsFacet(section){return this.config.projectsFacet.hasOwnProperty(section.key)?this.config.projectsFacet[section.key](section):[];}},{key:"_getQueryMap",value:function _getQueryMap(section){return this.config.queryMap.hasOwnProperty(section.key)?this.config.queryMap[section.key](section):{};}},{key:"_getServiceFromConfig",value:function _getServiceFromConfig(section){if(!this.config.service.hasOwnProperty(section.key)){(0,_error_handler["default"])("ViewAllBuilder _getServiceFromConfig got an unknown key, ".concat(section.key,"!  Known keys: ").concat(Object.keys(this.config.service)));return{};}
if(this.config.hasOwnProperty('serviceOverride')&&this.config.serviceOverride.hasOwnProperty(section.key)){return this[this.config.serviceOverride[section.key]()];}
return this[this.config.service[section.key]()];}},{key:"_getProjectServiceForPinnedList",value:function _getProjectServiceForPinnedList(section){if(this.config.hasOwnProperty('pinnedServiceOverride')&&this.config.pinnedServiceOverride.hasOwnProperty(section.key)){return this[this.config.pinnedServiceOverride[section.key]()];}
return this.projectsService;}},{key:"_pinnedItemProjectsListView",value:function _pinnedItemProjectsListView(section,i,passThroughProps,allSections){var _this=this;return _react["default"].createElement(_pinned_item_view_all_list["default"],_extends({key:"".concat(section.key,"_").concat(section.value),algoliaPinnedItemService:this._getServiceFromConfig(section),algoliaProjectsService:this._getProjectServiceForPinnedList(section),index:i,initPinnedItemFacet:this._getPinnedItemFacet(section),initProjectsFacet:this._getProjectsFacet(section),pinnedCardTemplateFn:function pinnedCardTemplateFn(props){return _this._getComponentFromConfig(section,props);},queryMap:this._getQueryMap(section),pagination:this._getPagination(section),title:section.title,viewAllLinksComposer:function viewAllLinksComposer(item){return _this._getLinksFromConfig(section,item);}},passThroughProps));}},{key:"_viewAllList",value:function _viewAllList(section,i,passThroughProps,allSections){var _this2=this;return _react["default"].createElement(_view_all_list["default"],_extends({key:"".concat(section.key,"_").concat(section.value),algoliaService:this._getServiceFromConfig(section),cardTemplateFn:function cardTemplateFn(record,i,props){return _this2._getComponentFromConfig(section,Object.assign({record:record,i:i},props));},index:i,initFacet:this._getListFacet(section,allSections,i),loaderCardFn:function loaderCardFn(){return _this2._getLoaderComponentFromConfig(section);},pagination:this._getPagination(section),queryMap:this._getQueryMap(section),section:section,title:section.title,viewAllLinksComposer:function viewAllLinksComposer(){return _this2._getLinksFromConfig(section);}},passThroughProps));}}]);return ViewAllBuilder;}();exports["default"]=ViewAllBuilder;}),3744:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.createVirtualPageview=createVirtualPageview;var _window=__webpack_require__(33852);var _excluded=["path","pageType","title"];function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}
function buildProps(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var path=_ref.path,pageType=_ref.pageType,title=_ref.title,additionalProps=_objectWithoutProperties(_ref,_excluded);return Object.assign({event:'gtm.virtualPageview',pageType:pageType||(0,_window.getDocumentFunction)('querySelector')('meta[name=pageType]').content,virtualPage:path||_window.windowLocationPathname.get(),virtualTitle:title||(0,_window.getDocumentProperty)('title')},additionalProps);};function createVirtualPageview(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(window&&window.gglTagMngrDataLayer){window.gglTagMngrDataLayer.push(buildProps(props));}}}),38596:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _postal=_interopRequireDefault(__webpack_require__(33360));var _user_relations_store=_interopRequireDefault(__webpack_require__(34765));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var STORE_KEY='bookmark_lists';var BookmarkStore=function(){function BookmarkStore(){_classCallCheck(this,BookmarkStore);this._channel=_postal["default"].channel('bookmarks');}
_createClass(BookmarkStore,[{key:"initialize",value:function initialize(){return new Promise(function(resolve,reject){if(_user_relations_store["default"].has(STORE_KEY))return resolve();return _user_relations_store["default"].fetchAll().then(function(){return resolve();})["catch"](function(err){return reject(err);});});}},{key:"_publishBookmarkChange",value:function _publishBookmarkChange(listId,projectId,addOrRemoveBool){this._channel.publish('bookmark.changed',{listId:listId,projectId:projectId,addOrRemoveBool:addOrRemoveBool});}},{key:"_sortByName",value:function _sortByName(){var lists=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return _toConsumableArray(lists).sort(function(a,b){return a.name<b.name?-1:a.name>b.name?1:0;});}},{key:"getChannel",value:function getChannel(){return this._channel;}},{key:"getList",value:function getList(listId){return this.getLists().find(function(list){return list.id===listId;});}},{key:"getLists",value:function getLists(){return _user_relations_store["default"].get(STORE_KEY);}},{key:"addList",value:function addList(newList){var projectId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var lists=this.getLists();var project_ids=projectId?[projectId]:[];var list=Object.assign({},newList,{project_ids:project_ids});var newLists=this._sortByName([list].concat(lists));_user_relations_store["default"].set(STORE_KEY,newLists);if(projectId)this._publishBookmarkChange(newList.id,projectId,true);return newLists;}},{key:"updateList",value:function updateList(newList){var lists=this.getLists();var newLists=lists.map(function(list){return list.id===newList.id?Object.assign({},list,newList):list;});var sortedLists=this._sortByName(newLists);_user_relations_store["default"].set(STORE_KEY,sortedLists);return sortedLists;}},{key:"removeList",value:function removeList(listId){var lists=this.getLists();var newLists=lists.filter(function(list){return list.id!==listId;});_user_relations_store["default"].set(STORE_KEY,newLists);return newLists;}},{key:"addProjectToList",value:function addProjectToList(projectId,listId){var lists=this.getLists();var newLists=lists.reduce(function(acc,list){var newList=list.id===listId?Object.assign({},list,{project_ids:[projectId].concat(list.project_ids)}):list;return acc.concat(newList);},[]);_user_relations_store["default"].set(STORE_KEY,newLists);this._publishBookmarkChange(listId,projectId,true);return newLists;}},{key:"removeProjectFromList",value:function removeProjectFromList(projectId,listId){var lists=this.getLists();var newLists=lists.reduce(function(acc,list){var newList=list.id===listId?Object.assign({},list,{project_ids:list.project_ids.filter(function(id){return id!==projectId;})}):list;return acc.concat(newList);},[]);_user_relations_store["default"].set(STORE_KEY,newLists);this._publishBookmarkChange(listId,projectId,false);return newLists;}}]);return BookmarkStore;}();;var bookmarkStore=new BookmarkStore();var _default=bookmarkStore;exports["default"]=_default;}),96222:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.copyStringToClipboard=void 0;var _dispatchers=__webpack_require__(10912);var copyStringToClipboard=function copyStringToClipboard(text){var msg=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Link copied!";var input=document.createElement('input');input.value=text;document.body.appendChild(input);input.select();document.execCommand('copy');document.body.removeChild(input);(0,_dispatchers.summonGlobalMessenger)({msg:msg});};exports.copyStringToClipboard=copyStringToClipboard;}),47892:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.areCookiesSupported=areCookiesSupported;exports.deleteCookie=deleteCookie;exports.getCookie=getCookie;exports.setCookie=setCookie;var _json=__webpack_require__(50129);var _window=__webpack_require__(33852);var _cookiesSupported=null;function _documentCookieGet(){return document.cookie;}
function _documentCookieSet(val){document.cookie=val;}
function _navigatorCookieEnabled(){return window.navigator.cookieEnabled;}
function _delete(key){var cookie=_get(key);_documentCookieSet("".concat(key,"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/; domain=").concat(_window.windowLocationHostname.get().toString(),";"));return cookie;}
function _get(key){var result=_documentCookieGet().match(new RegExp("".concat(key,"=([^;]+)")));if(!result||!result[1])return null;return(0,_json.tryJSONParse)(result[1],result[1]);}
function _set(key,value){_documentCookieSet("".concat(key,"=").concat(JSON.stringify(value),"; path=/; domain=").concat(_window.windowLocationHostname.get().toString(),";"));}
function areCookiesSupported(){if(_cookiesSupported===null){if(_window.isWindowDefined&&_navigatorCookieEnabled()){_set('testcookie','1');var cookie=_get('testcookie');if(cookie){_delete('testcookie');}
_cookiesSupported=!!cookie;}else{_cookiesSupported=false;}}
return _cookiesSupported;}
function deleteCookie(key){return areCookiesSupported()?_delete(key):null;}
function getCookie(key){return areCookiesSupported()?_get(key):null;}
function setCookie(key,value){return areCookiesSupported()?_set(key,value):null;}}),90561:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getFormattedLocation=getFormattedLocation;exports.buildLocation=buildLocation;exports.getCountryData=getCountryData;exports.getCountryListForSelect=getCountryListForSelect;exports.getCountryDataForAddress=getCountryDataForAddress;exports.getStateForCountry=getStateForCountry;exports.getStateFromAbbr=getStateFromAbbr;exports.getStateForLocationSelectOutput=getStateForLocationSelectOutput;exports.COUNTRY_ISO_2_HAS_VALID_STATES=void 0;var _countryData=__webpack_require__(3023);var _Countries=__webpack_require__(72224);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var STATES_MAP={AU:_Countries.Australia,CA:_Countries.Canada,MX:_Countries.Mexico,US:_Countries.States};var COUNTRY_ISO_2_HAS_VALID_STATES=Object.keys(STATES_MAP);exports.COUNTRY_ISO_2_HAS_VALID_STATES=COUNTRY_ISO_2_HAS_VALID_STATES;var countryDataObjectForAddress=function countryDataObjectForAddress(address){return{alpha2:address.country_iso2,alpha3:null,countryCallingCodes:[],currencies:[],ioc:null,languages:['eng'],name:address.country,status:'assigned'};};var DEFAULT_LOCATION_FORMATTER=function DEFAULT_LOCATION_FORMATTER(_ref){var city=_ref.city,country_iso2=_ref.country_iso2,state=_ref.state;return country_iso2==='US'?getLocationString(city,state):buildLocation(city,state,country_iso2);};var getLocationString=function getLocationString(){var city=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var state=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var country=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";return[city,state,country].filter(function(string){return string&&string.length>0;}).join(', ');};function getFormattedLocation(){var _ref2=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},city=_ref2.city,country_iso2=_ref2.country_iso2,state=_ref2.state;var formatter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:DEFAULT_LOCATION_FORMATTER;return formatter({city:city,country_iso2:country_iso2,state:state});}
function buildLocation(){var city=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var state=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var country_iso2=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var countryField=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'name';var country=_countryData.lookup.countries({alpha2:country_iso2})[0];var countryAttr=country&&country.hasOwnProperty(countryField)?country[countryField]:'';return getLocationString(city,state,countryAttr);}
function getCountryData(country){var countryKey=country.length===2?'alpha2':country.length===3?'alpha3':'name';return _countryData.lookup.countries(_defineProperty({},countryKey,country))[0];}
function getCountryListForSelect(){var usFirst=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;return _countryData.countries.all.reduce(function(acc,c){if(c.status==='assigned'){acc=usFirst&&c.alpha2==='US'?[{data:c,label:c.name,value:c.alpha2}].concat(acc):acc.concat({data:c,label:c.name,value:c.alpha2});}
return acc;},[]).sort(function(a,b){if(usFirst&&a.value==='US')return-1;if(a.label<b.label)return-1;if(a.label>b.label)return 1;return 0;});}
function getCountryDataForAddress(address){var country;if(address.country_iso2&&address.country_iso2.length>0){country=_countryData.lookup.countries({alpha2:address.country_iso2})[0];}else{country=_countryData.lookup.countries({name:address.country})[0];}
return country?country:countryDataObjectForAddress(address);}
function getStateForCountry(state,countryData){if(!STATES_MAP.hasOwnProperty(countryData.alpha2))return state;var countryStates=STATES_MAP[countryData.alpha2];var stateObj=countryStates.find(function(cs){return cs["short"].toLowerCase()===state.toLowerCase()||cs.name.toLowerCase()===state.toLowerCase();});return stateObj?stateObj["short"]:state;}
function getStateFromAbbr(abbrState,country_iso2){if(!STATES_MAP.hasOwnProperty(country_iso2))return abbrState;var statesForCountry=STATES_MAP[country_iso2];var state=statesForCountry.find(function(cs){return cs["short"].toLowerCase()===abbrState.toLowerCase();});return state?state.name:abbrState;}
function getStateForLocationSelectOutput(location){var countryCode=location.countryCode.toUpperCase();if(!STATES_MAP.hasOwnProperty(countryCode))return null;var statesForCountry=STATES_MAP[countryCode];var state=statesForCountry.find(function(cs){return cs.name.toLowerCase()===location.state.toLowerCase();});return state?state["short"]:null;}}),94691:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _immutable=__webpack_require__(43393);var _graphql=__webpack_require__(2740);var _PromiseBatcher=_interopRequireDefault(__webpack_require__(44519));var _postal=_interopRequireDefault(__webpack_require__(33360));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var _currentUser=new _immutable.Map({});var CurrentUser=function(){function CurrentUser(){_classCallCheck(this,CurrentUser);this.batch=new _PromiseBatcher["default"]();this.initialized=false;this.isFetching=false;this.channel=_postal["default"].channel('currentUser');}
_createClass(CurrentUser,[{key:"__initialize",value:function __initialize(){var _this=this;this.isFetching=true;return(0,_graphql.graphQueryWithUserNoSigninDialog)({t:'get_current_user'}).then(function(res){_this.initialized=true;_this.isFetching=false;if(res&&res.user){_currentUser=_currentUser.merge((0,_immutable.fromJS)(res.user));}
return Promise.resolve({});})["catch"](function(err){return Promise.reject(err);});}},{key:"fetchPermissions",value:function fetchPermissions(permissions){var _this2=this;return new Promise(function(resolve,reject){var _permissions$reduce=permissions.reduce(function(acc,permission){var permissionName=Object.keys(permission)[0];if(_this2.hasIn([permissionName,permission[permissionName]['key']])){acc.permissionsToResolve[permissionName]=_defineProperty({},permission[permissionName]['key'],_this2.getIn([permissionName,permission[permissionName]['key']]));}else{acc.permissionsToFetch.push(permission[permissionName]['ql']);}
return acc;},{permissionsToFetch:[],permissionsToResolve:{}}),permissionsToFetch=_permissions$reduce.permissionsToFetch,permissionsToResolve=_permissions$reduce.permissionsToResolve;if(!permissionsToFetch.length){return resolve(permissionsToResolve);}
permissionsToFetch.map(function(permission){return(0,_graphql.graphQueryWithUserNoSigninDialog)(permission.query,permission.variables).then(function(_ref){var user=_ref.user;if(!user)return resolve({});var permissionsFromServer=Object.keys(user).reduce(function(acc,permissionName){var permission=permissions.find(function(p){return Object.keys(p)[0]===permissionName;});if(permission){acc[permissionName]=_defineProperty({},permission[permissionName]['key'],user[permissionName]);_this2.setIn([permissionName,permission[permissionName]['key']],user[permissionName]);}
return acc;},{});resolve(Object.assign({},permissionsToResolve,permissionsFromServer));})["catch"](function(err){return reject(err);});});});}},{key:"fetchProperty",value:function fetchProperty(property){var _this3=this;var query=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return new Promise(function(resolve,reject){if(_this3.has(property))return resolve(_this3.get(property));return(0,_graphql.graphQueryWithUserNoSigninDialog)(query).then(function(res){if(res&&res.user&&res.user[property]){_this3.set(property,res.user[property]);resolve(res.user[property]);}else{resolve({});}})["catch"](function(err){return reject(err);});});}},{key:"get",value:function get(key){return _currentUser.get(key);}},{key:"getProperties",value:function getProperties(properties){var _this4=this;return properties.reduce(function(acc,property){return _this4.has(property)?Object.assign({},acc,_defineProperty({},property,_this4.get(property))):acc;},{});}},{key:"getChannel",value:function getChannel(){return this.channel;}},{key:"getId",value:function getId(){return this.get('id');}},{key:"getIn",value:function getIn(path){return _currentUser.getIn(path);}},{key:"getStore",value:function getStore(){return _currentUser.toJS();}},{key:"getAsync",value:function getAsync(key){var _this5=this;return new Promise(function(resolve,reject){return _this5.getStoreAsync().then(function(){return _this5.has(key)?resolve(_this5.get(key)):resolve(null);})["catch"](function(err){return reject(err);});});}},{key:"getStoreAsync",value:function getStoreAsync(){var _this6=this;return new Promise(function(resolve,reject){if(_this6.has('id'))return resolve(_this6.getStore());_this6.batch.cachePromise({resolve:resolve,reject:reject});if(_this6.isFetching)return;return _this6.__initialize().then(function(){return _this6.batch.resolveBatch(_this6.getStore());})["catch"](function(err){return _this6.batch.rejectBatch(err);});});}},{key:"has",value:function has(key){return _currentUser.has(key);}},{key:"hasIn",value:function hasIn(path){return _currentUser.hasIn(path);}},{key:"set",value:function set(key,value){_currentUser=_currentUser.set(key,value);}},{key:"setIn",value:function setIn(path,value){_currentUser=_currentUser.setIn(path,value);}},{key:"_getOnboardingAsBool",value:function _getOnboardingAsBool(){var op=this.getIn(['onboarding_progress',0]);return typeof op==='boolean'?op:false;}},{key:"getCurrentOnboardingStatus",value:function getCurrentOnboardingStatus(){var _this7=this;return new Promise(function(resolve,reject){return _this7.getStoreAsync().then(function(){return resolve(_this7._getOnboardingAsBool());})["catch"](function(err){return reject(err);});});}},{key:"completeOnboarding",value:function completeOnboarding(){var _this8=this;return new Promise(function(resolve,reject){return(0,_graphql.graphMutate)({t:'update_user_onboarding_progress'},{complete:true}).then(function(){_this8.setIn(['onboarding_progress',0],true);resolve();})["catch"](function(err){return reject(err);});});}},{key:"__refresh__",value:function __refresh__(){_currentUser=new _immutable.Map({});this.batch=new _PromiseBatcher["default"]();this.initialized=false;this.isFetching=false;this.channel=_postal["default"].channel('currentUser');}},{key:"__getCurrentUser__",value:function __getCurrentUser__(){return _currentUser;}},{key:"__setCurrentUser__",value:function __setCurrentUser__(user){_currentUser=user;}}]);return CurrentUser;}();var currentUser=new CurrentUser();var _default=currentUser;exports["default"]=_default;}),53244:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=convertDocXToHtml;var _mammoth=_interopRequireDefault(__webpack_require__(59255));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var MAMMOTH_OPTS={styleMap:["p[style-name^='Heading'] => h3:fresh"]};var convertFileToArrayBuffer=function convertFileToArrayBuffer(file){return new Promise(function(resolve,reject){var fr=new FileReader();fr.addEventListener('error',function(error){reject(error);});fr.addEventListener('loadend',function(event){resolve(event.currentTarget.result);});fr.readAsArrayBuffer(file);});};function convertDocXToHtml(e){return new Promise(function(resolve,reject){var file=e.target.files[0];return convertFileToArrayBuffer(file).then(function(buffer){return _mammoth["default"].convertToHtml({arrayBuffer:buffer},MAMMOTH_OPTS);}).then(function(results){return resolve(results.value);})["catch"](function(err){return reject(err);});});}}),84616:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=errorHandler;function errorHandler(){console.error.apply(console,arguments);}}),27350:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=uploadFile;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _uuid=__webpack_require__(21614);var _xml2js=_interopRequireDefault(__webpack_require__(5055));var _oauth=_interopRequireDefault(__webpack_require__(97523));var _images=__webpack_require__(83922);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function getS3AuthData(fileName,apiPath,token){fileName=fileName||(0,_uuid.v4)();return new Promise(function(resolve,reject){_superagent["default"].get("".concat(apiPath,"/private/files/signed_url?file%5Bname%5D=").concat(fileName,"&context=no-context")).set('Authorization',"Bearer ".concat(token)).end(function(err,res){err?reject(err):resolve(res.body);});});}
function postToS3FromBrowser(data,file,opts){var progressCallback=opts.progressCallback;var _getAWSResources=(0,_images.getAWSResources)(),S3BucketURL=_getAWSResources.S3BucketURL;var form=new FormData();Object.entries(data).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];form.append(key,value);});form.append('file',file);return new Promise(function(resolve,reject){_superagent["default"].post(S3BucketURL).accept('application/xml').send(form).on('progress',function(e){if(progressCallback){progressCallback(e);}}).end(function(err,S3Response){if(err)return reject(err);_xml2js["default"].parseString(S3Response.text,function(error,parsedXML){error?reject(error):resolve(parsedXML.PostResponse.Location[0]);});});});}
function postUrlToHackster(url,apiPath,token){return new Promise(function(resolve,reject){_superagent["default"].post("".concat(apiPath,"/private/files")).set('Authorization',"Bearer ".concat(token)).send({'file_url':url}).end(function(err,res){err?reject(err):resolve(res.body.id);});});}
function processAndUploadFile(file,token,opts){var apiPath=_oauth["default"].getApiPath();return new Promise(function(resolve,reject){getS3AuthData(file.name,apiPath,token).then(function(S3Data){return postToS3FromBrowser(S3Data,file,opts);}).then(function(url){return postUrlToHackster(url,apiPath,token);}).then(function(id){return resolve(id);})["catch"](function(err){return reject(err);});});}
function uploadFile(file,opts){opts=opts||{};return new Promise(function(resolve,reject){_oauth["default"].getApiToken(function(token){processAndUploadFile(file,token,opts).then(function(id){return resolve(id);})["catch"](function(err){return reject(err);});});});}}),82128:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _graphql=__webpack_require__(2740);var _converters=__webpack_require__(29409);var _window=__webpack_require__(33852);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var GraphQLBaseService=function(){function GraphQLBaseService(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},history=_ref.history,queryBuilder=_ref.queryBuilder,queryString=_ref.queryString,resolverKey=_ref.resolverKey;_classCallCheck(this,GraphQLBaseService);this.graphQLQueryString=queryString;this.history=history;this.queryBuilder=queryBuilder;this.queryHistory={currentQuery:'',nextQuery:''};this.mapifySearchQuery=_converters.mapifySearchQuery;this.resolverKey=resolverKey||null;this.stringifyQueryMap=_converters.stringifyQueryMap;}
_createClass(GraphQLBaseService,[{key:"initializeFromUrl",value:function initializeFromUrl(initArgs){var _this=this;return new Promise(function(resolve,reject){return _this.mapifySearchQuery().then(function(map){return _this.buildAndStoreNextHistory(map);}).then(function(map){return _this.queryBuilder(Object.assign({},initArgs,map));}).then(function(params){return _this.search(_this.graphQLQueryString(),Object.assign({},initArgs,params));}).then(function(currentQuery){return resolve(currentQuery);})["catch"](function(err){return reject(err);});});}},{key:"buildAndStoreNextHistory",value:function buildAndStoreNextHistory(queryMap){var _this2=this;return new Promise(function(resolve,reject){return _this2.stringifyQueryMap(queryMap).then(function(queryString){_this2.queryHistory.nextQuery=queryString;resolve(queryMap);})["catch"](function(err){return reject(err);});});}},{key:"setCurrentHistoryAndClearNext",value:function setCurrentHistoryAndClearNext(response){var currentPath=_window.windowLocationSearch.get();var query=currentPath.split('?')[1]||'';if(query!==this.queryHistory.nextQuery&&this.history.location.search!==this.queryHistory.nextQuery){this.queryHistory.currentQuery=this.queryHistory.nextQuery;this.queryHistory.nextQuery='';this.history.push({search:this.queryHistory.currentQuery});}
return Promise.resolve(response);}},{key:"search",value:function search(query,params){var _this3=this;return new Promise(function(resolve,reject){return(0,_graphql.graphQuery)(query,params).then(function(res){return _this3.setCurrentHistoryAndClearNext(_this3._resolveQLResponse(res));}).then(function(res){return resolve(res);})["catch"](function(err){return reject(err);});});}},{key:"_resolveQLResponse",value:function _resolveQLResponse(response){var loop=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(this.resolverKey&&response.hasOwnProperty(this.resolverKey))return response[this.resolverKey];if(loop>=5)return response;if(response.hasOwnProperty('records'))return response;var key=Object.keys(response)[0];return this._resolveQLResponse(response[key],loop+=1);}},{key:"searchWithFilterString",value:function searchWithFilterString(filterString,initArgs){var _this4=this;var removePage=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return new Promise(function(resolve,reject){return _this4.mapifySearchQuery().then(function(map){return _this4._appendFilterStringToQueryMap(map,filterString,removePage);}).then(function(updatedMap){return _this4.buildAndStoreNextHistory(updatedMap);}).then(function(updatedMap){return _this4.queryBuilder(Object.assign({},initArgs,updatedMap));}).then(function(params){return _this4.search(_this4.graphQLQueryString(),Object.assign({},initArgs,params));}).then(function(currentQuery){return resolve(currentQuery);})["catch"](function(err){return reject(err);});});}},{key:"_appendFilterStringToQueryMap",value:function _appendFilterStringToQueryMap(queryMap,filterString,removePage){var filter=filterString.split('=');if(filter[1]==='null'&&queryMap.hasOwnProperty(filter[0])){delete queryMap[filter[0]];}else if(filter[0]==='page'&&filter[1]==='1'&&queryMap.hasOwnProperty('page')){delete queryMap.page;}else if(filter[1]!=='null'){queryMap[filter[0]]=filter[1];}
if(removePage&&queryMap.page){delete queryMap.page;}
return Promise.resolve(queryMap);}}]);return GraphQLBaseService;}();exports["default"]=GraphQLBaseService;}),26487:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _base_service=_interopRequireDefault(__webpack_require__(82128));var _query_builder=_interopRequireDefault(__webpack_require__(44766));var _graphql=__webpack_require__(2740);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var QUERY=function QUERY(){return{t:'published_projects_with_simple_pagination'};};var GraphQLProjectsService=function(_GraphQLBaseService){_inherits(GraphQLProjectsService,_GraphQLBaseService);var _super=_createSuper(GraphQLProjectsService);function GraphQLProjectsService(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},history=_ref.history,queryString=_ref.queryString;_classCallCheck(this,GraphQLProjectsService);return _super.call(this,{history:history,queryBuilder:_query_builder["default"],queryString:queryString||QUERY,resolverKey:'published_projects'});}
_createClass(GraphQLProjectsService,[{key:"searchWithNoEffects",value:function searchWithNoEffects(queryMap,params){var _this=this;var recordsCount=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return new Promise(function(resolve,reject){return _this._translateQueryMap(queryMap,params).then(function(vars){return(0,_graphql.graphQuery)(QUERY(),vars);}).then(function(response){var currentQuery=response.published_projects;resolve({hits:_this._translateRecordsToAlgoliaHits(currentQuery.records),nbHits:_this._translateMetadata(currentQuery,recordsCount)});})["catch"](function(err){return reject(err);});});}},{key:"_translateMetadata",value:function _translateMetadata(currentQuery,recordsCount){if(!currentQuery.hasOwnProperty('metadata'))return 0;if(currentQuery.metadata.next_page&&currentQuery.metadata.next_page===null){return recordsCount;}else if(typeof currentQuery.per_page==='number'){return currentQuery.per_page+recordsCount;}else{return 0;}}},{key:"_translateQueryMap",value:function _translateQueryMap(queryMap,params){return new Promise(function(resolve,reject){var vars={};var qlVars=queryMap.qlVars||{};if(queryMap.hitsPerPage){vars.per_page=queryMap.hitsPerPage;}else if(queryMap.length){vars.per_page=queryMap.length;}
if(queryMap.sort&&queryMap.sort==='featured_date'){vars.by='featured';}else if(queryMap.sort){vars.sort=queryMap.sort;}
if(queryMap.category_id&&queryMap.category_id==='featured'){vars.by='featured';}else if(queryMap.topic_id&&queryMap.topic_id==='featured'){vars.by='featured';}
return(0,_query_builder["default"])(vars).then(function(query){return resolve(Object.assign({},query,qlVars));})["catch"](function(err){return reject(err);});});}},{key:"_translateRecordsToAlgoliaHits",value:function _translateRecordsToAlgoliaHits(records){return records.map(function(record){return Object.assign({},record,{authors:record.team.members,pitch:record.one_liner,impresssions_count:record.stats.views,respects_count:record.stats.respects});});}}]);return GraphQLProjectsService;}(_base_service["default"]);exports["default"]=GraphQLProjectsService;}),44766:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=queryBuilder;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var CONTENT_TYPE={protip:'PROTIP',showcase:'SHOWCASE',tutorial:'TUTORIAL',wip:'WIP'};var DIFFICULTY={advanced:'ADVANCED',beginner:'EASY',hardcore:'EXPERT',intermediate:'INTERMEDIATE'};var KNOWN_PARAMS={base_channel_id:function base_channel_id(id){return parseInt(id);},category_id:function category_id(id){return parseInt(id);},contest_id:function contest_id(id){return parseInt(id);},part_id:function part_id(id){return parseInt(id);},page:function page(_page){return parseInt(_page,10);},per_page:function per_page(_per_page){return parseInt(_per_page,10);},tag_id:function tag_id(id){return parseInt(id);},topic_id:function topic_id(id){return parseInt(id);}};var SORT={popular:'POPULARITY',published:'DATE_DESC',respected:'RESPECTS',trending:'TRENDING',updated:'UPDATE_DATE'};var PLATFORM_TRANSFORMS=['category_id'];var PRIORITY_TRANSFORMS=['featured','me'];var composeQueryParameters=function composeQueryParameters(queryMap){var params=filterQueryParameters(queryMap,KNOWN_PARAMS);return Object.assign({},params,getBy(queryMap),getVariableFromQueryMap(queryMap,'content_type',CONTENT_TYPE),getVariableFromQueryMap(queryMap,'sort',SORT),getVariableFromQueryMap(queryMap,'difficulty',DIFFICULTY));};var filterQueryParameters=function filterQueryParameters(queryMap,map){var keys=Object.keys(queryMap);if(!keys.length)return{};var isQueryForPlatform=queryMap.hasOwnProperty('base_channel_id');return keys.reduce(function(acc,key){if(PRIORITY_TRANSFORMS.includes(queryMap[key])){acc=_transformPriorityValues(queryMap[key],acc);}else if(isQueryForPlatform&&PLATFORM_TRANSFORMS.includes(key)){acc=_transformForPlatform(key,queryMap[key],map[key],acc);}else if(map[key]){acc[key]=map[key](queryMap[key]);}
return acc;},{});};var _transformForPlatform=function _transformForPlatform(key,value,mapFn,acc){switch(key){case 'category_id':acc['channel_category_id']=mapFn(value);return acc;default:return acc;}};var _transformPriorityValues=function _transformPriorityValues(value,acc){switch(value){case 'featured':acc['featured']=true;return acc;case 'me':acc['user_toolbox']=true;return acc;default:return acc;}};var getBy=function getBy(queryMap){if(!queryMap.hasOwnProperty('by'))return{};if(queryMap.by==='featured'){return{featured:true};}else if(queryMap.by==='toolbox'){return{user_toolbox:true};}};var getVariableFromQueryMap=function getVariableFromQueryMap(queryMap,property,constant){if(!queryMap.hasOwnProperty(property)||queryMap[property]&&!constant.hasOwnProperty(queryMap[property]))return{};return _defineProperty({},property,constant[queryMap[property]]);};function queryBuilder(queryMap){return new Promise(function(resolve,reject){resolve(composeQueryParameters(queryMap));});}}),6825:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _base_service=_interopRequireDefault(__webpack_require__(82128));var _query_builder=_interopRequireDefault(__webpack_require__(62639));var _graphql=__webpack_require__(2740);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var VIDEOS_BY_ID_TEMPLATE=function VIDEOS_BY_ID_TEMPLATE(){return{t:'videos_by_id'};};var VIDEOS_QUERY_TEMPLATE=function VIDEOS_QUERY_TEMPLATE(){return{t:'videos_with_simple_pagination'};};var GraphQLVideosService=function(_GraphQLBaseService){_inherits(GraphQLVideosService,_GraphQLBaseService);var _super=_createSuper(GraphQLVideosService);function GraphQLVideosService(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},history=_ref.history;_classCallCheck(this,GraphQLVideosService);return _super.call(this,{history:history,queryBuilder:_query_builder["default"],queryString:VIDEOS_QUERY_TEMPLATE});}
_createClass(GraphQLVideosService,[{key:"searchWithNoEffects",value:function searchWithNoEffects(queryMap,params){var _this=this;var recordsCount=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return new Promise(function(resolve,reject){return _this._translateQueryMap(queryMap,params).then(function(vars){return(0,_graphql.graphQuery)(VIDEOS_BY_ID_TEMPLATE(),vars);}).then(function(_ref2){var videos=_ref2.videos;resolve({hits:videos,nbHits:videos.length});})["catch"](function(err){return reject(err);});});}},{key:"_translateQueryMap",value:function _translateQueryMap(queryMap,params){return new Promise(function(resolve,reject){var vars={};var qlVars=queryMap.qlVars||{};if(queryMap.hitsPerPage){vars.per_page=queryMap.hitsPerPage;}
return(0,_query_builder["default"])(vars).then(function(query){return resolve(Object.assign({},query,qlVars));})["catch"](function(err){return reject(err);});});}}]);return GraphQLVideosService;}(_base_service["default"]);exports["default"]=GraphQLVideosService;}),62639:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=queryBuilder;var PER_PAGE=20;var KNOWN_PARAMS={by_category:function by_category(category){return category;},page:function page(_page){return parseInt(_page,10);},per_page:function per_page(page){return parseInt(page,10);}};var KNOWN_SORTS={date_desc:'DEFAULT',popularity:'popularity'};function filterQueryParameters(queryMap,map){var keys=Object.keys(queryMap);if(!keys.length)return{};return keys.reduce(function(acc,key){if(map[key]){acc[key]=map[key](queryMap[key]);}
return acc;},{});}
function getSort(queryMap){var sort=queryMap.sort;if(!sort||!KNOWN_SORTS.hasOwnProperty(sort))return{};if(KNOWN_SORTS[sort]==='DEFAULT')return{};return{sort:queryMap.sort.toUpperCase()};}
function composeQueryParameters(queryMap){var params=filterQueryParameters(queryMap,KNOWN_PARAMS);var sort=getSort(queryMap);return Object.assign({},params,sort,{per_page:params.hasOwnProperty('per_page')?params.per_page:PER_PAGE});}
function queryBuilder(queryMap){return new Promise(function(resolve,reject){resolve(composeQueryParameters(queryMap));});}}),862:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=exports.INTERSECTION_DATA_ATTR=void 0;var _observers=__webpack_require__(44014);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var INTERSECTION_DATA_ATTR='data-intersect-callback-id';exports.INTERSECTION_DATA_ATTR=INTERSECTION_DATA_ATTR;function newIntersectionObserver(cb,opts){return new _observers.IntersectionObserver(cb,opts);}
var Observer=function(){function Observer(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var onDestroy=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};_classCallCheck(this,Observer);this._observerCallback=this._observerCallback.bind(this);this.onDestroy=onDestroy;this.observer=newIntersectionObserver(this._observerCallback,opts);this.targetCallbacks={};}
_createClass(Observer,[{key:"_destroy",value:function _destroy(){this.observer.disconnect();this.onDestroy();}},{key:"_observerCallback",value:function _observerCallback(entries,observer){var _this=this;entries.forEach(function(entry){return _this._processEntry(entry);});}},{key:"_processEntry",value:function _processEntry(entry){var callbackID=entry.target.getAttribute(INTERSECTION_DATA_ATTR);var callback=this.targetCallbacks[callbackID];if(typeof callback==='function')callback(entry);}},{key:"observe",value:function observe(target,id,callback){var _this2=this;this.targetCallbacks[id]=callback;this.observer.observe(target);return function(){return _this2.unobserve(target,id);};}},{key:"unobserve",value:function unobserve(target,id){delete this.targetCallbacks[id];this.observer.unobserve(target);if(Object.keys(this.targetCallbacks).length===0)this._destroy();}}]);return Observer;}();var _default=Observer;exports["default"]=_default;}),75784:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));Object.defineProperty(exports,"INTERSECTION_DATA_ATTR",({enumerable:true,get:function get(){return _Observer.INTERSECTION_DATA_ATTR;}}));exports["default"]=void 0;var _Observer=_interopRequireWildcard(__webpack_require__(862));var _json=__webpack_require__(50129);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}
function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var IntersectionObserverService=function(){function IntersectionObserverService(){_classCallCheck(this,IntersectionObserverService);this._observers={};}
_createClass(IntersectionObserverService,[{key:"_getObserver",value:function _getObserver(){var _this=this;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var key=(0,_json.tryJSONStringify)(options);if(this._observers[key])return this._observers[key];this._observers[key]=new _Observer["default"](options,function(){return _this._removeObserver(key);});return this._observers[key];}},{key:"_removeObserver",value:function _removeObserver(key){delete this._observers[key];}},{key:"observe",value:function observe(_ref){var id=_ref.id,target=_ref.target,callback=_ref.callback,options=_ref.options;var observer=this._getObserver(options);return observer.observe(target,id,callback);}}]);return IntersectionObserverService;}();var intersectionObserverService=new IntersectionObserverService();var _default=intersectionObserverService;exports["default"]=_default;}),54676:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _uuid=__webpack_require__(21614);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function getPageTypeCategory(){var pageType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return pageType.split('#')[0]||null;}
var BaseEvent=function(){function BaseEvent(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$distinctId=_ref.distinctId,distinctId=_ref$distinctId===void 0?null:_ref$distinctId,_ref$sessionId=_ref.sessionId,sessionId=_ref$sessionId===void 0?null:_ref$sessionId,_ref$pageType=_ref.pageType,pageType=_ref$pageType===void 0?null:_ref$pageType,_ref$userId=_ref.userId,userId=_ref$userId===void 0?null:_ref$userId,_ref$utmParams=_ref.utmParams,utmParams=_ref$utmParams===void 0?{}:_ref$utmParams,_ref$whitelabel=_ref.whitelabel,whitelabel=_ref$whitelabel===void 0?null:_ref$whitelabel;_classCallCheck(this,BaseEvent);this.clientEventId=(0,_uuid.v4)();this.distinctId=distinctId;this.pageType=pageType;this.userId=userId;this.sessionId=sessionId;this.utm_campaign=utmParams.utm_campaign;this.utm_content=utmParams.utm_content;this.utm_medium=utmParams.utm_medium;this.utm_source=utmParams.utm_source;this.utm_term=utmParams.utm_term;this.whitelabel=whitelabel;}
_createClass(BaseEvent,[{key:"createRecord",value:function createRecord(){return{client_event_id:this.clientEventId,distinct_id:this.distinctId,ip:'${keen.ip}',logged_in:this.userId&&typeof this.userId==='number',page_url:document.location.toString(),page_type_category:getPageTypeCategory(this.pageType),page_type_full:this.pageType,referrer:{url:document.referrer||''},session_id:this.sessionId,user_id:this.userId,utm_campaign:this.utm_campaign,utm_content:this.utm_content,utm_medium:this.utm_medium,utm_source:this.utm_source,utm_term:this.utm_term,whitelabel:this.whitelabel,keen:{addons:[{name:"keen:url_parser",input:{url:"page_url"},output:"parsed_page_url"}]}};}}]);return BaseEvent;}();exports["default"]=BaseEvent;}),69933:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _BaseEvent2=_interopRequireDefault(__webpack_require__(54676));var _normalizeEventProps=_interopRequireDefault(__webpack_require__(1962));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}
function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var CustomEvent=function(_BaseEvent){_inherits(CustomEvent,_BaseEvent);var _super=_createSuper(CustomEvent);function CustomEvent(props){var _this;_classCallCheck(this,CustomEvent);_this=_super.call(this,props);_this.eventName=props.eventName;_this.customProps=(0,_normalizeEventProps["default"])(props.customProps,_this.eventName);return _this;}
_createClass(CustomEvent,[{key:"createRecord",value:function createRecord(){return Object.assign({},_get(_getPrototypeOf(CustomEvent.prototype),"createRecord",this).call(this),{custom:this.customProps,event_name:this.eventName});}}]);return CustomEvent;}(_BaseEvent2["default"]);var _default=CustomEvent;exports["default"]=_default;}),84041:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _BaseEvent2=_interopRequireDefault(__webpack_require__(54676));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}
function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var PageView=function(_BaseEvent){_inherits(PageView,_BaseEvent);var _super=_createSuper(PageView);function PageView(props){var _this;_classCallCheck(this,PageView);_this=_super.call(this,props);_this.entity_id=props.entity_id||null;_this.referrer=props.referrer||document.referrer||'';return _this;}
_createClass(PageView,[{key:"createRecord",value:function createRecord(){var record=_get(_getPrototypeOf(PageView.prototype),"createRecord",this).call(this);return Object.assign({},record,{entity_id:this.entity_id,referrer:{url:this.referrer},keen:Object.assign({},record.keen,{addons:record.keen.addons.concat({name:"keen:referrer_parser",input:{page_url:"page_url",referrer_url:"referrer.url"},output:"referrer.info"})})});}}]);return PageView;}(_BaseEvent2["default"]);var _default=PageView;exports["default"]=_default;}),72213:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var windowInnerHeight=function windowInnerHeight(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;};var windowInnerWidth=function windowInnerWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;};var Session=function(){function Session(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$distinctId=_ref.distinctId,distinctId=_ref$distinctId===void 0?null:_ref$distinctId,_ref$sessionId=_ref.sessionId,sessionId=_ref$sessionId===void 0?null:_ref$sessionId,_ref$pageType=_ref.pageType,pageType=_ref$pageType===void 0?null:_ref$pageType,_ref$userId=_ref.userId,userId=_ref$userId===void 0?null:_ref$userId,_ref$utmParams=_ref.utmParams,utmParams=_ref$utmParams===void 0?{}:_ref$utmParams,_ref$whitelabel=_ref.whitelabel,whitelabel=_ref$whitelabel===void 0?null:_ref$whitelabel;_classCallCheck(this,Session);this.distinctId=distinctId;this.pageType=pageType;this.sessionId=sessionId;this.userId=userId;this.utm_campaign=utmParams.utm_campaign;this.utm_content=utmParams.utm_content;this.utm_medium=utmParams.utm_medium;this.utm_source=utmParams.utm_source;this.utm_term=utmParams.utm_term;this.whitelabel=whitelabel;}
_createClass(Session,[{key:"createRecord",value:function createRecord(){return{distinct_id:this.distinctId,ip:'${keen.ip}',landing_page_type:this.pageType,landing_page_url:document.location.toString(),referrer:{url:document.referrer||''},screen:{height:windowInnerHeight(),width:windowInnerWidth()},session_id:this.sessionId,user_agent:'${keen.user_agent}',user_id:this.userId,utm_campaign:this.utm_campaign,utm_content:this.utm_content,utm_medium:this.utm_medium,utm_source:this.utm_source,utm_term:this.utm_term,whitelabel:this.whitelabel,keen:{addons:[{name:"keen:ip_to_geo",input:{ip:"ip"},output:"geo_info"},{name:"keen:referrer_parser",input:{referrer_url:"referrer.url"},output:"referrer.info"},{name:"keen:ua_parser",input:{ua_string:"user_agent"},output:"parsed_user_agent"},{name:"keen:url_parser",input:{url:"landing_page_url"},output:"parsed_landing_page_url"}]}};}}]);return Session;}();exports["default"]=Session;}),10853:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getSearchLocationFilterArgs=exports.getSearchFilterArgs=exports.getUpdatePostArgs=exports.getDeletePostArgs=exports.getCreatePostArgs=exports.getDeleteEventArgs=exports.getCreateEventArgs=exports.getDeleteContestRegistrationArgs=exports.getCreateContestRegistrationArgs=exports.getCreateContestIdeaArgs=exports.getCreateContestEntryArgs=exports.getUpdateCommentArgs=exports.getDeleteCommentArgs=exports.getCreateCommentArgs=exports.getOpenedBookmarkMenuArgs=exports.getDeleteBookmarkListArgs=exports.getCreateBookmarkListArgs=exports.getDeleteBookmarkArgs=exports.getCreateBookmarkArgs=exports.getViewedAdArgs=exports.getClickedAdArgs=exports.getClickedViewAllSectionArgs=exports.getClickedViewMoreArgs=exports.getClickedMenuItemArgs=exports.getClickedLinkArgs=exports.getClickedButtonArgs=exports.getClickedFilterArgs=void 0;var _events=__webpack_require__(64770);var createReturnShape=function createReturnShape(){var customProps=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var eventName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return{customProps:customProps,event:{eventName:eventName}};};var getClickedFilterArgs=function getClickedFilterArgs(key,value){return{customProps:{filter_name:key,filter_value:value},event:{eventName:'Clicked filter value'}};};exports.getClickedFilterArgs=getClickedFilterArgs;var getClickedButtonArgs=function getClickedButtonArgs(_ref,e){var entity_type=_ref.entity_type,entity_id=_ref.entity_id,location=_ref.location,type=_ref.type,value=_ref.value;var newValue=value||(0,_events.getEventTargetText)(e);return{customProps:{entity_type:entity_type,entity_id:entity_id,location:location,type:type,value:newValue},event:{eventName:'Clicked button'}};};exports.getClickedButtonArgs=getClickedButtonArgs;var getClickedLinkArgs=function getClickedLinkArgs(_ref2,e){var entity_type=_ref2.entity_type,entity_id=_ref2.entity_id,href=_ref2.href,location=_ref2.location,type=_ref2.type,value=_ref2.value;var newHref=href||(0,_events.getEventTargetHref)(e);var newValue=value||(0,_events.getEventTargetText)(e);return{customProps:{entity_type:entity_type,entity_id:entity_id,href:newHref,location:location,type:type,value:newValue},event:{eventName:'Clicked link'}};};exports.getClickedLinkArgs=getClickedLinkArgs;var getClickedMenuItemArgs=function getClickedMenuItemArgs(_ref3){var entity_id=_ref3.entity_id,entity_type=_ref3.entity_type,value=_ref3.value;return{customProps:{entity_id:entity_id,entity_type:entity_type,value:value},event:{eventName:'Clicked menu item'}};};exports.getClickedMenuItemArgs=getClickedMenuItemArgs;var getClickedViewMoreArgs=function getClickedViewMoreArgs(_ref4){var entity_id=_ref4.entity_id,entity_type=_ref4.entity_type;return{customProps:{entity_id:entity_id,entity_type:entity_type},event:{eventName:'Clicked view more'}};};exports.getClickedViewMoreArgs=getClickedViewMoreArgs;var getClickedViewAllSectionArgs=function getClickedViewAllSectionArgs(section,index){var item=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var pageType=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return{customProps:{item:item,section:{key:section.key,index:index,value:section.value}},event:{eventName:'Clicked view all section',pageType:pageType}};};exports.getClickedViewAllSectionArgs=getClickedViewAllSectionArgs;var getClickedAdArgs=function getClickedAdArgs(_ref5){var id=_ref5.id;return createReturnShape({id:id},'Ad clicked');};exports.getClickedAdArgs=getClickedAdArgs;var getViewedAdArgs=function getViewedAdArgs(_ref6){var blocked=_ref6.blocked,id=_ref6.id;return createReturnShape({blocked:blocked,id:id},'Ad viewed');};exports.getViewedAdArgs=getViewedAdArgs;var getCreateBookmarkArgs=function getCreateBookmarkArgs(_ref7){var id=_ref7.id,widget_src=_ref7.widget_src;return createReturnShape({id:id,widget_src:widget_src},'Created bookmark');};exports.getCreateBookmarkArgs=getCreateBookmarkArgs;var getDeleteBookmarkArgs=function getDeleteBookmarkArgs(_ref8){var id=_ref8.id,widget_src=_ref8.widget_src;return createReturnShape({id:id,widget_src:widget_src},'Deleted bookmark');};exports.getDeleteBookmarkArgs=getDeleteBookmarkArgs;var getCreateBookmarkListArgs=function getCreateBookmarkListArgs(_ref9){var id=_ref9.id,widget_src=_ref9.widget_src;return createReturnShape({id:id,widget_src:widget_src},'Created bookmark list');};exports.getCreateBookmarkListArgs=getCreateBookmarkListArgs;var getDeleteBookmarkListArgs=function getDeleteBookmarkListArgs(_ref10){var id=_ref10.id,widget_src=_ref10.widget_src;return createReturnShape({id:id,widget_src:widget_src},'Deleted bookmark list');};exports.getDeleteBookmarkListArgs=getDeleteBookmarkListArgs;var getOpenedBookmarkMenuArgs=function getOpenedBookmarkMenuArgs(_ref11){var project_id=_ref11.project_id,widget_src=_ref11.widget_src;return createReturnShape({project_id:project_id,widget_src:widget_src},'Opened bookmark menu');};exports.getOpenedBookmarkMenuArgs=getOpenedBookmarkMenuArgs;var getCreateCommentArgs=function getCreateCommentArgs(_ref12){var id=_ref12.id,is_reply=_ref12.is_reply;return createReturnShape({comment_id:id,is_reply:is_reply},'Created comment');};exports.getCreateCommentArgs=getCreateCommentArgs;var getDeleteCommentArgs=function getDeleteCommentArgs(_ref13){var id=_ref13.id,is_reply=_ref13.is_reply;return createReturnShape({comment_id:id,is_reply:is_reply},'Deleted comment');};exports.getDeleteCommentArgs=getDeleteCommentArgs;var getUpdateCommentArgs=function getUpdateCommentArgs(_ref14){var id=_ref14.id,is_reply=_ref14.is_reply;return createReturnShape({comment_id:id,is_reply:is_reply},'Updated comment');};exports.getUpdateCommentArgs=getUpdateCommentArgs;var getCreateContestEntryArgs=function getCreateContestEntryArgs(_ref15){var id=_ref15.id,project_id=_ref15.project_id;return createReturnShape({entity_id:id,entity_type:'Challenge',project_id:project_id},'Submitted project to contest');};exports.getCreateContestEntryArgs=getCreateContestEntryArgs;var getCreateContestIdeaArgs=function getCreateContestIdeaArgs(_ref16){var id=_ref16.id,idea_id=_ref16.idea_id;return createReturnShape({entity_id:id,entity_type:'Challenge',idea_id:idea_id},'Submitted idea to contest');};exports.getCreateContestIdeaArgs=getCreateContestIdeaArgs;var getCreateContestRegistrationArgs=function getCreateContestRegistrationArgs(_ref17){var id=_ref17.id;return createReturnShape({entity_id:id,entity_type:'Challenge'},'Registered for contest');};exports.getCreateContestRegistrationArgs=getCreateContestRegistrationArgs;var getDeleteContestRegistrationArgs=function getDeleteContestRegistrationArgs(_ref18){var id=_ref18.id;return createReturnShape({entity_id:id,entity_type:'Challenge'},'Unregistered for contest');};exports.getDeleteContestRegistrationArgs=getDeleteContestRegistrationArgs;var getCreateEventArgs=function getCreateEventArgs(id,event_type){return{customProps:{id:id,event_type:event_type},event:{eventName:'Created event'}};};exports.getCreateEventArgs=getCreateEventArgs;var getDeleteEventArgs=function getDeleteEventArgs(id,event_type){return{customProps:{id:id,event_type:event_type},event:{eventName:'Deleted event'}};};exports.getDeleteEventArgs=getDeleteEventArgs;var getCreatePostArgs=function getCreatePostArgs(id,category){return createReturnShape({post_id:id,category:category},'Created post');};exports.getCreatePostArgs=getCreatePostArgs;var getDeletePostArgs=function getDeletePostArgs(id,category){return createReturnShape({post_id:id,category:category},'Deleted post');};exports.getDeletePostArgs=getDeletePostArgs;var getUpdatePostArgs=function getUpdatePostArgs(id,category){return createReturnShape({post_id:id,category:category},'Updated post');};exports.getUpdatePostArgs=getUpdatePostArgs;var getSearchFilterArgs=function getSearchFilterArgs(query){return{customProps:{query:query},event:{eventName:'Search filter'}};};exports.getSearchFilterArgs=getSearchFilterArgs;var getSearchLocationFilterArgs=function getSearchLocationFilterArgs(){var location=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return{customProps:location,event:{eventName:'Search location filter'}};};exports.getSearchLocationFilterArgs=getSearchLocationFilterArgs;}),77973:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.isValidEventName=isValidEventName;exports.getPropTemplate=getPropTemplate;var eventNameWhitelistAndPropTypes={'Ad clicked':{id:'number'},'Ad viewed':{id:'number',blocked:'boolean'},'Added project to contest':{},'Added project to list':{},'Changed notification settings':{},'Clicked filter value':{},'Clicked button':{},'Clicked launch campaign':{},'Clicked link':{},'Clicked menu item':{},'Clicked part buy link':{link_position:'number'},'Clicked view all section':{},'Clicked view more':{},'Completed onboarding':{},'Completed onboarding step':{},'Confirmed email address':{},'Created account':{},'Created bookmark':{},'Created bookmark list':{},'Created comment':{},'Created event':{},'Created post':{},'Created project':{},'Deleted account':{},'Deleted bookmark':{},'Deleted bookmark list':{},'Deleted comment':{},'Deleted event':{},'Deleted post':{},'Dismissed tooltip':{},'Followed entity':{},'Joined experiment':{},'Logged in':{},'Logged out':{},'Made project public':{},'Opened bookmark menu':{},'Opened explore menu':{},'Opened menu':{},'Posted comment':{},'Posted feed post':{},'Registered for contest':{},'Registered for workshop':{},'Respected entity':{},'Searched':{filters:{parts:'array',project_type:'array',difficulty:'array',language:'array',skills:'array',available_for_hire:'boolean',location:{geoloc:{lat:'number',lng:'number'},distance:'number'}},pagination:{current_page:'number',per_page:'number',total_pages:'number',total_records:'number'}},'Search filter':{},'Search location filter':{},'Sent invites':{count:'number'},'Signup prompt clicked':{},'Signup prompt shown':{},'Submitted idea to contest':{},'Submitted project to contest':{},'Unfollowed entity':{},'Updated comment':{},'Updated post':{},'Unregistered for contest':{},'Unrespected entity':{},'Viewed lock screen':{projects_viewed:'number'}};function isValidEventName(eventName){return eventNameWhitelistAndPropTypes.hasOwnProperty(eventName);}
function getPropTemplate(eventName){return eventNameWhitelistAndPropTypes[eventName];}}),24275:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getEntityType=getEntityType;exports.NEWS_PROMO_BANNER=exports.PROJECT_CARD=exports.NEWS_ARTICLE_CARD=exports.EVENT_CARD=void 0;var _LINK_TO_ENTITY_TYPE_;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var EVENT_CARD='event_card';exports.EVENT_CARD=EVENT_CARD;var NEWS_ARTICLE_CARD='news_article_card';exports.NEWS_ARTICLE_CARD=NEWS_ARTICLE_CARD;var PROJECT_CARD='project_card';exports.PROJECT_CARD=PROJECT_CARD;var NEWS_PROMO_BANNER='news_promo_banner';exports.NEWS_PROMO_BANNER=NEWS_PROMO_BANNER;function getEntityType(type){return LINK_TO_ENTITY_TYPE_MAP[type];}
var LINK_TO_ENTITY_TYPE_MAP=(_LINK_TO_ENTITY_TYPE_={},_defineProperty(_LINK_TO_ENTITY_TYPE_,EVENT_CARD,'Event'),_defineProperty(_LINK_TO_ENTITY_TYPE_,NEWS_ARTICLE_CARD,'NewsArticle'),_defineProperty(_LINK_TO_ENTITY_TYPE_,PROJECT_CARD,'Project'),_LINK_TO_ENTITY_TYPE_);}),1962:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=normalizeEventProps;var _eventTypes=__webpack_require__(77973);var _types=__webpack_require__(88742);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var normalizers={array:function array(prop){return Array.isArray(prop)&&prop.length>0?prop:null;},"boolean":function boolean(prop){if(typeof prop==='boolean')return prop;if(typeof prop==='string'){var string=prop.toLowerCase();return string==='true'?true:string==='false'?false:null;};return null;},number:function number(prop){if(Array.isArray(prop))return null;var _float=parseFloat(prop);return isNaN(_float)?null:_float;},string:function string(prop){if(typeof prop==='string')return prop;if(typeof prop==='boolean'||typeof prop==='number')return prop.toString();return null;}};function normalizeProps(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var template=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Object.keys(props).reduce(function(acc,key){var templateVal=template[key];var prop=props[key];var val=(0,_types.isObjectWithLength)(prop)?normalizeProps(prop,templateVal):normalizeProp(prop,templateVal,key);return(0,_types.isBlank)(val)?acc:Object.assign({},acc,_defineProperty({},key,val));},{});}
function normalizeProp(prop,propType,key){var normalizer=normalizers[propType];return normalizer?normalizer(prop):inferTypeAndNormalize(prop,key);}
function inferTypeAndNormalize(prop){var key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var inferredType=key.endsWith('_id')&&key!=='event_id'?'number':'string';return normalizers[inferredType](prop);}
function normalizeEventProps(customProps){var eventName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';return(0,_types.isObjectWithLength)(customProps)?normalizeProps(customProps,(0,_eventTypes.getPropTemplate)(eventName)):null;}}),64194:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _CustomEvent=_interopRequireDefault(__webpack_require__(69933));var _PageView=_interopRequireDefault(__webpack_require__(84041));var _Session=_interopRequireDefault(__webpack_require__(72213));var _session_handler=_interopRequireDefault(__webpack_require__(6020));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _isCrawler=_interopRequireDefault(__webpack_require__(18603));var _accessors=__webpack_require__(4887);var _utm_handler=__webpack_require__(56664);var _eventTypes=__webpack_require__(77973);var _requests=__webpack_require__(16);var _window=__webpack_require__(33852);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var KeenService=function(){function KeenService(){_classCallCheck(this,KeenService);this.currentUserId=this._getUserId();this.sessionHandler=new _session_handler["default"]();this.whitelabel=this._getWhitelabel();}
_createClass(KeenService,[{key:"recordEvent",value:function recordEvent(){var _this=this;var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},pageType=_ref.pageType,eventName=_ref.eventName;var customProps=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return new Promise(function(resolve,reject){if((0,_isCrawler["default"])()||!_this._hasKeenKeys()||!(0,_eventTypes.isValidEventName)(eventName))return resolve();pageType=pageType||_this._getPageType();if(!pageType)return reject(new Error("recordEvent expected a pageType, but received: ".concat(pageType)));var _this$_getEventData=_this._getEventData(),createNewSession=_this$_getEventData.createNewSession,distinctId=_this$_getEventData.distinctId,sessionId=_this$_getEventData.sessionId,utmParams=_this$_getEventData.utmParams;var event=new _CustomEvent["default"]({customProps:customProps,distinctId:distinctId,eventName:eventName,pageType:pageType,sessionId:sessionId,userId:_this.currentUserId,utmParams:utmParams,whitelabel:_this.whitelabel});return Promise.all([(0,_requests.postSingleEvent)(event.createRecord(),'events'),_this.recordNewSession({createNewSession:createNewSession,distinctId:distinctId,sessionId:sessionId,pageType:pageType,utmParams:utmParams})]).then(function(){return resolve();})["catch"](function(err){(0,_error_handler["default"])('KeenService recordEvent: ',err);return reject(err);});});}},{key:"recordEventWithDelayedRedirect",value:function recordEventWithDelayedRedirect(){var _ref2=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},pageType=_ref2.pageType,eventName=_ref2.eventName;var customProps=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var url=arguments.length>2?arguments[2]:undefined;var e=arguments.length>3?arguments[3]:undefined;if(!e.ctrlKey&&!e.metaKey){e.preventDefault();return this._recordEventAndRedirect({eventName:eventName,pageType:pageType},customProps,url);}else{return this.recordEvent({eventName:eventName,pageType:pageType},customProps);}}},{key:"recordEventsWithDelayedRedirect",value:function recordEventsWithDelayedRedirect(events,url,e){if(!e.ctrlKey&&!e.metaKey){e.preventDefault();return this._recordEventsAndRedirect(events,url);}else{return this.recordEvents(events);}}},{key:"recordEvents",value:function recordEvents(events){var _this2=this;return new Promise(function(resolve,reject){var promises=events.map(function(obj){return _this2._normalizeObj(obj);}).map(function(_ref3){var eventName=_ref3.eventName,pageType=_ref3.pageType,customProps=_ref3.customProps;return _this2.recordEvent({eventName:eventName,pageType:pageType},customProps);});return Promise.all(promises).then(function(){return resolve();})["catch"](function(err){(0,_error_handler["default"])('KeenService recordEvents: ',err);return reject(err);});});}},{key:"recordLinkClick",value:function recordLinkClick(){var _ref4=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref4$eventName=_ref4.eventName,eventName=_ref4$eventName===void 0?"Clicked link":_ref4$eventName,pageType=_ref4.pageType;var customProps=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var delayRedirect=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var e=arguments.length>3?arguments[3]:undefined;var href=customProps.href||(0,_accessors.getInObjWithPrototypeAccess)(['target','href'],e);var value=customProps.value||(0,_accessors.getInObjWithPrototypeAccess)(['target','textContent'],e)||(0,_accessors.getInObjWithPrototypeAccess)(['target','innerText'],e);var newProps=Object.assign({},customProps,{href:href,value:value});return delayRedirect&&href?this.recordEventWithDelayedRedirect({eventName:eventName,pageType:pageType},newProps,href,e):this.recordEvent({eventName:eventName,pageType:pageType},newProps);}},{key:"recordPageView",value:function recordPageView(){var _this3=this;var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new Promise(function(resolve,reject){if((0,_isCrawler["default"])()||!_this3._hasKeenKeys())return resolve();var entity_id=props.entity_id||_this3._getEntityId();var pageType=props.pageType||_this3._getPageType();if(!pageType)return reject(new Error("recordPageView expected a pageType, but received: ".concat(pageType)));var _this3$_getEventData=_this3._getEventData(),createNewSession=_this3$_getEventData.createNewSession,distinctId=_this3$_getEventData.distinctId,sessionId=_this3$_getEventData.sessionId,utmParams=_this3$_getEventData.utmParams;var pageView=new _PageView["default"]({distinctId:distinctId,entity_id:entity_id,pageType:pageType,referrer:props.referrer,sessionId:sessionId,userId:_this3.currentUserId,utmParams:utmParams,whitelabel:_this3.whitelabel});return Promise.all([(0,_requests.postSingleEvent)(pageView.createRecord(),'page_views'),_this3.recordNewSession({createNewSession:createNewSession,distinctId:distinctId,sessionId:sessionId,pageType:pageType,utmParams:utmParams})]).then(function(){return resolve();})["catch"](function(err){(0,_error_handler["default"])('KeenService recordPageView: ',err);return reject(err);});});}},{key:"recordNewSession",value:function recordNewSession(_ref5){var _this4=this;var createNewSession=_ref5.createNewSession,distinctId=_ref5.distinctId,sessionId=_ref5.sessionId,pageType=_ref5.pageType,utmParams=_ref5.utmParams;return new Promise(function(resolve,reject){if(!createNewSession||(0,_isCrawler["default"])()||!_this4._hasKeenKeys())return resolve();pageType=pageType||_this4._getPageType();if(!pageType)return reject(new Error("recordNewSession expected a pageType, but received: ".concat(pageType)));var session=new _Session["default"]({distinctId:distinctId,sessionId:sessionId,pageType:pageType,whitelabel:_this4.whitelabel,utmParams:utmParams,userId:_this4.currentUserId});return(0,_requests.postSingleEvent)(session.createRecord(),'sessions').then(function(){return resolve();})["catch"](function(err){return reject(err);});});}},{key:"_getEntityId",value:function _getEntityId(){if(!_window.isWindowDefined)return null;return window.HAnalyticsGlobalData&&window.HAnalyticsGlobalData.hasOwnProperty('entity_id')?window.HAnalyticsGlobalData.entity_id:null;}},{key:"_getEventData",value:function _getEventData(){var _this$sessionHandler$=this.sessionHandler.getSessionData(),createNewSession=_this$sessionHandler$.createNewSession,data=_this$sessionHandler$.data;var distinctId=data.distinctId,sessionId=data.sessionId;var utmParams=(0,_utm_handler.getUTMParams)(window.location.search,createNewSession);return{createNewSession:createNewSession,distinctId:distinctId,sessionId:sessionId,utmParams:utmParams};}},{key:"_getPageType",value:function _getPageType(){if(typeof document!=='undefined'&&typeof document.querySelector==='function'){var meta=document.querySelector('meta[name="pageType"]');return meta&&meta.hasAttribute('content')?this._transformPageType(meta.getAttribute('content')):null;}
return null;}},{key:"_getUserId",value:function _getUserId(){if(!_window.isWindowDefined)return null;return window.HAnalyticsGlobalData&&window.HAnalyticsGlobalData.hasOwnProperty('user_id')?parseInt(window.HAnalyticsGlobalData.user_id):null;}},{key:"_getWhitelabel",value:function _getWhitelabel(){if(!_window.isWindowDefined)return null;return window.HAnalyticsGlobalData&&window.HAnalyticsGlobalData.hasOwnProperty('whitelabel')?window.HAnalyticsGlobalData.whitelabel:null;}},{key:"_eventObjTransform",value:function _eventObjTransform(){var _ref6=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref6$customProps=_ref6.customProps,customProps=_ref6$customProps===void 0?{}:_ref6$customProps,_ref6$event=_ref6.event,event=_ref6$event===void 0?{}:_ref6$event;return{customProps:customProps,eventName:event.eventName,pageType:event.pageType};}},{key:"_hasKeenKeys",value:function _hasKeenKeys(){if(!_window.isWindowDefined)return null;return!!(window&&window.jsk&&window.jsk.oht&&window.jsk.oak);}},{key:"_normalizeObj",value:function _normalizeObj(){var obj=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(obj.hasOwnProperty('event'))return this._eventObjTransform(obj);if(obj.hasOwnProperty('eventName'))return obj;return{};}},{key:"_recordEventAndRedirect",value:function _recordEventAndRedirect(){var _this5=this;var _ref7=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},pageType=_ref7.pageType,eventName=_ref7.eventName;var customProps=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var url=arguments.length>2?arguments[2]:undefined;return new Promise(function(resolve,reject){_this5.recordEvent({eventName:eventName,pageType:pageType},customProps).then(function(){return resolve((0,_window.windowLocationRedirect)(url));})["catch"](function(err){(0,_error_handler["default"])('KeenService _recordEventAndRedirect: ',err);return reject(err);});});}},{key:"_recordEventsAndRedirect",value:function _recordEventsAndRedirect(events,url){var _this6=this;return new Promise(function(resolve,reject){return _this6.recordEvents(events).then(function(){return resolve((0,_window.windowLocationRedirect)(url));})["catch"](function(err){(0,_error_handler["default"])('KeenService _recordEventsAndRedirect: ',err);return reject(err);});});}},{key:"_transformPageType",value:function _transformPageType(pageType){return pageType;}}]);return KeenService;}();exports["default"]=KeenService;}),85061:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _index=_interopRequireDefault(__webpack_require__(64194));var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _sceneWhitelist=_interopRequireDefault(__webpack_require__(7779));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}
function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}
function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
var MainKeenService=function(_KeenService){_inherits(MainKeenService,_KeenService);var _super=_createSuper(MainKeenService);function MainKeenService(){var _this;_classCallCheck(this,MainKeenService);_this=_super.call(this);_this._lastPageViewURL=_this._initLastPageViewURL();return _this;}
_createClass(MainKeenService,[{key:"_initLastPageViewURL",value:function _initLastPageViewURL(){if(_sceneWhitelist["default"].indexOf(this._getPageType())>-1){return null;}
return this._getCurrentURL();}},{key:"_getCurrentURL",value:function _getCurrentURL(){if(typeof window==='undefined')return null;return window&&window.location?window.location.toString():null;}},{key:"reportEvent",value:function reportEvent(event,customProps){return this.recordEvent(event,customProps).then(function(){})["catch"](function(err){return(0,_error_handler["default"])('reportEvent: ',err);});}},{key:"reportEventWithObj",value:function reportEventWithObj(_ref){var customProps=_ref.customProps,event=_ref.event;this.reportEvent(event,customProps);}},{key:"reportEventWithDelayedRedirectWithObj",value:function reportEventWithDelayedRedirectWithObj(_ref2,url,e){var customProps=_ref2.customProps,event=_ref2.event;this.recordEventWithDelayedRedirect(event,customProps,url,e);}},{key:"reportVirtualPageView",value:function reportVirtualPageView(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var referrer=props.referrer||this._lastPageViewURL;this._lastPageViewURL=this._getCurrentURL();return this.recordPageView(Object.assign({},props,{referrer:referrer})).then(function(){})["catch"](function(err){return(0,_error_handler["default"])('MainKeenService reportPageView: ',err);});}}]);return MainKeenService;}(_index["default"]);var mainService=new MainKeenService();var _default=mainService;exports["default"]=_default;}),90375:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.fireViewAllSectionClickAnalytics=exports.fireSearchLocationFilterAnalytics=exports.fireSearchFilterAnalytics=exports.fireClickedLinkAnalyticsWithRedirect=exports.fireClickedLinkAnalytics=exports.fireFilterClickAnalytics=void 0;var _main=_interopRequireDefault(__webpack_require__(85061));var _types=__webpack_require__(88742);var _filters=__webpack_require__(58429);var _eventTypeTemplates=__webpack_require__(10853);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var LOCATION_WHITELIST=['city','country_iso2','latitude','longitude','state'];var fireFilterClickAnalytics=function fireFilterClickAnalytics(key,value){if((0,_types.isBlank)(value))return;_main["default"].reportEventWithObj((0,_eventTypeTemplates.getClickedFilterArgs)(key,value));};exports.fireFilterClickAnalytics=fireFilterClickAnalytics;var fireClickedLinkAnalytics=function fireClickedLinkAnalytics(_ref,e){var entity_type=_ref.entity_type,entity_id=_ref.entity_id,href=_ref.href,location=_ref.location,type=_ref.type,value=_ref.value;_main["default"].reportEventWithObj((0,_eventTypeTemplates.getClickedLinkArgs)({entity_type:entity_type,entity_id:entity_id,href:href,location:location,type:type,value:value},e));};exports.fireClickedLinkAnalytics=fireClickedLinkAnalytics;var fireClickedLinkAnalyticsWithRedirect=function fireClickedLinkAnalyticsWithRedirect(_ref2,url,e){var entity_type=_ref2.entity_type,entity_id=_ref2.entity_id,href=_ref2.href,location=_ref2.location,type=_ref2.type,value=_ref2.value;var args=(0,_eventTypeTemplates.getClickedLinkArgs)({entity_type:entity_type,entity_id:entity_id,href:href,location:location,type:type,value:value},e);var redirectUrl=url||args.customProps.href;_main["default"].reportEventWithDelayedRedirectWithObj(args,redirectUrl,e);};exports.fireClickedLinkAnalyticsWithRedirect=fireClickedLinkAnalyticsWithRedirect;var fireSearchFilterAnalytics=function fireSearchFilterAnalytics(query){if((0,_types.isBlank)(query))return;_main["default"].reportEventWithObj((0,_eventTypeTemplates.getSearchFilterArgs)(query));};exports.fireSearchFilterAnalytics=fireSearchFilterAnalytics;var fireSearchLocationFilterAnalytics=function fireSearchLocationFilterAnalytics(location){var formatterFn=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if((0,_types.isBlank)(location))return;var formatted=typeof formatterFn==='function'?formatterFn(location):location;var cleaned=(0,_filters.filterObject)(formatted,function(val,key){return LOCATION_WHITELIST.includes(key);});_main["default"].reportEventWithObj((0,_eventTypeTemplates.getSearchLocationFilterArgs)(cleaned));};exports.fireSearchLocationFilterAnalytics=fireSearchLocationFilterAnalytics;var fireViewAllSectionClickAnalytics=function fireViewAllSectionClickAnalytics(_ref3){var _ref3$delayRedirect=_ref3.delayRedirect,delayRedirect=_ref3$delayRedirect===void 0?false:_ref3$delayRedirect,e=_ref3.e,_ref3$events=_ref3.events,events=_ref3$events===void 0?[]:_ref3$events,index=_ref3.index,_ref3$item=_ref3.item,item=_ref3$item===void 0?{}:_ref3$item,_ref3$pageType=_ref3.pageType,pageType=_ref3$pageType===void 0?null:_ref3$pageType,_ref3$section=_ref3.section,section=_ref3$section===void 0?{}:_ref3$section,url=_ref3.url;var eventObj=(0,_eventTypeTemplates.getClickedViewAllSectionArgs)(section,index,item,pageType);var allEvents=events.concat([eventObj]);if(delayRedirect&&url){_main["default"].recordEventsWithDelayedRedirect(allEvents,url,e);}else{_main["default"].recordEvents(allEvents);}};exports.fireViewAllSectionClickAnalytics=fireViewAllSectionClickAnalytics;}),16:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.postSingleEvent=postSingleEvent;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _uaParserJs=_interopRequireDefault(__webpack_require__(42238));var _oauth=_interopRequireDefault(__webpack_require__(97523));var _accessors=__webpack_require__(4887);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var uaParser=new _uaParserJs["default"]();var createDebugTableRecord=function createDebugTableRecord(data,collectionName,err){var blacklist=['distinct_id','ip','keen','referrer','user_id','whitelabel'];var other_props=Object.keys(data).reduce(function(acc,key){if(!blacklist.includes(key)){acc[key]=data[key];}
return acc;},{});var errorHasContent=typeof err.status!=='undefined';var error={status:errorHasContent?err.status:0,reason:errorHasContent?(0,_accessors.getInObj)(['response','body','message'],err):'net::ERR_BLOCKED_BY_CLIENT'};var browser_info=Object.assign({},uaParser.getResult(),{referrer:data.referrer,error:error});return{browser_info:browser_info,other_props:other_props,distinct_id:data.distinct_id,table:collectionName,user_id:data.user_id,whitelabel:data.whitelabel};};var postToDebugWhenKeenFailed=function postToDebugWhenKeenFailed(record){return _oauth["default"].apiRequest(_superagent["default"].post("".concat(_oauth["default"].getApiPath(),"/private/debug")).send(record),true);};var postToOhm=function postToOhm(data,collectionName){return new Promise(function(resolve,reject){return _superagent["default"].post("https://".concat(window.jsk.oht,"/v1/events/").concat(collectionName)).query({'key':window.jsk.oak}).set('Content-Type','application/json').send(data).end(function(err,res){return resolve({err:err,res:res});});});};function postSingleEvent(data,collectionName){return new Promise(function(resolve,reject){return postToOhm(data,collectionName).then(function(_ref){var err=_ref.err,res=_ref.res;return err?postToDebugWhenKeenFailed(createDebugTableRecord(data,collectionName,err)):Promise.resolve(res);}).then(function(res){return resolve(res);})["catch"](function(err){return reject(err);});});}}),7779:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var SCENE_WHITELIST=['communities#react','community#show','platforms#react','platforms#show','projects#index','topic_channels#react','users#preferences','users#dashboard','users#show','topic_channels#show','videos#index'];var _default=SCENE_WHITELIST;exports["default"]=_default;}),6020:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _uuid=__webpack_require__(21614);var _uuid_dedupe=_interopRequireDefault(__webpack_require__(65339));var _local_storage=__webpack_require__(24476);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var LS_KEY='hck.kn';var SESSION_EXP_BY_HOURS=1;var SessionHandler=function(){function SessionHandler(lsKey){_classCallCheck(this,SessionHandler);this.LS_KEY=lsKey||LS_KEY;}
_createClass(SessionHandler,[{key:"getSessionData",value:function getSessionData(){var data=this._fetchFromCache();if(data){var createNewSession=this._isSessionExpired(data.t);var session=createNewSession?this._createSession(data.dId,(0,_uuid_dedupe["default"])(data.sId)):this._createSession(data.dId,data.sId);this._setInCache(session);return{createNewSession:createNewSession,data:this._translator(session)};}else{var _session=this._createSession();this._setInCache(_session);return{createNewSession:true,data:this._translator(_session)};}}},{key:"_createSession",value:function _createSession(){var distinctId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var sessionId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var dId=distinctId||(0,_uuid.v4)();var sId=sessionId||(0,_uuid.v4)();var t=this._getDatePlusHours(SESSION_EXP_BY_HOURS);return{dId:dId,sId:sId,t:t};}},{key:"_getDatePlusHours",value:function _getDatePlusHours(){var hours=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return new Date(Date.now()+hours*3600*1000).valueOf();}},{key:"_fetchFromCache",value:function _fetchFromCache(){return(0,_local_storage.getItem)(this.LS_KEY);}},{key:"_isSessionExpired",value:function _isSessionExpired(t){return Date.now()>parseFloat(t);}},{key:"_setInCache",value:function _setInCache(record){return(0,_local_storage.setItem)(this.LS_KEY,record);}},{key:"_translator",value:function _translator(_ref){var dId=_ref.dId,sId=_ref.sId;return{distinctId:dId,sessionId:sId};}}]);return SessionHandler;}();exports["default"]=SessionHandler;}),52383:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=trackRelation;var _main=_interopRequireDefault(__webpack_require__(85061));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function followedConfig(entity_type){return function(followed){return{entity_type:entity_type,eventName:followed?'Followed entity':'Unfollowed entity'};};}
function respectedConfig(entity_type){return function(respected){return{entity_type:entity_type,eventName:respected?'Respected entity':'Unrespected entity'};};}
var config={community_ids:followedConfig('Community'),followed_user_ids:followedConfig('User'),part_ids:followedConfig('Part'),platform_ids:followedConfig('Platform'),respected_comment_ids:respectedConfig('Comment'),respected_feed_post_ids:respectedConfig('FeedPost'),respected_news_article_ids:respectedConfig('NewsArticle'),respected_project_ids:respectedConfig('Project'),topic_ids:followedConfig('Topic')};function trackRelation(_ref){var key=_ref.key,createOrDeleteBool=_ref.createOrDeleteBool,id=_ref.id,source=_ref.source;var translator=config[key];if(!translator)return Promise.resolve();var _translator=translator(createOrDeleteBool),eventName=_translator.eventName,entity_type=_translator.entity_type;return _main["default"].reportEvent({eventName:eventName},{entity_type:entity_type,source:source,entity_id:id});}}),56664:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getUTMParams=getUTMParams;var _local_storage=__webpack_require__(24476);var _converters=__webpack_require__(39719);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var LS_KEY='hck.kn.utm';var PARAM_NAMES=['utm_campaign','utm_content','utm_medium','utm_source','utm_term'];var emptyMap=PARAM_NAMES.reduce(function(acc,key){return Object.assign({},acc,_defineProperty({},key,''));},{});function _clearParams(){(0,_local_storage.deleteItem)(LS_KEY);};function _getParams(){return(0,_local_storage.getItem)(LS_KEY)||emptyMap;};function _mapHasParams(map){return PARAM_NAMES.reduce(function(acc,key){return acc||!!map[key];},false);}
function _setParams(obj){return(0,_local_storage.setItem)(LS_KEY,obj);};function getUTMParams(){var queryString=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var sessionExpired=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var fullMap=(0,_converters.mapifyStringQuery)(queryString);var map=PARAM_NAMES.reduce(function(acc,key){return Object.assign({},acc,_defineProperty({},key,fullMap[key]||''));},{});if(_mapHasParams(map)){_setParams(map);return map;}else if(sessionExpired){_clearParams();return emptyMap;}
return _getParams();};}),24476:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.isLocalStorageSupported=isLocalStorageSupported;exports.deleteItem=deleteItem;exports.getItem=getItem;exports.setItem=setItem;var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _types=__webpack_require__(88742);var _cookies=__webpack_require__(47892);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var LS={"delete":function _delete(k){return window.localStorage.removeItem(k);},get:function get(k){return tryParse(window.localStorage.getItem(k));},set:function set(k,v){return window.localStorage.setItem(k,stringifyIfValid(v));}};var COOKIE={"delete":function _delete(k){return(0,_cookies.deleteCookie)(k);},get:function get(k){return(0,_cookies.getCookie)(k);},set:function set(k,v){return(0,_cookies.setCookie)(k,v);}};var NOOP={"delete":function _delete(){return(0,_error_handler["default"])('Local Storage and Cookies disabled!');},get:function get(){return(0,_error_handler["default"])('Local Storage and Cookies disabled!');},set:function set(){return(0,_error_handler["default"])('Local Storage and Cookies disabled!');}};function stringifyIfValid(val){if((0,_types.isObject)(val)||Array.isArray(val)){return JSON.stringify(val);}
return val;}
function tryParse(val){try{return JSON.parse(val);}catch(err){return val;}}
function getLocalStorage(){try{return window.localStorage;}catch(err){return null;}}
function getStrategy(){return isLocalStorageSupported()?LS:(0,_cookies.areCookiesSupported)()?COOKIE:NOOP;}
function isLocalStorageSupported(){var localStorage=getLocalStorage();if(!localStorage)return false;try{localStorage.setItem('testKey','1');localStorage.removeItem('testKey');return true;}catch(error){(0,_error_handler["default"])('Local Storage is not supported',error);return false;}}
function deleteItem(key){return getStrategy()["delete"](key);}
function getItem(key){return getStrategy().get(key);}
function setItem(key,value){return getStrategy().set(key,value);}}),97467:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.formatMapboxPoiRecordForState=exports.formatMapboxPlacesRecordForSelectOpts=exports.formatLocationForMapBoxOptions=void 0;var _country_data=__webpack_require__(90561);var _accessors=__webpack_require__(4887);var _predicates=__webpack_require__(20918);var TRUNCATED_OPTS={'Hong Kong':{short_code:'hk',text:'Hong Kong'}};var getLocationDataForMissingContext=function getLocationDataForMissingContext(feature){return feature.place_type.reduce(function(acc,type){if(type==='country'){acc[type]={text:feature.text,short_code:(0,_accessors.getInObj)(['properties','short_code'],feature)};}else{acc[type]={text:feature.text};}
return acc;},{country:null,place:null,region:null});};var getLocationDataFromContext=function getLocationDataFromContext(feature){var country=feature.context.find(function(f){return f.id.includes('country');});var region=feature.context.find(function(f){return f.id.includes('region');});var countryWithFallback=!country&&region&&TRUNCATED_OPTS.hasOwnProperty(region.text)?TRUNCATED_OPTS[region.text]:country;return{country:countryWithFallback,place:feature.context.find(function(f){return f.id.includes('place');})||{text:feature.text},region:feature.context.find(function(f){return f.id.includes('region');})};};var formatLocationForMapBoxOptions=function formatLocationForMapBoxOptions(location){if(TRUNCATED_OPTS.hasOwnProperty(location.city))return location.city;var locationAttributesToMerge=location.state==='Hong Kong'?['city','state']:['city','state','countryCode'];var countryDataObj=(0,_country_data.getCountryData)(location.countryCode);return locationAttributesToMerge.reduce(function(acc,key,i){if((0,_predicates.objHasPropertyOfLength)(location,key)){var attr=key==='countryCode'?countryDataObj.name:location[key];return i===0?attr:"".concat(acc,", ").concat(attr);}
return acc;},'');};exports.formatLocationForMapBoxOptions=formatLocationForMapBoxOptions;var formatMapboxPlacesRecordForSelectOpts=function formatMapboxPlacesRecordForSelectOpts(feature){var _ref=feature.hasOwnProperty('context')?getLocationDataFromContext(feature):getLocationDataForMissingContext(feature),country=_ref.country,place=_ref.place,region=_ref.region;if(!country||!(0,_predicates.objHasPropertyOfLength)(country,'short_code'))return null;var full=feature.place_name;var geoloc={lat:feature.geometry.coordinates[1],lng:feature.geometry.coordinates[0]};var state=(0,_accessors.getInObj)(['text'],region);return{label:full,location:{city:place.text,country:country.text,countryCode:country.short_code.toUpperCase(),state:state,geoloc:geoloc,full:full},value:full};};exports.formatMapboxPlacesRecordForSelectOpts=formatMapboxPlacesRecordForSelectOpts;var formatMapboxPoiRecordForState=function formatMapboxPoiRecordForState(feature){var place=feature.context.find(function(f){return f.id.includes('place');});var region=feature.context.find(function(f){return f.id.includes('region');});var country=feature.context.find(function(f){return f.id.includes('country');});var lng=feature.geometry.coordinates[0];var lat=feature.geometry.coordinates[1];var geoloc={lat:lat,lng:lng};var city=(0,_accessors.getInObj)(['text'],place)||'';var state=(0,_accessors.getInObj)(['text'],region)||'';var full=formatLocationForMapBoxOptions({city:city,state:state,countryCode:country.short_code.toUpperCase()});return{city:city,full:full,geoloc:geoloc,state:state,country:country.text,countryCode:country.short_code.toUpperCase()};};exports.formatMapboxPoiRecordForState=formatMapboxPoiRecordForState;}),49895:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.fetchMapboxNearbyCity=fetchMapboxNearbyCity;exports.fetchMapboxPlaces=fetchMapboxPlaces;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _formatters=__webpack_require__(97467);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var MAPBOX_API_KEY={"ALGOLIA_PLACES_APP_ID":"plZ09KG466NO","ALGOLIA_PLACES_API_KEY":"ef2fc9c578c4dc2099196acb774f01ae","MAPBOX_API_KEY":"pk.eyJ1IjoiaGFja3N0ZXJpbyIsImEiOiJjbDJ1dHhzOXkwNWhwM2RrNjVpbmFhbmE2In0.62anh05T9ONQ0MXk1RYSKA","SMARTY_STREET_WEBSITE_KEY":"15000391262539876","STRIPE_PUBLIC_KEY":"pk_live_2th69SGowWOr2R6GNfhrpxGJ"}.MAPBOX_API_KEY;var MAPBOX_BASE_URL='https://api.mapbox.com/geocoding/v5/mapbox.places';var MAPBOX_BASE_OPTS={access_token:MAPBOX_API_KEY,autocomplete:true,language:'en',types:'place'};var MAPBOX_NEARBY_SEARCH_OPTS={access_token:MAPBOX_API_KEY,autocomplete:false,language:'en',limit:1,proximity:'ip',types:'poi'};var MAPBOX_NEARBY_SEARCH_QUERY='restaurant';var queryToUrl=function queryToUrl(query){return "".concat(MAPBOX_BASE_URL,"/").concat(encodeURIComponent(query.replace(';','')),".json");};var buildQueryForObject=function buildQueryForObject(query){if(query===null||typeof query==='string')return query;return "".concat(query.city," ").concat(query.state," ").concat(query.countryCode);};function fetchMapboxNearbyCity(){var formatFn=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_formatters.formatMapboxPoiRecordForState;return new Promise(function(resolve,reject){return _superagent["default"].get(queryToUrl(MAPBOX_NEARBY_SEARCH_QUERY)).query(MAPBOX_NEARBY_SEARCH_OPTS).then(function(_ref){var body=_ref.body;return resolve(body.features.length>0?formatFn(body.features[0]):null);})["catch"](function(err){return reject(err);});});}
function fetchMapboxPlaces(q){return new Promise(function(resolve,reject){var query=buildQueryForObject(q);if(!query||query&&!query.length)return resolve({});return _superagent["default"].get(queryToUrl(query)).query(MAPBOX_BASE_OPTS).then(function(_ref2){var body=_ref2.body;return resolve(body);})["catch"](function(err){return reject(err);});});}}),8863:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=createMarkdownRenderer;var _markdownIt=_interopRequireDefault(__webpack_require__(9980));var _markdownItEmoji=_interopRequireDefault(__webpack_require__(46635));var _highlightEntity=_interopRequireDefault(__webpack_require__(75881));var _highlightjs=_interopRequireDefault(__webpack_require__(8546));var _mention=_interopRequireDefault(__webpack_require__(3330));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var RULE_MAP={mention:_mention["default"],highlight:_highlightEntity["default"],code:_highlightjs["default"]};function getRenderer(config){var renderer=new _markdownIt["default"]({breaks:true,linkify:true,xhtmlOut:true}).use(_markdownItEmoji["default"]).disable(['image','heading']);if(config.rules&&config.rules.length){config.rules.forEach(function(rule){if(RULE_MAP.hasOwnProperty(rule)){renderer.use(RULE_MAP[rule],config);}});}
return renderer;}
function createMarkdownRenderer(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var markdown=getRenderer(config);var defaultRender=markdown.renderer.rules.link_open||function(tokens,idx,options,env,self){return self.renderToken(tokens,idx,options);};markdown.renderer.rules.link_open=function(tokens,idx,options,env,self){var aIndex=tokens[idx].attrIndex('target');if(aIndex<0){tokens[idx].attrPush(['target','_blank']);}else{tokens[idx].attrs[aIndex][1]='_blank';}
tokens[idx].attrPush(['class',config.highlightClass]);tokens[idx].attrPush(['rel','noopener noreferrer nofollow']);return defaultRender(tokens,idx,options,env,self);};return markdown;}}),75881:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=highlightEntity;function isSpace(code){switch(code){case 0x09:case 0x20:return true;}
return false;}
function getRegexForChar(_char){return _char==='@'?new RegExp("(B".concat(_char,"[a-z0-9_-]+\b)(?!.w)"),'g'):new RegExp("".concat(_char,"[a-zA-Z0-9_-]+"),'g');}
function highlight_entity(md,config){return function tokenize(state,silent){if(!config.highlightChar)return false;var SYNTAX_CHAR=config.highlightChar;var SYNTAX_CODE=SYNTAX_CHAR.charCodeAt(0);var oldPos=state.pos;var max=state.posMax;var highlightWord,invalidSyntax=false;if(silent)return false;if(state.src.charCodeAt(state.pos)!==SYNTAX_CODE)return false;var opening=state.pos;while(state.pos<=max){if(state.pos===max){if(state.src.slice(opening,state.pos).match(getRegexForChar(SYNTAX_CHAR))){highlightWord=state.src.slice(opening,state.pos);break;}else{invalidSyntax=true;break;}}
if(isSpace(state.src.charCodeAt(state.pos))&&(opening===0||isSpace(state.src.charCodeAt(opening-1)))){highlightWord=state.src.slice(opening,state.pos);break;}
state.pos+=1;}
if(invalidSyntax){state.pos=oldPos;return false;}
var token=state.push('entity');token.content="".concat(highlightWord);state.md.inline.tokenize(state);return true;};}
function highlightEntity(md,config){md.renderer.rules.entity=function(tokens,idx,options,env,self){return "<span class=".concat(config.highlightClass," ").concat(self.renderAttrs(tokens[idx]),">").concat(tokens[idx].content,"</span>");};md.inline.ruler.push('entity',highlight_entity(md,config));}}),8546:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__(25108);Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _highlight=_interopRequireDefault(__webpack_require__(77869));var _validator=__webpack_require__(48966);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var maybe=function maybe(f){try{return f();}catch(e){return false;}};var highlightAuto=function highlightAuto(code){return maybe(function(){return _highlight["default"].highlightAuto((0,_validator.unescape)(code)).value;})||'';};var highlightWithLang=function highlightWithLang(code,lang){return maybe(function(){return _highlight["default"].highlight(lang,(0,_validator.unescape)(code),true).value;})||'';};var highlightWithLangOrAuto=function highlightWithLangOrAuto(code,lang){console.log('code',code);return lang?highlightWithLang(code,lang):highlightAuto(code);};var wrap=function wrap(render){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}
return render.apply(this,args).replace('<code class="','<code class="hljs hljs-monokai ').replace('<code>','<code class="hljs hljs-monokai">');};};var highlightjs=function highlightjs(md,opts){opts=Object.assign({},highlightjs.defaults,opts);md.options.highlight=opts.auto?highlightWithLangOrAuto:highlightWithLang;md.renderer.rules.fence=wrap(md.renderer.rules.fence);if(opts.code){md.renderer.rules.code_block=wrap(md.renderer.rules.code_block);}};highlightjs.defaults={auto:true,code:true};var _default=highlightjs;exports["default"]=_default;}),3330:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=mention;var _validator=__webpack_require__(48966);var SYNTAX_CHARS="@[]()".split("");var SYNTAX_CODES=SYNTAX_CHARS.map(function(_char){return _char.charCodeAt(0);});function isValidJSON(obj){try{JSON.parse(obj);return true;}catch(err){return false;}}
function mention_replace(md,config){return function tokenize(state,silent){var oldPos=state.pos;var max=state.posMax;var metaData,userName,invalidSyntax=false;if(silent)return false;if(state.src.charCodeAt(state.pos)!==SYNTAX_CODES[0])return false;if(state.src.charCodeAt(state.pos+1)!==SYNTAX_CODES[1])return false;state.pos=state.pos+2;var openingBracket=state.pos;while(state.pos<=max){if(state.pos===max){invalidSyntax=true;break;}
if(state.src.charCodeAt(state.pos)===SYNTAX_CODES[2]&&state.src.charCodeAt(state.pos+1)===SYNTAX_CODES[3]){var closingBracket=state.pos;userName=(0,_validator.unescape)(state.src.slice(openingBracket,closingBracket));state.pos=state.pos+1;break;}
state.pos+=1;}
if(invalidSyntax){state.pos=oldPos;return false;}
if(state.src.charCodeAt(state.pos)!==SYNTAX_CODES[3]){state.pos=oldPos;return false;}
var openingCurly=state.pos+1;while(state.pos<=max){if(state.pos===max){invalidSyntax=true;break;}
if(state.src.charCodeAt(state.pos)===SYNTAX_CODES[4]){var closingCurly=state.pos;metaData=(0,_validator.unescape)(state.src.slice(openingCurly,closingCurly));state.pos=state.pos+1;break;}
state.pos+=1;}
if(invalidSyntax||isValidJSON(metaData)===false){state.pos=oldPos;return false;}
var token=state.push('mention');var uuid=state.hasOwnProperty('env')&&state.env&&state.env.hasOwnProperty('uuid')?state.env.uuid:null;token.content="@".concat(userName);token.attrs=[['href',JSON.parse(metaData).url],['target','_blank'],['data-react-popover',metaData],['data-mv-key',uuid]];state.md.inline.tokenize(state);return true;};}
function mention(md,config){md.renderer.rules.mention=function(tokens,idx,options,env,self){return "<a class=".concat(config.highlightClass," ").concat(self.renderAttrs(tokens[idx]),">").concat(tokens[idx].content,"</a>");};md.inline.ruler.before('link','mention',mention_replace(md,config));}}),29642:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=shouldTruncateEscapedText;var _validator=__webpack_require__(48966);var LINK_MARKDOWN_REGEX=/(\[.+\]\(.+\))/g;function shouldTruncateEscapedText(escapedText){var limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:150;var unescapedText=(0,_validator.unescape)(escapedText||'');var match=unescapedText.match(LINK_MARKDOWN_REGEX);if(match&&match.length>0){var startIndex=unescapedText.search(LINK_MARKDOWN_REGEX);var endIndex=startIndex+match[0].length;return{limit:limit,truncate:startIndex>limit||endIndex<limit};}
return{limit:limit,truncate:true};};}),57988:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _jwtDecode=_interopRequireDefault(__webpack_require__(46489));var _superagent=_interopRequireDefault(__webpack_require__(80569));var _getPathPrefix=_interopRequireDefault(__webpack_require__(7685));var _local_storage=__webpack_require__(24476);var _promises=__webpack_require__(25426);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var TOKEN_KEY_PREFIX='hck.tkn';var CLIENT_TOKEN="".concat(TOKEN_KEY_PREFIX,".client");var USER_TOKEN="".concat(TOKEN_KEY_PREFIX,".user");var BATCH_INTERVAL=50;var AccessTokens=function(){function AccessTokens(){_classCallCheck(this,AccessTokens);this.client_token=null;this.user_token=null;this.initialized=false;this.isFetching=false;this.batch=[];}
_createClass(AccessTokens,[{key:"_initialize",value:function _initialize(){this.client_token=(0,_local_storage.getItem)(CLIENT_TOKEN)||null;this.user_token=(0,_local_storage.getItem)(USER_TOKEN)||null;this.initialized=true;}},{key:"_fetchTokensFromStorageOrServer",value:function _fetchTokensFromStorageOrServer(){var _this=this;return new Promise(function(resolve,reject){if(_this.batch.every(function(promise){return promise.tokens!==null;})){return resolve(_this.batch[0].tokens);}
return _this._fetchNewTokens().then(function(res){return _this._seedNewTokens(res.body);}).then(function(tokens){return resolve(tokens);})["catch"](function(err){return reject(err);});});}},{key:"_fetchNewTokens",value:function _fetchNewTokens(){return _superagent["default"].get("".concat((0,_getPathPrefix["default"])(),"/users/api_token")).withCredentials();}},{key:"_seedNewTokens",value:function _seedNewTokens(tokens){var _this2=this;return new Promise(function(resolve){_this2.deleteTokens();if(tokens.user_token)(0,_local_storage.setItem)(USER_TOKEN,tokens.user_token);(0,_local_storage.setItem)(CLIENT_TOKEN,tokens.client_token);resolve(tokens);});}},{key:"_resolveFetchTokens",value:function _resolveFetchTokens(key,val){this.batch=this.batch.filter(function(promise){promise[key](val);return false;});this.isFetching=false;}},{key:"_getTokenFromStorage",value:function _getTokenFromStorage(userOnly){if(userOnly){return{token:(0,_local_storage.getItem)(USER_TOKEN),type:'user'};}else{var token=(0,_local_storage.getItem)(USER_TOKEN);return token&&token.length>0?{token:token,type:'user'}:{token:(0,_local_storage.getItem)(CLIENT_TOKEN),type:'client'};}}},{key:"_isTokenValid",value:function _isTokenValid(token){if(!token||!token.length)return false;var jwt=(0,_jwtDecode["default"])(token);if(jwt.hasOwnProperty('user')&&jwt.user.hasOwnProperty('id')&&!this._doesJwtIdMatchBodyId(jwt.user.id)){return false;}
return jwt.hasOwnProperty('exp')?new Date(new Date(jwt.exp).valueOf()-10*1000)>new Date():false;}},{key:"_doesJwtIdMatchBodyId",value:function _doesJwtIdMatchBodyId(id){var bodyId=document.body.getAttribute('data-user-signed-in');if(typeof bodyId==='undefined'||bodyId===null||typeof bodyId==='string'&&!bodyId.length){return false;}
return parseInt(id)===parseInt(bodyId);}},{key:"deleteTokens",value:function deleteTokens(){(0,_local_storage.deleteItem)(USER_TOKEN);(0,_local_storage.deleteItem)(CLIENT_TOKEN);}},{key:"fetchTokens",value:function fetchTokens(userOnly){var _this3=this;var forceFetch=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return new Promise(function(resolve,reject){var tokenObj=_this3._getTokenFromStorage(userOnly);var tokenFromStorage=_this3._isTokenValid(tokenObj.token)&&forceFetch===false?_defineProperty({},"".concat(tokenObj.type,"_token"),tokenObj.token):null;_this3.batch.push({resolve:resolve,reject:reject,tokens:tokenFromStorage});if(_this3.isFetching)return;_this3.isFetching=true;return(0,_promises.setTimeoutPromise)(BATCH_INTERVAL).then(function(){return _this3._fetchTokensFromStorageOrServer();}).then(function(tokens){return _this3._resolveFetchTokens('resolve',tokens);})["catch"](function(err){return _this3._resolveFetchTokens('reject',err);});});}},{key:"getTokenType",value:function getTokenType(userOnly){return userOnly?'user':'client';}}]);return AccessTokens;}();exports["default"]=AccessTokens;}),34038:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=getCSRFToken;function getCSRFToken(){var meta=[].slice.call(document.getElementsByTagName('meta')).find(function(m){return m.name==='csrf-token';});return meta&&meta.content?meta.content:null;}}),7685:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=getPathPrefix;function getPathPrefix(){if(document&&document.getElementById){var element=document.getElementById('path-prefix');return element&&element.content?element.content:'';}}}),97523:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _superagent=__webpack_require__(80569);var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _window=__webpack_require__(33852);var _dispatchers=__webpack_require__(10912);var _accessors=__webpack_require__(4887);var _AccessTokens=_interopRequireDefault(__webpack_require__(57988));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function cloneRequest(request){var clone=new _superagent.Request(request.method,request.url);clone._query=request._query;clone.header=request.header;clone._header=request._header;clone._data=request._data;return clone;}
var OAuthServiceConstructor=function(){function OAuthServiceConstructor(){_classCallCheck(this,OAuthServiceConstructor);this.initialized=false;this.cachedApiPath=null;this.callbackQueueForNonPromises=[];this.requestQueue=[];this.requestQueueWorking=false;this.userIdFromDom=null;this.Tokens=new _AccessTokens["default"]();this.apiRequest=this.apiRequest.bind(this);this.clearApiTokens=this.clearApiTokens.bind(this);this.getApiPath=this.getApiPath.bind(this);this.getApiToken=this.getApiToken.bind(this);this.processApiRequestError=this.processApiRequestError.bind(this);}
_createClass(OAuthServiceConstructor,[{key:"_initialize",value:function _initialize(){this.initialized=true;this.userIdFromDom=this._fetchUserIdFromDOMBody();if(!this.Tokens.initialized){this.Tokens._initialize();}}},{key:"_cacheRequest",value:function _cacheRequest(request,resolve,reject,resolver,tokenType){var attempts=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;this.requestQueue.push({request:request,resolve:resolve,reject:reject,resolver:resolver,tokenType:tokenType,attempts:attempts});}},{key:"_createRequestResolver",value:function _createRequestResolver(request,userOnly,returnResponseBody,showSignInDialog){var _this=this;return function(token,reCallback,resolve,reject){var attempts=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;return cloneRequest(request).query({bearer_token:token}).then(function(res){return resolve(returnResponseBody?Object.assign({},res.body,{token:token}):res);})["catch"](function(err){var withinErrorRange=err&&err.status&&err.status>=400&&err.status<=500;if(!_this.userIdFromDom&&attempts>=1&&withinErrorRange){return resolve({});}else if(_this.userIdFromDom&&attempts>=1&&withinErrorRange){return reject(err);}else if(attempts>=2){return reject(err);}
_this._recoverFailedRequest(request,resolve,reject,reCallback,attempts,userOnly,showSignInDialog);});};}},{key:"_fetchTokens",value:function _fetchTokens(userOnly){var forceFetch=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return this.Tokens.fetchTokens(userOnly,forceFetch);}},{key:"_fetchUserIdFromDOMBody",value:function _fetchUserIdFromDOMBody(){return document&&document.body.getAttribute('data-user-signed-in')||null;}},{key:"_handleTokens",value:function _handleTokens(tokens,userOnly,showSignInDialog){if(tokens.hasOwnProperty('user_token')){return this._resolveRequestQueue(tokens);}else{return userOnly&&showSignInDialog?this._summonLoginPanel(userOnly):userOnly?this._handleUnresolvedUserRequests():this._resolveRequestsForTokenType(tokens.client_token,'client');}}},{key:"_handleUnresolvedUserRequests",value:function _handleUnresolvedUserRequests(){if(this.userIdFromDom){this._resolveRequestsForTokenType(null,'user');}else{this._resolveUserPromisesForUnresolvedRequests();}}},{key:"_recoverFailedRequest",value:function _recoverFailedRequest(request,resolve,reject,resolver,attempts,userOnly,showSignInDialog){var _this2=this;this.Tokens.deleteTokens();this._cacheRequest(request,resolve,reject,resolver,this.Tokens.getTokenType(userOnly),attempts+=1);return this._fetchTokens(userOnly).then(function(tokens){return _this2._handleTokens(tokens,userOnly,showSignInDialog);})["catch"](function(err){return reject(err);});}},{key:"_reFetchTokensAfterLogin",value:function _reFetchTokensAfterLogin(userOnly,reLoggedUserId){this._initialize();if(!this.userIdFromDom||parseInt(this.userIdFromDom,10)!==parseInt(reLoggedUserId,10)){return(0,_window.reloadDocumentLocation)();}
return this._fetchTokens(userOnly,true)["catch"](function(err){return(0,_error_handler["default"])('_reFetchTokensAfterLogin Error',err);});}},{key:"_resolveCallbacksForGetApiToken",value:function _resolveCallbacksForGetApiToken(tokens){var _this3=this;var hasUserToken=tokens.hasOwnProperty('user_token');var token=hasUserToken?tokens.user_token:tokens.client_token||null;this.callbackQueueForNonPromises=this.callbackQueueForNonPromises.filter(function(callback){if(callback.userOnly&&hasUserToken||callback.userOnly===false){callback.callback(token);return false;}else if(callback.attempts<2){_this3.getApiToken.call(_this3,callback.callback,callback.userOnly,callback.attempts+=1);return false;}else{callback.callback(null);return false;}});}},{key:"_resolveRequestQueue",value:function _resolveRequestQueue(tokens){var _this4=this;if(this.requestQueueWorking)return;this.requestQueueWorking=true;this.requestQueue=this.requestQueue.filter(function(request){request.resolver.call(_this4,tokens.user_token,request.resolver,request.resolve,request.reject,request.attempts);return false;});this.requestQueueWorking=false;}},{key:"_resolveRequestsForTokenType",value:function _resolveRequestsForTokenType(token,tokenType){var _this5=this;this.requestQueue=this.requestQueue.filter(function(request){if(request.tokenType===tokenType){request.resolver.call(_this5,token,request.resolver,request.resolve,request.reject,request.attempts);return false;}
return true;});}},{key:"_resolveUserPromisesForUnresolvedRequests",value:function _resolveUserPromisesForUnresolvedRequests(){this.requestQueue=this.requestQueue.filter(function(request){if(request.tokenType==='user'){request.resolve({unresolved:true});return false;}
return true;});}},{key:"_summonLoginPanel",value:function _summonLoginPanel(userOnly){(0,_dispatchers.summonLoginPanel)({detail:{callback:this._reFetchTokensAfterLogin.bind(this,userOnly),redirect_to:null}});this._resolveUserPromisesForUnresolvedRequests();}},{key:"apiRequest",value:function apiRequest(request){var _this6=this;var userOnly=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var returnResponseBody=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var showSignInDialog=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;return new Promise(function(resolve,reject){if(!_this6.initialized)_this6._initialize();var tokenType=_this6.Tokens.getTokenType(userOnly);var resolver=_this6._createRequestResolver(request,userOnly,returnResponseBody,showSignInDialog);_this6._cacheRequest(request,resolve,reject,resolver,tokenType,0);return _this6._fetchTokens(userOnly).then(function(tokens){return _this6._handleTokens(tokens,userOnly,showSignInDialog);})["catch"](function(err){return reject(err);});});}},{key:"clearApiTokens",value:function clearApiTokens(){this.Tokens.deleteTokens();}},{key:"getApiPath",value:function getApiPath(){if(typeof this.cachedApiPath==='string')return this.cachedApiPath;if((0,_window.doesWindowExistWithProperty)('location')){var protocol=_window.windowLocationProtocol.get();var port=_window.windowLocationPort.get();var element=document.getElementById('api-uri');var apiPath=element&&element.content&&port&&port.length?"".concat(protocol,"//").concat(element.content,":").concat(port):element&&element.content?"".concat(protocol,"//").concat(element.content):(0,_error_handler["default"])('OAuthService getApiPath expects a meta tag with an id of api-uri');if(typeof apiPath==='string')this.cachedApiPath=apiPath;return apiPath;}}},{key:"getApiToken",value:function getApiToken(callback){var _this7=this;var userOnly=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var attempts=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;this.callbackQueueForNonPromises.push({callback:callback,userOnly:userOnly,attempts:attempts});return this._fetchTokens(userOnly).then(function(tokens){return _this7._resolveCallbacksForGetApiToken(tokens);})["catch"](function(err){return _this7._resolveCallbacksForGetApiToken({});});}},{key:"processApiRequestError",value:function processApiRequestError(){var error=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return(0,_accessors.getInObj)(['response','body','errors'],error)||error;}}]);return OAuthServiceConstructor;}();var OAuthService=new OAuthServiceConstructor();var _default=OAuthService;exports["default"]=_default;}),38891:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _execEnvironment=__webpack_require__(63509);var _google=__webpack_require__(3744);var _urls=__webpack_require__(13380);var _main=_interopRequireDefault(__webpack_require__(85061));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var SeoHandler=function(){function SeoHandler(_ref){var config=_ref.config;_classCallCheck(this,SeoHandler);if(typeof config!=='function'){throw new Error('Invalid config passed to SeoHandler');}
this.config=config;}
_createClass(SeoHandler,[{key:"reportView",value:function reportView(_ref2){var _ref2$config=_ref2.config,config=_ref2$config===void 0?this.config:_ref2$config,_ref2$data=_ref2.data,data=_ref2$data===void 0?{}:_ref2$data,path=_ref2.path,referrer=_ref2.referrer;if(!(0,_execEnvironment.canUseDOM)())return;var pathConfig=config((0,_urls.prependLeadingSlash)(path));if(typeof pathConfig!=='function')return;var _pathConfig=pathConfig(data),title=_pathConfig.title,meta_desc=_pathConfig.meta_desc,pageType=_pathConfig.pageType,entity_id=_pathConfig.entity_id,canonical=_pathConfig.canonical;if(title){document.title=title;}
var metaDescription=document.querySelector('meta[name="description"]');if(metaDescription&&meta_desc){metaDescription.content=meta_desc;}
var pageTypeTag=document.querySelector('meta[name="pageType"]');if(pageTypeTag&&pageType){pageTypeTag.content=pageType;}
if(canonical){var canonicalTag=document.querySelector('link[rel="canonical"]')||document.createElement('link');if(!canonicalTag.rel){canonicalTag.rel='canonical';document.head.appendChild(canonicalTag);}
canonicalTag.href=canonical;}
_main["default"].reportVirtualPageView({pageType:pageType,entity_id:entity_id,referrer:referrer});(0,_google.createVirtualPageview)({pageType:pageType,title:title});return true;}}]);return SeoHandler;}();exports["default"]=SeoHandler;}),78379:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _urls=__webpack_require__(13380);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var UrlService=function(){function UrlService(){_classCallCheck(this,UrlService);this._rootPath='/';}
_createClass(UrlService,[{key:"setRootPath",value:function setRootPath(path){this._rootPath=path;}},{key:"url",value:function url(_url){if(_url===null||typeof _url==='undefined')return _url;if(_url==='/'||_url==='javascript:void(0);')return _url;if(this._hasProtocol(_url))return _url;if(this._rootPath==='/')return "/".concat((0,_urls.cleanPreAndPostSlashes)(_url));return "".concat(this._rootPath,"/").concat((0,_urls.cleanPreAndPostSlashes)(_url));}},{key:"_hasProtocol",value:function _hasProtocol(url){return url.includes('http://')||url.includes('https://');}}]);return UrlService;}();var urlService=new UrlService();var _default=urlService;exports["default"]=_default;}),34765:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _postal=_interopRequireDefault(__webpack_require__(33360));var _graphql=__webpack_require__(2740);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var allIds=['channel_ids','followed_user_ids','part_ids','respected_comment_ids','respected_feed_post_ids','respected_news_article_ids','respected_project_ids'];var RelationsStore=function(){function RelationsStore(){_classCallCheck(this,RelationsStore);this.channel=_postal["default"].channel('user_relations');this.isFetching=[];this.store={};this.userNotLoggedIn=false;}
_createClass(RelationsStore,[{key:"delete",value:function _delete(resource){var bucket=this.store[resource];if(this.store[resource]){delete this.store[resource];this._storeChanged();return bucket;}else{return new Error('Resource is not in store!');}}},{key:"deleteIn",value:function deleteIn(resource,id){if(this.store[resource]){this.store[resource]=this.store[resource].filter(function(_id){return _id!==id;});this._storeChanged();return id;}else{return new Error('Resource is not in store!');}}},{key:"fetchAll",value:function fetchAll(){var _this=this;if(this.userNotLoggedIn){return Promise.resolve(this.store);}else if(!this.isFetching.includes('all')){this.isFetching.push('all');return(0,_graphql.graphQueryWithUserNoSigninDialog)({t:'get_user_relations'}).then(function(res){_this.isFetching=_this.isFetching.filter(function(r){return r!=='all';});if(!res.user){_this.userNotLoggedIn=true;return Promise.resolve(_this.store);}
var buckets=res.user;Object.keys(buckets).forEach(function(key){key==='id'?_this.set('currentUser',buckets[key]):_this.set(key,buckets[key]);});_this.channel.publish('initial.store',_this.store);return Promise.resolve(_this.store);})["catch"](function(err){_this.isFetching=_this.isFetching.filter(function(r){return r==='all';});return Promise.reject(err);});}else{return this._pollForResource('all');}}},{key:"fetchResource",value:function fetchResource(resource){var _this2=this;return new Promise(function(resolve,reject){if(_this2.userNotLoggedIn)return resolve([]);return _this2.fetchAll().then(function(){return resolve(_this2.get(resource));})["catch"](function(err){return reject(err);});});}},{key:"get",value:function get(resource){return this.store[resource]||[];}},{key:"getIn",value:function getIn(resource,id){return this.store[resource]&&this.store[resource].find(function(_id){return _id===id;});}},{key:"getChannel",value:function getChannel(){return this.channel;}},{key:"getStore",value:function getStore(){return this.store;}},{key:"has",value:function has(resource){return this.store.hasOwnProperty(resource);}},{key:"hasAll",value:function hasAll(){var keys=Object.keys(this.store);return allIds.every(function(ai){return keys.includes(ai);});}},{key:"hasIn",value:function hasIn(resource,id){return this.getIn(resource,id)!==undefined;}},{key:"set",value:function set(resource,value){if(resource==='currentUser'&&value.id&&this.userNotLoggedIn)this.userNotLoggedIn=false;this.store[resource]=value;this._storeChanged();}},{key:"setIn",value:function setIn(resource,id){if(this.store[resource]){this.store[resource].push(id);}else{this.store[resource]=[id];}
this._storeChanged();}},{key:"_pollForResource",value:function _pollForResource(resource){var _this3=this;var time=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1000;return new Promise(function(resolve,reject){(function poll(resource,loop,time){var _this4=this;setTimeout(function(){if(_this4.userNotLoggedIn||loop===5){return resolve(resource==='all'?_this4.store:_this4.get(resource));}else if(_this4.has(resource==='all'?'part_ids':resource)){return resolve(resource==='all'?_this4.store:_this4.get(resource));}else{return poll.call(_this4,resource,loop+1,time);}},time);}).bind(_this3)(resource,0,time);});}},{key:"_storeChanged",value:function _storeChanged(){this.channel.publish('store.changed',this.store);}},{key:"__refresh__",value:function __refresh__(){this.isFetching=[];this.store={};this.userNotLoggedIn=false;}},{key:"__setProperty__",value:function __setProperty__(property,value){this[property]=value;}}]);return RelationsStore;}();var userRelationsStore=new RelationsStore();var _default=userRelationsStore;exports["default"]=_default;}),73235:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.agreeTo=agreeTo;exports.imageV=imageV;exports.isEmail=isEmail;exports.isCreditCard=isCreditCard;exports.isCVV=isCVV;exports.isDatetimeLocalValueValid=isDatetimeLocalValueValid;exports.isDatetimeLocalValueInFuture=isDatetimeLocalValueInFuture;exports.isDatetimeLocalValueInPast=isDatetimeLocalValueInPast;exports.isDecimal=isDecimal;exports.isDraftsterEmpty=isDraftsterEmpty;exports.isFullYear=isFullYear;exports.isInt=isInt;exports.isRequired=isRequired;exports.isUrl=isUrl;exports.isUrlIfDefined=isUrlIfDefined;exports.isUrlWithProtocol=isUrlWithProtocol;exports.isValidEmbedUrl=isValidEmbedUrl;exports.isValidImageFile=isValidImageFile;exports.maxLength=maxLength;exports.minLength=minLength;exports.minValue=minValue;exports.objectKeysAllRequired=objectKeysAllRequired;exports.optionIsRequired=optionIsRequired;var _validator=__webpack_require__(48966);var _time=__webpack_require__(28716);var _images=__webpack_require__(83922);var _video=__webpack_require__(59359);function agreeTo(value,valParser,msg){var parser=valParser?valParser:function(v){return v;};var val=parser(value);return val===true?null:msg||'You must agree to these terms.';}
function imageV(image){return['id','url'].every(function(key){return image&&image.hasOwnProperty(key);})?null:'A valid image is required.';}
function isEmail(value,msg){return value&&value.length&&!(0,_validator.isEmail)(value)?msg||'Is not a valid email address.':null;}
function isCreditCard(value){return(0,_validator.isCreditCard)(value)?null:'Please enter a valid credit card.';}
function isCVV(value){var target=value.toString();return target.length===3&&(0,_validator.isDecimal)(target)?null:'Must be a three digit number.';}
function isDatetimeLocalValueValid(value){if((0,_time.datetimeLocalValueIsValid)(value))return null;return 'Please enter a valid date and time';}
function isDatetimeLocalValueInFuture(value){var strict=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return value&&value.length&&!(0,_time.datetimeLocalValueIsInFuture)(value,strict)?'Date must be in the future':null;}
function isDatetimeLocalValueInPast(value){if((0,_time.datetimeLocalValueIsInPast)(value))return null;return 'Date must be in the past';}
function isDecimal(value){if(!value.length)return null;return(0,_validator.isDecimal)(String(value))?null:'Please use only numbers, one decimal and no spaces in this field.';}
function isDraftsterEmpty(editorContent){if(editorContent.every(function(block){return block.type==='CE'&&block.html==='<p></p>';})){return 'Please complete this required field.';}
return null;}
function isFullYear(value){var target=value.toString();return target.length===4&&(0,_validator.isDecimal)(target)?null:'Invalid year.';}
function isInt(value){var msg=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Please use numbers only (no decimal).";if(typeof value==='number'){return Number.isInteger(value)?null:msg;}else if(typeof value==='string'){return /^\d+$/.test(value)?null:msg;}
return msg;}
function isRequired(value){var msg=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Please complete this required field.";if(value===null)return msg;if(typeof value==='string'){return value.length>0&&value!=='NaN'?null:msg;}else if(typeof value==='number'){return value&&value!=='NaN'?null:msg;}
return value&&String(value).length&&value!=='NaN'?null:msg;}
function isUrl(value){return(0,_validator.isURL)(value)?null:'Enter a valid url.';}
function isUrlIfDefined(value){if(!value||value&&!value.length)return null;return isUrl(value);}
function isUrlWithProtocol(value){return(0,_validator.isURL)(value,{require_protocol:true})?null:'Enter a valid url, http or https is required.';}
function isValidEmbedUrl(value){var keys=Object.keys(_video.VIDEO_EMBED_REGEXS);var isValid=keys.reduce(function(acc,key){if(acc)return acc;var match=value.match(_video.VIDEO_EMBED_REGEXS[key]);return!!match;},false);return isValid?null:'Enter a valid youtube or facebook video url.';}
function isValidImageFile(value){var allowGifs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!value||!(0,_images.isImageMIMEType)(value.type))return "Sorry, that's not a valid image.";if(!allowGifs&&(0,_images.isGif)(value.type))return 'Sorry, GIFs are not allowed';return null;}
function maxLength(length,value,msg){var entity=typeof value==='string'?'character':'item';return value.length&&value.length>length?msg||"Maximum ".concat(length," ").concat(entity,"s, ").concat(entity," count (").concat(value.length,")."):null;}
function minLength(length,value){return value.length&&value.length<length?"Must be at least ".concat(length," characters."):null;}
function minValue(min,value){return value!==null&&parseInt(value)<min?"Must be at least ".concat(min,"."):null;}
function objectKeysAllRequired(){var obj=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return obj&&Object.keys(obj).reduce(function(acc,key){return acc?acc:isRequired(obj[key]);},null);}
function optionIsRequired(value){var msg=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return value&&String(value).length&&value!=='NaN'?null:msg||'Please choose one option.';}}),79645:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getWhitelabelRootPath=getWhitelabelRootPath;exports.whitelabelUrlHelper=void 0;var _window=__webpack_require__(33852);function prependForwardSlash(path){if(!path||typeof path!=='string'||!path.length)return '';return path[0]==='/'?path:"/".concat(path);}
function getPath(rootPath,path){if(!path||typeof path!=='string'||!path.length)return '';if(_hasProtocol(path))return path;return rootPath==='/'?prependForwardSlash(path):"".concat(rootPath).concat(prependForwardSlash(path));}
function _hasProtocol(url){return url.includes('http://')||url.includes('https://');};var whitelabelUrlHelper=function(){var rootPath;return function(){if(!rootPath)rootPath=getWhitelabelRootPath();return{appendToRootPath:function appendToRootPath(path){return getPath(rootPath,path);},rootPath:rootPath==='/'?'':rootPath};};}();exports.whitelabelUrlHelper=whitelabelUrlHelper;function getWhitelabelRootPath(){if(!(0,_window.documentExists)())throw new Error('whiteLabelUrlHelper cannot be used during server-side rendering');var meta=[].slice.call(document.getElementsByTagName('meta')).find(function(m){return m.name==='whitelabel_base_path';});return meta&&meta.content?meta.content:'/';}}),33852:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.documentExists=documentExists;exports.getNavigator=getNavigator;exports.documentHeight=documentHeight;exports.doesBodyHaveUserId=doesBodyHaveUserId;exports.getUserIdFromBody=getUserIdFromBody;exports.doesWindowLocationHaveParam=doesWindowLocationHaveParam;exports.doesWindowExistWithProperty=doesWindowExistWithProperty;exports.getDocumentProperty=getDocumentProperty;exports.getWindow=getWindow;exports.getWindowProperty=getWindowProperty;exports.getDocumentFunction=getDocumentFunction;exports.setDocumentCookie=setDocumentCookie;exports.reloadDocumentLocation=reloadDocumentLocation;exports.windowLocationRedirect=windowLocationRedirect;exports.windowLocationReload=windowLocationReload;exports.windowScrollTo=windowScrollTo;exports.windowDPR=windowDPR;exports.windowInnerWidth=windowInnerWidth;exports.windowInnerHeight=windowInnerHeight;exports.windowPageYOffset=windowPageYOffset;exports.windowPageXOffset=windowPageXOffset;exports.windowSetTimeout=windowSetTimeout;exports.windowLocationProtocol=exports.windowLocationPort=exports.windowLocationPathname=exports.windowLocationOrigin=exports.windowLocationHostname=exports.windowLocationHref=exports.windowLocationHash=exports.windowLocationSearch=exports.isWindowDefined=void 0;var _converters=__webpack_require__(39719);var isWindowDefined=typeof window!=='undefined';exports.isWindowDefined=isWindowDefined;function getValue(service){return window.location[service];}
function _hasValue(service){return window.location.hasOwnProperty(service)&&window.location[service].length>0;}
function factory(service){return{get:function get(){return getValue(service);},hasValue:function hasValue(){return _hasValue(service);}};}
function documentExists(){return typeof document!=='undefined';}
function getNavigator(){return typeof navigator==='undefined'?null:navigator;}
var windowLocationSearch=function(){return factory('search');}();exports.windowLocationSearch=windowLocationSearch;var windowLocationHash=function(){return factory('hash');}();exports.windowLocationHash=windowLocationHash;var windowLocationHref=function(){return Object.assign({},factory('href'),{removeHash:function removeHash(){return _hasValue('hash')?getValue('href').split('#')[0]:getValue('href');}});}();exports.windowLocationHref=windowLocationHref;var windowLocationHostname=function(){return factory('hostname');}();exports.windowLocationHostname=windowLocationHostname;var windowLocationOrigin=function(){return factory('origin');}();exports.windowLocationOrigin=windowLocationOrigin;var windowLocationPathname=function(){return factory('pathname');}();exports.windowLocationPathname=windowLocationPathname;var windowLocationPort=function(){return factory('port');}();exports.windowLocationPort=windowLocationPort;var windowLocationProtocol=function(){return factory('protocol');}();exports.windowLocationProtocol=windowLocationProtocol;function documentHeight(){return document.documentElement.scrollHeight;}
function doesBodyHaveUserId(){if(!documentExists()||!document.body)return false;return document.body.hasAttribute('data-user-signed-in');}
function getUserIdFromBody(){if(!doesBodyHaveUserId())return null;return document.body.getAttribute('data-user-signed-in');}
function doesWindowLocationHaveParam(param){if(windowLocationSearch.hasValue()){var paramMap=(0,_converters.mapifyStringQuery)(windowLocationSearch.get().slice(1));return paramMap.hasOwnProperty(param);}else{return false;}}
function doesWindowExistWithProperty(property){return!!(window&&window[property]);}
function getDocumentProperty(prop){if(!documentExists()||!document[prop])return;return document[prop];}
function getWindow(){return isWindowDefined?window:{};}
function getWindowProperty(prop){if(!window||!window[prop])return;return window[prop];}
function getDocumentFunction(name){if(!documentExists()||typeof document[name]!=='function')return;return document[name].bind(document);}
function setDocumentCookie(value){document.cookie=value;document.cookie="path=/";}
function reloadDocumentLocation(){document.location.reload();}
function windowLocationRedirect(url){window.location=url;}
function windowLocationReload(forceGet){window.location.reload(forceGet);};function windowScrollTo(x,y){window.scrollTo(x,y);}
function windowDPR(){return window.devicePixelRatio||1;}
function windowInnerWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;}
function windowInnerHeight(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;}
function windowPageYOffset(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;}
function windowPageXOffset(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft;}
function windowSetTimeout(cb,delayTime){return window.setTimeout(cb,delayTime);}}),4887:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.findIndex=findIndex;exports.getFirstString=getFirstString;exports.getInObj=getInObj;exports.getInObjWithPrototypeAccess=getInObjWithPrototypeAccess;exports.getIdOrUuid=getIdOrUuid;exports.pluckIfMatch=pluckIfMatch;var _types=__webpack_require__(88742);function findIndex(arr,pred){if(!Array.isArray(arr)||typeof pred!=='function')return-1;for(var i=0;i<arr.length;i++){if(pred(arr[i]))return i;}
return-1;}
function getFirstString(arrayOrString){if((0,_types.isAString)(arrayOrString))return arrayOrString;if(Array.isArray(arrayOrString)&&(0,_types.isAString)(arrayOrString[0]))return arrayOrString[0];return null;}
function getInObj(path,obj){if(!obj)return null;return path.reduce(function(acc,x){return acc&&acc.hasOwnProperty(x)?acc[x]:null;},obj);}
function getInObjWithPrototypeAccess(path,obj){if(!obj)return null;return path.reduce(function(acc,x){return acc&&x in acc?acc[x]:null;},obj);}
function getIdOrUuid(record){return record.id||record.uuid||null;}
function pluckIfMatch(list,key,a,b){return list.reduce(function(acc,item){return item[a]===b?acc.concat(item[key]):acc;},[]);}}),99167:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=clickOutsideListener;var _types=__webpack_require__(88742);function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function addListener(listener){document.addEventListener('click',listener);}
function createListener(elemOrGetter,callback,targetWillUnmount){return function(e){var element=(0,_types.isAFunction)(elemOrGetter)?elemOrGetter():elemOrGetter;if(element&&isClickOutsideElement(e,element,targetWillUnmount))callback(e);};}
function isClickOutsideElement(e,element,targetWillUnmount){if(targetWillUnmount&&(0,_types.isAFunction)(e.composedPath)){return!isNodeInComposedPath(e,element);}
return!element.contains(e.target);}
function isNodeInComposedPath(e,nodeToMatch){var paths=e.composedPath();var _iterator=_createForOfIteratorHelper(paths),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var v=_step.value;if(v===nodeToMatch)return true;}}catch(err){_iterator.e(err);}finally{_iterator.f();}
return false;}
function removeListener(listener){document.removeEventListener('click',listener);}
function clickOutsideListener(elemOrGetter,callback){var targetWillUnmount=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var listener=createListener(elemOrGetter,callback,targetWillUnmount);addListener(listener);return{remove:function remove(){return removeListener(listener);}};}}),39719:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.flatten=flatten;exports.flattenArrayOfObjectsToObject=flattenArrayOfObjectsToObject;exports.flattenObjToArray=flattenObjToArray;exports.listToBoolMap=listToBoolMap;exports.listToMapByProperty=listToMapByProperty;exports.mapifyStringQuery=mapifyStringQuery;exports.mapToStringQuery=mapToStringQuery;exports.transformObjValues=transformObjValues;var _types=__webpack_require__(88742);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function flatten(arr){return arr.reduce(function(acc,val){return acc.concat(val);},[]);}
function flattenArrayOfObjectsToObject(list,key,value){var predicate=arguments.length>3&&arguments[3]!==undefined?arguments[3]:function(val){return!(0,_types.isBlank)(val);};return list.reduce(function(acc,item){if(!item.hasOwnProperty(key)||!item.hasOwnProperty(value))return acc;if(typeof predicate==='function'&&predicate(item)){acc[item[key]]=item[value];}
return acc;},{});}
function flattenObjToArray(){var obj=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return Object.keys(obj).reduce(function(acc,key){return(0,_types.isObject)(obj[key])?acc.concat(flattenObjToArray(obj[key])):acc.concat(obj[key]);},[]);}
function listToBoolMap(list){if(!list||!list.length)return{};return list.reduce(function(acc,item){return Object.assign({},acc,_defineProperty({},item,true));},{});}
function listToMapByProperty(list){var property=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'id';if(!list||!list.length)return{};return list.reduce(function(acc,item){return Object.assign({},acc,_defineProperty({},item[property],item));},{});}
function mapifyStringQuery(query){if(!query||!query.length)return{};if(query.substring(0,1)==='?'){query=query.substring(1);}
return query.split('&').reduce(function(acc,sect){if(!sect||!sect.length)return acc;var parts=sect.split('=');acc[parts[0]]=decodeURIComponent(parts[1]);return acc;},{});}
function mapToStringQuery(map){return Object.keys(map).reduce(function(acc,key){if(!(0,_types.isBlank)(map[key])){return(0,_types.isObject)(map[key])?acc.concat("".concat(key,"=").concat(encodeURIComponent(JSON.stringify(map[key])))):acc.concat("".concat(key,"=").concat(encodeURIComponent(map[key])));}
return acc;},[]).join('&');}
function transformObjValues(original,transformFn){return Object.keys(original).reduce(function(acc,key){acc[key]=transformFn(original[key],key);return acc;},{});}}),10912:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.closeGlobalPopover=closeGlobalPopover;exports.dispatchEvent=dispatchEvent;exports.summonGlobalMessenger=summonGlobalMessenger;exports.summonGlobalDialog=summonGlobalDialog;exports.summonGlobalPopover=summonGlobalPopover;exports.summonLoginPanel=summonLoginPanel;exports.SUMMON_GLOBAL_DIALOG=void 0;var SUMMON_GLOBAL_DIALOG='open:GlobalDialog';exports.SUMMON_GLOBAL_DIALOG=SUMMON_GLOBAL_DIALOG;function closeGlobalPopover(){window.dispatchEvent(new CustomEvent('close:GlobalPopover',{detail:{},bubbles:true,cancelable:true}));}
function dispatchEvent(event){var detail=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};window.dispatchEvent(new CustomEvent(event,{detail:detail}));}
function summonGlobalMessenger(){var detail=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};window.dispatchEvent(new CustomEvent('react:messenger',{detail:detail,bubbles:true,cancelable:true}));}
function summonGlobalDialog(){var detail=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};window.dispatchEvent(new CustomEvent(SUMMON_GLOBAL_DIALOG,{detail:detail,bubbles:true,cancelable:true}));}
function summonGlobalPopover(){var detail=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};window.dispatchEvent(new CustomEvent('open:GlobalPopover',{detail:detail,bubbles:true,cancelable:true}));}
function summonLoginPanel(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$detail=_ref.detail,detail=_ref$detail===void 0?{}:_ref$detail;window.dispatchEvent(new CustomEvent('open:SigninDialog',{detail:detail,bubbles:true,cancelable:true}));}}),26208:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.documentActiveElement=documentActiveElement;exports.isDomElement=isDomElement;exports.toggleNoScroll=toggleNoScroll;exports.isElementInView=isElementInView;exports.scrollElementToMiddle=scrollElementToMiddle;var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _window=__webpack_require__(33852);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function addScrollToBody(){if(document&&document.body&&!document.body.classList.contains('no-scroll')){document.body.classList.add('no-scroll');}}
function removeScrollFromBody(){if(document&&document.body&&document.body.classList.contains('no-scroll')){document.body.classList.remove('no-scroll');}}
function documentActiveElement(){return document.activeElement;}
function isDomElement(element){return!!element&&(element instanceof HTMLElement||element.nodeType===1);}
function toggleNoScroll(addOrRemove){if(typeof addOrRemove==='undefined'||typeof addOrRemove!=='string'){return new Error('toggleNoScroll method is undefined');}
return addOrRemove==='add'?addScrollToBody():removeScrollFromBody();}
function isElementInView(el){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$bufferH=_ref.bufferH,bufferH=_ref$bufferH===void 0?0:_ref$bufferH,_ref$bufferV=_ref.bufferV,bufferV=_ref$bufferV===void 0?0:_ref$bufferV;var rect=el.getBoundingClientRect();var left=rect.left-bufferH;var right=rect.right+bufferH;var top=rect.top-bufferV;var bottom=rect.bottom+bufferV;return left<(0,_window.windowInnerWidth)()&&right>0&&top<(0,_window.windowInnerHeight)()&&bottom>0;};function scrollElementToMiddle(el){var duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;if(el)(0,_smoothScroll["default"])(el.getBoundingClientRect().top+(0,_window.windowPageYOffset)()-(0,_window.windowInnerHeight)()/2,duration);}}),64770:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.clickEventHasModifierKey=clickEventHasModifierKey;exports.getEventTargetHref=getEventTargetHref;exports.getEventTargetText=getEventTargetText;exports.getFilesFromEvent=getFilesFromEvent;exports.selectTargetContents=selectTargetContents;var _accessors=__webpack_require__(4887);function clickEventHasModifierKey(e){return e.altKey||e.ctrlKey||e.shiftKey||e.metaKey;}
function getEventTargetHref(e){return(0,_accessors.getInObjWithPrototypeAccess)(['target','href'],e);};function getEventTargetText(e){return(0,_accessors.getInObjWithPrototypeAccess)(['target','textContent'],e)||(0,_accessors.getInObjWithPrototypeAccess)(['target','innerText'],e);};function getFilesFromEvent(e){var files=e.dataTransfer?e.dataTransfer.files:e.target?e.target.files:null;return[].slice.call(files||[]);}
function selectTargetContents(e){e.target.select();}}),63509:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.canUseDOM=canUseDOM;function canUseDOM(){return!!(typeof window!=='undefined'&&window.document&&window.document.createElement);}}),58429:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.filterObject=filterObject;exports.pluckAndReduce=pluckAndReduce;exports.removeFromObject=removeFromObject;var _types=__webpack_require__(88742);function filterObject(obj){var predicate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(val){return!(0,_types.isBlank)(val);};var whitelist=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];return Object.keys(obj).reduce(function(acc,key){var val=obj[key];if(whitelist.includes(key)){acc[key]=val;}else if(typeof predicate==='function'&&predicate(val,key)){acc[key]=val;}
return acc;},{});};function pluckAndReduce(list,key){return list.reduce(function(acc,item){return item&&item.hasOwnProperty(key)?acc.concat(item[key]):acc;},[]);}
function removeFromObject(obj,props){return Object.keys(obj).reduce(function(acc,key){if(typeof props==='string'&&key!==props||Array.isArray(props)&&!props.includes(key)){acc[key]=obj[key];}
return acc;},{});}}),88231:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.capitalize=capitalize;exports.escapeDoubleQuotes=escapeDoubleQuotes;exports.firstCharUpperCase=firstCharUpperCase;exports.formatNumberLimit4Chars=formatNumberLimit4Chars;exports.formatNumberWithCommas=formatNumberWithCommas;exports.pluralize=pluralize;exports.stripExcessWhiteSpace=stripExcessWhiteSpace;exports.truncateString=truncateString;exports.unsnakeString=unsnakeString;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}
function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function capitalize(str){if(!str||str.length===0)return '';return "".concat(str.slice(0,1).toUpperCase()).concat(str.slice(1).toLowerCase());}
function escapeDoubleQuotes(str){return str.replace(/"/g,'\\"');}
function firstCharUpperCase(string){if(!string||!string.length)return '';return "".concat(string.substr(0,1).toUpperCase()).concat(string.substr(1));}
function formatNumberLimit4Chars(number){var numString=parseInt(number).toString();if(number<1000)return numString;var cutoff=Math.floor((numString.length-1)/3);var divided=number/Math.pow(10,cutoff*3);var suffixes=['','K','M','B','T'];var suffix=suffixes[cutoff];if(divided<10){if(divided%1===0){return "".concat(divided).concat(suffix);}else{return "".concat(divided.toString().substr(0,3)).concat(suffix);}}else{return "".concat(parseInt(divided)).concat(suffix);}}
function formatNumberWithCommas(number){return parseInt(number).toString().split('').reverse().reduce(function(memo,n,i){return i%3===0&&i!==0?[n,','].concat(_toConsumableArray(memo)):[n].concat(_toConsumableArray(memo));},[]).join('');}
function pluralize(word){var count=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var apostrophe=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!word||!word.length)return '';return count===1?word:"".concat(word).concat(apostrophe?"'":'',"s");}
function stripExcessWhiteSpace(string){if(!string||!string.length)return '';return string.trim().replace(/\s+/g,' ');}
function truncateString(string,limit){var ellipse=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(!string||string&&!string.length)return '';return "".concat(string.substring(0,limit)).concat(ellipse&&string.length>limit?'...':'');}
function unsnakeString(string){var decoratorFn=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var unsnaked=string.split('_').join(' ');return decoratorFn?decoratorFn(unsnaked):unsnaked;}}),60414:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.arrayToMultiSelectIn=arrayToMultiSelectIn;exports.boolOrNullIn=boolOrNullIn;exports.boolOrStringToBool=boolOrStringToBool;exports.imageWithNestedFileIn=imageWithNestedFileIn;exports.locationSelectIn=locationSelectIn;exports.lowerCaseIn=lowerCaseIn;exports.multiSelectIn=multiSelectIn;exports.valueToSelectIn=valueToSelectIn;exports.boolOrNullOut=boolOrNullOut;exports.imageWithNestedFileOut=imageWithNestedFileOut;exports.locationSelectOut=locationSelectOut;exports.multiSelectToArrayOut=multiSelectToArrayOut;exports.multiSelectToRecordShapeOut=multiSelectToRecordShapeOut;exports.numOrNullOut=numOrNullOut;exports.stringOrNullOut=stringOrNullOut;exports.DATE_INPUT_FORMATTER=void 0;var _country_data=__webpack_require__(90561);var _predicates=__webpack_require__(20918);var DATE_INPUT_FORMATTER="YYYY-MM-DD";exports.DATE_INPUT_FORMATTER=DATE_INPUT_FORMATTER;function arrayToMultiSelectIn(values){var labelTransform=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(v){return v;};var valueTransform=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(v){return v;};return values.map(function(v){return valueToSelectIn(v,labelTransform,valueTransform);});}
function boolOrNullIn(val){if(typeof val==='boolean'||val==='true'||val==='false')return val.toString();return null;}
function boolOrStringToBool(val){if(typeof val==='boolean')return val;if(val==='true'||val==='t')return true;return false;}
function imageWithNestedFileIn(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},id=_ref.id,_ref$file=_ref.file,file=_ref$file===void 0?{}:_ref$file,name=_ref.name,_ref$dimensions=_ref.dimensions,dimensions=_ref$dimensions===void 0?{}:_ref$dimensions;return{dimensions:dimensions,id:id,name:name,url:file.url};}
function locationSelectIn(record){if(!(0,_predicates.objHasPropertyOfLength)(record,'country_iso2'))return{};var city=record.city||'';var countryCode=record.country_iso2||'';var state=(0,_predicates.objHasPropertyOfLength)(record,'state')?(0,_country_data.getStateFromAbbr)(record.state,countryCode):'';var geoLocSpread=record.hasOwnProperty('latitude')&&record.hasOwnProperty('longitude')?{geoloc:{lat:record.latitude,lng:record.longitude}}:{};return Object.assign({city:city,countryCode:countryCode,state:state},geoLocSpread);}
function lowerCaseIn(val){if(!val||typeof val!=='string')return null;return val.toLowerCase();}
function multiSelectIn(records){var labelAttr=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"user_name";var labelTransform=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(v){return v;};return records.map(function(r){return{label:labelTransform(r[labelAttr]),value:r.id};});}
function valueToSelectIn(value){var labelTransform=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(v){return v;};var valueTransform=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(v){return v;};return{label:labelTransform(value),value:valueTransform(value)};}
function boolOrNullOut(val){if(typeof val==='boolean')return val;if(typeof val==='string'){if(!val.length)return null;if(val==='true')return true;if(val==='false')return false;return null;}
return null;};function imageWithNestedFileOut(){var _ref2=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},id=_ref2.id,_ref2$dimensions=_ref2.dimensions,dimensions=_ref2$dimensions===void 0?{}:_ref2$dimensions,name=_ref2.name,url=_ref2.url;return{dimensions:dimensions,id:id,name:name,file:{url:url}};}
function locationSelectOut(){var val=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var withGeoLoc=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var baseAcc=withGeoLoc&&val.hasOwnProperty('geoloc')?{latitude:val.geoloc.lat||0,longitude:val.geoloc.lng||0}:{};var transforms={};var whitelist={city:'city',countryCode:'country_iso2',state:'state'};return Object.keys(whitelist).reduce(function(acc,key){if(val.hasOwnProperty(key)){acc[whitelist[key]]=transforms.hasOwnProperty(key)?transforms[key](val):val[key];}
return acc;},baseAcc);}
function multiSelectToArrayOut(){var val=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var toType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(v){return v;};return val.map(function(v){return toType(v.value);});}
function multiSelectToRecordShapeOut(){var val=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var keyValueMap=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{id:'value',label:'name'};return val.map(function(v){return{id:v.value,name:v.label};});}
function numOrNullOut(val){if(typeof val==='number')return val;if(typeof val==='string'){var numsOnly=/^\d+$/.test(val);return numsOnly?parseInt(val):null;}
return null;}
function stringOrNullOut(val){if(typeof val==='string')return val.length>0?val:null;return null;};}),49448:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
Object.defineProperty(exports,"__esModule",({value:true}));exports.scrollToError=scrollToError;exports.initFields=initFields;exports.initFieldsForOrderableTemplates=initFieldsForOrderableTemplates;exports.initFieldsWithOptionalFields=initFieldsWithOptionalFields;exports.disableForRequiredFields=disableForRequiredFields;exports.getErrorForField=getErrorForField;exports.getFieldValuesAsObject=getFieldValuesAsObject;exports.setIsBusy=setIsBusy;exports.setStateOrError=setStateOrError;exports.validateFields=validateFields;var _validators=__webpack_require__(73235);var _accessors=__webpack_require__(4887);var _smoothScroll=_interopRequireDefault(__webpack_require__(15911));var _excluded=["validation"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key);}
function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}
var buildOptionalFields=function buildOptionalFields(customFields){var key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"x_field";var insertOptsAtIndex=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var type=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"textarea";var customProps=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;return customFields.reduce(function(acc,o,i){var _getCustomPropsForOpt=getCustomPropsForOptionalField(o.id,customProps),validation=_getCustomPropsForOpt.validation,restCustomProps=_objectWithoutProperties(_getCustomPropsForOpt,_excluded);var isRequired=o.hasOwnProperty('required')&&o.required;var label=o.label||'';var name="".concat(key,"_").concat(o.id);acc[name]=Object.assign({id:o.id,label:isRequired?label:"".concat(label," (optional)").trim(),notRequired:isRequired===false,order:i+insertOptsAtIndex,validate:validation,value:'',name:name,type:type},restCustomProps);return acc;},{});};var combineAndReorderTemplateWithOptionals=function combineAndReorderTemplateWithOptionals(template,optionals){if(!Object.keys(optionals).length)return template;var keys=Object.keys(template).sort(function(a,b){return template[a].order-template[b].order;});var optKeys=Object.keys(optionals).sort(function(a,b){return optionals[a].order-optionals[b].order;});var orderedKeys=keys.slice(0,optionals[optKeys[0]].order).concat(optKeys).concat(keys.slice(optionals[optKeys[0]].order));return orderedKeys.reduce(function(acc,key,i){var f=template.hasOwnProperty(key)?template[key]:optionals[key];f.order=i;acc[key]=f;return acc;},{});};var getCustomPropsForOptionalField=function getCustomPropsForOptionalField(id,customProps){var noop=function noop(){return null;};if(!customProps){return{validation:noop};}
var validationFn=(0,_accessors.getInObj)([id,'validation'],customProps);var validation=validationFn!==null&&typeof validationFn==='function'?validationFn:noop;var restCustomProps=customProps.hasOwnProperty(id)?customProps[id]:{};return Object.assign({validation:validation},restCustomProps);};var getValidationFns=function getValidationFns(key,field,isRequiredFn,validationOverrideMap){if(validationOverrideMap.hasOwnProperty(key)){return validationOverrideMap[key].hasOwnProperty('notRequired')&&validationOverrideMap[key].notRequired===true?[validationOverrideMap[key].validate]:[isRequiredFn,validationOverrideMap[key].validate];}
return field.notRequired?[field.validate]:[isRequiredFn,field.validate];};function scrollToError(errors,fields){var container=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var idPrefix=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"vf";var el=Object.keys(fields).sort(function(a,b){return fields[a].order-fields[b].order;}).reduce(function(acc,key){if(acc!==null)return acc;return errors.hasOwnProperty(key)?document.getElementById("".concat(idPrefix).concat(key)):acc;},null);if(el){var scrollContainer=container||window;(0,_smoothScroll["default"])(el,200,null,scrollContainer);}};function initFields(template,initData){if(!initData)return template;return Object.keys(template).reduce(function(acc,key){if(initData.hasOwnProperty(key)&&initData[key]!==null){acc[key]=Object.assign({},template[key],{value:template[key].hasOwnProperty('formatIn')?template[key].formatIn(initData[key]):initData[key]});}else{acc[key]=template[key];}
return acc;},{});}
function initFieldsForOrderableTemplates(template,template2,initData){return initFields(combineAndReorderTemplateWithOptionals(template,template2),initData);}
function initFieldsWithOptionalFields(template,initData){var customFields=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var config=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(!customFields||customFields&&!customFields.length)return initFields(template,initData);var key=config.key||'x_field';var insertOptsAtIndex=config.insertOptsAtIndex||0;var type=config.type||'textarea';var customProps=config.customProps||null;return initFields(combineAndReorderTemplateWithOptionals(template,buildOptionalFields(customFields,key,insertOptsAtIndex,type,customProps)),initData);}
function disableForRequiredFields(){var _this=this;var keys=Object.keys(this.state.fields);return keys.reduce(function(acc,key){if(acc)return acc;var field=_this.state.fields[key];var error=field.hasOwnProperty('notRequired')?null:(0,_validators.isRequired)(_this.state.fields[key].value);return error!==null&&error.length>0;},false);}
function getErrorForField(){var field=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return this.state.errors.hasOwnProperty(field)?this.state.errors[field]:null;}
function getFieldValuesAsObject(){var fieldsOverride=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var fields=fieldsOverride||this.state.fields;var keys=Object.keys(fields);return keys.reduce(function(acc,key){var field=fields[key];if(field.hasOwnProperty('formatOut')){acc=Object.assign({},acc,_defineProperty({},key,field.formatOut(field.value,fields)));}else{acc[key]=field.value;}
return acc;},{});}
function setIsBusy(status,worker){if(status&&this.state.workers.includes(worker))return;var workers=status?this.state.workers.concat(worker):this.state.workers.filter(function(w){return w!==worker;});this.setState({isBusy:workers.length>0,workers:workers});}
function setStateOrError(errorMsg,key,value){var stateSpread=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(errorMsg===null){var _this$state$errors=this.state.errors,deleted=_this$state$errors[key],errors=_objectWithoutProperties(_this$state$errors,[key].map(_toPropertyKey));this.setState(Object.assign({errors:errors,fields:Object.assign({},this.state.fields,_defineProperty({},key,Object.assign({},this.state.fields[key],{value:value})))},stateSpread));}else{this.setState(Object.assign({errors:Object.assign({},this.state.errors,_defineProperty({},key,errorMsg)),fields:Object.assign({},this.state.fields,_defineProperty({},key,Object.assign({},this.state.fields[key],{value:value})))},stateSpread));}}
function validateFields(){var _this2=this;var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$doScroll=_ref.doScroll,doScroll=_ref$doScroll===void 0?true:_ref$doScroll,_ref$validationOverri=_ref.validationOverrideMap,validationOverrideMap=_ref$validationOverri===void 0?{}:_ref$validationOverri;var fields=this.state.fields;var keys=Object.keys(fields);var errors=keys.reduce(function(acc,key){var field=fields[key];var isRequiredFn=field.hasOwnProperty('customRequired')?field.customRequired:_validators.isRequired;var validations=getValidationFns(key,field,isRequiredFn,validationOverrideMap);var error=validations.reduce(function(a,fn){if(a!==null)return a;return fn(field.value);},null);if(error&&error.length){acc[key]=error;}
return acc;},{});if(Object.keys(errors).length){var containerEl=this.hasOwnProperty('__CONTAINER_EL')?this.__CONTAINER_EL:null;var scrollFn=doScroll?function(){return scrollToError(_this2.state.errors,_this2.state.fields,containerEl,_this2._idPrefix||'vf');}:function(){};this.setState({errors:Object.assign({},this.state.errors,errors)},scrollFn);return false;}
return true;};}),89950:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=generateRandomKey;var seenKeys={};var MULTIPLIER=Math.pow(2,24);function generateRandomKey(){var key;while(key===undefined||seenKeys.hasOwnProperty(key)||!isNaN(+key)){key=Math.floor(Math.random()*MULTIPLIER).toString(32);}
seenKeys[key]=true;return key;}}),83922:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.fileExtToMIMEType=fileExtToMIMEType;exports.getAndUpdateAttachmentFromLocalFile=getAndUpdateAttachmentFromLocalFile;exports.getAndUpdateAttachmentFromRemoteURL=getAndUpdateAttachmentFromRemoteURL;exports.getAttachmentFromRemoteURL=getAttachmentFromRemoteURL;exports.getAWSResources=getAWSResources;exports.getImageDimsFromUrl=getImageDimsFromUrl;exports.getInputAcceptProp=getInputAcceptProp;exports.getRemoteFileTypeAndConfirmURL=getRemoteFileTypeAndConfirmURL;exports.isGif=isGif;exports.isJpeg=isJpeg;exports.isImageMIMEType=isImageMIMEType;exports.isAcceptedMIMEType=isAcceptedMIMEType;exports.updateImageAttachment=updateImageAttachment;exports.TIFF_MIMETYPE=exports.PNG_MIMETYPE=exports.JPG_MIMETYPE=exports.JPEG_MIMETYPE=exports.GIF_MIMETYPE=exports.BMP_MIMETYPE=void 0;var _superagent=_interopRequireDefault(__webpack_require__(80569));var _file_upload=_interopRequireDefault(__webpack_require__(27350));var _attachments=__webpack_require__(87779);var _messages=__webpack_require__(62044);var _links=__webpack_require__(49180);var _accessors=__webpack_require__(4887);var _graphql=__webpack_require__(2740);var _IMAGE_MIMETYPES;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
var BMP_MIMETYPE='image/bmp';exports.BMP_MIMETYPE=BMP_MIMETYPE;var GIF_MIMETYPE='image/gif';exports.GIF_MIMETYPE=GIF_MIMETYPE;var JPEG_MIMETYPE='image/jpeg';exports.JPEG_MIMETYPE=JPEG_MIMETYPE;var JPG_MIMETYPE='image/jpg';exports.JPG_MIMETYPE=JPG_MIMETYPE;var PNG_MIMETYPE='image/png';exports.PNG_MIMETYPE=PNG_MIMETYPE;var TIFF_MIMETYPE='image/tiff';exports.TIFF_MIMETYPE=TIFF_MIMETYPE;var IMAGE_MIMETYPES=(_IMAGE_MIMETYPES={},_defineProperty(_IMAGE_MIMETYPES,BMP_MIMETYPE,true),_defineProperty(_IMAGE_MIMETYPES,GIF_MIMETYPE,true),_defineProperty(_IMAGE_MIMETYPES,JPEG_MIMETYPE,true),_defineProperty(_IMAGE_MIMETYPES,JPG_MIMETYPE,true),_defineProperty(_IMAGE_MIMETYPES,PNG_MIMETYPE,true),_defineProperty(_IMAGE_MIMETYPES,TIFF_MIMETYPE,true),_IMAGE_MIMETYPES);var IMAGE_EXT_TO_MIME_MAP={'bm':BMP_MIMETYPE,'bmp':BMP_MIMETYPE,'gif':GIF_MIMETYPE,'jfif':JPEG_MIMETYPE,'jpe':JPEG_MIMETYPE,'jpeg':JPEG_MIMETYPE,'jpg':JPEG_MIMETYPE,'png':PNG_MIMETYPE,'tif':TIFF_MIMETYPE,'tiff':TIFF_MIMETYPE};var AWSAccessKeyId=null;var S3BucketURL=null;function fileExtToMIMEType(){var ext=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return IMAGE_EXT_TO_MIME_MAP[ext.toLowerCase()]||null;}
function getAndUpdateAttachmentFromLocalFile(file,dimensions,imageAttachmentArgs){return(0,_file_upload["default"])(file,getAWSResources()).then(function(id){return(0,_attachments.pollForAttachment)(id);}).then(function(attachment){return updateImageAttachment(attachment,dimensions,imageAttachmentArgs);});}
function getAndUpdateAttachmentFromRemoteURL(url,imageAttachmentArgs){return getAttachmentFromRemoteURL(url).then(function(attachment){return Promise.all([Promise.resolve(attachment),getImageDimsFromUrl(attachment.file.url)]);}).then(function(_ref){var _ref2=_slicedToArray(_ref,2),attachment=_ref2[0],dimensions=_ref2[1];return updateImageAttachment(attachment,dimensions,imageAttachmentArgs);});}
function getAttachmentFromRemoteURL(url){return new Promise(function(resolve,reject){(0,_attachments.postRemoteURL)(url,null,null,{mime_whitelist_type:'image'}).then(function(res){return Promise.all([Promise.resolve(res),(0,_attachments.pollJob)(res['job_id'])]);}).then(function(_ref3){var _ref4=_slicedToArray(_ref3,2),res=_ref4[0],status=_ref4[1];return(0,_attachments.getAttachment)(res.id);}).then(function(attachment){if((0,_accessors.getInObj)(['file','url'],attachment)){resolve(attachment);}else{reject(new Error('Remote file did not upload properly'));}})["catch"](function(err){return reject(err);});});}
function getAWSResources(){if(AWSAccessKeyId===null)AWSAccessKeyId=window.jsk.awsk;if(S3BucketURL===null)S3BucketURL=window.jsk.s3u;return{AWSAccessKeyId:AWSAccessKeyId,S3BucketURL:S3BucketURL};}
function getImageDimsFromUrl(url){return new Promise(function(resolve,reject){var image=new Image();image.onload=function(){return resolve({width:image.width,height:image.height});};image.onerror=function(){return reject(new Error((0,_messages.getErrorMsg)('loading the image')));};image.src=url;});}
function getInputAcceptProp(){var allowGifs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var exts=Object.keys(IMAGE_EXT_TO_MIME_MAP).filter(function(ext){return isAcceptedMIMEType(IMAGE_EXT_TO_MIME_MAP[ext],allowGifs);}).map(function(ext){return ".".concat(ext);});var mimeTypes=Object.keys(IMAGE_MIMETYPES).filter(function(mimeType){return isAcceptedMIMEType(mimeType,allowGifs);});return exts.concat(mimeTypes).join(',');}
function getRemoteFileTypeAndConfirmURL(url){return _superagent["default"].head(url).then(function(_ref5){var type=_ref5.type;return{url:url,type:type};})
["catch"](function(){return _remoteCORSFallback(url);});}
function isGif(mimeType){return mimeType===GIF_MIMETYPE;}
function isJpeg(mimeType){return[JPEG_MIMETYPE,JPG_MIMETYPE].includes(mimeType);}
function isImageMIMEType(mimeType){return IMAGE_MIMETYPES.hasOwnProperty(mimeType);}
function isAcceptedMIMEType(mimeType){var allowGifs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!allowGifs&&isGif(mimeType))return false;return isImageMIMEType(mimeType);}
function updateImageAttachment(attachment,dimensions,_ref6){var get_image_version=_ref6.get_image_version,type=_ref6.type;return(0,_graphql.graphMutate)({t:'update_attachment'},{id:parseInt(attachment.id,10),get_image_version:get_image_version,metadata:dimensions,type:type});}
function _getMIMETypeFromUrl(url){return fileExtToMIMEType((0,_links.getExtFromFileName)((0,_links.getFileNameFromUrl)(url)));}
function _remoteCORSFallback(url){return getAttachmentFromRemoteURL(url).then(function(res){return{type:_getMIMETypeFromUrl(res.file.url),url:res.file.url};});}}),18603:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=isCrawler;exports.__resetFlag=__resetFlag;var _window=__webpack_require__(33852);var PATTERN=/facebook|google|yandex|bing|ezooms|twikle|wotbox|fetch|wordpress|pingdom|slurp|sogou|crawl|bot|spider/i;var _isCrawlerFlag=null;function testString(ua){return PATTERN.test(ua);}
function isCrawler(){if(_isCrawlerFlag===null){var navigatorObj=(0,_window.getNavigator)();if(navigatorObj&&navigatorObj.userAgent){_isCrawlerFlag=testString(navigatorObj.userAgent);}else{_isCrawlerFlag=true;}}
return _isCrawlerFlag;}
function __resetFlag(){_isCrawlerFlag=null;}}),48704:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=isDateInputSupportedBrowser;var _window=__webpack_require__(33852);var _isDateInputSupported=null;function isDateInputSupportedBrowser(){if(_window.isWindowDefined&&_isDateInputSupported===null){var input=document.createElement('input');var value='a';input.setAttribute('type','date');input.setAttribute('value',value);_isDateInputSupported=input.value!==value;}
return _isDateInputSupported;}}),63458:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=isMobileBrowser;var _window=__webpack_require__(33852);var PATTERN=/mobi|android|opera mini/i;var _isMobile=null;function isMobileBrowser(){if(_isMobile===null){var navigatorObj=(0,_window.getNavigator)();var userAgent=navigatorObj&&navigatorObj.userAgent;_isMobile=PATTERN.test(userAgent);}
return _isMobile;}}),23915:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=isTouchDevice;var _isTouchDevice=null;function isTouchDevice(){if(_isTouchDevice===null){_isTouchDevice='ontouchstart'in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;}
return _isTouchDevice;}}),50129:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.tryJSONParse=tryJSONParse;exports.tryJSONStringify=tryJSONStringify;function tryJSONParse(val){var fallback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;try{return JSON.parse(val);}catch(err){return fallback;}}
function tryJSONStringify(val){var fallback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';try{return JSON.stringify(val);}catch(err){return fallback;}}}),49180:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.appendProtocol=appendProtocol;exports.getExtFromFileName=getExtFromFileName;exports.getFileNameFromUrl=getFileNameFromUrl;exports.isValidUrl=isValidUrl;exports.stripHashAndQuery=stripHashAndQuery;exports.stripProtocol=stripProtocol;exports.stripTrailingSlash=stripTrailingSlash;exports.NO_URL=void 0;var _validator=__webpack_require__(48966);var _links=__webpack_require__(22463);var NO_URL=_links.NOOP_HREF;exports.NO_URL=NO_URL;function appendProtocol(url){return(0,_validator.isURL)(url,{require_protocol:true})?url:"http://".concat(url);}
function getExtFromFileName(){var fileName=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return fileName.substring(fileName.lastIndexOf('.')+1);}
function getFileNameFromUrl(){var url=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var strippedURL=stripHashAndQuery(url);return strippedURL.substring(strippedURL.lastIndexOf('/')+1);}
function isValidUrl(text){return(0,_validator.isURL)(text)&&!(0,_validator.isEmail)(text);}
function stripHashAndQuery(link){return link.replace(/\#(.*?)$/,'').replace(/\?(.*?)$/,'');}
function stripProtocol(link){return link.replace(/http:\/\/|https:\/\/|:\/\/|\/\//,'');}
function stripTrailingSlash(link){return link.replace(/\/$/,'');}}),45498:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.clamp=exports.aspectRatioPadding=void 0;var aspectRatioPadding=function aspectRatioPadding(_ref){var aspectRatio=_ref.aspectRatio,height=_ref.height,width=_ref.width;var paddingRatio=1/aspectRatio||height/width;return "".concat((paddingRatio*100).toPrecision(4),"%");};exports.aspectRatioPadding=aspectRatioPadding;var clamp=function clamp(min,val,max){return Math.min(Math.max(min,val),max);};exports.clamp=clamp;}),99527:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _polyfillIntersectionObserver=_interopRequireDefault(__webpack_require__(51822));var _window=__webpack_require__(33852);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
function getIntersectionObserver(){if(!_window.isWindowDefined)return null;(0,_polyfillIntersectionObserver["default"])(window,document);return window.IntersectionObserver;}
var _default=getIntersectionObserver();exports["default"]=_default;}),44014:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));Object.defineProperty(exports,"IntersectionObserver",({enumerable:true,get:function get(){return _IntersectionObserver2["default"];}}));Object.defineProperty(exports,"ResizeObserver",({enumerable:true,get:function get(){return _resizeObserverPolyfill["default"];}}));var _IntersectionObserver2=_interopRequireDefault(__webpack_require__(99527));var _resizeObserverPolyfill=_interopRequireDefault(__webpack_require__(91033));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}}),51822:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=polyFillIntersectionObserver;function polyFillIntersectionObserver(window,document){if('IntersectionObserver'in window&&'IntersectionObserverEntry'in window&&'intersectionRatio'in window.IntersectionObserverEntry.prototype){if(!('isIntersecting'in window.IntersectionObserverEntry.prototype)){Object.defineProperty(window.IntersectionObserverEntry.prototype,'isIntersecting',{get:function get(){return this.intersectionRatio>0;}});}
return;}
var registry=[];function IntersectionObserverEntry(entry){this.time=entry.time;this.target=entry.target;this.rootBounds=entry.rootBounds;this.boundingClientRect=entry.boundingClientRect;this.intersectionRect=entry.intersectionRect||getEmptyRect();this.isIntersecting=!!entry.intersectionRect;var targetRect=this.boundingClientRect;var targetArea=targetRect.width*targetRect.height;var intersectionRect=this.intersectionRect;var intersectionArea=intersectionRect.width*intersectionRect.height;if(targetArea){this.intersectionRatio=Number((intersectionArea/targetArea).toFixed(4));}else{this.intersectionRatio=this.isIntersecting?1:0;}}
function IntersectionObserver(callback,opt_options){var options=opt_options||{};if(typeof callback!='function'){throw new Error('callback must be a function');}
if(options.root&&options.root.nodeType!=1){throw new Error('root must be an Element');}
this._checkForIntersections=throttle(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT);this._callback=callback;this._observationTargets=[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(options.rootMargin);this.thresholds=this._initThresholds(options.threshold);this.root=options.root||null;this.rootMargin=this._rootMarginValues.map(function(margin){return margin.value+margin.unit;}).join(' ');}
IntersectionObserver.prototype.THROTTLE_TIMEOUT=100;IntersectionObserver.prototype.POLL_INTERVAL=null;IntersectionObserver.prototype.USE_MUTATION_OBSERVER=true;IntersectionObserver.prototype.observe=function(target){var isTargetAlreadyObserved=this._observationTargets.some(function(item){return item.element==target;});if(isTargetAlreadyObserved){return;}
if(!(target&&target.nodeType==1)){throw new Error('target must be an Element');}
this._registerInstance();this._observationTargets.push({element:target,entry:null});this._monitorIntersections();this._checkForIntersections();};IntersectionObserver.prototype.unobserve=function(target){this._observationTargets=this._observationTargets.filter(function(item){return item.element!=target;});if(!this._observationTargets.length){this._unmonitorIntersections();this._unregisterInstance();}};IntersectionObserver.prototype.disconnect=function(){this._observationTargets=[];this._unmonitorIntersections();this._unregisterInstance();};IntersectionObserver.prototype.takeRecords=function(){var records=this._queuedEntries.slice();this._queuedEntries=[];return records;};IntersectionObserver.prototype._initThresholds=function(opt_threshold){var threshold=opt_threshold||[0];if(!Array.isArray(threshold))threshold=[threshold];return threshold.sort().filter(function(t,i,a){if(typeof t!='number'||isNaN(t)||t<0||t>1){throw new Error('threshold must be a number between 0 and 1 inclusively');}
return t!==a[i-1];});};IntersectionObserver.prototype._parseRootMargin=function(opt_rootMargin){var marginString=opt_rootMargin||'0px';var margins=marginString.split(/\s+/).map(function(margin){var parts=/^(-?\d*\.?\d+)(px|%)$/.exec(margin);if(!parts){throw new Error('rootMargin must be specified in pixels or percent');}
return{value:parseFloat(parts[1]),unit:parts[2]};});margins[1]=margins[1]||margins[0];margins[2]=margins[2]||margins[0];margins[3]=margins[3]||margins[1];return margins;};IntersectionObserver.prototype._monitorIntersections=function(){if(!this._monitoringIntersections){this._monitoringIntersections=true;if(this.POLL_INTERVAL){this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL);}else{addEvent(window,'resize',this._checkForIntersections,true);addEvent(document,'scroll',this._checkForIntersections,true);if(this.USE_MUTATION_OBSERVER&&'MutationObserver'in window){this._domObserver=new MutationObserver(this._checkForIntersections);this._domObserver.observe(document,{attributes:true,childList:true,characterData:true,subtree:true});}}}};IntersectionObserver.prototype._unmonitorIntersections=function(){if(this._monitoringIntersections){this._monitoringIntersections=false;clearInterval(this._monitoringInterval);this._monitoringInterval=null;removeEvent(window,'resize',this._checkForIntersections,true);removeEvent(document,'scroll',this._checkForIntersections,true);if(this._domObserver){this._domObserver.disconnect();this._domObserver=null;}}};IntersectionObserver.prototype._checkForIntersections=function(){var rootIsInDom=this._rootIsInDom();var rootRect=rootIsInDom?this._getRootRect():getEmptyRect();this._observationTargets.forEach(function(item){var target=item.element;var targetRect=getBoundingClientRect(target);var rootContainsTarget=this._rootContainsTarget(target);var oldEntry=item.entry;var intersectionRect=rootIsInDom&&rootContainsTarget&&this._computeTargetAndRootIntersection(target,rootRect);var newEntry=item.entry=new IntersectionObserverEntry({time:now(),target:target,boundingClientRect:targetRect,rootBounds:rootRect,intersectionRect:intersectionRect});if(!oldEntry){this._queuedEntries.push(newEntry);}else if(rootIsInDom&&rootContainsTarget){if(this._hasCrossedThreshold(oldEntry,newEntry)){this._queuedEntries.push(newEntry);}}else{if(oldEntry&&oldEntry.isIntersecting){this._queuedEntries.push(newEntry);}}},this);if(this._queuedEntries.length){this._callback(this.takeRecords(),this);}};IntersectionObserver.prototype._computeTargetAndRootIntersection=function(target,rootRect){if(window.getComputedStyle(target).display=='none')return;var targetRect=getBoundingClientRect(target);var intersectionRect=targetRect;var parent=getParentNode(target);var atRoot=false;while(!atRoot){var parentRect=null;var parentComputedStyle=parent.nodeType==1?window.getComputedStyle(parent):{};if(parentComputedStyle.display=='none')return;if(parent==this.root||parent==document){atRoot=true;parentRect=rootRect;}else{if(parent!=document.body&&parent!=document.documentElement&&parentComputedStyle.overflow!='visible'){parentRect=getBoundingClientRect(parent);}}
if(parentRect){intersectionRect=computeRectIntersection(parentRect,intersectionRect);if(!intersectionRect)break;}
parent=getParentNode(parent);}
return intersectionRect;};IntersectionObserver.prototype._getRootRect=function(){var rootRect;if(this.root){rootRect=getBoundingClientRect(this.root);}else{var html=document.documentElement;var body=document.body;rootRect={top:0,left:0,right:html.clientWidth||body.clientWidth,width:html.clientWidth||body.clientWidth,bottom:html.clientHeight||body.clientHeight,height:html.clientHeight||body.clientHeight};}
return this._expandRectByRootMargin(rootRect);};IntersectionObserver.prototype._expandRectByRootMargin=function(rect){var margins=this._rootMarginValues.map(function(margin,i){return margin.unit=='px'?margin.value:margin.value*(i%2?rect.width:rect.height)/100;});var newRect={top:rect.top-margins[0],right:rect.right+margins[1],bottom:rect.bottom+margins[2],left:rect.left-margins[3]};newRect.width=newRect.right-newRect.left;newRect.height=newRect.bottom-newRect.top;return newRect;};IntersectionObserver.prototype._hasCrossedThreshold=function(oldEntry,newEntry){var oldRatio=oldEntry&&oldEntry.isIntersecting?oldEntry.intersectionRatio||0:-1;var newRatio=newEntry.isIntersecting?newEntry.intersectionRatio||0:-1;if(oldRatio===newRatio)return;for(var i=0;i<this.thresholds.length;i++){var threshold=this.thresholds[i];if(threshold==oldRatio||threshold==newRatio||threshold<oldRatio!==threshold<newRatio){return true;}}};IntersectionObserver.prototype._rootIsInDom=function(){return!this.root||containsDeep(document,this.root);};IntersectionObserver.prototype._rootContainsTarget=function(target){return containsDeep(this.root||document,target);};IntersectionObserver.prototype._registerInstance=function(){if(registry.indexOf(this)<0){registry.push(this);}};IntersectionObserver.prototype._unregisterInstance=function(){var index=registry.indexOf(this);if(index!=-1)registry.splice(index,1);};function now(){return window.performance&&performance.now&&performance.now();}
function throttle(fn,timeout){var timer=null;return function(){if(!timer){timer=setTimeout(function(){fn();timer=null;},timeout);}};}
function addEvent(node,event,fn,opt_useCapture){if(typeof node.addEventListener=='function'){node.addEventListener(event,fn,opt_useCapture||false);}else if(typeof node.attachEvent=='function'){node.attachEvent('on'+event,fn);}}
function removeEvent(node,event,fn,opt_useCapture){if(typeof node.removeEventListener=='function'){node.removeEventListener(event,fn,opt_useCapture||false);}else if(typeof node.detatchEvent=='function'){node.detatchEvent('on'+event,fn);}}
function computeRectIntersection(rect1,rect2){var top=Math.max(rect1.top,rect2.top);var bottom=Math.min(rect1.bottom,rect2.bottom);var left=Math.max(rect1.left,rect2.left);var right=Math.min(rect1.right,rect2.right);var width=right-left;var height=bottom-top;return width>=0&&height>=0&&{top:top,bottom:bottom,left:left,right:right,width:width,height:height};}
function getBoundingClientRect(el){var rect;try{rect=el.getBoundingClientRect();}catch(err){}
if(!rect)return getEmptyRect();if(!(rect.width&&rect.height)){rect={top:rect.top,right:rect.right,bottom:rect.bottom,left:rect.left,width:rect.right-rect.left,height:rect.bottom-rect.top};}
return rect;}
function getEmptyRect(){return{top:0,bottom:0,left:0,right:0,width:0,height:0};}
function containsDeep(parent,child){var node=child;while(node){if(node==parent)return true;node=getParentNode(node);}
return false;}
function getParentNode(node){var parent=node.parentNode;if(parent&&parent.nodeType==11&&parent.host){return parent.host;}
if(parent&&parent.assignedSlot){return parent.assignedSlot.parentNode;}
return parent;}
window.IntersectionObserver=IntersectionObserver;window.IntersectionObserverEntry=IntersectionObserverEntry;};}),90112:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getCurrentOrPreviousPagePostDeletion=getCurrentOrPreviousPagePostDeletion;exports.getPageFromQueryMap=getPageFromQueryMap;function getCurrentOrPreviousPagePostDeletion(pagination,deletionCount){var recordsRemainingOnPage=parseInt(pagination.per_page)-deletionCount;return recordsRemainingOnPage>0||pagination.next_page!==null?pagination.current_page:Math.max(parseInt(pagination.current_page)-1,1);}
function getPageFromQueryMap(queryMap){if(!queryMap.hasOwnProperty('page'))return null;var page=parseInt(queryMap.page);return!isNaN(page)&&typeof page==='number'?page:null;}}),57662:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.pollWithBackoff=pollWithBackoff;var _math=__webpack_require__(45498);function pollWithBackoff(pollFn){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$pollMax=_ref.pollMax,pollMax=_ref$pollMax===void 0?10:_ref$pollMax;return new Promise(function(resolve,reject){var retry=function retry(tryCount){if(tryCount>=pollMax)return reject(new Error('Exceeded poll max'));setTimeout(function(){pollFn(resolve,reject,function(){return retry(tryCount+1);});},_getDelay(tryCount));};pollFn(resolve,reject,function(){return retry(1);});});}
function _getDelay(n){var _ref2=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref2$max=_ref2.max,max=_ref2$max===void 0?60000:_ref2$max,_ref2$min=_ref2.min,min=_ref2$min===void 0?500:_ref2$min,_ref2$multiplier=_ref2.multiplier,multiplier=_ref2$multiplier===void 0?250:_ref2$multiplier;return(0,_math.clamp)(min,Math.pow(2,n)*multiplier,max);}}),20918:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.doesObjectPropsMatch=doesObjectPropsMatch;exports.doesRecordsMatch=doesRecordsMatch;exports.doesStringsMatch=doesStringsMatch;exports.doesValuesMatch=doesValuesMatch;exports.objHasKeyPred=objHasKeyPred;exports.objHasPropertyOfLength=objHasPropertyOfLength;exports.objHasPropertyWithValue=objHasPropertyWithValue;var _accessors=__webpack_require__(4887);var _types=__webpack_require__(88742);function doesObjectPropsMatch(objA,objB,property){if(!objA||!objB)return false;if(!objA.hasOwnProperty(property)||!objB.hasOwnProperty(property))return false;return objA[property]===objB[property];}
function doesRecordsMatch(a,b){if(a.hasOwnProperty('id')&&b.hasOwnProperty('id')){return a.id===b.id;}else if(a.hasOwnProperty('uuid')&&b.hasOwnProperty('uuid')){return a.uuid===b.uuid;}
return false;}
function doesStringsMatch(a,b){var caseSensitive=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(typeof a!=='string'||typeof b!=='string'){return false;}else if(caseSensitive){return a===b;}else{return a.toLowerCase()===b.toLowerCase();}}
function doesValuesMatch(a,b){if((typeof a==='number'||typeof a==='string')&&(typeof b==='number'||typeof b==='string')){return doesStringsMatch(a.toString(),b.toString());}else{return a===b;}}
function objHasKeyPred(obj,path){var pred=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(v){return false;};var p=!Array.isArray(path)?[path]:path;var v=(0,_accessors.getInObj)(p,obj);return v===null?false:pred(v);}
function objHasPropertyOfLength(obj,property){return(0,_types.isObject)(obj)&&obj.hasOwnProperty(property)&&!!obj[property]&&obj[property].length>0;}
function objHasPropertyWithValue(obj,property){if(!obj)return false;return obj&&obj.hasOwnProperty(property)&&obj[property]&&!(0,_types.isBlank)(obj[property]);}}),44519:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var PromiseBatcher=function(){function PromiseBatcher(){_classCallCheck(this,PromiseBatcher);this.batch=[];}
_createClass(PromiseBatcher,[{key:"cachePromise",value:function cachePromise(resolver){this.batch.push(resolver);}},{key:"rejectBatch",value:function rejectBatch(err){this.batch=this.batch.filter(function(resolver){resolver.reject(err);return false;});}},{key:"resolveBatch",value:function resolveBatch(res){this.batch=this.batch.filter(function(resolver){resolver.resolve(res);return false;});}}]);return PromiseBatcher;}();exports["default"]=PromiseBatcher;}),34101:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var PromiseQueue=function(){function PromiseQueue(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$progressFn=_ref.progressFn,progressFn=_ref$progressFn===void 0?function(){}:_ref$progressFn;_classCallCheck(this,PromiseQueue);this.queue=[];this.onProgressUpdate=progressFn;this._processing=false;}
_createClass(PromiseQueue,[{key:"push",value:function push(promise){var args=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var resolve=arguments.length>2?arguments[2]:undefined;var reject=arguments.length>3?arguments[3]:undefined;this.queue.push({args:args,promise:promise,resolve:resolve,reject:reject});this._processQueue();}},{key:"_queueNextOrQuit",value:function _queueNextOrQuit(){if(this.queue.length>0){this._resolveQueue();}else{this._processing=false;}}},{key:"_processQueue",value:function _processQueue(){if(!this._processing){this._processing=true;this._resolveQueue();}}},{key:"_propagateProgress",value:function _propagateProgress(){this.onProgressUpdate({size:this.queue.length});}},{key:"_resolveQueue",value:function _resolveQueue(){var _this=this;var _this$queue$shift=this.queue.shift(),args=_this$queue$shift.args,promise=_this$queue$shift.promise,resolve=_this$queue$shift.resolve,reject=_this$queue$shift.reject;return promise.apply(null,args).then(function(res){resolve(res);_this._propagateProgress();_this._queueNextOrQuit();})["catch"](function(err){reject(err);_this._propagateProgress();_this._queueNextOrQuit();});}}]);return PromiseQueue;}();exports["default"]=PromiseQueue;}),25426:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.cancelablePromise=cancelablePromise;exports.reflectPromise=reflectPromise;exports.setTimeoutPromise=setTimeoutPromise;function cancelablePromise(promise){var hasCanceled_=false;var wrappedPromise=new Promise(function(resolve,reject){return promise.then(function(res){res=res||{};hasCanceled_?resolve(Object.assign({},res,{promiseCanceled:true})):resolve(res);})["catch"](function(error){error=error||{};hasCanceled_?reject(Object.assign({},error,{promiseCanceled:true})):reject(error);});});return{promise:wrappedPromise,cancel:function cancel(){hasCanceled_=true;}};};function reflectPromise(promise){return promise.then(function(data){return{data:data,status:'resolved'};})["catch"](function(err){return{err:err,status:'rejected'};});}
function setTimeoutPromise(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10;var predicate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var errMsg=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var value=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};return new Promise(function(resolve,reject){return setTimeout(function(){if(!predicate){return resolve(value);}else if(typeof predicate==='function'&&predicate()){resolve(value);}else{reject(errMsg);}},time);});};}),93637:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.cancelAnimationFrame=exports.requestAnimationFrame=void 0;var getWindow=function getWindow(){if(typeof window==='undefined')return{};return window;};var fallback=function fallback(fn){return window.setTimeout(fn,1000/60);};function getRequestAnimationFrame(){var window=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||fallback;}
function getCancelAnimationFrame(){var window=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout;}
var requestAnimationFrame=getRequestAnimationFrame(getWindow());exports.requestAnimationFrame=requestAnimationFrame;var cancelAnimationFrame=getCancelAnimationFrame(getWindow());exports.cancelAnimationFrame=cancelAnimationFrame;}),47030:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=void 0;var _requestAnimationFrame=__webpack_require__(93637);function requestTimeout(fn){var delay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var start=Date.now();var request=null;function loop(){var current=Date.now();var delta=current-start;if(delta>=delay){fn.call();}else{request=(0,_requestAnimationFrame.requestAnimationFrame)(loop);}};(0,_requestAnimationFrame.requestAnimationFrame)(loop);return function(){return(0,_requestAnimationFrame.cancelAnimationFrame)(request);};}
var _default=requestTimeout;exports["default"]=_default;}),9263:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.replaceAllButNums=replaceAllButNums;exports.sliceRichTextAt=sliceRichTextAt;exports.toKebabCaseAlphaNumericOnly=toKebabCaseAlphaNumericOnly;var _validator=__webpack_require__(48966);var MENTION_TOKEN='@';var MARKDOWN_URL_REGEXP=/\[([^\[\]]+)\]\(([^)]+)\)?/;function getStartIndexOfLastWordIfUrl(string){var words=string.split('');var lastWord='';var startIndex;for(var i=words.length-1;i>=0;i--){lastWord=words[i]+lastWord;if(words[i]===' '||lastWord.includes('http')||lastWord.slice(0,1)===MENTION_TOKEN||MARKDOWN_URL_REGEXP.test(lastWord)){startIndex=i;break;}}
return lastWord.length&&typeof startIndex==='number'?startIndex:-1;}
function getLengthOfStringUntilEmtpySpaceOrEnd(text,startIndex){var words=text.split('').slice(startIndex,text.length);var index;for(var i=0;i<=words.length-1;i++){if(words[i]===' '){index=i;break;}else if(i===words.length-1){index=words.length;break;}}
return typeof index==='number'?index:-1;}
function replaceAllButNums(value){var replaceWith=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';return value.replace(/[^0-9]/g,replaceWith);}
function sliceRichTextAt(textEscaped,limit){var text=(0,_validator.unescape)(textEscaped);if(text.length<limit)return text;var fallback=text.slice(0,limit);var startIndex=getStartIndexOfLastWordIfUrl(text.slice(0,limit));if(startIndex<0)return fallback;var endIndex=getLengthOfStringUntilEmtpySpaceOrEnd(text,startIndex);if(endIndex<0)return fallback;var startPlusEndIndex=startIndex+endIndex;var lastWord=text.slice(startIndex,startPlusEndIndex);return((0,_validator.isURL)(lastWord,{require_protocol:true})||lastWord.slice(0,1)===MENTION_TOKEN||MARKDOWN_URL_REGEXP.test(lastWord))&&startPlusEndIndex>startIndex?text.slice(0,startPlusEndIndex):fallback;}
function toKebabCaseAlphaNumericOnly(string){return string.toLowerCase().trim().replace(/[^a-z0-9]/g,'-');}}),28716:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getLocalOffsetLabel=getLocalOffsetLabel;exports.dateInputValueFromParts=dateInputValueFromParts;exports.datetimeLocalValueToUTCTimestamp=datetimeLocalValueToUTCTimestamp;exports.datetimeLocalValueIsValid=datetimeLocalValueIsValid;exports.datetimeLocalValueIsInFuture=datetimeLocalValueIsInFuture;exports.datetimeLocalValueIsInPast=datetimeLocalValueIsInPast;exports.timeInputValueFromParts=timeInputValueFromParts;exports.durationToSeconds=durationToSeconds;exports.timeFromNow=timeFromNow;exports.timeFromNowDiffUnix=timeFromNowDiffUnix;exports.timeFromNowUnix=timeFromNowUnix;exports.timeNowUnixSeconds=timeNowUnixSeconds;exports.timeIsPast=timeIsPast;exports.timeIsFuture=timeIsFuture;exports.secondsToDuration=secondsToDuration;exports.timestampToPrettyDate=timestampToPrettyDate;exports.timeToUTC=timeToUTC;exports.formatTimestampPreserveTZ=formatTimestampPreserveTZ;exports.fromNowNumbersOnlyFormat=exports.pad=exports.YEAR_ONLY_FORMAT=exports.VERBOSE_DATE_FORMAT=exports.NEWS_SCHEDULED_FORMAT=exports.EVENT_DATE_FORMAT=exports.DATE_FORMAT=exports.DATE_AT_TIME_FORMAT=exports.TIME_INPUT_FORMAT=exports.DATE_INPUT_FORMAT=exports.DATETIME_LOCAL_INPUT_FORMAT=exports.CONTEST_DATE_FORMAT=exports.CONTEST_DATE_AT_TIME_FORMAT=void 0;var _moment=_interopRequireDefault(__webpack_require__(30381));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var CONTEST_DATE_AT_TIME_FORMAT='MMMM D, YYYY [at] h:mmA [PT]';exports.CONTEST_DATE_AT_TIME_FORMAT=CONTEST_DATE_AT_TIME_FORMAT;var CONTEST_DATE_FORMAT='MMM D, YYYY';exports.CONTEST_DATE_FORMAT=CONTEST_DATE_FORMAT;var DATETIME_LOCAL_INPUT_FORMAT=_moment["default"].HTML5_FMT.DATETIME_LOCAL;exports.DATETIME_LOCAL_INPUT_FORMAT=DATETIME_LOCAL_INPUT_FORMAT;var DATE_INPUT_FORMAT=_moment["default"].HTML5_FMT.DATE;exports.DATE_INPUT_FORMAT=DATE_INPUT_FORMAT;var TIME_INPUT_FORMAT=_moment["default"].HTML5_FMT.TIME;exports.TIME_INPUT_FORMAT=TIME_INPUT_FORMAT;var DATE_AT_TIME_FORMAT='dddd, MMMM D YYYY [at] h:mma';exports.DATE_AT_TIME_FORMAT=DATE_AT_TIME_FORMAT;var DATE_FORMAT='MMM DD, YYYY';exports.DATE_FORMAT=DATE_FORMAT;var EVENT_DATE_FORMAT='MMM D';exports.EVENT_DATE_FORMAT=EVENT_DATE_FORMAT;var NEWS_SCHEDULED_FORMAT='MMM DD, YYYY, h:mma';exports.NEWS_SCHEDULED_FORMAT=NEWS_SCHEDULED_FORMAT;var VERBOSE_DATE_FORMAT='dddd MMM Do, YYYY';exports.VERBOSE_DATE_FORMAT=VERBOSE_DATE_FORMAT;var YEAR_ONLY_FORMAT='YYYY';exports.YEAR_ONLY_FORMAT=YEAR_ONLY_FORMAT;function getLocalOffsetLabel(){return(0,_moment["default"])().format('Z');}
var pad=function pad(nm){var pad=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"0";return nm.toString().length<=1?"".concat(pad).concat(nm):nm;};exports.pad=pad;var fromNowNumbersOnlyFormat=function fromNowNumbersOnlyFormat(timeStr){var list=['a minute ago','an hour ago','a day ago','a month ago','a year ago'];return list.includes(timeStr)?timeStr.replace(/an|a/,'1'):timeStr;};exports.fromNowNumbersOnlyFormat=fromNowNumbersOnlyFormat;function _momentObjFromDatetimeLocalValue(value){var strict=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return(0,_moment["default"])(value,DATETIME_LOCAL_INPUT_FORMAT,strict);}
function dateInputValueFromParts(_ref){var day=_ref.day,month=_ref.month,year=_ref.year;var invalidFallback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var dateString="".concat(year,"-").concat(month,"-").concat(day);return(0,_moment["default"])(dateString,DATE_INPUT_FORMAT,true).isValid()?dateString:invalidFallback;}
function datetimeLocalValueToUTCTimestamp(value){return _momentObjFromDatetimeLocalValue(value).utc().toISOString();}
function datetimeLocalValueIsValid(value){return _momentObjFromDatetimeLocalValue(value).isValid();}
function datetimeLocalValueIsInFuture(value){var strict=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return(0,_moment["default"])().diff(_momentObjFromDatetimeLocalValue(value,strict))<0;}
function datetimeLocalValueIsInPast(value){return(0,_moment["default"])().diff(_momentObjFromDatetimeLocalValue(value))>0;}
function timeInputValueFromParts(_ref2,invalidFallback){var ampm=_ref2.ampm,hour=_ref2.hour,minute=_ref2.minute;var timeObj=(0,_moment["default"])("".concat(hour,":").concat(minute).concat(ampm),'hh:mma',true);return timeObj.isValid()?timeObj.format(_moment["default"].HTML5_FMT.TIME):invalidFallback;}
function durationToSeconds(duration){var parts=duration.split(':');return parseInt(parts[0])*3600+parseInt(parts[1])*60+parseInt(parts[2]);}
function timeFromNow(timestamp){return(0,_moment["default"])(timestamp).fromNow();}
function timeFromNowDiffUnix(timestamp){var unit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'hours';return(0,_moment["default"])().diff(_moment["default"].unix(timestamp),unit);}
function timeFromNowUnix(timestamp){return _moment["default"].unix(timestamp).fromNow();}
function timeNowUnixSeconds(){return(0,_moment["default"])().unix();}
function timeIsPast(timestamp){return new Date(timestamp).valueOf()<new Date(Date.now()).valueOf();}
function timeIsFuture(timestamp){var removeUTCZ=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(removeUTCZ){timestamp=timestamp.replace('Z','');}
return new Date(timestamp).valueOf()>new Date(Date.now()).valueOf();}
function secondsToDuration(seconds){var hours=Math.floor(seconds/3600);var secondsMinusHrs=seconds-hours*3600;var minutes=Math.floor(secondsMinusHrs/60);var secondsRemaining=secondsMinusHrs-minutes*60;return "".concat(pad(hours),":").concat(pad(minutes),":").concat(pad(secondsRemaining));}
function timestampToPrettyDate(timestamp){var format=arguments.length>1&&arguments[1]!==undefined?arguments[1]:DATE_FORMAT;var toLocal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var fallback=arguments.length>3&&arguments[3]!==undefined?arguments[3]:timestamp;try{var dateObj=Number.isInteger(timestamp)?_moment["default"].unix(timestamp):_moment["default"].utc(timestamp);if(!dateObj.isValid())return fallback;return toLocal?dateObj.local().format(format):dateObj.format(format);}catch(err){return fallback;}}
function timeToUTC(time){var formatIn=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"YYYY-MM-DD";var formatOut=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"YYYY-MM-DD";if(!time||time&&!time.length)return time;return _moment["default"].utc(time,formatIn).format(formatOut);}
function formatTimestampPreserveTZ(timestamp,format){return _moment["default"].parseZone(timestamp).format(format);}}),88742:((__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.isSignedInUser=exports.isObjectWithLength=exports.isObject=exports.isNumber=exports.isBlank=exports.isAString=exports.isAFunction=void 0;function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}
var isAFunction=function isAFunction(val){return typeof val==='function';};exports.isAFunction=isAFunction;var isAString=function isAString(val){return typeof val==='string';};exports.isAString=isAString;var isBlank=function isBlank(val){return typeof val==='undefined'||val===null||typeof val==='string'&&val.trim()===''||Array.isArray(val)&&val.length===0||_typeof(val)==='object'&&Object.keys(val).length===0;};exports.isBlank=isBlank;var isNumber=function isNumber(val){if(isBlank(val))return false;return typeof val==='number';};exports.isNumber=isNumber;var isObject=function isObject(val){if(val===null)return false;return!Array.isArray(val)&&_typeof(val)==="object";};exports.isObject=isObject;var isObjectWithLength=function isObjectWithLength(val){if(!isObject(val))return false;return Object.keys(val).length>0;};exports.isObjectWithLength=isObjectWithLength;var isSignedInUser=function isSignedInUser(user){var id=parseInt(user&&user.id);return!isNaN(id)&&id>0;};exports.isSignedInUser=isSignedInUser;}),13380:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.addQueryParamsToURL=addQueryParamsToURL;exports.appendToPath=appendToPath;exports.cleanPreAndPostSlashes=cleanPreAndPostSlashes;exports.getDomain=getDomain;exports.getPathUpTilPart=getPathUpTilPart;exports.prependLeadingSlash=prependLeadingSlash;exports.stripProtocol=stripProtocol;var _converters=__webpack_require__(39719);var _window=__webpack_require__(33852);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}
function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
function addQueryParamsToURL(){var url=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var queryParams=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _url$split=url.split('?'),_url$split2=_slicedToArray(_url$split,2),base=_url$split2[0],query=_url$split2[1];var map=Object.assign({},(0,_converters.mapifyStringQuery)(query),queryParams);return "".concat(base,"?").concat((0,_converters.mapToStringQuery)(map));}
function appendToPath(pathString){var partsToAppend=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];if(!partsToAppend.length)return pathString;if(pathString.slice(-1)==='/'){pathString=pathString.substring(0,pathString.length-1);}
var encodedParts=partsToAppend.map(function(part){return window.encodeURIComponent(part);});return prependLeadingSlash(pathString.concat('/').concat(encodedParts.join('/')));}
function cleanPreAndPostSlashes(path){return path==='/'||path===''?'/':path.split('/').filter(function(l){return l.length;}).join('/');}
function getDomain(url){var match=url.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?\=]+)/im);var result=match&&match.length?match[1]:null;return result&&result.length?result:null;}
function getPathUpTilPart(part){var path=_window.windowLocationPathname.get();var parts=path.split('/').filter(function(p){return p.length&&p!=='/';});var indexToSlice=parts.indexOf(part);return indexToSlice>-1?parts.slice(0,indexToSlice+1).join('/'):path;}
function prependLeadingSlash(string){return string.slice(0,1)!=='/'?'/'.concat(string):string;}
function stripProtocol(url){return url.replace(/(^\w+:|^)\/\//,'');}}),65339:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=uuidDedupe;var _error_handler=_interopRequireDefault(__webpack_require__(84616));var _uuid=__webpack_require__(21614);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}
var MAX_ATTEMPTS=3;function modId(oldId){return "".concat(oldId,"x");}
function reportDupe(uuid,attempt){if(window.Bugsnag&&window.Bugsnag.notify){Bugsnag.notify('Duplicate uuid','duplicate uuid generated',{attempt:attempt,uuid:uuid},'warning');}else{(0,_error_handler["default"])(new Error("duplicate uuid: ".concat(uuid,", attempt #").concat(attempt)));}}
function tryId(oldId,newId){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(oldId===newId){reportDupe(oldId,i);return i<MAX_ATTEMPTS?tryId(oldId,(0,_uuid.v4)(),i+1):modId(oldId);}else{return newId;}}
function uuidDedupe(oldId){return tryId(oldId,(0,_uuid.v4)());}}),59359:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports.getVideoData=getVideoData;exports.getYouTubeId=getYouTubeId;exports.getEmbedUrl=getEmbedUrl;exports.VIDEO_EMBED_REGEXS=void 0;var _converters=__webpack_require__(39719);var VIDEO_EMBED_REGEXS={facebook:/(?:https?:\/\/)?(?:www\.)?facebook\.com\/(?:.+\/)*([\w\.\-]+)/,youtube:/(?:youtube\.com|youtu\.be)\/(?:watch\?v=|v\/|embed\/)?([a-zA-Z0-9\-_]+)/};exports.VIDEO_EMBED_REGEXS=VIDEO_EMBED_REGEXS;var VIDEO_URL_CONVERTERS={'facebook':function facebook(url){var autoplay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var href=/plugins\/video.+\?.*href/.test(url)?(0,_converters.mapifyStringQuery)(url.split('?')[1]).href:url;var params={href:href,autoplay:autoplay?1:0,height:540,mute:0,width:960};return "https://www.facebook.com/plugins/video.php?".concat((0,_converters.mapToStringQuery)(params));},'youtube':function youtube(url){var autoplay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var parts=url.match(VIDEO_EMBED_REGEXS['youtube']);return "https://www.youtube.com/embed/".concat(parts[1],"?autoplay=").concat(autoplay?1:0);}};var URL_EXTENSIONS={autodesk360:/myhub\.autodesk360\.com\/([a-z0-9]+\/shares\/public\/[a-zA-Z0-9]+)/,bitbucket:/bitbucket\.org\/([0-9a-zA-Z_\-]+\/[0-9a-zA-Z_\-]+)/,circuits:/123d\.circuits\.io\/circuits\/([a-z0-9\-]+)/,channel9:/channel9\.msdn\.com\/((?:\/?[0-9a-zA-Z_\-]+){3})/,codebender:/codebender\.cc\/sketch:([0-9]+)/,fritzing:/fritzing\.org\/projects\/([0-9a-z-]+)/,gist:/gist\.github\.com\/(?:[0-9a-zA-Z_\-]+\/)?([0-9a-zA-Z_\-]+)/,github:/github\.com\/(?:downloads\/)?([0-9a-zA-Z_\-\.]+\/[0-9a-zA-Z_\-\.]+)/,gfycat:/gfycat.com\/([a-zA-Z]+)/,instagram:/instagram\.com\/p\/([a-zA-Z\-0-9]+)/,kickstarter:/kickstarter\.com\/projects\/([0-9a-z\-]+\/[0-9a-z\-]+)/,oshpark:/oshpark\.com\/shared_projects\/([a-zA-Z0-9]+)/,sketchfab:/sketchfab\.com\/models\/([a-z0-9]+)/,snip2code:/snip2code\.com\/Snippet\/([0-9]+\/[0-9a-zA-Z]+)/,twitter:/twitter.com\/([a-zA-Z0-9_@]+\/status\/[0-9]+)/,upverter:/upverter\.com\/[^\/]+\/(?:embed\/)?(?:\#designId\=)?([a-z0-9]+)(?:\/)?(?:[^\/])*/,ustream:/ustream\.tv\/([a-z]+\/[0-9]+(\/[a-z]+\/[0-9]+)?)/,vimeo:/(?:player\.)?vimeo\.com\/(?:video\/)?([0-9]+)/,vine:/vine\.co\/v\/([a-zA-Z0-9]+)/,youtube:/(?:youtube\.com|youtu\.be)\/(?:watch\?v=|v\/|embed\/)?([a-zA-Z0-9\-_]+)/,youmagine:/youmagine\.com\/designs\/([a-zA-Z0-9\-]+)/,mp4:/(.+\.(?:mp4)(?:\?.*)?)$/i};var regExps={'channel9':{regexp:URL_EXTENSIONS['channel9'],embed:function embed(id){return "https://channel9.msdn.com/".concat(id,"/player");},index:1},'gfycat':{regexp:URL_EXTENSIONS['gfycat'],embed:function embed(id){return "https://gfycat.com/ifr/".concat(id);},index:1},'instagram':{regexp:URL_EXTENSIONS['instagram'],embed:function embed(id){return "https://instagram.com/p/".concat(id,"/embed/");},index:1},'kickstarter':{regexp:URL_EXTENSIONS['kickstarter'],embed:function embed(id){return "https://www.kickstarter.com/projects/".concat(id,"/widget/video.html");},index:1},'mp4':{regexp:URL_EXTENSIONS['mp4'],embed:function embed(id){return id;},index:0},'vimeo':{regexp:URL_EXTENSIONS['vimeo'],requestLink:function requestLink(id){return "https://vimeo.com/api/v2/video/".concat(id,".json");},embed:function embed(id){return "https://player.vimeo.com/video/".concat(id);},index:1},'vine':{regexp:URL_EXTENSIONS['vine'],requestLink:function requestLink(id){return "https://vine.co/oembed.json?id=".concat(id);},embed:function embed(id){return "https://vine.co/v/".concat(id,"/embed/simple");},index:1},'ustream':{regexp:URL_EXTENSIONS['ustream'],embed:function embed(id){return "http://www.ustream.tv/embed/".concat(id,"?html5ui");},index:1},'youtube':{regexp:URL_EXTENSIONS['youtube'],image:function image(id){return "https://i.ytimg.com/vi/".concat(id,"/0.jpg");},requestLink:function requestLink(id){return "https://img.youtube.com/vi/".concat(id,"/0.jpg");},embed:function embed(id){return "https://www.youtube.com/embed/".concat(id);},index:1}};function getVideoData(url){var service=getService(url,/(channel9|gfycat|instagram|kickstarter|mp4|vimeo|vine|ustream|youtube)/);if(!service){return null;}
var obj=regExps[service];var match=url.match(obj.regexp);if(match&&match.length){var id=match[obj.index];var embed=obj.embed(id);var image=obj.image?obj.image(id):null;return{id:id,embed:embed,image:image,service:service,type:'iframe'};}else{return null;}}
function getYouTubeId(url){var ID='';url=url.replace(/(>|<)/gi,'').split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/);if(url[2]!==undefined){ID=url[2].split(/[^0-9a-z_\-]/i);ID=ID[0];}else{ID=url;}
return ID;};function getEmbedUrl(url){var autoplay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var service=getService(url,/(facebook|youtube)/);if(!service)return null;return VIDEO_URL_CONVERTERS[service](url,autoplay);}
function getService(url,regex){var urlToMatch=url.replace(/youtu\.be/,'youtube');var type=urlToMatch.match(regex);return type!==null?type[0]:null;}}),31539:((__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=videoTagSupported;var _execEnvironment=__webpack_require__(63509);var isSupported=null;function videoTagSupported(){if(isSupported!==null)return isSupported;if(!(0,_execEnvironment.canUseDOM)())return true;var el=document.createElement('video');isSupported=!!el.canPlayType;return isSupported;}}),66807:((module,__unused_webpack_exports,__webpack_require__)=>{var ___EXPOSE_LOADER_IMPORT___=__webpack_require__(34192);var ___EXPOSE_LOADER_GET_GLOBAL_THIS___=__webpack_require__(27672);var ___EXPOSE_LOADER_GLOBAL_THIS___=___EXPOSE_LOADER_GET_GLOBAL_THIS___;if(typeof ___EXPOSE_LOADER_GLOBAL_THIS___["Hster"]==='undefined')___EXPOSE_LOADER_GLOBAL_THIS___["Hster"]=___EXPOSE_LOADER_IMPORT___;module.exports=___EXPOSE_LOADER_IMPORT___;}),53916:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-fog":"#F7F7F7","v-pebble":"#767676","table":"styles__table__3kTqm","addressContainer":"styles__addressContainer__drOrf","address":"styles__address__2I6Ku"});}),40372:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"addressField":"address_form__addressField__2fdY6","addressFormPhoneWrapper":"address_form__addressFormPhoneWrapper__qfEx8","addressVerification":"address_form__addressVerification__117sn","addressWrapper":"address_form__addressWrapper__1WwMB","shortBtn":"address_form__shortBtn__3ytKw","callingCode":"address_form__callingCode__3m1R1","inputContainer":"address_form__inputContainer__1gX2F","labelContainer":"address_form__labelContainer__1hk5W","phoneInput":"address_form__phoneInput__1Whu8","reactFormAddress":"address_form__reactFormAddress__2a4AL","reactFormFieldError":"address_form__reactFormFieldError__1H4Gl","reactFormMenu":"address_form__reactFormMenu__1Sp12","reactFormOption":"address_form__reactFormOption__3fguj","verificationButtonGroup":"address_form__verificationButtonGroup__2WBjl"});}),56287:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-small":"(max-width: 480px)","divider":"article_page_simple_ad__divider__1VjeL"});}),25513:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-small":"(max-width: 480px)","v-med":"(max-width: 768px)","articlePlaceholder":"content_page_ad__articlePlaceholder__mBDrJ","projectPlaceholder":"content_page_ad__projectPlaceholder__2fUm2","articleWrapper":"content_page_ad__articleWrapper__1fsp6","projectWrapper":"content_page_ad__projectWrapper__1cEgQ"});}),25908:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"imageContainer":"home_page_banner_ad__imageContainer__2ac22"});}),65140:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-med":"(max-width: 768px)","portal":"project_page__portal__1_dRJ"});}),92404:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphaltHover":"#BABABA","v-med":"(max-width: 768px)","root":"simple_ad__root__1KQnz","adFAQLink":"simple_ad__adFAQLink__1Z3EK","anchor":"simple_ad__anchor__2J39Q","disclaimerWrapper":"simple_ad__disclaimerWrapper__23B-F","image":"simple_ad__image__2SJAb","text":"simple_ad__text__14tGN","textWrapper":"simple_ad__textWrapper__3YjJ0","wrapper":"simple_ad__wrapper__vuSO2"});}),73840:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-small":"(max-width: 480px)","v-med":"(max-width: 768px)","wrapper":"auth_dialog__wrapper__1VAk8"});}),31:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-med":"(max-width: 768px)","formPanel":"auth_panel__formPanel__TG5kz","panelWithCTA":"auth_panel__panelWithCTA__3Bblo"});}),44926:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-med":"(max-width: 768px)","cta":"cta__cta__3LI6g","ctaLockedProject":"cta__ctaLockedProject__1XnaT","ctaImg":"cta__ctaImg__37VoA","ctaHeader":"cta__ctaHeader__kg9wx typography__h1__b90rJ","ctaSubHeader":"cta__ctaSubHeader__3-cgs typography__h2__3Xi8t","promo":"cta__promo__Nb7LR cta__cta__3LI6g","promoImg":"cta__promoImg__105Yn"});}),74603:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"centerLink":"social__centerLink__3I6hA typography__link__3zw4-","secondaryBtns":"social__secondaryBtns__3AHK2","secondaryBtn":"social__secondaryBtn__2oJL6"});}),86821:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"dropdown":"bookmarks__dropdown__2OpGy","widgetDropdown":"bookmarks__widgetDropdown__3nMN1","listToggles":"bookmarks__listToggles__3Ln91","listToggle":"bookmarks__listToggle__BXJ26","widgetHeader":"bookmarks__widgetHeader__2ImqM"});}),54677:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"fixed":"dismiss_button__fixed__25Gx4","absolute":"dismiss_button__absolute__llR9W dismiss_button__fixed__25Gx4"});}),95595:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"wrapper":"default__wrapper__1EFhK"});}),87990:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-standardBorderRadius":"4px","v-hackster":"#2E9FE6","respectButton":"project_page__respectButton__2wL0b","respectedButton":"project_page__respectedButton__1Eh5Z","pulse":"project_page__pulse__3UjRu"});}),68476:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-facebook":"#3B5998","v-google":"#4285F4","v-facebookHover":"#294172","v-googleHover":"#336FD3","btn":"cta_button__btn__XVDQ3","facebookBtn":"cta_button__facebookBtn__125jy cta_button__btn__XVDQ3","googleBtn":"cta_button__googleBtn__2v2S6 cta_button__btn__XVDQ3","icon":"cta_button__icon__3sHeD","facebookIcon":"cta_button__facebookIcon__3-8x1 cta_button__icon__3sHeD","googleIcon":"cta_button__googleIcon__2G6WP cta_button__icon__3sHeD"});}),7417:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-arduino":"#00979d","v-arduinoHover":"#008085","v-github":"#24292E","v-githubHover":"#000","btn":"icon_button__btn__2b0BE","arduino":"icon_button__arduino__2oN0u","github":"icon_button__github__3Cy36"});}),64221:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-med":"(max-width: 768px)","v-small":"(max-width: 480px)","card":"base_card_horizontal_lg__card__1FXw2","image":"base_card_horizontal_lg__image__3-LEh","text":"base_card_horizontal_lg__text__1o0Hr"});}),88301:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-small":"(max-width: 480px)","cardResponsive":"base_card_vertical__cardResponsive__3dNN1","imageResponsive":"base_card_vertical__imageResponsive__2OZ2b","textResponsive":"base_card_vertical__textResponsive__1Wuwz"});}),28246:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-fog":"#F7F7F7","v-hackster":"#2E9FE6","v-white":"#FFF","body":"cards__body__Nusfy","card":"cards__card__3gE9v","cardBody":"cards__cardBody__IsRv5","cardWithBorder":"cards__cardWithBorder__3yAnX cards__card__3gE9v","corner":"cards__corner__1-SWc","icon":"cards__icon__K0Nng","lazyImage":"cards__lazyImage__2FJnY","newBadgeContainer":"cards__newBadgeContainer__B6OOp","newBadge1":"cards__newBadge1__3XCHt","newBadge2":"cards__newBadge2__bQcoY","spacer":"cards__spacer__1ddv7","stat":"cards__stat__1Pt4C","stats":"cards__stats__2m_jW","title":"cards__title__3ymP5","wrapper":"cards__wrapper__3CdjF","dummyText":"cards__dummyText__1UfjN","dummyTextS":"cards__dummyTextS__OJDmm cards__dummyText__1UfjN","dummyTextM":"cards__dummyTextM__mU6p2 cards__dummyText__1UfjN","dummyTextL":"cards__dummyTextL__z5GmC cards__dummyText__1UfjN"});}),89223:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-med-large":"(max-width: 992px)","activeContestLargeCardWrapper":"contest_card__activeContestLargeCardWrapper__LQd84","activeContestImgWrapper":"contest_card__activeContestImgWrapper__3esbz","activeContestInfoContainer":"contest_card__activeContestInfoContainer___DM4_","activeContestInfoWrapper":"contest_card__activeContestInfoWrapper__lsnXL","activeContestPrizeContainer":"contest_card__activeContestPrizeContainer__32CGx","activeContestPrizeIcon":"contest_card__activeContestPrizeIcon__AEr-c","activeMobileCardContainer":"contest_card__activeMobileCardContainer__1EHti","activeMobileImgAspectRatioPadding":"contest_card__activeMobileImgAspectRatioPadding__22eLt","contestBody":"contest_card__contestBody__34T_O","daysLeft":"contest_card__daysLeft__cEMKa","lazyImage":"contest_card__lazyImage__2Rddp","spacerForResizableCard":"contest_card__spacerForResizableCard__tcMji","bannerCard":"contest_card__bannerCard__3Dtbq","bannerCardOverlay":"contest_card__bannerCardOverlay__1o937","bannerCardOverlayName":"contest_card__bannerCardOverlayName__f6Zog","activeContestActionable":"contest_card__activeContestActionable__3C9Wl","activeContestStatusWrapper":"contest_card__activeContestStatusWrapper__1uYT_","activeContestImg":"contest_card__activeContestImg__3NQeN"});}),41219:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-charcoal":"#111","v-largeBorderRadius":"8px","v-standardBorder":"1px solid #D8D8D8","v-standardBorderRadius":"4px","v-med":"(max-width: 768px)","v-small":"(max-width: 480px)","dateBadge":"event_card__dateBadge__sQuJJ","tooltipTarget":"event_card__tooltipTarget__3hnAQ","dateDivider":"event_card__dateDivider__2qWIt","dateWrapper":"event_card__dateWrapper__371vd","ctaLink":"event_card__ctaLink__2f-JY","imageLarge":"event_card__imageLarge__1foXG","largeCardInfoSection":"event_card__largeCardInfoSection__2AxB7","largeCardInfoWrapper":"event_card__largeCardInfoWrapper__1Q10z","largeCardInfoWrapperLeft":"event_card__largeCardInfoWrapperLeft__wxBMj event_card__largeCardInfoWrapper__1Q10z","largeCardInfoWrapperRight":"event_card__largeCardInfoWrapperRight__rImBj event_card__largeCardInfoWrapper__1Q10z","largeCard":"event_card__largeCard__1XCoS","largeCardTitle":"event_card__largeCardTitle__3oSet"});}),52699:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-med":"(max-width: 768px)","v-standardBorder":"1px solid #D8D8D8","imageShadow":"news_card__imageShadow__1PQ3a","featuredCard":"news_card__featuredCard__2MrZ-","featuredHero":"news_card__featuredHero__1KTHy","featuredSm":"news_card__featuredSm__1m6IL","featuredImgWrapperSm":"news_card__featuredImgWrapperSm__2GpTn","lightCardWrapper":"news_card__lightCardWrapper__29XDy","sponsoredCard":"news_card__sponsoredCard__2TEeC","sponsoredImgWrapper":"news_card__sponsoredImgWrapper__7JvQm","sponsoredDataWrapper":"news_card__sponsoredDataWrapper__180LP","sponsoredDataWrapperLg":"news_card__sponsoredDataWrapperLg__vyCA8","marginLeftReset":"news_card__marginLeftReset__1Cocv","sponsoredCardLg":"news_card__sponsoredCardLg__tYHjO"});}),84724:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-pebble":"#767676","root":"part_card__root__TdmDJ","info":"part_card__info__39LhJ","action":"part_card__action__yTNoP","itemImage":"part_card__itemImage__PwbcW","lazyImage":"part_card__lazyImage__2DhZW","pitch":"part_card__pitch__2VyAv"});}),71028:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-fog":"#F7F7F7","bgGrey":"dummy_card__bgGrey__GhKOk","block":"dummy_card__block__2V4UO cards__dummyTextM__mU6p2 cards__dummyText__1UfjN","author":"dummy_card__author__3T9Sz dummy_card__block__2V4UO cards__dummyTextM__mU6p2 cards__dummyText__1UfjN","contentType":"dummy_card__contentType__2PBsT dummy_card__block__2V4UO cards__dummyTextM__mU6p2 cards__dummyText__1UfjN","difficulty":"dummy_card__difficulty__30ZEy dummy_card__block__2V4UO cards__dummyTextM__mU6p2 cards__dummyText__1UfjN","statNumber":"dummy_card__statNumber__3sEZ8 dummy_card__block__2V4UO cards__dummyTextM__mU6p2 cards__dummyText__1UfjN","stats":"dummy_card__stats__1-tBx","itemImage":"dummy_card__itemImage__zncRc animation__loader__JPe9H","smallBody":"dummy_card__smallBody__35wpX","smallTitle":"dummy_card__smallTitle__3-rMo dummy_card__block__2V4UO cards__dummyTextM__mU6p2 cards__dummyText__1UfjN","title":"dummy_card__title__K0GdH dummy_card__block__2V4UO cards__dummyTextM__mU6p2 cards__dummyText__1UfjN","thumbs":"dummy_card__thumbs__2bdH_","views":"dummy_card__views__2yxLD"});}),10335:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-fog":"#F7F7F7","v-asphalt":"#D8D8D8","v-graphite":"#4A4A4A","v-standardBorder":"1px solid #D8D8D8","author":"project_card__author__2bEvM","authorButton":"project_card__authorButton__3Vj0P project_card__author__2bEvM","authorsContainer":"project_card__authorsContainer__dDlj-","authorsList":"project_card__authorsList__1hYxW","dropdown":"project_card__dropdown__28Agn","imageContainer":"project_card__imageContainer__1YDQW","itemImage":"project_card__itemImage__cAKbu","lazyImage":"project_card__lazyImage__2orHJ","moreInfo":"project_card__moreInfo__Q0WiG","overlay":"project_card__overlay__cbssH","card":"project_card__card__2zrsK","stat":"project_card__stat__4bnMl","stats":"project_card__stats__1LkFi","statNumber":"project_card__statNumber__1zfnI","title":"project_card__title__2KMQA cards__title__3ymP5"});}),75410:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-standardBorder":"1px solid #D8D8D8","card":"simple_logo_card__card___Sn-Y","image":"simple_logo_card__image__2TknV","dummyImage":"simple_logo_card__dummyImage__Z_AFH animation__loader__JPe9H simple_logo_card__image__2TknV","dummyTitle":"simple_logo_card__dummyTitle__2Pt1u animation__loader__JPe9H","wrapper":"simple_logo_card__wrapper__3IH6j cards__wrapper__3CdjF"});}),78009:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","cardBorder":"small_project_card__cardBorder__3cVUG cards__cardWithBorder__3yAnX cards__card__3gE9v","imageContainer":"small_project_card__imageContainer__j3Fgi","itemImage":"small_project_card__itemImage__34RHb","lazyImage":"small_project_card__lazyImage__gMr1U","wrapper":"small_project_card__wrapper__1kXsW"});}),82610:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"content":"user_card__content__3qU1p"});}),81258:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-pebble":"#767676","v-charcoal":"#111","v-graphite":"#4A4A4A","root":"user_card_horizontal__root__1zRWJ","avatar":"user_card_horizontal__avatar__1dzYO","avatarAnchor":"user_card_horizontal__avatarAnchor__18yhS","bio":"user_card_horizontal__bio__1H97d","infoContainer":"user_card_horizontal__infoContainer__3aKEM","name":"user_card_horizontal__name__27DLZ","statBreaker":"user_card_horizontal__statBreaker__1zJ7w","stats":"user_card_horizontal__stats__3KZtd","topSection":"user_card_horizontal__topSection__2potX"});}),85756:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"radiusTop":"video_card__radiusTop__S0LdJ","overlay":"video_card__overlay__5YG1w","playButton":"video_card__playButton__1eS-m","thumbnail":"video_card__thumbnail__1-T_A","dummyImage":"video_card__dummyImage__1XMiO animation__loader__JPe9H","dummyText":"video_card__dummyText__Z_dau dummy_card__block__2V4UO cards__dummyTextM__mU6p2 cards__dummyText__1UfjN"});}),76146:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-error":"#D0021B","v-hackster":"#2E9FE6","v-white":"#FFF","v-standardBorder":"1px solid #D8D8D8","v-standardBorderRadius":"4px","v-med-large":"(max-width: 992px)","root":"prize_editor__root__1BX0t","noBorder":"prize_editor__noBorder__3cnEx","sectionHeader":"prize_editor__sectionHeader__yUxM_","category":"prize_editor__category__3TKOh","categoryHeader":"prize_editor__categoryHeader__1XeGG","categoryHeaderError":"prize_editor__categoryHeaderError__31JqN","categoryHeaderText":"prize_editor__categoryHeaderText__1iKCD","sortableList":"prize_editor__sortableList__u61v2","sortableCategory":"prize_editor__sortableCategory__koHNI prize_editor__category__3TKOh","dragIcon":"prize_editor__dragIcon__FVXAP","checklistContainer":"prize_editor__checklistContainer__2A1Sh","checklist":"prize_editor__checklist__2Nz72","checklistCheckboxWrapper":"prize_editor__checklistCheckboxWrapper__3Accx","arrow":"prize_editor__arrow__lPgIg","arrowSelected":"prize_editor__arrowSelected__3gIRW","prizesContainer":"prize_editor__prizesContainer__UkyqV","trash":"prize_editor__trash__2OurY","prize":"prize_editor__prize__2jrpY","prizeData":"prize_editor__prizeData__2aOcJ","prizeImg":"prize_editor__prizeImg__3o5OL","prizeImgWrapper":"prize_editor__prizeImgWrapper__2P1nn","trophy":"prize_editor__trophy__2z4jA","menuContainer":"prize_editor__menuContainer__y5X_I","categoryDropdown":"prize_editor__categoryDropdown__1Ck0E"});}),75121:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-secondaryBoxShadow":"0 2px 10px 0 rgba(0,0,0,0.15)","v-small":"(max-width: 480px)","banner":"project_count_banner__banner__1YjpI","buttons":"project_count_banner__buttons__3PJ61","content":"project_count_banner__content__1Qfcy","cancelButtonDesktop":"project_count_banner__cancelButtonDesktop__3WPK7 project_count_banner__content__1Qfcy","cancelButtonMobile":"project_count_banner__cancelButtonMobile__2YxjB","container":"project_count_banner__container__2PtdB","text":"project_count_banner__text__2ulKs"});}),40860:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-charcoal":"#111","v-white":"#FFF","number":"project_thumbs__number__1otoO","thumb":"project_thumbs__thumb__KmaVq","numberViewed":"project_thumbs__numberViewed__2Ao1A project_thumbs__number__1otoO"});}),55626:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-small":"(max-width: 480px)","v-asphalt":"#D8D8D8","v-hackster":"#2E9FE6","v-white":"#FFF","root":"post_card__root__16Iz7","adminBadge":"post_card__adminBadge__lY0Gv","avatar":"post_card__avatar__3MY75"});}),91476:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"avatar":"post_card_comments__avatar__1mybG","avatarSm":"post_card_comments__avatarSm__2gFnF","avatarHighlight":"post_card_comments__avatarHighlight__GL69R","avatar_pulse":"post_card_comments__avatar_pulse__1BbPj","commentRoot":"post_card_comments__commentRoot__2mqA6","childCommentRoot":"post_card_comments__childCommentRoot__3HPGn","input":"post_card_comments__input__1_Hva","inputDummy":"post_card_comments__inputDummy__3tg-9","menuWrapper":"post_card_comments__menuWrapper__2QzaS","richTextEditorRoot":"post_card_comments__richTextEditorRoot__2M-HW","showMenuOnHover":"post_card_comments__showMenuOnHover__2Txwa","showPreviousText":"post_card_comments__showPreviousText__FsjCD"});}),67273:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-graphite":"#4A4A4A","v-white":"#FFF","list":"dropdown_list__list__mCY_8","listItem":"dropdown_list__listItem__1i_wZ","focused":"dropdown_list__focused__2e2Bf"});}),2035:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-hackster":"#2E9FE6","v-white":"#FFF","root":"mention__root__CEjlu","dropdownContainer":"mention__dropdownContainer__2MOSJ","userAvatar":"mention__userAvatar__1YeYs","userCard":"mention__userCard__sm7Km","userNames":"mention__userNames__3uMYT"});}),62408:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"resetDraftGlobals":"rich_text_editor__resetDraftGlobals__3xpIq","root":"rich_text_editor__root__oQtaN","column":"rich_text_editor__column__ERqhk","row":"rich_text_editor__row__S7Tf7","toolbar":"rich_text_editor__toolbar__2jKms"});}),63456:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-pebble":"#767676","postCreatorRoot":"post_editor__postCreatorRoot__3qPwr","postCreatorEditorWrapper":"post_editor__postCreatorEditorWrapper__119Gw","postCreatorEditorWrapperFocused":"post_editor__postCreatorEditorWrapperFocused__15J_f","postCreatorHeader":"post_editor__postCreatorHeader__8f_EH","postCreatorHeaderAndEditor":"post_editor__postCreatorHeaderAndEditor__3rzww","postCreatorHeaderAndEditorFocused":"post_editor__postCreatorHeaderAndEditorFocused__dTKHs","markdownBtn":"post_editor__markdownBtn__2i_r8","postBody":"post_editor__postBody__3i-ec","transparentBorder":"post_editor__transparentBorder__3yxEC"});}),68925:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-graphite":"#4A4A4A","v-small":"(max-width: 480px)","body":"post_embed__body__Jiq6w","bodyWrapper":"post_embed__bodyWrapper__1d-pZ","description":"post_embed__description__213nN post_embed__body__Jiq6w","dismiss":"post_embed__dismiss__3xf7N","image":"post_embed__image__1tt8t","lockHeight":"post_embed__lockHeight__3fIjM","root":"post_embed__root__2sMMN","siteName":"post_embed__siteName__3ouUf"});}),33530:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-charcoal":"#111","v-error":"#D0021B","checkbox":"custom_checkbox__checkbox__13o12","checkboxTop":"custom_checkbox__checkboxTop__nUCrM","checkboxWrapper":"custom_checkbox__checkboxWrapper__3vkSf","disabled":"custom_checkbox__disabled__3vpjl","error":"custom_checkbox__error__3X7GI","input":"custom_checkbox__input__3Kn_t","maxWidth":"custom_checkbox__maxWidth__2p-jz"});}),58176:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-med-min":"(min-width: 769px)","buttons":"basic_image_uploader__buttons__29wbJ","fileButton":"basic_image_uploader__fileButton__21SY2","or":"basic_image_uploader__or__mfs72","previewWrapper":"basic_image_uploader__previewWrapper__2aTpw","urlInputWrapper":"basic_image_uploader__urlInputWrapper__2zNAV","responsive":"basic_image_uploader__responsive__2ieqP"});}),22264:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphaltHover":"#BABABA","v-hackster":"#2E9FE6","wrapper":"progress_bar__wrapper__3rZpr","barBase":"progress_bar__barBase__ZYsix","bg":"progress_bar__bg__3hkk8 progress_bar__barBase__ZYsix","fill":"progress_bar__fill__3VzAa progress_bar__barBase__ZYsix","loading":"progress_bar__loading__1zct2"});}),90837:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-small":"(max-width: 480px)","v-asphalt":"#D8D8D8","v-pebble":"#767676","focused":"basic_search_input__focused__kYVmy","input":"basic_search_input__input__3TGZz","wrapper":"basic_search_input__wrapper__2QUW3"});}),15050:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-error":"#D0021B","v-fog":"#F7F7F7","v-graphite":"#4A4A4A","v-hackster":"#2E9FE6","v-white":"#FFF","arrowButtons":"datetime__arrowButtons__3sxu0","buttons":"datetime__buttons__IHymi","clear":"datetime__clear__8OsMv","input":"datetime__input__1OuZa","inputWide":"datetime__inputWide__1ImkX datetime__input__1OuZa","toggle":"datetime__toggle__1yyl4","wrapper":"datetime__wrapper__3kM1j","wrapperMobile":"datetime__wrapperMobile__2Wcf4 datetime__wrapper__3kM1j","wrapperDesktop":"datetime__wrapperDesktop__1n2Lg datetime__wrapper__3kM1j","wrapperDisabled":"datetime__wrapperDisabled__28Yaj"});}),48122:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-focusedBlue":"#66afe9","root":"bootstrap__root__1TR_V"});}),96374:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-fog":"#F7F7F7","v-pebble":"#767676","v-white":"#FFF","root":"default__root__1btxT","disableMouseEvents":"default__disableMouseEvents__3aReb","inner":"default__inner__2yqdA","label":"default__label__2ddEF","option":"default__option__1p5JN","optionCustom":"default__optionCustom__1GvhX","optionNoResult":"default__optionNoResult__3eBU8 default__option__1p5JN","highlight":"default__highlight__2snGV"});}),49547:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-white":"#FFF","v-focusedBlue":"#66afe9","container":"bootstrap__container__23lkl","input":"bootstrap__input__3ukI1","inputWrapper":"bootstrap__inputWrapper__3hnOE","menuOpened":"bootstrap__menuOpened__AhQV_","multiOpt":"bootstrap__multiOpt__kX20S"});}),20636:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-error":"#D0021B","v-fog":"#F7F7F7","v-graphite":"#4A4A4A","v-pebble":"#767676","v-white":"#FFF","root":"default__root__2PJRi","actions":"default__actions__t7Ioq","disabled":"default__disabled__2lTks","action":"default__action__1mBHp","arrow":"default__arrow__25zf7","arrowSelected":"default__arrowSelected__dKaBg","arrowWrapper":"default__arrowWrapper__2bknd default__action__1mBHp","borderError":"default__borderError__y7DdC","closeX":"default__closeX__2F9KP","closeXWrapper":"default__closeXWrapper__1FUF1 default__action__1mBHp","container":"default__container__cbShX","input":"default__input__3Nr6t","inputWrapper":"default__inputWrapper__378O1","leftIcon":"default__leftIcon__2sphY","leftIconWrapper":"default__leftIconWrapper__3EiJG","menuOpened":"default__menuOpened__2fnR9","multiOpt":"default__multiOpt__2BmiY","multiText":"default__multiText__1MyaQ","multiOptX":"default__multiOptX__1uwy2","multiOptXWrapper":"default__multiOptXWrapper__3MdwL"});}),71802:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-graphite":"#4A4A4A","v-pebble":"#767676","v-white":"#FFF","container":"search__container__345SD","disabled":"search__disabled__10X4X","inputWrapper":"search__inputWrapper__3wcBB"});}),27464:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-hackster":"#2E9FE6","v-fog":"#F7F7F7","v-graphite":"#4A4A4A","v-small":"(max-width: 480px)","v-standardBorder":"1px solid #D8D8D8","dropdown":"simple_select__dropdown__OBvKd","icon":"simple_select__icon__3HRSc","iconOpen":"simple_select__iconOpen__25NL4 simple_select__icon__3HRSc","optionBase":"simple_select__optionBase__2Cv2x","label":"simple_select__label__3M8CC simple_select__optionBase__2Cv2x","option":"simple_select__option__LjbWW simple_select__optionBase__2Cv2x","optionPaddingOnChild":"simple_select__optionPaddingOnChild__keSgX simple_select__option__LjbWW simple_select__optionBase__2Cv2x","optionSelected":"simple_select__optionSelected__3OMaN simple_select__option__LjbWW simple_select__optionBase__2Cv2x","optionDisabled":"simple_select__optionDisabled__QiyS- simple_select__option__LjbWW simple_select__optionBase__2Cv2x","select":"simple_select__select__5a16F","selectIcon":"simple_select__selectIcon__2oqQO","selectWrapper":"simple_select__selectWrapper__11oWg"});}),6362:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-large":"(max-width: 1200px)","v-small":"(max-width: 480px)","v-asphalt":"#D8D8D8","v-error":"#D0021B","v-hackster":"#2E9FE6","v-white":"#FFF","container":"local_storage_popover__container__3E10Y","flexLargeRightSmallCenter":"local_storage_popover__flexLargeRightSmallCenter__3c_Vo"});}),55471:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"root":"messenger__root__2ctOM","body":"messenger__body__16Wbn","error":"messenger__error__2uS5N","closeBtn":"messenger__closeBtn__L6XFU","success":"messenger__success__1wNAJ"});}),3101:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"enter":"transitions__enter__2oqrH","enterActive":"transitions__enterActive__14vG7","enterDone":"transitions__enterDone__1Ry9i","exit":"transitions__exit__3Tf3j","exitActive":"transitions__exitActive__29Ro6"});}),8812:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"root":"markdown_viewer__root__1IL6B"});}),35277:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"icon":"social_icons__icon__1s_b6"});}),24326:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-graphite":"#4A4A4A","root":"paginator__root__11hcG","item":"paginator__item__3WH21","arrow":"paginator__arrow__1D6Yj paginator__item__3WH21","number":"paginator__number__1lP8W paginator__item__3WH21","currentPage":"paginator__currentPage__3R4Vm","disabled":"paginator__disabled__2dMdB paginator__currentPage__3R4Vm","buffer":"paginator__buffer__beSOH"});}),20395:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"placeholderContent":"projects_list__placeholderContent__34B0I","placeholderLabel":"projects_list__placeholderLabel__21OzD"});}),18676:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","container":"similar_projects_bar__container__E3IH3","link":"similar_projects_bar__link__1tgYr","text":"similar_projects_bar__text__1HVKG"});}),83584:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"placeholderLink":"content_placeholder__placeholderLink__1BFJa","label":"content_placeholder__label__7wGun","content":"content_placeholder__content___cJKH"});}),49012:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"wrapper":"prompt__wrapper__2nkhQ"});}),67111:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-small":"(max-width: 480px)","v-graphite":"#4A4A4A","v-white":"#FFF","actions":"styles__actions__3SW2R","dialog":"styles__dialog__1KnWX","dismiss":"styles__dismiss__g3ONX","fullScreen":"styles__fullScreen__XdwaQ","title":"styles__title__cM9QS","wrapper":"styles__wrapper__1gHmn","dialogDark":"styles__dialogDark__3rizC styles__dialog__1KnWX","wrapperDark":"styles__wrapperDark__TdTea styles__wrapper__1gHmn","dismissDark":"styles__dismissDark__1Zws_"});}),19156:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"enter":"transitions__enter__kQein","appear":"transitions__appear__V6xTb","enterActive":"transitions__enterActive__1Z-WB","appearActive":"transitions__appearActive__2hQcD","exit":"transitions__exit__38cpZ","exitActive":"transitions__exitActive__2qisg"});}),37989:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"loader":"infinite_scroll__loader__1ErgM"});}),79310:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-fog":"#F7F7F7","fade":"lazy_image__fade__3oXBs","fadeIn":"lazy_image__fadeIn__29p6B","image":"lazy_image__image__1dmau lazy_image__fade__3oXBs","imageBG":"lazy_image__imageBG__1IiL8 lazy_image__fade__3oXBs","root":"lazy_image__root__1z6bx"});}),82943:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"arrow":"NewFeatureTooltip__arrow__cOftp","container":"NewFeatureTooltip__container__1vPWp","bottom":"NewFeatureTooltip__bottom__ItIqe","left":"NewFeatureTooltip__left__169xd","right":"NewFeatureTooltip__right__U7VNm","top":"NewFeatureTooltip__top__2fYM8","dismissBtn":"NewFeatureTooltip__dismissBtn__sjAfR","inner":"NewFeatureTooltip__inner__2ZX6u","msg":"NewFeatureTooltip__msg__2a6jB"});}),19709:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"med-large":"undefined","root":"sticky_footer__root__2NIoj","bodyWrapper":"sticky_footer__bodyWrapper__WmokP","socialFooterBodyWrapper":"sticky_footer__socialFooterBodyWrapper__7fqgx","socialList":"sticky_footer__socialList__3DlWL","bodyAndSocialIcons":"sticky_footer__bodyAndSocialIcons__1JNe3","closeBtn":"sticky_footer__closeBtn__wyRKc","socialFooterBody":"sticky_footer__socialFooterBody__3lekr"});}),14359:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"exit":"transitions__exit__2-8NK","exitActive":"transitions__exitActive__BPkJU"});}),77350:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-standardBorder":"1px solid #D8D8D8","root":"popover__root__3tSaw"});}),90123:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"enter":"link_transitions__enter__1VI4i","enterActive":"link_transitions__enterActive__gPIWm","exit":"link_transitions__exit__1DKKp","exitActive":"link_transitions__exitActive__3CueV"});}),70335:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-message-success-text":"#007A33","v-message-error-text":"#C51C1F","root":"messenger__root__H4CNM","message":"messenger__message__1BJa3","link":"messenger__link__1g2HS","link-success":"messenger__link-success__2nbRh","link-error":"messenger__link-error__3yoNi","dismiss":"messenger__dismiss__1PrO5","success":"messenger__success__N_ruS messenger__root__H4CNM","error":"messenger__error__KXwOb messenger__root__H4CNM"});}),71018:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-graphite":"#4A4A4A","v-standardBoxShadow":"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)","tooltip":"tooltip_target__tooltip__1D-_y","tooltipInner":"tooltip_target__tooltipInner__1a-6T","tooltipInnerMultiline":"tooltip_target__tooltipInnerMultiline__1sQH7","wrapper":"tooltip_target__wrapper__2kFRM","centerH":"tooltip_target__centerH__3hxm-","centerV":"tooltip_target__centerV__1jA3r","bottom":"tooltip_target__bottom__1MTcz tooltip_target__centerH__3hxm-","left":"tooltip_target__left__SoOAt tooltip_target__centerV__1jA3r","right":"tooltip_target__right__rjTYW tooltip_target__centerV__1jA3r","top":"tooltip_target__top__1gnsz tooltip_target__centerH__3hxm-","tooltipV2":"tooltip_target__tooltipV2__15lJz"});}),29957:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-fog":"#F7F7F7","v-pebble":"#767676","v-graphite":"#4A4A4A","v-med-large":"(max-width: 992px)","autosaveLabel":"story_editor__autosaveLabel__2TRIK","autosaveInput":"story_editor__autosaveInput__2xxFv","helpBox":"story_editor__helpBox__3Ie02","fixed":"story_editor__fixed__35BST","saving":"story_editor__saving__15U6C","statusWrapper":"story_editor__statusWrapper__3OtX6","tips":"story_editor__tips__2-b14"});}),1859:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","cell":"cells__cell__zGbM5","cell0":"cells__cell0__2P4Lr cells__cell__zGbM5"});}),52062:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-graphite":"#4A4A4A","dark":"question_mark__dark__uut3F","light":"question_mark__light__M0-pA","tooltipInner":"question_mark__tooltipInner__1wjsc"});}),12697:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-pebble":"#767676","v-charcoal":"#111","breadcrumbs":"page_header__breadcrumbs__2K2-e","noProjectsText":"page_header__noProjectsText__2d3JF","header":"page_header__header__2otMC","headerInner":"page_header__headerInner__2CrHK page_header__header__2otMC","pageHeaderContainer":"page_header__pageHeaderContainer__3uScX page_header__header__2otMC","pageHeaderWrapper":"page_header__pageHeaderWrapper__2hRoY","pageHeader":"page_header__pageHeader__3lus6","viewProfileLink":"page_header__viewProfileLink__gvcd8"});}),95829:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"container":"video_dialog__container__3UHDX","dialogWrapper":"video_dialog__dialogWrapper__RYQ5n"});}),88563:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-graphite":"#4A4A4A","v-white":"#FFF","hasLinks":"video_info__hasLinks__1yUHC","hasLinksWhite":"video_info__hasLinksWhite__3MWgi"});}),94049:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-standardBorder":"1px solid #D8D8D8","dropdown":"dropdown__dropdown__39cVJ","bottom":"dropdown__bottom__sBVbH","left":"dropdown__left__2iwpA","right":"dropdown__right__1fkkp","top":"dropdown__top__1_7iO"});}),75481:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"itemsContainer":"horizontal_scroll__itemsContainer__10hs5","loader":"horizontal_scroll__loader__GiMwK","scrollButton":"horizontal_scroll__scrollButton__1ytjk","scrollContainer":"horizontal_scroll__scrollContainer__1anuq","scrollLeft":"horizontal_scroll__scrollLeft__3699E horizontal_scroll__scrollButton__1ytjk","scrollRight":"horizontal_scroll__scrollRight__3qLOU horizontal_scroll__scrollButton__1ytjk","wrapper":"horizontal_scroll__wrapper__38UwB"});}),44490:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"arrow":"horizontal_scroll_box__arrow__2wxJn","arrowLeft":"horizontal_scroll_box__arrowLeft__3aD-m horizontal_scroll_box__arrow__2wxJn","arrowRight":"horizontal_scroll_box__arrowRight__3gxdV horizontal_scroll_box__arrow__2wxJn","scrollContainer":"horizontal_scroll_box__scrollContainer__ealW0","wrapper":"horizontal_scroll_box__wrapper__3YsyU"});}),1055:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-hackster":"#2E9FE6","v-small":"(max-width: 480px)","dropdownIconOpen":"paginated_list__dropdownIconOpen__3yi3s","dropdownIconClosed":"paginated_list__dropdownIconClosed__OyS-t","filter":"paginated_list__filter__1Gryf","filterGroup":"paginated_list__filterGroup__Jczyo","filtersButton":"paginated_list__filtersButton__1Zfxg","filtersToggle":"paginated_list__filtersToggle__1MB1-","filtersToggleCount":"paginated_list__filtersToggleCount__3TfcS","marginLeftOnOne":"paginated_list__marginLeftOnOne__26A1l","paginatorRoot":"paginated_list__paginatorRoot__2MIF1","wrapper":"paginated_list__wrapper__1Gx5F","filterGroupClosed":"paginated_list__filterGroupClosed__2KQAz"});}),10076:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-charcoal":"#111","container":"view_all__container__2Vbkv","dummyCard":"view_all__dummyCard__11Qo1","dummyProjectCard":"view_all__dummyProjectCard__2pQ0x view_all__dummyCard__11Qo1","emtpyMsg":"view_all__emtpyMsg__3Eg2N","header":"view_all__header__159zC","scrollerInner":"view_all__scrollerInner__JIflU","scrollerItem":"view_all__scrollerItem__qsEA3","scrollerItemProject":"view_all__scrollerItemProject__oAuyO view_all__scrollerItem__qsEA3","title":"view_all__title__mky-P"});}),94904:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"tWrapper":"button__tWrapper__3RXCG","tooltip":"button__tooltip__3kMPB","icon":"button__icon__1sNMd"});}),19077:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"root":"carousel__root__2R9-I","images":"carousel__images__3xn0b","loader":"carousel__loader__1K3wd","loaderWrapper":"carousel__loaderWrapper__1Ky4T","figure":"carousel__figure__25X_I","show":"carousel__show__8CYB1","imageWrapper":"carousel__imageWrapper__3TuE2","image":"carousel__image__24kOe","figcaption":"carousel__figcaption__1Zv5m","controlBtn":"carousel__controlBtn__5q-y9","left":"carousel__left__17byQ","right":"carousel__right__292JS","reorderDialog":"carousel__reorderDialog__2mNA0"});}),48754:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"tempBoxShadow":"carousel_editor__tempBoxShadow__2VHgb","imageContainer":"carousel_editor__imageContainer__1PEuH","order":"carousel_editor__order__25A2N","imageWrapper":"carousel_editor__imageWrapper__2rRFa","image":"carousel_editor__image__H9a0H","controls":"carousel_editor__controls__3Dcdk","button":"carousel_editor__button__2DmRL"});}),61838:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"actions":"dialog__actions__pBb3R","dialog":"dialog__dialog__Klmfd","dismiss":"dialog__dismiss__2D-Cu","overlay":"dialog__overlay__1N9_K","title":"dialog__title__3zTkK","wrapper":"dialog__wrapper__39oSs"});}),1671:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"root":"linkmenu__root__HBZ97","popover":"linkmenu__popover__1LxRE","arrow":"linkmenu__arrow__f9ILp","defaultMenu":"linkmenu__defaultMenu__3hzRq","input":"linkmenu__input__d7Ifw formElements__input__Z21kp"});}),49241:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"spinner":"spinner__spinner__2M07q"});}),79961:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"container":"toolbar__container__qNq-N","wrapper":"toolbar__wrapper__2fej5","fixed":"toolbar__fixed__3AY66","toolbar":"toolbar__toolbar__3-YHk"});}),49364:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"button":"toolbar_button__button__1rDCS","active":"toolbar_button__active__30yQy","tooltip":"toolbar_button__tooltip__3MAyl","caret":"toolbar_button__caret__WqVVO","label":"toolbar_button__label__1GuBn","menu":"toolbar_button__menu__1LclJ","option":"toolbar_button__option__1WwFh"});}),53228:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"root":"ImageEditor__root__3K1J4","resizeWrapper":"ImageEditor__resizeWrapper__1vfP_"});}),45952:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"linkWrapper":"ImageLinkForm__linkWrapper__1E1zO","actionsWrapper":"ImageLinkForm__actionsWrapper__2lYSz","dropzoneBody":"ImageLinkForm__dropzoneBody__2N-LB"});}),22015:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"actionsWrapper":"Prompt__actionsWrapper__2eRE8","body":"Prompt__body__8SCFh","container":"Prompt__container__1z2hw","innerBody":"Prompt__innerBody__2tpJT","input":"Prompt__input__3pYQs formElements__input__Z21kp","mask":"Prompt__mask__uE-kg"});}),82809:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"btn":"buttons__btn__X8cC9","btnPrimary":"buttons__btnPrimary__MpZz_","btnLink":"buttons__btnLink__3Hj7e"});}),23993:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({});}),20316:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({});}),78785:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"input":"formElements__input__Z21kp","colorError":"formElements__colorError__2vL0B","borderError":"formElements__borderError__1387m"});}),54235:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"enter":"slideUpTransitions__enter__zNIoE","translateY":"slideUpTransitions__translateY__3GNNV","enterActive":"slideUpTransitions__enterActive__3yjJq","exit":"slideUpTransitions__exit__3FTEP","leave":"slideUpTransitions__leave__MBBOy","exitActive":"slideUpTransitions__exitActive__2CTYI"});}),77514:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"root":"home__root__8J95O","headerCell":"home__headerCell__3KLAl","ghostCell":"home__ghostCell__3lk5f","ghostDragBox":"home__ghostDragBox__knnUN","greyNothing":"home__greyNothing__QxmUn animation__loader__JPe9H","tableContainer":"home__tableContainer__1miWr","tableHeader":"home__tableHeader__2KLIy","inputContainer":"home__inputContainer__11K-2","menuContainer":"home__menuContainer__1fhCz","radioGroup":"home__radioGroup__2JPq1","partOption":"home__partOption__2iFeQ","partOptionDisabled":"home__partOptionDisabled__3hGB4","partOptionName":"home__partOptionName__3iTci"});}),78894:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-hackster":"#2E9FE6","v-graphite":"#4A4A4A","list":"section_list__list__2q388","row":"section_list__row__Amqh9","dragHandle":"section_list__dragHandle__1x82Z","actions":"section_list__actions__1J893","buttonCntr":"section_list__buttonCntr__1ZDqj","cell":"section_list__cell__2CGv8","cell30":"section_list__cell30__3hfwS","cell20":"section_list__cell20__vQ0po","cell10":"section_list__cell10__2EYMy","dragHandleIcon":"section_list__dragHandleIcon__1zZZx","nameCell":"section_list__nameCell__2vCtp section_list__cell__2CGv8 section_list__cell30__3hfwS","saveBtn":"section_list__saveBtn__2gF8A","metaMsg":"section_list__metaMsg__h0CYU","tag":"section_list__tag__QRTfm","title":"section_list__title__2T6JM","titleInput":"section_list__titleInput__1_OHj"});}),54193:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-small":"(max-width: 480px)","memberCard":"members__memberCard__2kvY_","memberCardEditIconWrapper":"members__memberCardEditIconWrapper__2aAcY","memberCardTrashIconWrapper":"members__memberCardTrashIconWrapper__2sYlp","dashboardPanel":"members__dashboardPanel__27oA8","roleFilterWrapper":"members__roleFilterWrapper__UKsEk","roleHeader":"members__roleHeader__1rsz9","searchInputWrapper":"members__searchInputWrapper__3UQke"});}),60166:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-small":"(max-width: 480px)","sidebar":"contest_discussion__sidebar__2GuqB","sidebarWrapper":"contest_discussion__sidebarWrapper__2pn0v contest_discussion__sidebar__2GuqB","container":"contest_discussion__container__rdBBy","header":"contest_discussion__header__1Vgmn"});}),95909:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-med":"(max-width: 768px)","largeCardInfoSection":"preview_cards__largeCardInfoSection__1ccu3"});}),20601:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-graphite":"#4A4A4A","error":"cta_form__error__faDyz","label":"cta_form__label__2QpLq","sublabel":"cta_form__sublabel__2PVKw","cropperTitle":"cta_form__cropperTitle__3n_xK","fourThreeMaxWidth":"cta_form__fourThreeMaxWidth__1tZkm","oneOneMaxWidth":"cta_form__oneOneMaxWidth__AQIJy"});}),61122:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-fog":"#F7F7F7","v-error":"#D0021B","v-asphalt":"#D8D8D8","v-standardBorder":"1px solid #D8D8D8","v-standardBorderRadius":"4px","root":"home_sections__root__1yuYj","header":"home_sections__header__2Td1X","newSectionBtnWrapper":"home_sections__newSectionBtnWrapper__3J6Ev","toolbar":"home_sections__toolbar__VGVZW","ghostDragBox":"home_sections__ghostDragBox__3KCz7","headerCell":"home_sections__headerCell__2pa_0","headerCellName":"home_sections__headerCellName__3YTSn home_sections__headerCell__2pa_0","tableContainer":"home_sections__tableContainer__1DMOh","inputContainer":"home_sections__inputContainer__3ApZC","inputContainerError":"home_sections__inputContainerError__3CF_a home_sections__inputContainer__3ApZC","menuContainer":"home_sections__menuContainer__13Z1V","radioGroup":"home_sections__radioGroup__3h6oq","radioButtonContainer":"home_sections__radioButtonContainer__20f8i","option":"home_sections__option__L4vL3","optionDisabled":"home_sections__optionDisabled__1zCol","optionName":"home_sections__optionName__1TZRh","previewHeader":"home_sections__previewHeader__GN4oD","previewHeaderFixedContainer":"home_sections__previewHeaderFixedContainer__1Gcx-","previewHeaderWrapper":"home_sections__previewHeaderWrapper__2BUfh","previewHomePageWrapper":"home_sections__previewHomePageWrapper__35lht","previewRoot":"home_sections__previewRoot__3tAr6","previewWrapper":"home_sections__previewWrapper__KO3K8"});}),35715:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-hackster":"#2E9FE6","v-graphite":"#4A4A4A","v-white":"#FFF","row":"section_list__row__2gpbp","dragHandle":"section_list__dragHandle__1toAX","rowHighlight":"section_list__rowHighlight__1TNiw section_list__row__2gpbp","buttonCntr":"section_list__buttonCntr__1sMy5","cell":"section_list__cell__2jEfq","cell60":"section_list__cell60__3uNwt","cell30":"section_list__cell30__37qhB","cell20":"section_list__cell20__2-QDj","cell10":"section_list__cell10__VJY6m","dragHandleIcon":"section_list__dragHandleIcon__35RLD","contentCardTitle":"section_list__contentCardTitle__19Nnk section_list__cell__2jEfq section_list__cell60__3uNwt","noContentMsg":"section_list__noContentMsg__2JCQG section_list__cell__2jEfq","nameCell":"section_list__nameCell__2uu4S section_list__cell__2jEfq section_list__cell30__37qhB","saveBtn":"section_list__saveBtn__2GwCz","metaMsg":"section_list__metaMsg__1TtM8","tag":"section_list__tag__3PGEa","title":"section_list__title__8C80P","titleInput":"section_list__titleInput__poCs3","ghostCell":"section_list__ghostCell__1KObU","ghostDragBox":"section_list__ghostDragBox__36J-5","greyNothing":"section_list__greyNothing__3yRjt animation__loader__JPe9H"});}),78521:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-fog":"#F7F7F7","v-pebble":"#767676","tableActions":"edit_videos__tableActions__1OcBy","selectedPlaceholder":"edit_videos__selectedPlaceholder__2_TRo","selectedList":"edit_videos__selectedList__6JEz6"});}),57149:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-fog":"#F7F7F7","banner":"cta_banner__banner__G3g4x","imageLink":"cta_banner__imageLink__297ZL","image":"cta_banner__image__2qUyM"});}),44815:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-med-large":"(max-width: 992px)","v-fog":"#F7F7F7","v-hackster":"#2E9FE6","v-standardBorder":"1px solid #D8D8D8","v-standardBorderRadius":"4px","defaultView":"promoted_content__defaultView__jy235","listContainer":"promoted_content__listContainer__O0neF","listItem":"promoted_content__listItem__2MhE2","listItemContentWrapper":"promoted_content__listItemContentWrapper__3NgwL","listItemImageDims70":"promoted_content__listItemImageDims70__2L0jM","listItemImageDims100":"promoted_content__listItemImageDims100__1kZ38","listItemTitle70":"promoted_content__listItemTitle70__3Z7OT","listItemTitle100":"promoted_content__listItemTitle100__aVU76","mainCard":"promoted_content__mainCard__2yRHz","mainImageWrapper":"promoted_content__mainImageWrapper__3e-Np","mainInfo":"promoted_content__mainInfo__QP15q","titleWrapper":"promoted_content__titleWrapper__1psut","twoByCard":"promoted_content__twoByCard__2piAz","twoByCardInfo":"promoted_content__twoByCardInfo__3cVQZ","twoByMainImageWrapper":"promoted_content__twoByMainImageWrapper__rmj4N","horizontalScrollWrapper":"promoted_content__horizontalScrollWrapper__FXrH1","mobileView":"promoted_content__mobileView__3pjij","mobileCard":"promoted_content__mobileCard__2uPi1","mobileCardInfo":"promoted_content__mobileCardInfo__1G7Uf","mobileImageWrapper":"promoted_content__mobileImageWrapper___7Crp","dummyMobileView":"promoted_content__dummyMobileView__rNY1h","dummyImageSmall":"promoted_content__dummyImageSmall__1jw8J","dummyImageLarge":"promoted_content__dummyImageLarge__2NDOd","dummyImageTwoBy":"promoted_content__dummyImageTwoBy__3NDo6","dummyMobileCardImage":"promoted_content__dummyMobileCardImage__HhJtk","twoByView":"promoted_content__twoByView__1UAHk"});}),45680:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"button":"sections__button__5Z9NT"});}),74114:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-med":"(max-width: 768px)","v-small":"(max-width: 480px)","v-asphalt":"#D8D8D8","v-hackster":"#2E9FE6","v-pebble":"#767676","v-standardBorderRadius":"4px","actionsWrapper":"news_admin_list__actionsWrapper__2D6xJ","addBtnDefault":"news_admin_list__addBtnDefault__AvUF5","addBtnPlus":"news_admin_list__addBtnPlus__1BSGL","header":"news_admin_list__header__2Z4kM","listItem":"news_admin_list__listItem__3nOmK","listItemSelectable":"news_admin_list__listItemSelectable__coJW1","listItemCoverImage":"news_admin_list__listItemCoverImage__3fuow","listItemCoverImageWrapper":"news_admin_list__listItemCoverImageWrapper__3beBN","listItemAuthorCell":"news_admin_list__listItemAuthorCell__3b-Om","listItemDateCell":"news_admin_list__listItemDateCell__7QPIh","listItemMobileAuthorStatus":"news_admin_list__listItemMobileAuthorStatus__3MWbV","listItemTitleCell":"news_admin_list__listItemTitleCell__Vb9PA","listWrapper":"news_admin_list__listWrapper__2K_lZ","star":"news_admin_list__star__3cFni","inputWrapper":"news_admin_list__inputWrapper__1OVta","listItemData":"news_admin_list__listItemData__2zYpC","statusColorBlock":"news_admin_list__statusColorBlock__WSQw_"});}),43149:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-fog":"#F7F7F7","v-small":"(max-width: 480px)","v-med":"(max-width: 768px)","wrapper":"preview__wrapper__19e3D","defaultCardWrapper":"preview__defaultCardWrapper__1v3R2","featuredCardWrapper":"preview__featuredCardWrapper__1rw7X","sponsoredCardContainer":"preview__sponsoredCardContainer___fX8Q","sponsoredCardWrapper":"preview__sponsoredCardWrapper__UMmd6","defaultCardContainer":"preview__defaultCardContainer___kcWE"});}),10209:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-small":"(max-width: 480px)","v-med":"(max-width: 768px)","v-asphalt":"#D8D8D8","v-white":"#FFF","actionsBarRoot":"news_admin_templates__actionsBarRoot__37EBF","actionsBar":"news_admin_templates__actionsBar__2L-bO news_admin_templates__actionsBarRoot__37EBF","actionsBarInner":"news_admin_templates__actionsBarInner__274jC","actionsBreadcrumbRoot":"news_admin_templates__actionsBreadcrumbRoot__2FUUy","box":"news_admin_templates__box__16FoG","boxBorder":"news_admin_templates__boxBorder__1YXMo","dialogBody":"news_admin_templates__dialogBody__1N8kM","dialogWrapper":"news_admin_templates__dialogWrapper__2n6rI","topMenuBarRoot":"news_admin_templates__topMenuBarRoot__3jMv-","actionsFormViewButtons":"news_admin_templates__actionsFormViewButtons__1N0Kk","topMenuBarStatus":"news_admin_templates__topMenuBarStatus__1T5n2"});}),93014:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-standardBorder":"1px solid #D8D8D8","v-med":"(max-width: 768px)","body":"article_layout__body__3Kt3X","content":"article_layout__content__2wPEg","sidebar":"article_layout__sidebar__1Jzoi","sidebarInner":"article_layout__sidebarInner__2Qh64","signupCTA":"article_layout__signupCTA__2MHYh","coverImage":"article_layout__coverImage__2ycUW","row1":"article_layout__row1__2t8No"});}),6773:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"zIndex10":"sticky_actions__zIndex10__2amDE","socialIcon":"sticky_actions__socialIcon__UtIIh","stickyButton":"sticky_actions__stickyButton__2v2EQ","stickyFooter":"sticky_actions__stickyFooter__1yWLx","stickyFooterHidden":"sticky_actions__stickyFooterHidden__1s-Vy","stickyFooterWrapper":"sticky_actions__stickyFooterWrapper__1hlCd"});}),25002:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-med-large":"(max-width: 992px)","v-med":"(max-width: 768px)","v-small":"(max-width: 480px)","v-fog":"#F7F7F7","v-white":"#FFF","v-standardBorder":"1px solid #D8D8D8","aboveTheFoldWrapper":"news_home_page__aboveTheFoldWrapper__2_mJI","banner":"news_home_page__banner__t2IW-","container":"news_home_page__container__1ABR-","cta":"news_home_page__cta__3JNXU","ctaSection":"news_home_page__ctaSection__1aH4J","featuredSection":"news_home_page__featuredSection__-Hwah","mainContentWrapper":"news_home_page__mainContentWrapper__1oF4a","sponsoredSection":"news_home_page__sponsoredSection__353Kw","sponsoredList":"news_home_page__sponsoredList__geHn9","stackedContentAdsWrapper":"news_home_page__stackedContentAdsWrapper__3lAC2","trendingSection":"news_home_page__trendingSection__1aIXK","sponsoredCardContainer":"news_home_page__sponsoredCardContainer__26EPE"});}),67825:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-pebble":"#767676","container":"image_carousel__container__1sUib","resizeOverlay":"image_carousel__resizeOverlay__14QKE","viewerContainer":"image_carousel__viewerContainer__1DTdj image_carousel__container__1sUib","caption":"image_carousel__caption__3A6J-","hoverHighlight":"image_carousel__hoverHighlight__3EDmO","wrapper":"image_carousel__wrapper__J0lO0","scrollContainer":"image_carousel__scrollContainer__en5GW","scrollContainerPreImgLoad":"image_carousel__scrollContainerPreImgLoad__2eewH","noScrollContainer":"image_carousel__noScrollContainer__1NgIg image_carousel__scrollContainer__en5GW","navArea":"image_carousel__navArea__1ZvD-","hoverHighlightLeft":"image_carousel__hoverHighlightLeft__1RtW0 image_carousel__hoverHighlight__3EDmO","hoverHighlightRight":"image_carousel__hoverHighlightRight__12kvb image_carousel__hoverHighlight__3EDmO","navAreaLeft":"image_carousel__navAreaLeft__OLLFd image_carousel__navArea__1ZvD-","navAreaRight":"image_carousel__navAreaRight__3kw1e image_carousel__navArea__1ZvD-","disabled":"image_carousel__disabled__20KiY","imageContainer":"image_carousel__imageContainer__313O8","imageWrapper":"image_carousel__imageWrapper__v4Eou","image":"image_carousel__image__CMgMU","imageLoading":"image_carousel__imageLoading__2_uST","loader":"image_carousel__loader__1c7UB","viewerImage":"image_carousel__viewerImage__Rvo1L image_carousel__image__CMgMU","dialog":"image_carousel__dialog__uDfMM","overlay":"image_carousel__overlay__jpF3g","dialogWrapper":"image_carousel__dialogWrapper__1v70U","dialogBody":"image_carousel__dialogBody__3m87i","dismiss":"image_carousel__dismiss__1kvvm"});}),98689:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"root":"community_card__root__1Mnax"});}),61461:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-fog":"#F7F7F7","loader":"animation__loader__JPe9H","sweep":"animation__sweep__1INin","delayAppear":"animation__delayAppear__2xe7I"});}),1876:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-sky":"#E1F4FF","v-graphite":"#4A4A4A","link":"common-dropdown__link__9t-bx","list":"common-dropdown__list__3ZMv9","listItem":"common-dropdown__listItem__3jgnj"});}),68506:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"overlay":"common-overlay__overlay__1nBXx","parent":"common-overlay__parent__1pLTz"});}),40622:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({});}),61589:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-hackster":"#2E9FE6","ellipses":"ellipses__ellipses__29J8B","ellipses1":"ellipses__ellipses1__2UBbD","ellipses2":"ellipses__ellipses2__1E5mF","ellipses3":"ellipses__ellipses3__wtkyh"});}),26761:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-graphite":"#4A4A4A","v-fog":"#F7F7F7","v-asphalt":"#D8D8D8","v-hackster":"#2E9FE6","v-pebble":"#767676","v-charcoal":"#111","v-white":"#FFF","v-small":"(max-width: 480px)","v-med":"(max-width: 768px)","fullWidth":"navbar__fullWidth__2dAm0","themeDark":"navbar__themeDark__dOi6p","themeLight":"navbar__themeLight___wV2G","dropdown":"navbar__dropdown__3kra0","link":"navbar__link__3hZmp","linkFocused":"navbar__linkFocused__3fJVx navbar__link__3hZmp","linkWrapperFocused":"navbar__linkWrapperFocused__jTqUJ","list":"navbar__list__1v93Z","listItem":"navbar__listItem__3BOkq","linkWrapper":"navbar__linkWrapper__3e7fB","subLinkWrapper":"navbar__subLinkWrapper__ye3Tr","center":"navbar__center__2qGkb","borderBottom":"navbar__borderBottom__gOHeZ"});}),34172:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"enter":"slide_in_rtl__enter__1hePT","appear":"slide_in_rtl__appear__jwZX1","enterActive":"slide_in_rtl__enterActive__10LGs","appearActive":"slide_in_rtl__appearActive__3772F","exit":"slide_in_rtl__exit__2bzyK","exitActive":"slide_in_rtl__exitActive__d7tkA"});}),13394:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"ringSpinner":"hckui__animation__ringSpinner","rotate":"hckui__animation__rotate","dash":"hckui__animation__dash","color":"hckui__animation__color"});}),9010:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-asphaltDisabled":"#F3F3F3","v-asphaltHover":"#BABABA","v-charcoal":"#111","v-error":"#D0021B","v-errorHover":"#A60115","v-graphite":"#4A4A4A","v-hackster":"#2E9FE6","v-hacksterHover":"#1B7DBB","v-lake":"#075B8B","v-lakeDisabled":"#B5CEDC","v-ocean":"#16425B","v-pebble":"#767676","jumbo":"hckui__buttons__jumbo","lg":"hckui__buttons__lg","md":"hckui__buttons__md","sm":"hckui__buttons__sm","xs":"hckui__buttons__xs","disabled":"hckui__buttons__disabled","jumboInner":"hckui__buttons__jumboInner","jumboIcon":"hckui__buttons__jumboIcon","danger":"hckui__buttons__danger","secondary":"hckui__buttons__secondary","tertiary":"hckui__buttons__tertiary","outline":"hckui__buttons__outline","outlineBlack":"hckui__buttons__outlineBlack","outlineBlue":"hckui__buttons__outlineBlue","blank":"hckui__buttons__blank","cancel":"hckui__buttons__cancel","dropdown":"hckui__buttons__dropdown","flatLeft":"hckui__buttons__flatLeft","group":"hckui__buttons__group","icon":"hckui__buttons__icon","inputPairedRight":"hckui__buttons__inputPairedRight","pill":"hckui__buttons__pill"});}),5941:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-hackster":"#2E9FE6","v-hacksterHover":"#1B7DBB","v-hacksterDisabled":"#C0E2F7","v-lake":"#075B8B","v-lakeDisabled":"#B5CEDC","v-ocean":"#16425B","v-sky":"#E1F4FF","v-asphalt":"#D8D8D8","v-asphaltDisabled":"#F3F3F3","v-asphaltHover":"#BABABA","v-charcoal":"#111","v-fog":"#F7F7F7","v-graphite":"#4A4A4A","v-pebble":"#767676","v-white":"#FFF","v-error":"#D0021B","v-errorBG":"#FFF3F2","v-errorHover":"#A60115","v-warning":"#EA8B05","v-success":"#0E8F42","v-coral":"#E6735C","v-hacksterLight4":"#F1FAFF","v-gold":"#E0B969","v-seafoam":"#7BC7A1","v-arduino":"#00979d","v-arduinoHover":"#008085","v-facebook":"#3B5998","v-facebookHover":"#294172","v-github":"#24292E","v-githubHover":"#000","v-google":"#4285F4","v-googleHover":"#336FD3","v-easy":"#007A33","v-intermediate":"#F6A623","v-advanced":"#DE1900","v-hardcore":"#C51C1F"});}),98672:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-med":"(max-width: 768px)","v-small":"(max-width: 480px)","v-fog":"#F7F7F7","v-white":"#FFF","v-standardBorder":"1px solid #D8D8D8","v-largeBorderRadius":"8px","container":"hckui__forms__container","container675":"hckui__forms__container675","nestedFogContainer":"hckui__forms__nestedFogContainer","panel":"hckui__forms__panel","panelHeader":"hckui__forms__panelHeader","panelInner":"hckui__forms__panelInner"});}),56211:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-small":"(max-width: 480px)","v-small-min":"(min-width: 481px)","v-med-min":"(min-width: 769px)","v-med-large-min":"(min-width: 993px)","grid":"hckui__grid__grid","cell":"hckui__grid__cell","guttersH10":"hckui__grid__guttersH10","guttersV10":"hckui__grid__guttersV10","guttersH15":"hckui__grid__guttersH15","guttersV15":"hckui__grid__guttersV15","guttersH30":"hckui__grid__guttersH30","guttersV30":"hckui__grid__guttersV30","guttersH60":"hckui__grid__guttersH60","guttersV60":"hckui__grid__guttersV60","cell_1_4":"hckui__grid__cell_1_4","cell_1_3":"hckui__grid__cell_1_3","cell_1_2":"hckui__grid__cell_1_2","cell_1":"hckui__grid__cell_1","cell_1_4_sm":"hckui__grid__cell_1_4_sm","cell_1_3_sm":"hckui__grid__cell_1_3_sm","cell_1_2_sm":"hckui__grid__cell_1_2_sm","cell_1_sm":"hckui__grid__cell_1_sm","guttersH30_sm":"hckui__grid__guttersH30_sm","guttersV30_sm":"hckui__grid__guttersV30_sm","guttersH60_sm":"hckui__grid__guttersH60_sm","guttersV60_sm":"hckui__grid__guttersV60_sm","cell_1_4_md":"hckui__grid__cell_1_4_md","cell_1_3_md":"hckui__grid__cell_1_3_md","cell_1_2_md":"hckui__grid__cell_1_2_md","cell_1_md":"hckui__grid__cell_1_md","cell_1_4_ml":"hckui__grid__cell_1_4_ml","cell_1_3_ml":"hckui__grid__cell_1_3_ml","cell_1_2_ml":"hckui__grid__cell_1_2_ml","cell_1_ml":"hckui__grid__cell_1_ml","hScrollSm":"hckui__grid__hScrollSm"});}),26241:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-charcoal":"#111","v-error":"#D0021B","v-errorBG":"#FFF3F2","v-fog":"#F7F7F7","v-graphite":"#4A4A4A","v-hackster":"#2E9FE6","v-pebble":"#767676","v-warning":"#EA8B05","v-white":"#FFF","formGroup":"hckui__inputs__formGroup","inputWrapper":"hckui__inputs__inputWrapper","label":"hckui__inputs__label","labelDisabled":"hckui__inputs__labelDisabled","msgWrapper":"hckui__inputs__msgWrapper","charCount":"hckui__inputs__charCount","error":"hckui__inputs__error","help":"hckui__inputs__help","warning":"hckui__inputs__warning","formError":"hckui__inputs__formError","input":"hckui__inputs__input","number":"hckui__inputs__number","textarea":"hckui__inputs__textarea","sm":"hckui__inputs__sm","inputError":"hckui__inputs__inputError","inputFocus":"hckui__inputs__inputFocus","halfWidth":"hckui__inputs__halfWidth","openRight":"hckui__inputs__openRight","hiddenInput":"hckui__inputs__hiddenInput","radioButton":"hckui__inputs__radioButton","radioGroup":"hckui__inputs__radioGroup","radioButtonContainer":"hckui__inputs__radioButtonContainer","radioButtonError":"hckui__inputs__radioButtonError","radioGroupWrapper":"hckui__inputs__radioGroupWrapper","textareaAutosize":"hckui__inputs__textareaAutosize","textareaPreview":"hckui__inputs__textareaPreview"});}),42721:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-small":"(max-width: 480px)","v-med":"(max-width: 768px)","v-med-large":"(max-width: 992px)","v-large":"(max-width: 1200px)","v-small-min":"(min-width: 481px)","v-med-min":"(min-width: 769px)","v-med-large-min":"(min-width: 993px)","v-large-min":"(min-width: 1201px)","container":"hckui__layout__container","dashboardPanel960":"hckui__layout__dashboardPanel960","wrapper960":"hckui__layout__wrapper960","wrapper1170":"hckui__layout__wrapper1170","block":"hckui__layout__block","borderNone":"hckui__layout__borderNone","alignSelfCenter":"hckui__layout__alignSelfCenter","alignSelfStart":"hckui__layout__alignSelfStart","flex":"hckui__layout__flex","flexAlignSelfEnd":"hckui__layout__flexAlignSelfEnd","flexStartItems":"hckui__layout__flexStartItems","flexCenterItems":"hckui__layout__flexCenterItems","flexColumn":"hckui__layout__flexColumn","flex1":"hckui__layout__flex1","flex00Auto":"hckui__layout__flex00Auto","flex10Auto":"hckui__layout__flex10Auto","flexJustifyCenter":"hckui__layout__flexJustifyCenter","flexJustifyStart":"hckui__layout__flexJustifyStart","flexJustifySpaceAround":"hckui__layout__flexJustifySpaceAround","flexJustifySpaceBetween":"hckui__layout__flexJustifySpaceBetween","flexJustifyEnd":"hckui__layout__flexJustifyEnd","flexRow":"hckui__layout__flexRow","flexRowWrap":"hckui__layout__flexRowWrap","flexRowReverse":"hckui__layout__flexRowReverse","flexColumnWrap":"hckui__layout__flexColumnWrap","fullScreenHeight":"hckui__layout__fullScreenHeight","fullWidth":"hckui__layout__fullWidth","inlineFlex":"hckui__layout__inlineFlex","margin0":"hckui__layout__margin0","margin10":"hckui__layout__margin10","marginBottom0":"hckui__layout__marginBottom0","marginBottom5":"hckui__layout__marginBottom5","marginBottom10":"hckui__layout__marginBottom10","marginBottom15":"hckui__layout__marginBottom15","marginBottom22":"hckui__layout__marginBottom22","marginBottom30":"hckui__layout__marginBottom30","marginBottom45":"hckui__layout__marginBottom45","marginBottom60":"hckui__layout__marginBottom60","marginLeft0":"hckui__layout__marginLeft0","marginLeft5":"hckui__layout__marginLeft5","marginLeft10":"hckui__layout__marginLeft10","marginLeft15":"hckui__layout__marginLeft15","marginLeft30":"hckui__layout__marginLeft30","marginLeft45":"hckui__layout__marginLeft45","marginLeft60":"hckui__layout__marginLeft60","marginRight0":"hckui__layout__marginRight0","marginRight5":"hckui__layout__marginRight5","marginRight10":"hckui__layout__marginRight10","marginRight15":"hckui__layout__marginRight15","marginRight30":"hckui__layout__marginRight30","marginRight45":"hckui__layout__marginRight45","marginRight60":"hckui__layout__marginRight60","marginTop0":"hckui__layout__marginTop0","marginTop5":"hckui__layout__marginTop5","marginTop10":"hckui__layout__marginTop10","marginTop15":"hckui__layout__marginTop15","marginTop22":"hckui__layout__marginTop22","marginTop30":"hckui__layout__marginTop30","marginTop45":"hckui__layout__marginTop45","marginTop60":"hckui__layout__marginTop60","maxWidth100P":"hckui__layout__maxWidth100P","maxWidth575":"hckui__layout__maxWidth575","noScrollBar":"hckui__layout__noScrollBar","padding0":"hckui__layout__padding0","padding5":"hckui__layout__padding5","padding10":"hckui__layout__padding10","padding15":"hckui__layout__padding15","padding30":"hckui__layout__padding30","padding60":"hckui__layout__padding60","padding015":"hckui__layout__padding015","padding1015":"hckui__layout__padding1015","padding3015":"hckui__layout__padding3015","padding3020":"hckui__layout__padding3020","padding4560":"hckui__layout__padding4560","paddingBottom0":"hckui__layout__paddingBottom0","paddingBottom5":"hckui__layout__paddingBottom5","paddingBottom10":"hckui__layout__paddingBottom10","paddingBottom15":"hckui__layout__paddingBottom15","paddingBottom22":"hckui__layout__paddingBottom22","paddingBottom30":"hckui__layout__paddingBottom30","paddingBottom45":"hckui__layout__paddingBottom45","paddingBottom60":"hckui__layout__paddingBottom60","paddingLeft5":"hckui__layout__paddingLeft5","paddingLeft10":"hckui__layout__paddingLeft10","paddingLeft15":"hckui__layout__paddingLeft15","paddingLeft30":"hckui__layout__paddingLeft30","paddingRight0":"hckui__layout__paddingRight0","paddingRight10":"hckui__layout__paddingRight10","paddingRight15":"hckui__layout__paddingRight15","paddingRight45":"hckui__layout__paddingRight45","paddingTop0":"hckui__layout__paddingTop0","paddingTop10":"hckui__layout__paddingTop10","paddingTop15":"hckui__layout__paddingTop15","paddingTop30":"hckui__layout__paddingTop30","paddingTop45":"hckui__layout__paddingTop45","paddingTop60":"hckui__layout__paddingTop60","hiddenSmallDown":"hckui__layout__hiddenSmallDown","hiddenSmallUp":"hckui__layout__hiddenSmallUp","hiddenMedDown":"hckui__layout__hiddenMedDown","hiddenMedUp":"hckui__layout__hiddenMedUp","hiddenMedLargeDown":"hckui__layout__hiddenMedLargeDown","hiddenMedLargeUp":"hckui__layout__hiddenMedLargeUp","hiddenLargeDown":"hckui__layout__hiddenLargeDown","hiddenLargeUp":"hckui__layout__hiddenLargeUp"});}),90661:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-hackster":"#2E9FE6","container":"hckui__nav-tabbed__container","tab":"hckui__nav-tabbed__tab","active":"hckui__nav-tabbed__active"});}),87509:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-charcoal":"#111","v-error":"#D0021B","v-fog":"#F7F7F7","v-graphite":"#4A4A4A","v-hackster":"#2E9FE6","v-pebble":"#767676","body":"hckui__table__body","cell":"hckui__table__cell","disabled":"hckui__table__disabled","loadingOverlay":"hckui__table__loadingOverlay","noContent":"hckui__table__noContent","row":"hckui__table__row","table":"hckui__table__table","tableControlsWrapper":"hckui__table__tableControlsWrapper","deleteBtn":"hckui__table__deleteBtn","editBtn":"hckui__table__editBtn","configMenu":"hckui__table__configMenu","configMenuCog":"hckui__table__configMenuCog","configMenuDropdown":"hckui__table__configMenuDropdown","configMenuTriangle":"hckui__table__configMenuTriangle","selectableCell":"hckui__table__selectableCell","selectableCellBody":"hckui__table__selectableCellBody","selectableCellHighlight":"hckui__table__selectableCellHighlight","selectableCellInner":"hckui__table__selectableCellInner","selectableCellPlaceholder":"hckui__table__selectableCellPlaceholder","thActive":"hckui__table__thActive","title":"hckui__table__title","triangleWrapper":"hckui__table__triangleWrapper","triangle":"hckui__table__triangle","thCell":"hckui__table__thCell","thSelectableCell":"hckui__table__thSelectableCell","thInteractive":"hckui__table__thInteractive","thTitle":"hckui__table__thTitle","thTitleWrapper":"hckui__table__thTitleWrapper","triangleActive":"hckui__table__triangleActive"});}),68163:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-charcoal":"#111","v-error":"#D0021B","v-fog":"#F7F7F7","v-graphite":"#4A4A4A","v-hackster":"#2E9FE6","v-pebble":"#767676","v-success":"#0E8F42","v-small":"(max-width: 480px)","v-small-min":"(min-width: 481px)","h1":"hckui__typography__h1","h1Responsive":"hckui__typography__h1Responsive","h2":"hckui__typography__h2","h2Responsive":"hckui__typography__h2Responsive","h3":"hckui__typography__h3","h4":"hckui__typography__h4","h5":"hckui__typography__h5","h3Responsive":"hckui__typography__h3Responsive","bodyL":"hckui__typography__bodyL","bodyM":"hckui__typography__bodyM","bodyS":"hckui__typography__bodyS","bodyXS":"hckui__typography__bodyXS","icon":"hckui__typography__icon","iconFontSize":"hckui__typography__iconFontSize","iconClickable":"hckui__typography__iconClickable","iconClickableBlue":"hckui__typography__iconClickableBlue","iconClickableGreen":"hckui__typography__iconClickableGreen","iconClickableRed":"hckui__typography__iconClickableRed","iconDisabled":"hckui__typography__iconDisabled","icon12":"hckui__typography__icon12","icon16":"hckui__typography__icon16","icon18":"hckui__typography__icon18","icon20":"hckui__typography__icon20","iconfill":"hckui__typography__iconfill","iconBaselineFix":"hckui__typography__iconBaselineFix","link":"hckui__typography__link","linkBlue":"hckui__typography__linkBlue","linkCharcoal":"hckui__typography__linkCharcoal","linkGraphite":"hckui__typography__linkGraphite","linkPebble":"hckui__typography__linkPebble","linkWhite":"hckui__typography__linkWhite","linkDisabled":"hckui__typography__linkDisabled","ol":"hckui__typography__ol","anchorNoUnderlineOnFocus":"hckui__typography__anchorNoUnderlineOnFocus","anchorNoUnderlineOnHover":"hckui__typography__anchorNoUnderlineOnHover","bold":"hckui__typography__bold","breakWord":"hckui__typography__breakWord","fontWeightNormal":"hckui__typography__fontWeightNormal","hoverUnderline":"hckui__typography__hoverUnderline","lineHeight0":"hckui__typography__lineHeight0","lineHeight1":"hckui__typography__lineHeight1","overflowBreakWord":"hckui__typography__overflowBreakWord","textCenter":"hckui__typography__textCenter","textLeft":"hckui__typography__textLeft","textRight":"hckui__typography__textRight","textWithIcon":"hckui__typography__textWithIcon","iconWrapper":"hckui__typography__iconWrapper","uppercase":"hckui__typography__uppercase","whitespaceNowrap":"hckui__typography__whitespaceNowrap","whitespacePre":"hckui__typography__whitespacePre","asphalt":"hckui__typography__asphalt","charcoal":"hckui__typography__charcoal","error":"hckui__typography__error","graphite":"hckui__typography__graphite","hackster":"hckui__typography__hackster","pebble":"hckui__typography__pebble","success":"hckui__typography__success","white":"hckui__typography__white","dummy":"hckui__typography__dummy","dummyS":"hckui__typography__dummyS","dummyM":"hckui__typography__dummyM","dummyL":"hckui__typography__dummyL","bodyL_sm":"hckui__typography__bodyL_sm"});}),48161:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>(__WEBPACK_DEFAULT_EXPORT__)});const __WEBPACK_DEFAULT_EXPORT__=({"v-asphalt":"#D8D8D8","v-error":"#D0021B","v-fog":"#F7F7F7","v-hackster":"#2E9FE6","v-hacksterLight4":"#F1FAFF","v-lake":"#075B8B","v-seafoam":"#7BC7A1","v-success":"#0E8F42","v-coral":"#E6735C","v-gold":"#E0B969","v-standardBorder":"1px solid #D8D8D8","v-smallBorderRadius":"2px","v-standardBorderRadius":"4px","v-largeBorderRadius":"8px","v-standardBoxShadow":"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)","v-secondaryBoxShadow":"0 2px 10px 0 rgba(0,0,0,0.15)","v-tertiaryBoxyShadow":"rgb(100 100 111 / 20%) 0px 7px 29px 0px","absolutePlaceholderParent":"hckui__util__absolutePlaceholderParent","absolutePlaceholderChild":"hckui__util__absolutePlaceholderChild","aspectRatioPadding3_2":"hckui__util__aspectRatioPadding3_2","aspectRatioPadding4_3":"hckui__util__aspectRatioPadding4_3","aspectRatioPadding16_9":"hckui__util__aspectRatioPadding16_9","bgAsphalt":"hckui__util__bgAsphalt","bgFog":"hckui__util__bgFog","bgHackster":"hckui__util__bgHackster","bgHacksterLight4":"hckui__util__bgHacksterLight4","bgTransparent":"hckui__util__bgTransparent","bgWhite":"hckui__util__bgWhite","border":"hckui__util__border","borderBottom":"hckui__util__borderBottom","borderLeft":"hckui__util__borderLeft","borderRadius":"hckui__util__borderRadius","borderRadiusLarge":"hckui__util__borderRadiusLarge","borderRadiusSmall":"hckui__util__borderRadiusSmall","borderRadiusTopLeftTopRight":"hckui__util__borderRadiusTopLeftTopRight","borderTop":"hckui__util__borderTop","boxShadow":"hckui__util__boxShadow","boxShadow2":"hckui__util__boxShadow2","boxShadow3":"hckui__util__boxShadow3","categoryBadge":"hckui__util__categoryBadge","categoryBadgeRectSmall":"hckui__util__categoryBadgeRectSmall","categoryBlueBG":"hckui__util__categoryBlueBG","categoryGrayBG":"hckui__util__categoryGrayBG","categoryGreenBG":"hckui__util__categoryGreenBG","categoryOrangeBG":"hckui__util__categoryOrangeBG","categoryYellowBG":"hckui__util__categoryYellowBG","circle":"hckui__util__circle","displayNone":"hckui__util__displayNone","height100P":"hckui__util__height100P","hidden":"hckui__util__hidden","hr":"hckui__util__hr","cursorPointer":"hckui__util__cursorPointer","disabled":"hckui__util__disabled","overflowFlexHack":"hckui__util__overflowFlexHack","overflowHidden":"hckui__util__overflowHidden","posAbsolute":"hckui__util__posAbsolute","posRelative":"hckui__util__posRelative","statusCircleGreen":"hckui__util__statusCircleGreen","statusCircleGold":"hckui__util__statusCircleGold","statusCircleRed":"hckui__util__statusCircleRed","ulReset":"hckui__util__ulReset"});}),46700:((module,__unused_webpack_exports,__webpack_require__)=>{var map={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-SG":85383,"./en-SG.js":85383,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-nz":76319,"./en-nz.js":76319,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-tw":74152,"./zh-tw.js":74152};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id);}
function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");e.code='MODULE_NOT_FOUND';throw e;}
return map[req];}
webpackContext.keys=function webpackContextKeys(){return Object.keys(map);};webpackContext.resolve=webpackContextResolve;module.exports=webpackContext;webpackContext.id=46700;}),69862:(()=>{}),40964:(()=>{})}]);