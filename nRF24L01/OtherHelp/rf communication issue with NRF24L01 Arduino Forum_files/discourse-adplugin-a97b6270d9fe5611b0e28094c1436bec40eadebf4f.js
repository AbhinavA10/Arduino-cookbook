define("discourse/plugins/discourse-adplugin/discourse/adplugin-route-map",["exports"],(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={resource:"admin.adminPlugins",path:"/plugins",map:function(){this.route("houseAds",{path:"/pluginad/house_creatives"},(function(){this.route("index",{path:"/"}),this.route("show",{path:"/:ad_id"})}))}}})),define("discourse/plugins/discourse-adplugin/discourse/components/ad-component",["exports","discourse-common/utils/decorators"],(function(e,t){"use strict";var s,i,o,a,n;function r(e,t,s,i,o){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=Ember.Component.extend((s=(0,t.default)("router.currentRoute.attributes.__type","router.currentRoute.attributes.id"),i=(0,t.default)("router.currentRoute.parent.attributes.archetype"),o=(0,t.default)("currentUser.groups"),a=(0,t.default)("currentCategoryId","topicTagsDisableAds","topicListTag","isPersonalMessage","isRestrictedCategory"),r(n={router:Ember.inject.service(),currentCategoryId:Ember.computed.or("router.currentRoute.attributes.category.id","router.currentRoute.parent.attributes.category_id"),currentCategorySlug:Ember.computed.or("router.currentRoute.attributes.category.slug","router.currentRoute.parent.attributes.category.slug"),topicTagsDisableAds:Ember.computed.alias("router.currentRoute.parent.attributes.tags_disable_ads"),isRestrictedCategory:Ember.computed.or("router.currentRoute.attributes.category.read_restricted","router.currentRoute.parent.attributes.category.read_restricted"),topicListTag:function(e,t){if("tag"===e&&t)return t},isPersonalMessage:function(e){return"private_message"===e},showToGroups:function(e){if(!this.currentUser||!e||!this.siteSettings.no_ads_for_groups||0===this.siteSettings.no_ads_for_groups.length)return!0;var t=this.siteSettings.no_ads_for_groups.split("|").filter(Boolean);return!e.map((function(e){return e.id.toString()})).any((function(e){return t.includes(e)}))},showOnCurrentPage:function(e,t,s,i,o){return!(t||e&&this.siteSettings.no_ads_for_categories&&this.siteSettings.no_ads_for_categories.split("|").includes(e.toString())||s&&this.siteSettings.no_ads_for_tags&&this.siteSettings.no_ads_for_tags.split("|").includes(s)||i&&this.siteSettings.no_ads_for_personal_messages||o&&this.siteSettings.no_ads_for_restricted_categories)},isNthPost:function(e){return!!(e&&e>0)&&this.get("postNumber")%e==0}},"topicListTag",[s],Object.getOwnPropertyDescriptor(n,"topicListTag"),n),r(n,"isPersonalMessage",[i],Object.getOwnPropertyDescriptor(n,"isPersonalMessage"),n),r(n,"showToGroups",[o],Object.getOwnPropertyDescriptor(n,"showToGroups"),n),r(n,"showOnCurrentPage",[a],Object.getOwnPropertyDescriptor(n,"showOnCurrentPage"),n),n));e.default=l})),define("discourse/plugins/discourse-adplugin/discourse/components/ad-slot",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators"],(function(e,t,s){"use strict";var i,o,a,n;function r(e,t,s,i,o){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=Ember.Object.create({"google-adsense":{settingPrefix:"adsense",enabledSetting:"adsense_publisher_code",nthPost:"adsense_nth_post_code"},"google-dfp-ad":{settingPrefix:"dfp",enabledSetting:"dfp_publisher_id",nthPost:"dfp_nth_post_code"},"amazon-product-links":{settingPrefix:"amazon",enabledSetting:!1,nthPost:"amazon_nth_post_code",desktop:{"topic-list-top":"amazon_topic_list_top_src_code","post-bottom":"amazon_post_bottom_src_code","topic-above-post-stream":"amazon_topic_above_post_stream_src_code","topic-above-suggested":"amazon_topic_above_suggested_src_code"},mobile:{"topic-list-top":"amazon_mobile_topic_list_top_src_code","post-bottom":"amazon_mobile_post_bottom_src_code","topic-above-post-stream":"amazon_mobile_topic_above_post_stream_src_code","topic-above-suggested":"amazon_mobile_topic_above_suggested_src_code"}},"carbonads-ad":{settingPrefix:"carbonads",enabledSetting:"carbonads_serve_id",desktop:{"topic-list-top":"carbonads_topic_list_top_enabled","post-bottom":!1,"topic-above-post-stream":"carbonads_above_post_stream_enabled","topic-above-suggested":!1}},"adbutler-ad":{settingPrefix:"adbutler",enabledSetting:"adbutler_publisher_id",desktop:{"topic-list-top":"adbutler_topic_list_top_zone_id","post-bottom":"adbutler_post_bottom_zone_id","topic-above-post-stream":"adbutler_topic_above_post_stream_zone_id","topic-above-suggested":"adbutler_topic_above_suggested_zone_id"},mobile:{"topic-list-top":"adbutler_mobile_topic_list_top_zone_id","post-bottom":"adbutler_mobile_post_bottom_zone_id","topic-above-post-stream":"adbutler_mobile_topic_above_post_stream_zone_id","topic-above-suggested":"adbutler_mobile_topic_above_suggested_zone_id"}}}),d={houseAds:0,allAds:0},u=t.default.extend((i=(0,s.default)("placement","postNumber"),o=(0,s.observes)("refreshOnChange"),a=(0,s.default)("placement","availableAdTypes","needsUpdate"),r(n={needsUpdate:!1,availableAdTypes:function(e,t){var s=this,i=[],o=this.site.get("house_creatives"),a=e.replace(/-/g,"_");if(o&&o.settings){var n=o.settings[a];Object.keys(o.creatives).length>0&&!Ember.isBlank(n)&&(!t||this.isNthPost(parseInt(o.settings.after_nth_post,10)))&&i.push("house-ad")}return Object.keys(l).forEach((function(o){var n,r=l[o],d=null;(!r.enabledSetting||Ember.isBlank(s.siteSettings[r.enabledSetting]))&&!1!==r.enabledSetting||t&&r.nthPost&&!s.isNthPost(parseInt(s.siteSettings[r.nthPost],10))||((d=s.site.mobileView&&r.mobile||r.desktop)&&(n=d[e]),void 0===n&&(n="".concat(r.settingPrefix,"_").concat(s.site.mobileView?"mobile_":"").concat(a,"_code")),!1===n||!1===s.siteSettings[n]||Ember.isBlank(s.siteSettings[n])||i.push(o))})),i},changed:function(){this.get("listLoading")||this.notifyPropertyChange("needsUpdate")},adComponents:function(e,t){if(!t.includes("house-ad")||1===t.length)return t;var s=this.site.get("house_creatives"),i=!1;if(100===s.settings.house_ads_frequency)return["house-ad"];if(s.settings.house_ads_frequency>0){if(0===d.allAds||100*d.houseAds/d.allAds<s.settings.house_ads_frequency)return d.houseAds+=1,d.allAds+=1,["house-ad"];i=!0}var o=t.filter((function(e){return"house-ad"!==e}));return i&&(d.allAds+=o.length),o}},"availableAdTypes",[i],Object.getOwnPropertyDescriptor(n,"availableAdTypes"),n),r(n,"changed",[o],Object.getOwnPropertyDescriptor(n,"changed"),n),r(n,"adComponents",[a],Object.getOwnPropertyDescriptor(n,"adComponents"),n),n));e.default=u})),define("discourse/plugins/discourse-adplugin/discourse/components/adbutler-ad",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators","discourse/lib/load-script"],(function(e,t,s,i){"use strict";var o,a,n,r,l;function d(e,t,s,i,o){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=!1,c=null,p=0;var _=t.default.extend((o=(0,s.observes)("listLoading"),a=(0,s.default)("currentUser.trust_level"),n=(0,s.default)("publisherId","showToTrustLevel","showToGroups","showAfterPost","showOnCurrentPage"),r=(0,s.default)("postNumber"),d(l={divs:null,publisherId:null,init:function(){var e=[728,90],t="adbutler_",s="adbutler-",i="adbutler-ad";this.set("divs",[]),this.site.mobileView&&(e=[320,50],t+="mobile_",s+="mobile-",i="adbutler-mobile-ad"),t+=this.get("placement").replace(/-/g,"_")+"_zone_id",this.set("configKey",t),s+=this.get("placement"),this.set("className",s+" "+i);var o=this.siteSettings[t];this.set("zoneId",o);var a="placement-"+o+"-"+p;this.set("divId",a);var n=this.siteSettings.adbutler_publisher_id;this.set("publisherId",n),p++,this.divs.push({divId:a,publisherId:n,zoneId:o,dimensions:e}),this._super()},_triggerAds:function(){if(!Ember.testing){var e=this.siteSettings.adbutler_adserver_hostname;(function(e){return u?Ember.RSVP.resolve():c||(c=(0,i.default)("https://"+e+"/app.js",{scriptTag:!0}).then((function(){u=!0})))})(e).then(function(){if(this.divs.length>0){var t=window.abkw||"";window.AdButler.ads.push({handler:function(e){window.AdButler.register(e.place.publisherId,e.place.zoneId,e.place.dimensions,e.place.divId,e)},opt:{place:this.divs.pop(),keywords:t,domain:e,click:"CLICK_MACRO_PLACEHOLDER"}})}}.bind(this))}},didInsertElement:function(){this._super(),Ember.run.scheduleOnce("afterRender",this,this._triggerAds)},waitForLoad:function(){this.get("adRequested")||this.get("listLoading")||Ember.run.scheduleOnce("afterRender",this,this._triggerAds)},showToTrustLevel:function(e){return!(e&&e>this.siteSettings.adbutler_through_trust_level)},showAd:function(e,t,s,i,o){return e&&t&&s&&i&&o},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.siteSettings.adbutler_nth_post,10))}},"waitForLoad",[o],Object.getOwnPropertyDescriptor(l,"waitForLoad"),l),d(l,"showToTrustLevel",[a],Object.getOwnPropertyDescriptor(l,"showToTrustLevel"),l),d(l,"showAd",[n],Object.getOwnPropertyDescriptor(l,"showAd"),l),d(l,"showAfterPost",[r],Object.getOwnPropertyDescriptor(l,"showAfterPost"),l),l));e.default=_})),define("discourse/plugins/discourse-adplugin/discourse/components/amazon-product-links",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators"],(function(e,t,s){"use strict";var i,o,a,n,r,l,d,u;function c(e,t,s,i,o){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=t.default.extend((i=(0,s.default)("amazon_width","amazon_height"),o=(0,s.default)("mobile_amazon_width","mobile_amazon_height"),a=(0,s.default)("mobile_amazon_width"),n=(0,s.default)("user_input"),r=(0,s.default)("user_input_mobile"),l=(0,s.default)("currentUser.trust_level"),d=(0,s.default)("postNumber"),c(u={classNames:["amazon-product-links"],showAd:Ember.computed.and("showToTrustLevel","showToGroups","showAfterPost","showOnCurrentPage"),init:function(){var e={"topic-list-top":{},"topic-above-post-stream":{},"topic-above-suggested":{},"post-bottom":{}},t=this.site.get("mobileView"),s=this.get("placement");!t&&this.siteSettings.amazon_topic_list_top_src_code&&(e["topic-list-top"].user_input=this.siteSettings.amazon_topic_list_top_src_code,e["topic-list-top"].amazon_width=parseInt(this.siteSettings.amazon_topic_list_top_ad_width_code,10),e["topic-list-top"].amazon_height=parseInt(this.siteSettings.amazon_topic_list_top_ad_height_code,10)),t&&this.siteSettings.amazon_mobile_topic_list_top_src_code&&(e["topic-list-top"].user_input_mobile=this.siteSettings.amazon_mobile_topic_list_top_src_code,e["topic-list-top"].mobile_amazon_width=parseInt(this.siteSettings.amazon_mobile_topic_list_top_ad_width_code,10),e["topic-list-top"].mobile_amazon_height=parseInt(this.siteSettings.amazon_mobile_topic_list_top_ad_height_code,10)),!t&&this.siteSettings.amazon_topic_above_post_stream_src_code&&(e["topic-above-post-stream"].user_input=this.siteSettings.amazon_topic_above_post_stream_src_code,e["topic-above-post-stream"].amazon_width=parseInt(this.siteSettings.amazon_topic_above_post_stream_ad_width_code,10),e["topic-above-post-stream"].amazon_height=parseInt(this.siteSettings.amazon_topic_above_post_stream_ad_height_code,10)),t&&this.siteSettings.amazon_mobile_topic_above_post_stream_src_code&&(e["topic-above-post-stream"].user_input_mobile=this.siteSettings.amazon_mobile_topic_above_post_stream_src_code,e["topic-above-post-stream"].mobile_amazon_width=parseInt(this.siteSettings.amazon_mobile_topic_above_post_stream_ad_width_code,10),e["topic-above-post-stream"].mobile_amazon_height=parseInt(this.siteSettings.amazon_mobile_topic_above_post_stream_ad_height_code,10)),!t&&this.siteSettings.amazon_topic_above_suggested_src_code&&(e["topic-above-suggested"].user_input=this.siteSettings.amazon_topic_above_suggested_src_code,e["topic-above-suggested"].amazon_width=parseInt(this.siteSettings.amazon_topic_above_suggested_ad_width_code,10),e["topic-above-suggested"].amazon_height=parseInt(this.siteSettings.amazon_topic_above_suggested_ad_height_code,10)),t&&this.siteSettings.amazon_mobile_topic_above_suggested_src_code&&(e["topic-above-suggested"].user_input_mobile=this.siteSettings.amazon_mobile_topic_above_suggested_src_code,e["topic-above-suggested"].mobile_amazon_width=parseInt(this.siteSettings.amazon_mobile_topic_above_suggested_ad_width_code,10),e["topic-above-suggested"].mobile_amazon_height=parseInt(this.siteSettings.amazon_mobile_topic_above_suggested_ad_height_code,10)),!t&&this.siteSettings.amazon_post_bottom_src_code&&(e["post-bottom"].user_input=this.siteSettings.amazon_post_bottom_src_code,e["post-bottom"].amazon_width=parseInt(this.siteSettings.amazon_post_bottom_ad_width_code,10),e["post-bottom"].amazon_height=parseInt(this.siteSettings.amazon_post_bottom_ad_height_code,10)),t&&this.siteSettings.amazon_mobile_post_bottom_src_code&&(e["post-bottom"].user_input_mobile=this.siteSettings.amazon_mobile_post_bottom_src_code,e["post-bottom"].mobile_amazon_width=parseInt(this.siteSettings.amazon_mobile_post_bottom_ad_width_code,10),e["post-bottom"].mobile_amazon_height=parseInt(this.siteSettings.amazon_mobile_post_bottom_ad_height_code,10)),this.set("user_input",e[s].user_input),this.set("amazon_width",e[s].amazon_width),this.set("amazon_height",e[s].amazon_height),this.set("user_input_mobile",e[s].user_input_mobile),this.set("mobile_amazon_height",e[s].mobile_amazon_height),this.set("mobile_amazon_width",e[s].mobile_amazon_width),this._super()},adWrapperStyle:function(e,t){return"width: ".concat(e,"px; height: ").concat(t,"px;").htmlSafe()},adWrapperStyleMobile:function(e,t){return"width: ".concat(e,"px; height: ").concat(t,"px;").htmlSafe()},adTitleStyleMobile:function(e){return"width: ".concat(e,"px;").htmlSafe()},userInput:function(e){return"".concat(e).htmlSafe()},userInputMobile:function(e){return"".concat(e).htmlSafe()},showToTrustLevel:function(e){return!(e&&e>this.siteSettings.amazon_through_trust_level)},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.siteSettings.amazon_nth_post_code,10))}},"adWrapperStyle",[i],Object.getOwnPropertyDescriptor(u,"adWrapperStyle"),u),c(u,"adWrapperStyleMobile",[o],Object.getOwnPropertyDescriptor(u,"adWrapperStyleMobile"),u),c(u,"adTitleStyleMobile",[a],Object.getOwnPropertyDescriptor(u,"adTitleStyleMobile"),u),c(u,"userInput",[n],Object.getOwnPropertyDescriptor(u,"userInput"),u),c(u,"userInputMobile",[r],Object.getOwnPropertyDescriptor(u,"userInputMobile"),u),c(u,"showToTrustLevel",[l],Object.getOwnPropertyDescriptor(u,"showToTrustLevel"),u),c(u,"showAfterPost",[d],Object.getOwnPropertyDescriptor(u,"showAfterPost"),u),u));e.default=p})),define("discourse/plugins/discourse-adplugin/discourse/components/carbonads-ad",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators"],(function(e,t,s){"use strict";var i,o,a,n;function r(e,t,s,i,o){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t.default.extend((i=(0,s.default)("serve_id","placement"),o=(0,s.default)("currentUser.trust_level"),a=(0,s.default)("placement","serve_id","showToTrustLevel","showToGroups","showOnCurrentPage"),r(n={serve_id:null,placement:null,init:function(){this.set("serve_id",this.siteSettings.carbonads_serve_id),this.set("placement",this.siteSettings.carbonads_placement),this._super()},url:function(e,t){return"//cdn.carbonads.com/carbon.js?serve=".concat(e,"&placement=").concat(t).htmlSafe()},showToTrustLevel:function(e){return!(e&&e>this.siteSettings.carbonads_through_trust_level)},showAd:function(e,t,s,i,o){return e&&t&&s&&i&&o}},"url",[i],Object.getOwnPropertyDescriptor(n,"url"),n),r(n,"showToTrustLevel",[o],Object.getOwnPropertyDescriptor(n,"showToTrustLevel"),n),r(n,"showAd",[a],Object.getOwnPropertyDescriptor(n,"showAd"),n),n));e.default=l})),define("discourse/plugins/discourse-adplugin/discourse/components/google-adsense",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators","discourse/lib/load-script"],(function(e,t,s,i){"use strict";var o,a,n,r,l,d,u,c,p,_,g;function m(e,t,s,i,o){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=!1,b=null,f={};var v={"topic-list-top":{code:"adsense_topic_list_top_code",sizes:"adsense_topic_list_top_ad_sizes"},"topic-above-post-stream":{code:"adsense_topic_above_post_stream_code",sizes:"adsense_topic_above_post_stream_ad_sizes"},"topic-above-suggested":{code:"adsense_topic_above_suggested_code",sizes:"adsense_topic_above_suggested_ad_sizes"},"post-bottom":{code:"adsense_post_bottom_code",sizes:"adsense_post_bottom_ad_sizes"}},w={"topic-list-top":{code:"adsense_mobile_topic_list_top_code",sizes:"adsense_mobile_topic_list_top_ad_size"},"topic-above-post-stream":{code:"adsense_mobile_topic_above_post_stream_code",sizes:"adsense_mobile_topic_above_post_stream_ad_size"},"topic-above-suggested":{code:"adsense_mobile_topic_above_suggested_code",sizes:"adsense_mobile_topic_above_suggested_ad_size"},"post-bottom":{code:"adsense_mobile_post_bottom_code",sizes:"adsense_mobile_post_bottom_ad_size"}},y=t.default.extend((o=(0,s.observes)("listLoading"),a=(0,s.default)("ad_width"),n=(0,s.default)("ad_width"),r=(0,s.default)("placement","showAd"),l=(0,s.default)("isResponsive","isFluid"),d=(0,s.default)("ad_width","ad_height","isResponsive"),u=(0,s.default)("adWrapperStyle","isResponsive"),c=(0,s.default)("currentUser.trust_level"),p=(0,s.default)("publisher_id","showToTrustLevel","showToGroups","showAfterPost","showOnCurrentPage"),_=(0,s.default)("postNumber"),m(g={classNameBindings:[":google-adsense","classForSlot","isResponsive:adsense-responsive"],loadedGoogletag:!1,publisher_id:null,ad_width:null,ad_height:null,adRequested:!1,init:function(){var e,t,s=this.get("placement");e=this.site.mobileView?w[s]:v[s],f[s]||(f[s]=0);var i=(this.siteSettings[e.sizes]||"").split("|");1===i.length?t=i[0]:(t=i[f[s]%i.length],f[s]+=1),this.set("ad_width",function(e){if("responsive"===e)return"auto";if(e.startsWith("fluid"))return"fluid";var t=parseInt(e.substring(0,3).trim(),10);return isNaN(t)?"auto":"".concat(t,"px")}(t)),this.set("ad_height",function(e){if("responsive"===e)return"auto";if(e.startsWith("fluid"))return"fluid";var t=parseInt(e.substring(4,7).trim(),10);return isNaN(t)?"auto":"".concat(t,"px")}(t)),this.set("ad_code",this.siteSettings[e.code]),this.set("publisher_id",this.siteSettings.adsense_publisher_code),this._super()},_triggerAds:function(){Ember.testing||(this.set("adRequested",!0),function(){if(h)return Ember.RSVP.resolve();if(b)return b;var e=("https:"===document.location.protocol?"https:":"http:")+"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";return b=(0,i.default)(e,{scriptTag:!0}).then((function(){h=!0}))}().then((function(){var e=window.adsbygoogle||[];try{e.push({})}catch(e){}})))},didInsertElement:function(){this._super(),this.get("showAd")&&(this.get("listLoading")||Ember.run.scheduleOnce("afterRender",this,this._triggerAds))},waitForLoad:function(){this.get("adRequested")||this.get("listLoading")||Ember.run.scheduleOnce("afterRender",this,this._triggerAds)},isResponsive:function(e){return["auto","fluid"].includes(e)},isFluid:function(e){return"fluid"===e},classForSlot:function(e,t){return t?"adsense-".concat(e).htmlSafe():""},autoAdFormat:function(e,t){return!!e&&(t?"fluid".htmlSafe():"auto".htmlSafe())},adWrapperStyle:function(e,t,s){return(s?"":"width: ".concat(e,"; height: ").concat(t,";")).htmlSafe()},adInsStyle:function(e,t){return"display: ".concat(t?"block":"inline-block","; ").concat(e).htmlSafe()},showToTrustLevel:function(e){return!(e&&e>this.siteSettings.adsense_through_trust_level)},showAd:function(e,t,s,i,o){return e&&t&&s&&i&&o},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.siteSettings.adsense_nth_post_code,10))}},"waitForLoad",[o],Object.getOwnPropertyDescriptor(g,"waitForLoad"),g),m(g,"isResponsive",[a],Object.getOwnPropertyDescriptor(g,"isResponsive"),g),m(g,"isFluid",[n],Object.getOwnPropertyDescriptor(g,"isFluid"),g),m(g,"classForSlot",[r],Object.getOwnPropertyDescriptor(g,"classForSlot"),g),m(g,"autoAdFormat",[l],Object.getOwnPropertyDescriptor(g,"autoAdFormat"),g),m(g,"adWrapperStyle",[d],Object.getOwnPropertyDescriptor(g,"adWrapperStyle"),g),m(g,"adInsStyle",[u],Object.getOwnPropertyDescriptor(g,"adInsStyle"),g),m(g,"showToTrustLevel",[c],Object.getOwnPropertyDescriptor(g,"showToTrustLevel"),g),m(g,"showAd",[p],Object.getOwnPropertyDescriptor(g,"showAd"),g),m(g,"showAfterPost",[_],Object.getOwnPropertyDescriptor(g,"showAfterPost"),g),g));e.default=y})),define("discourse/plugins/discourse-adplugin/discourse/components/google-dfp-ad",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators","discourse/lib/load-script"],(function(e,t,s,i){"use strict";var o,a,n,r,l,d,u,c,p,_,g,m;function h(e,t,s,i,o){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var b=!1,f=null,v={},w=1,y={};function S(e){return e.substring(4,7).trim()}function z(e){var t=e;return t=(t=t.replace(/['"]+/g,"")).split("\n")}var P={"topic-list-top":{code:"dfp_topic_list_top_code",sizes:"dfp_topic_list_top_ad_sizes",targeting_keys:"dfp_target_topic_list_top_key_code",targeting_values:"dfp_target_topic_list_top_value_code"},"topic-above-post-stream":{code:"dfp_topic_above_post_stream_code",sizes:"dfp_topic_above_post_stream_ad_sizes",targeting_keys:"dfp_target_topic_above_post_stream_key_code",targeting_values:"dfp_target_topic_above_post_stream_value_code"},"topic-above-suggested":{code:"dfp_topic_above_suggested_code",sizes:"dfp_topic_above_suggested_ad_sizes",targeting_keys:"dfp_target_topic_above_suggested_key_code",targeting_values:"dfp_target_topic_above_suggested_value_code"},"post-bottom":{code:"dfp_post_bottom_code",sizes:"dfp_post_bottom_ad_sizes",targeting_keys:"dfp_target_post_bottom_key_code",targeting_values:"dfp_target_post_bottom_value_code"}},O={"topic-list-top":{code:"dfp_mobile_topic_list_top_code",sizes:"dfp_mobile_topic_list_top_ad_sizes",targeting_keys:"dfp_target_topic_list_top_key_code",targeting_values:"dfp_target_topic_list_top_value_code"},"topic-above-post-stream":{code:"dfp_mobile_topic_above_post_stream_code",sizes:"dfp_mobile_topic_above_post_stream_ad_sizes",targeting_keys:"dfp_target_topic_above_post_stream_key_code",targeting_values:"dfp_target_topic_above_post_stream_value_code"},"topic-above-suggested":{code:"dfp_mobile_topic_above_suggested_code",sizes:"dfp_mobile_topic_above_suggested_ad_sizes",targeting_keys:"dfp_target_topic_above_suggested_key_code",targeting_values:"dfp_target_topic_above_suggested_value_code"},"post-bottom":{code:"dfp_mobile_post_bottom_code",sizes:"dfp_mobile_post_bottom_ad_sizes",targeting_keys:"dfp_target_post_bottom_key_code",targeting_values:"dfp_target_post_bottom_value_code"}};var j=t.default.extend((o=(0,s.default)("siteSettings.dfp_publisher_id","siteSettings.dfp_publisher_id_mobile","site.mobileView"),a=(0,s.default)("placement","postNumber"),n=(0,s.default)("placement","showAd"),r=(0,s.default)("width","height"),l=(0,s.default)("width"),d=(0,s.default)("publisherId","showToTrustLevel","showToGroups","showAfterPost","showOnCurrentPage","size"),u=(0,s.default)("currentUser.trust_level"),c=(0,s.default)("postNumber"),p=(0,s.on)("didUpdate"),_=(0,s.on)("didInsertElement"),g=(0,s.on)("willDestroyElement"),h(m={classNameBindings:["adUnitClass"],classNames:["google-dfp-ad"],loadedGoogletag:!1,refreshOnChange:null,lastAdRefresh:null,width:Ember.computed.alias("size.width"),height:Ember.computed.alias("size.height"),size:function(){return function(e,t,s){var i,o;i=s?O[e]:P[e],y[e]||(y[e]=0);var a=(t[i.sizes]||"").split("|");if(1===a.length?o=a[0]:(o=a[y[e]%a.length],y[e]+=1),"fluid"===o)return{width:"fluid",height:"fluid"};var n,r={width:parseInt((n=o,n.substring(0,3).trim()),10),height:parseInt(S(o),10)};return isNaN(r.width)||isNaN(r.height)?void 0:r}(this.get("placement"),this.siteSettings,this.site.mobileView)},publisherId:function(e,t,s){return s&&t||e},divId:function(e,t){var s=w++;return t?"div-gpt-ad-".concat(s,"-").concat(e,"-").concat(t):"div-gpt-ad-".concat(s,"-").concat(e)},adUnitClass:function(e,t){return t?"dfp-ad-".concat(e):""},adWrapperStyle:function(e,t){if("fluid"!==e)return"width: ".concat(e,"px; height: ").concat(t,"px;").htmlSafe()},adTitleStyleMobile:function(e){if("fluid"!==e)return"width: ".concat(e,"px;").htmlSafe()},showAd:function(e,t,s,i,o,a){return e&&t&&s&&i&&o&&a},showToTrustLevel:function(e){return!(e&&e>this.siteSettings.dfp_through_trust_level)},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.siteSettings.dfp_nth_post_code,10))},shouldRefreshAd:function(){var e=this.get("lastAdRefresh");return!e||new Date-e>3e3},updated:function(){if(!this.get("listLoading")&&this.shouldRefreshAd()){var e=v[this.get("divId")];if(e&&e.ad){var t=e.ad,s=this.get("currentCategorySlug");this.get("loadedGoogletag")&&(this.set("lastAdRefresh",new Date),window.googletag.cmd.push((function(){t.setTargeting("discourse-category",s||"0"),window.googletag.pubads().refresh([t])})))}}},_initGoogleDFP:function(){var e=this;Ember.testing||this.get("showAd")&&function(){if(b)return Ember.RSVP.resolve();if(f)return f;var e=("https:"===document.location.protocol?"https:":"http:")+"//securepubads.g.doubleclick.net/tag/js/gpt.js";return f=(0,i.default)(e,{scriptTag:!0}).then((function(){b=!0,void 0===window.googletag&&console.log("googletag is undefined!"),window.googletag.cmd.push((function(){window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().disableInitialLoad(),window.googletag.enableServices()}))})),window.googletag=window.googletag||{cmd:[]},f}().then((function(){e.set("loadedGoogletag",!0),e.set("lastAdRefresh",new Date),window.googletag.cmd.push((function(){var t=function(e,t,s,i,o,a,n){var r,l,d;if(s.dfp_publisher_id)return v[e]||(i?(d=s.dfp_publisher_id_mobile||s.dfp_publisher_id,l=O[t]):(d=s.dfp_publisher_id,l=P[t]),r=window.googletag.defineSlot("/"+d+"/"+s[l.code],[o,a],e),function(e,t,s){for(var i=0;i<e.length;i++)e[i]&&s.setTargeting(e[i],t[i].replace(/ /g,"").replace(/['"]+/g,"").split(","))}(z(s[l.targeting_keys]),z(s[l.targeting_values]),r),n&&r.setTargeting("discourse-category",n),r.addService(window.googletag.pubads()),v[e]={ad:r,width:o,height:a}),v[e]}(e.get("divId"),e.get("placement"),e.siteSettings,e.site.mobileView,e.get("width"),e.get("height"),e.get("currentCategorySlug")||"0");t&&t.ad&&(window.googletag.display(e.get("divId")),window.googletag.pubads().refresh([t.ad]))}))}))},willRender:function(){this._super.apply(this,arguments),this.get("showAd")},cleanup:function(){var e;e=this.get("divId"),v[e]&&window.googletag&&(window.googletag.destroySlots([v[e].ad]),delete v[e])}},"size",[s.default],Object.getOwnPropertyDescriptor(m,"size"),m),h(m,"publisherId",[o],Object.getOwnPropertyDescriptor(m,"publisherId"),m),h(m,"divId",[a],Object.getOwnPropertyDescriptor(m,"divId"),m),h(m,"adUnitClass",[n],Object.getOwnPropertyDescriptor(m,"adUnitClass"),m),h(m,"adWrapperStyle",[r],Object.getOwnPropertyDescriptor(m,"adWrapperStyle"),m),h(m,"adTitleStyleMobile",[l],Object.getOwnPropertyDescriptor(m,"adTitleStyleMobile"),m),h(m,"showAd",[d],Object.getOwnPropertyDescriptor(m,"showAd"),m),h(m,"showToTrustLevel",[u],Object.getOwnPropertyDescriptor(m,"showToTrustLevel"),m),h(m,"showAfterPost",[c],Object.getOwnPropertyDescriptor(m,"showAfterPost"),m),h(m,"updated",[p],Object.getOwnPropertyDescriptor(m,"updated"),m),h(m,"_initGoogleDFP",[_],Object.getOwnPropertyDescriptor(m,"_initGoogleDFP"),m),h(m,"cleanup",[g],Object.getOwnPropertyDescriptor(m,"cleanup"),m),m));e.default=j})),define("discourse/plugins/discourse-adplugin/discourse/components/house-ad",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","discourse-common/utils/decorators"],(function(e,t,s){"use strict";var i,o,a,n,r;function l(e,t,s,i,o){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d={topic_list_top:null,topic_above_post_stream:null,topic_above_suggested:null,post_bottom:null},u=t.default.extend((i=(0,s.default)("placement","showAd"),o=(0,s.default)("showToGroups","showAfterPost","showOnCurrentPage"),a=(0,s.default)("postNumber"),n=(0,s.observes)("refreshOnChange"),l(r={classNames:["house-creative"],classNameBindings:["adUnitClass"],adHtml:"",adUnitClass:function(e,t){return t?"house-".concat(e):""},showAd:function(e,t,s){return e&&t&&s},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.site.get("house_creatives.settings.after_nth_post"),10))},chooseAdHtml:function(){var e=this.site.get("house_creatives"),t=this.get("placement").replace(/-/g,"_"),s=this.adsNamesForSlot(t);if(s.length>0){d[t]||(d[t]=0);var i=e.creatives[s[d[t]]]||"";return d[t]=(d[t]+1)%s.length,i}return""},adsNamesForSlot:function(e){var t=this.site.get("house_creatives");if(!t||!t.settings)return[];var s=t.settings[e];return Object.keys(t.creatives).length>0&&!Ember.isBlank(s)?s.split("|"):[]},refreshAd:function(){this.get("listLoading")||this.set("adHtml",this.chooseAdHtml())},didInsertElement:function(){var e=this;this._super.apply(this,arguments),this.get("showAd")&&(this.get("listLoading")||(null===d.topic_list_top&&Object.keys(d).forEach((function(t){var s=e.adsNamesForSlot(t);d[t]=Math.floor(Math.random()*s.length)})),this.refreshAd()))}},"adUnitClass",[i],Object.getOwnPropertyDescriptor(r,"adUnitClass"),r),l(r,"showAd",[o],Object.getOwnPropertyDescriptor(r,"showAd"),r),l(r,"showAfterPost",[a],Object.getOwnPropertyDescriptor(r,"showAfterPost"),r),l(r,"refreshAd",[n],Object.getOwnPropertyDescriptor(r,"refreshAd"),r),r));e.default=u})),define("discourse/plugins/discourse-adplugin/discourse/components/house-ads-chooser",["exports","select-kit/components/multi-select","@ember/object"],(function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=Ember.makeArray,o=t.default.extend({classNames:["house-ads-chooser"],filterable:!0,filterPlaceholder:"admin.adplugin.house_ads.filter_placeholder",tokenSeparator:"|",allowCreate:!1,allowAny:!1,settingValue:"",valueAttribute:null,nameProperty:null,value:(0,s.computed)("settingValue",(function(){return this.settingValue.toString().split(this.tokenSeparator).filter(Boolean)})),mutateValues:function(e){this.set("settingValue",e.join(this.tokenSeparator))},computeValues:function(){return this.settingValue.split(this.tokenSeparator).filter(Boolean)},content:(0,s.computed)("choices",(function(){return i(this.choices)})),actions:{onChange:function(e){var t=i(e).join(this.tokenSeparator);this.attrs.onChange&&this.attrs.onChange(t)}}});e.default=o})),define("discourse/plugins/discourse-adplugin/discourse/components/house-ads-list-setting",["exports","discourse/plugins/discourse-adplugin/discourse/components/house-ads-setting"],(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t.default.extend({classNames:"house-ads-setting house-ads-list-setting",adNames:Ember.computed.mapBy("allAds","name")});e.default=s})),define("discourse/plugins/discourse-adplugin/discourse/components/house-ads-setting",["exports","discourse/lib/ajax","discourse/lib/ajax-error","discourse/lib/computed","I18n"],(function(e,t,s,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=Ember.Component.extend({classNames:"house-ads-setting",adValue:"",saving:!1,savingStatus:"",title:(0,i.i18n)("name","admin.adplugin.house_ads.%@.title"),help:(0,i.i18n)("name","admin.adplugin.house_ads.%@.description"),changed:(0,i.propertyNotEqual)("adValue","value"),init:function(){this._super.apply(this,arguments),this.set("adValue",this.get("value"))},actions:{save:function(){var e=this;this.get("saving")||(this.setProperties({saving:!0,savingStatus:o.default.t("saving")}),(0,t.ajax)("/admin/plugins/pluginad/house_settings/".concat(this.get("name"),".json"),{type:"PUT",data:{value:this.get("adValue")}}).then((function(){e.get("adSettings").set(e.get("name"),e.get("adValue")),e.setProperties({value:e.get("adValue"),savingStatus:o.default.t("saved")})})).catch(s.popupAjaxError).finally((function(){e.setProperties({saving:!1,savingStatus:""})})))},cancel:function(){this.set("adValue",this.get("value"))}}});e.default=a})),define("discourse/plugins/discourse-adplugin/discourse/controllers/admin-plugins-house-ads-index",["exports"],(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Ember.Controller.extend({adminPluginsHouseAds:Ember.inject.controller("adminPlugins.houseAds"),houseAds:Ember.computed.alias("adminPluginsHouseAds.model"),adSettings:Ember.computed.alias("adminPluginsHouseAds.houseAdsSettings")});e.default=t})),define("discourse/plugins/discourse-adplugin/discourse/controllers/admin-plugins-house-ads-show",["exports","I18n","discourse/lib/ajax","discourse/lib/ajax-error","discourse/lib/computed","discourse/mixins/buffered-content"],(function(e,t,s,i,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Ember.Controller.extend((0,a.bufferedProperty)("model"),{adminPluginsHouseAds:Ember.inject.controller("adminPlugins.houseAds"),saving:!1,savingStatus:"",nameDirty:(0,o.propertyNotEqual)("buffered.name","model.name"),htmlDirty:(0,o.propertyNotEqual)("buffered.html","model.html"),dirty:Ember.computed.or("nameDirty","htmlDirty"),disableSave:Ember.computed.not("dirty"),actions:{save:function(){var e=this;if(!this.get("saving")){this.setProperties({saving:!0,savingStatus:t.default.t("saving")});var o={},a=this.get("buffered"),n=!a.get("id");n||(o.id=a.get("id")),o.name=a.get("name"),o.html=a.get("html"),(0,s.ajax)(n?"/admin/plugins/pluginad/house_creatives":"/admin/plugins/pluginad/house_creatives/".concat(a.get("id")),{type:n?"POST":"PUT",data:o}).then((function(s){if(e.commitBuffer(),e.set("savingStatus",t.default.t("saved")),n){var i=e.get("model");i.set("id",s.house_ad.id);var o=e.get("adminPluginsHouseAds.model");o.includes(i)||o.pushObject(i),e.transitionToRoute("adminPlugins.houseAds.show",i.get("id"))}})).catch(i.popupAjaxError).finally((function(){e.setProperties({saving:!1,savingStatus:""})}))}},cancel:function(){this.rollbackBuffer()},destroy:function(){var e=this,i=this.get("adminPluginsHouseAds.model"),o=this.get("model");o.get("id")?(0,s.ajax)("/admin/plugins/pluginad/house_creatives/".concat(o.get("id")),{type:"DELETE"}).then((function(){i.removeObject(o),e.transitionToRoute("adminPlugins.houseAds.index")})).catch((function(){return bootbox.alert(t.default.t("generic_error"))})):this.transitionToRoute("adminPlugins.houseAds.index")}}});e.default=n})),define("discourse/plugins/discourse-adplugin/discourse/controllers/admin-plugins-house-ads",["exports"],(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Ember.Controller.extend({loadingAds:!0});e.default=t})),define("discourse/plugins/discourse-adplugin/discourse/routes/admin-plugins-house-ads-index",["exports","discourse/routes/discourse"],(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t.default.extend({actions:{moreSettings:function(){this.transitionTo("adminSiteSettingsCategory","ad_plugin")}}});e.default=s})),define("discourse/plugins/discourse-adplugin/discourse/routes/admin-plugins-house-ads-show",["exports","discourse/routes/discourse","I18n"],(function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t.default.extend({model:function(e){return"new"===e.ad_id?Ember.Object.create({name:s.default.t("admin.adplugin.house_ads.new_name"),html:""}):this.modelFor("adminPlugins.houseAds").findBy("id",parseInt(e.ad_id,10))}});e.default=i})),define("discourse/plugins/discourse-adplugin/discourse/routes/admin-plugins-house-ads",["exports","discourse/lib/ajax","discourse/routes/discourse"],(function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s.default.extend({settings:null,model:function(){var e=this;return(0,t.ajax)("/admin/plugins/pluginad/house_creatives.json").then((function(t){return e.set("settings",Ember.Object.create(t.settings)),t.house_ads.map((function(e){return Ember.Object.create(e)}))}))},setupController:function(e,t){e.setProperties({model:t,houseAdsSettings:this.get("settings"),loadingAds:!1})}});e.default=i})),Ember.TEMPLATES["javascripts/admin/plugins-house-ads-index"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"d-section",null,[["class"],["house-ads-settings content-body"]],{"statements":[[0,"  "],[7,"div",true],[8],[1,[28,"i18n",["admin.adplugin.house_ads.description"],null],false],[9],[0,"\\n\\n"],[4,"if",[[24,["houseAds","length"]]],null,{"statements":[[0,"    "],[7,"form",true],[10,"class","form-horizontal"],[8],[0,"\\n      "],[1,[28,"house-ads-list-setting",null,[["name","value","allAds","adSettings"],["topic_list_top",[24,["adSettings","topic_list_top"]],[24,["houseAds"]],[24,["adSettings"]]]]],false],[0,"\\n      "],[1,[28,"house-ads-list-setting",null,[["name","value","allAds","adSettings"],["topic_above_post_stream",[24,["adSettings","topic_above_post_stream"]],[24,["houseAds"]],[24,["adSettings"]]]]],false],[0,"\\n      "],[1,[28,"house-ads-list-setting",null,[["name","value","allAds","adSettings"],["topic_above_suggested",[24,["adSettings","topic_above_suggested"]],[24,["houseAds"]],[24,["adSettings"]]]]],false],[0,"\\n      "],[1,[28,"house-ads-list-setting",null,[["name","value","allAds","adSettings"],["post_bottom",[24,["adSettings","post_bottom"]],[24,["houseAds"]],[24,["adSettings"]]]]],false],[0,"\\n\\n      "],[1,[28,"d-button",null,[["label","icon","class","action"],["admin.adplugin.house_ads.more_settings","cog","btn-default",[28,"route-action",["moreSettings"],null]]]],false],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[7,"p",true],[8],[0,"\\n"],[4,"link-to",null,[["route","model"],["adminPlugins.houseAds.show","new"]],{"statements":[[0,"        "],[1,[28,"i18n",["admin.adplugin.house_ads.get_started"],null],false],[0,"\\n"]],"parameters":[]},null],[0,"    "],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/admin/plugins-house-ads-index"}}),Ember.TEMPLATES["javascripts/admin/plugins-house-ads-show"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"d-section",null,[["class"],["edit-house-ad content-body"]],{"statements":[[0,"  "],[7,"h1",true],[8],[1,[28,"text-field",null,[["class","value"],["house-ad-name",[24,["buffered","name"]]]]],false],[9],[0,"\\n  "],[7,"div",true],[10,"class","controls"],[8],[0,"\\n    "],[1,[28,"ace-editor",null,[["content","mode"],[[24,["buffered","html"]],"html"]]],false],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","controls"],[8],[0,"\\n    "],[1,[28,"d-button",null,[["action","disabled","class","label"],[[28,"action",[[23,0,[]],"save"],null],[24,["disableSave"]],"btn-primary","admin.adplugin.house_ads.save"]]],false],[0,"\\n\\n"],[4,"if",[[24,["saving"]]],null,{"statements":[[0,"      "],[1,[22,"savingStatus"],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[24,["dirty"]]],null,{"statements":[[0,"        "],[7,"a",false],[12,"href",""],[3,"action",[[23,0,[]],"cancel"]],[8],[1,[28,"i18n",["cancel"],null],false],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[0,"\\n    "],[1,[28,"d-button",null,[["action","class","label"],[[28,"action",[[23,0,[]],"destroy"],null],"btn-danger delete-button","admin.adplugin.house_ads.delete"]]],false],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/admin/plugins-house-ads-show"}}),Ember.TEMPLATES["javascripts/admin/plugins-house-ads"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["ad"],"statements":[[7,"div",true],[10,"class","adplugin-mgmt"],[8],[0,"\\n  "],[7,"h1",true],[8],[1,[28,"i18n",["admin.adplugin.house_ads.title"],null],false],[9],[0,"\\n"],[4,"if",[[24,["model","length"]]],null,{"statements":[[0,"    "],[7,"div",true],[10,"class","content-list"],[8],[0,"\\n      "],[7,"div",true],[10,"class","house-ads-actions"],[8],[0,"\\n"],[4,"link-to",null,[["class","route","model"],["btn btn-primary","adminPlugins.houseAds.show","new"]],{"statements":[[0,"          "],[1,[28,"d-icon",["plus"],null],false],[0,"\\n          "],[7,"span",true],[8],[1,[28,"i18n",["admin.adplugin.house_ads.new"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[4,"link-to",null,[["class","route"],["btn btn-default","adminPlugins.houseAds.index"]],{"statements":[[0,"          "],[1,[28,"d-icon",["cog"],null],false],[0,"\\n          "],[7,"span",true],[8],[1,[28,"i18n",["admin.adplugin.house_ads.settings"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"      "],[9],[0,"\\n      "],[7,"ul",true],[10,"class","house-ads-list"],[8],[0,"\\n"],[4,"each",[[24,["model"]]],null,{"statements":[[0,"          "],[7,"li",true],[10,"class","house-ads-list-item"],[8],[0,"\\n"],[4,"link-to",null,[["route","model"],["adminPlugins.houseAds.show",[23,1,["id"]]]],{"statements":[[0,"              "],[1,[23,1,["name"]],false],[0,"\\n"]],"parameters":[]},null],[0,"          "],[9],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[9],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},null],[0,"  "],[1,[22,"outlet"],false],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/admin/plugins-house-ads"}}),Ember.TEMPLATES["javascripts/components/ad-slot"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["adComponent"],"statements":[[4,"each",[[24,["adComponents"]]],null,{"statements":[[0,"  "],[1,[28,"component",[[23,1,[]]],[["placement","refreshOnChange","category","listLoading","postNumber"],[[24,["placement"]],[24,["refreshOnChange"]],[24,["category"]],[24,["listLoading"]],[24,["postNumber"]]]]],false],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/ad-slot"}}),Ember.TEMPLATES["javascripts/components/adbutler-ad"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["showAd"]]],null,{"statements":[[0,"  "],[7,"div",true],[11,"id",[22,"divId"]],[11,"class",[22,"className"]],[8],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/adbutler-ad"}}),Ember.TEMPLATES["javascripts/components/amazon-product-links"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["showAd"]]],null,{"statements":[[4,"if",[[24,["site","mobileView"]]],null,{"statements":[[0,"    "],[7,"div",true],[10,"class","amazon-product-links-label"],[11,"style",[22,"adTitleStyleMobile"]],[8],[7,"h2",true],[8],[1,[28,"i18n",["adplugin.advertisement_label"],null],false],[9],[9],[0,"\\n    "],[7,"iframe",true],[11,"style",[22,"adWrapperStyleMobile"]],[10,"marginwidth","0"],[10,"marginheight","0"],[10,"scrolling","no"],[10,"frameborder","0"],[11,"src",[22,"userInputMobile"]],[11,"title",[28,"i18n",["adplugin.advertisement_label"],null]],[8],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[7,"div",true],[10,"class","amazon-product-links-label"],[8],[7,"h2",true],[8],[1,[28,"i18n",["adplugin.advertisement_label"],null],false],[9],[9],[0,"\\n    "],[7,"div",true],[10,"class","container"],[10,"align","center"],[8],[0,"\\n      "],[7,"iframe",true],[11,"style",[22,"adWrapperStyle"]],[10,"marginwidth","0"],[10,"marginheight","0"],[10,"scrolling","no"],[10,"frameborder","0"],[11,"src",[22,"userInput"]],[11,"title",[28,"i18n",["adplugin.advertisement_label"],null]],[8],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/amazon-product-links"}}),Ember.TEMPLATES["javascripts/components/carbonads-ad"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["showAd"]]],null,{"statements":[[0,"  "],[7,"script",true],[11,"src",[22,"url"]],[10,"id","_carbonads_js"],[10,"async",""],[10,"type","text/javascript"],[8],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/carbonads-ad"}}),Ember.TEMPLATES["javascripts/components/google-adsense"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["showAd"]]],null,{"statements":[[0,"  "],[7,"div",true],[10,"class","google-adsense-label"],[8],[7,"h2",true],[8],[1,[28,"i18n",["adplugin.advertisement_label"],null],false],[9],[9],[0,"\\n  "],[7,"div",true],[10,"class","google-adsense-content"],[11,"style",[22,"adWrapperStyle"]],[8],[0,"\\n    "],[7,"ins",true],[10,"class","adsbygoogle"],[11,"style",[22,"adInsStyle"]],[11,"data-ad-client",[29,["ca-pub-",[22,"publisher_id"]]]],[11,"data-ad-slot",[22,"ad_code"]],[11,"data-ad-format",[22,"autoAdFormat"]],[8],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/google-adsense"}}),Ember.TEMPLATES["javascripts/components/google-dfp-ad"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["showAd"]]],null,{"statements":[[4,"if",[[24,["site","mobileView"]]],null,{"statements":[[0,"    "],[7,"div",true],[10,"class","google-dfp-ad-label"],[11,"style",[22,"adTitleStyleMobile"]],[8],[7,"h2",true],[8],[1,[28,"i18n",["adplugin.advertisement_label"],null],false],[9],[9],[0,"\\n    "],[7,"div",true],[11,"id",[22,"divId"]],[11,"style",[22,"adWrapperStyle"]],[10,"class","dfp-ad-unit"],[10,"align","center"],[8],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[7,"div",true],[10,"class","google-dfp-ad-label"],[8],[7,"h2",true],[8],[1,[28,"i18n",["adplugin.advertisement_label"],null],false],[9],[9],[0,"\\n    "],[7,"div",true],[11,"id",[22,"divId"]],[11,"style",[22,"adWrapperStyle"]],[10,"class","dfp-ad-unit"],[10,"align","center"],[8],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/google-dfp-ad"}}),Ember.TEMPLATES["javascripts/components/house-ad"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["showAd"]]],null,{"statements":[[0,"  "],[1,[28,"html-safe",[[24,["adHtml"]]],null],false],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/house-ad"}}),Ember.TEMPLATES["javascripts/components/house-ads-list-setting"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"label",true],[11,"for",[22,"name"]],[8],[1,[22,"title"],false],[9],[0,"\\n"],[1,[28,"house-ads-chooser",null,[["settingValue","choices","onChange"],[[24,["adValue"]],[24,["adNames"]],[28,"action",[[23,0,[]],[28,"mut",[[24,["adValue"]]],null]],null]]]],false],[0,"\\n"],[7,"div",true],[10,"class","setting-controls"],[8],[0,"\\n"],[4,"if",[[24,["changed"]]],null,{"statements":[[0,"    "],[1,[28,"d-button",null,[["class","action","icon"],["ok",[28,"action",[[23,0,[]],"save"],null],"check"]]],false],[0,"\\n    "],[1,[28,"d-button",null,[["class","action","icon"],["cancel",[28,"action",[[23,0,[]],"cancel"],null],"times"]]],false],[0,"\\n"]],"parameters":[]},null],[9],[0,"\\n"],[7,"p",true],[10,"class","help"],[8],[1,[22,"help"],false],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/house-ads-list-setting"}}),Ember.TEMPLATES["javascripts/components/house-ads-setting"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"label",true],[11,"for",[22,"name"]],[8],[1,[22,"title"],false],[9],[0,"\\n"],[1,[28,"text-field",null,[["value","classNames"],[[24,["adValue"]],"house-ads-text-input"]]],false],[0,"\\n"],[7,"div",true],[10,"class","setting-controls"],[8],[0,"\\n"],[4,"if",[[24,["changed"]]],null,{"statements":[[0,"    "],[1,[28,"d-button",null,[["class","action","icon"],["ok",[28,"action",[[23,0,[]],"save"],null],"check"]]],false],[0,"\\n    "],[1,[28,"d-button",null,[["class","action","icon"],["cancel",[28,"action",[[23,0,[]],"cancel"],null],"times"]]],false],[0,"\\n"]],"parameters":[]},null],[9],[0,"\\n"],[7,"p",true],[10,"class","help"],[8],[1,[22,"help"],false],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/house-ads-setting"}}),Ember.TEMPLATES["javascripts/components/post-bottom-ad"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"ad-slot",null,[["placement","category","postNumber"],["post-bottom",[24,["model","topic","category","slug"]],[24,["model","post_number"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/post-bottom-ad"}}),Ember.TEMPLATES["javascripts/connectors/discovery-list-container-top/discourse-adplugin"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"ad-slot",null,[["placement","refreshOnChange","category","listLoading"],["topic-list-top",[24,["listLoading"]],[24,["category","slug"]],[24,["listLoading"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/connectors/discovery-list-container-top/discourse-adplugin"}}),Ember.TEMPLATES["javascripts/connectors/post-bottom/discourse-adplugin"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"post-bottom-ad",null,[["model"],[[23,0,[]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/connectors/post-bottom/discourse-adplugin"}}),Ember.TEMPLATES["javascripts/connectors/topic-above-post-stream/discourse-adplugin"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"ad-slot",null,[["placement","refreshOnChange","category"],["topic-above-post-stream",[24,["model","id"]],[24,["model","category","slug"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/connectors/topic-above-post-stream/discourse-adplugin"}}),Ember.TEMPLATES["javascripts/connectors/topic-above-suggested/discourse-adplugin"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"ad-slot",null,[["placement","refreshOnChange","category"],["topic-above-suggested",[24,["model","id"]],[24,["model","category","slug"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/connectors/topic-above-suggested/discourse-adplugin"}}),define("discourse/plugins/discourse-adplugin/initializers/initialize-ad-plugin",["exports","discourse/lib/plugin-api","discourse/models/site"],(function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"initialize-ad-plugin",initialize:function(e){(0,t.withPluginApi)("0.1",(function(e){e.decorateWidget("post:after",(function(e){return e.canConnectComponent?e.attrs.cloaked?void 0:e.connect({component:"post-bottom-ad",context:"model"}):e.connect({templateName:"connectors/post-bottom/discourse-adplugin",context:"model"})}))}));var i=e.lookup("message-bus:main");i&&i.subscribe("/site/house-creatives",(function(e){s.default.currentProp("house_creatives",e)}))}};e.default=i}));
//# sourceMappingURL=https://dub2.discourse-cdn.com/arduino/assets/plugins/discourse-adplugin-a97b6270d9fe5611b0e28094c1436bec40eadebf4f4ecd3e4cd82d93b2b60061.js.map