define("discourse/plugins/discourse-chat-integration/admin/adapters/channel",["exports","admin/adapters/build-plugin"],(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(0,t.default)("chat-integration");e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/adapters/provider",["exports","admin/adapters/build-plugin"],(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(0,t.default)("chat-integration");e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/adapters/rule",["exports","admin/adapters/build-plugin"],(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(0,t.default)("chat-integration");e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/chat-integration-route-map",["exports"],(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={resource:"admin.adminPlugins",path:"/plugins",map:function(){this.route("chat-integration",(function(){this.route("provider",{path:"/:provider"})}))}}})),define("discourse/plugins/discourse-chat-integration/admin/components/channel-data",["exports"],(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Ember.Component.extend({classNames:["channel-info"]});e.default=t})),define("discourse/plugins/discourse-chat-integration/admin/components/channel-details",["exports","discourse/lib/ajax-error","I18n"],(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=Ember.Component.extend({classNames:["channel-details"],actions:{deleteChannel:function(e){var a=this;bootbox.confirm(n.default.t("chat_integration.channel_delete_confirm"),n.default.t("no_value"),n.default.t("yes_value"),(function(n){n&&e.destroyRecord().then((function(){return a.refresh()})).catch(t.popupAjaxError)}))},editRule:function(e){this.editRuleWithChannel(e,this.get("channel"))}}});e.default=a})),define("discourse/plugins/discourse-chat-integration/admin/components/rule-row",["exports","discourse/lib/ajax-error","discourse-common/utils/decorators"],(function(e,t,n){"use strict";var a,i,r,l;function o(e,t,n,a,i){var r={};return Object.keys(a).forEach((function(e){r[e]=a[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,a){return a(e,t,n)||n}),r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=Ember.Component.extend((a=(0,n.default)("rule.type"),i=(0,n.default)("rule.type"),r=(0,n.default)("rule.type"),o(l={tagName:"tr",isCategory:function(e){return"normal"===e},isMessage:function(e){return"group_message"===e},isMention:function(e){return"group_mention"===e},actions:{delete:function(e){var n=this;e.destroyRecord().then((function(){return n.refresh()})).catch(t.popupAjaxError)}}},"isCategory",[a],Object.getOwnPropertyDescriptor(l,"isCategory"),l),o(l,"isMessage",[i],Object.getOwnPropertyDescriptor(l,"isMessage"),l),o(l,"isMention",[r],Object.getOwnPropertyDescriptor(l,"isMention"),l),l));e.default=s})),define("discourse/plugins/discourse-chat-integration/admin/controllers/admin-plugins-chat-integration-provider",["exports","discourse/lib/show-modal","discourse-common/utils/decorators"],(function(e,t,n){"use strict";var a,i;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,l,o,s,u,d,c=Ember.Controller.extend((a=(0,n.default)("model.channels"),r=i={modalShowing:!1,anyErrors:function(e){var t=!1;return e.forEach((function(e){e.error_key&&(t=!0)})),t},actions:{createChannel:function(){this.set("modalShowing",!0);var e={channel:this.store.createRecord("channel",{provider:this.get("model.provider.id"),data:{}}),provider:this.get("model.provider")};(0,t.default)("admin-plugins-chat-integration-edit-channel",{model:e,admin:!0})},editChannel:function(e){this.set("modalShowing",!0);var n={channel:e,provider:this.get("model.provider")};(0,t.default)("admin-plugins-chat-integration-edit-channel",{model:n,admin:!0})},testChannel:function(e){this.set("modalShowing",!0),(0,t.default)("admin-plugins-chat-integration-test",{model:{channel:e},admin:!0})},createRule:function(e){this.set("modalShowing",!0);var n={rule:this.store.createRecord("rule",{channel_id:e.id,channel:e}),channel:e,provider:this.get("model.provider"),groups:this.get("model.groups")};(0,t.default)("admin-plugins-chat-integration-edit-rule",{model:n,admin:!0})},editRuleWithChannel:function(e,n){this.set("modalShowing",!0);var a={rule:e,channel:n,provider:this.get("model.provider"),groups:this.get("model.groups")};(0,t.default)("admin-plugins-chat-integration-edit-rule",{model:a,admin:!0})},showError:function(e){this.set("modalShowing",!0),(0,t.default)("admin-plugins-chat-integration-channel-error",{model:e,admin:!0})}}},l="anyErrors",o=[a],s=Object.getOwnPropertyDescriptor(i,"anyErrors"),u=i,d={},Object.keys(s).forEach((function(e){d[e]=s[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(r,l,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(r,l,d),d=null),i));e.default=c})),define("discourse/plugins/discourse-chat-integration/admin/controllers/admin-plugins-chat-integration",["exports"],(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Ember.Controller.extend({});e.default=t})),define("discourse/plugins/discourse-chat-integration/admin/controllers/modals/admin-plugins-chat-integration-edit-channel",["exports","I18n","discourse/mixins/modal-functionality","discourse/lib/ajax-error","@ember/object","discourse-common/utils/decorators"],(function(e,t,n,a,i,r){"use strict";var l,o,s,u;function d(e,t,n,a,i){var r={};return Object.keys(a).forEach((function(e){r[e]=a[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,a){return a(e,t,n)||n}),r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=Ember.Controller.extend(n.default,(l=(0,r.on)("init"),o=(0,r.observes)("model"),s=(0,r.default)("paramValidation"),d(u={setupKeydown:function(){var e=this;Ember.run.schedule("afterRender",(function(){$("#chat-integration-edit-channel-modal").keydown((function(t){13===t.keyCode&&e.send("save")}))}))},setupValidations:function(){if(this.get("model.provider")){var e=this.get("model.provider.channel_parameters").map((function(e){return e.key}));Ember.defineProperty(this,"paramValidation",Ember.computed("model.channel.data.{".concat(e.join(","),"}"),this._paramValidation)),this.notifyPropertyChange("paramValidation")}},validate:function(e){var n=e.regex,a=new RegExp(n),r=this.get("model.channel.data.".concat(e.key));return void 0===r&&(r=""),""===r?i.default.create({failed:!0}):n?a.test(r)?i.default.create({ok:!0,reason:t.default.t("chat_integration.edit_channel_modal.channel_validation.ok")}):i.default.create({failed:!0,reason:t.default.t("chat_integration.edit_channel_modal.channel_validation.fail")}):i.default.create({ok:!0})},_paramValidation:function(){var e=this,t={};return this.get("model.provider.channel_parameters").forEach((function(n){t[n.key]=e.validate(n)})),t},saveDisabled:function(e){if(!e)return!0;var t=!1;return Object.keys(e).forEach((function(n){e[n]||(t=!0),e[n].ok||(t=!0)})),t},actions:{cancel:function(){this.send("closeModal")},save:function(){var e=this;this.get("saveDisabled")||this.get("model.channel").save().then((function(){e.send("closeModal")})).catch(a.popupAjaxError)}}},"setupKeydown",[l],Object.getOwnPropertyDescriptor(u,"setupKeydown"),u),d(u,"setupValidations",[o],Object.getOwnPropertyDescriptor(u,"setupValidations"),u),d(u,"saveDisabled",[s],Object.getOwnPropertyDescriptor(u,"saveDisabled"),u),u));e.default=c})),define("discourse/plugins/discourse-chat-integration/admin/controllers/modals/admin-plugins-chat-integration-edit-rule",["exports","discourse/mixins/modal-functionality","discourse/lib/ajax-error","discourse-common/utils/decorators"],(function(e,t,n,a){"use strict";var i,r,l;function o(e,t,n,a,i){var r={};return Object.keys(a).forEach((function(e){r[e]=a[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,a){return a(e,t,n)||n}),r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=Ember.Controller.extend(t.default,(i=(0,a.on)("init"),r=(0,a.default)("model.rule.type"),o(l={saveDisabled:!1,setupKeydown:function(){var e=this;Ember.run.schedule("afterRender",(function(){$("#chat-integration-edit-channel-modal").keydown((function(t){13===t.keyCode&&e.send("save")}))}))},showCategory:function(e){return"normal"===e},actions:{save:function(e){var t=this;this.get("saveDisabled")||e.save().then((function(){return t.send("closeModal")})).catch(n.popupAjaxError)}}},"setupKeydown",[i],Object.getOwnPropertyDescriptor(l,"setupKeydown"),l),o(l,"showCategory",[r],Object.getOwnPropertyDescriptor(l,"showCategory"),l),l));e.default=s})),define("discourse/plugins/discourse-chat-integration/admin/controllers/modals/admin-plugins-chat-integration-test",["exports","I18n","discourse/mixins/modal-functionality","discourse/lib/ajax","discourse/lib/ajax-error","discourse-common/utils/decorators"],(function(e,t,n,a,i,r){"use strict";var l,o,s;function u(e,t,n,a,i){var r={};return Object.keys(a).forEach((function(e){r[e]=a[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,a){return a(e,t,n)||n}),r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=Ember.Controller.extend(n.default,(l=(0,r.on)("init"),o=(0,r.default)("model.topic_id"),u(s={setupKeydown:function(){var e=this;Ember.run.schedule("afterRender",(function(){$("#chat_integration_test_modal").keydown((function(t){13===t.keyCode&&e.send("send")}))}))},sendDisabled:function(e){return!e},actions:{send:function(){var e=this;this.get("sendDisabled")||(this.set("loading",!0),(0,a.ajax)("/admin/plugins/chat-integration/test",{data:{channel_id:this.get("model.channel.id"),topic_id:this.get("model.topic_id")},type:"POST"}).then((function(){e.set("loading",!1),e.flash(t.default.t("chat_integration.test_modal.success"),"success")})).catch(i.popupAjaxError))}}},"setupKeydown",[l],Object.getOwnPropertyDescriptor(s,"setupKeydown"),s),u(s,"sendDisabled",[o],Object.getOwnPropertyDescriptor(s,"sendDisabled"),s),s));e.default=d})),define("discourse/plugins/discourse-chat-integration/admin/models/channel",["exports","discourse/models/rest"],(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.default.extend({updateProperties:function(){return this.getProperties(["data"])},createProperties:function(){return this.getProperties(["provider","data"])}});e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/models/provider",["exports","discourse/models/rest"],(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.default.extend({});e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/models/rule",["exports","I18n","discourse/models/rest","discourse/models/category","discourse-common/utils/decorators"],(function(e,t,n,a,i){"use strict";var r,l,o,s,u;function d(e,t,n,a,i){var r={};return Object.keys(a).forEach((function(e){r[e]=a[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,a){return a(e,t,n)||n}),r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=n.default.extend((r=(0,i.default)("channel.provider"),l=(0,i.observes)("type"),o=(0,i.default)("category_id"),s=(0,i.default)("filter"),d(u={available_filters:function(e){var n=[];return"slack"===e&&n.push({id:"thread",name:t.default.t("chat_integration.filter.thread"),icon:"chevron-right"}),n.push({id:"watch",name:t.default.t("chat_integration.filter.watch"),icon:"exclamation-circle"},{id:"follow",name:t.default.t("chat_integration.filter.follow"),icon:"circle"},{id:"mute",name:t.default.t("chat_integration.filter.mute"),icon:"times-circle"}),n},available_types:[{id:"normal",name:t.default.t("chat_integration.type.normal")},{id:"group_message",name:t.default.t("chat_integration.type.group_message")},{id:"group_mention",name:t.default.t("chat_integration.type.group_mention")}],category_id:null,tags:null,channel_id:null,filter:"watch",type:"normal",error_key:null,removeUnneededInfo:function(){"normal"===this.get("type")?this.set("group_id",null):this.set("category_id",null)},category:function(e){return!!e&&a.default.findById(e)},filterName:function(e){return t.default.t("chat_integration.filter.".concat(e))},updateProperties:function(){return this.getProperties(["type","category_id","group_id","tags","filter"])},createProperties:function(){return this.getProperties(["type","channel_id","category_id","group_id","tags","filter"])}},"available_filters",[r],Object.getOwnPropertyDescriptor(u,"available_filters"),u),d(u,"removeUnneededInfo",[l],Object.getOwnPropertyDescriptor(u,"removeUnneededInfo"),u),d(u,"category",[o],Object.getOwnPropertyDescriptor(u,"category"),u),d(u,"filterName",[s],Object.getOwnPropertyDescriptor(u,"filterName"),u),u));e.default=c})),define("discourse/plugins/discourse-chat-integration/admin/routes/admin-plugins-chat-integration-index",["exports","discourse/routes/discourse"],(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.default.extend({afterModel:function(e){e.totalRows>0&&this.transitionTo("adminPlugins.chat-integration.provider",e.get("firstObject").name)}});e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/routes/admin-plugins-chat-integration-provider",["exports","discourse/routes/discourse","discourse/models/group"],(function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t.default.extend({model:function(e){var t=this;return Ember.RSVP.hash({channels:this.store.findAll("channel",{provider:e.provider}),provider:this.modelFor("admin-plugins-chat-integration").findBy("id",e.provider),groups:n.default.findAll()}).then((function(e){return e.channels.forEach((function(e){e.set("rules",e.rules.map((function(n){return(n=t.store.createRecord("rule",n)).set("channel",e),n})))})),e}))},serialize:function(e){return{provider:e.provider.get("id")}},actions:{closeModal:function(){return this.get("controller.modalShowing")&&(this.refresh(),this.set("controller.modalShowing",!1)),!0},refreshProvider:function(){this.refresh()}}});e.default=a})),define("discourse/plugins/discourse-chat-integration/admin/routes/admin-plugins-chat-integration",["exports","discourse/routes/discourse"],(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.default.extend({model:function(){return this.store.findAll("provider")},actions:{showSettings:function(){this.transitionTo("adminSiteSettingsCategory","plugins",{queryParams:{filter:"chat_integration"}})}}});e.default=n})),Ember.TEMPLATES["javascripts/admin/templates/modal/admin-plugins-chat-integration-channel-error"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"d-modal-body",null,[["id"],["chat_integration_error_modal"]],{"statements":[[0,"  "],[7,"h4",true],[8],[1,[28,"i18n",[[24,["model","error_key"]]],null],false],[9],[0,"\\n  "],[7,"pre",true],[8],[1,[24,["model","error_info"]],false],[9],[0,""]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/admin/templates/modal/admin-plugins-chat-integration-channel-error"}}),Ember.TEMPLATES["javascripts/admin/templates/modal/admin-plugins-chat-integration-edit-channel"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["param"],"statements":[[4,"d-modal-body",null,[["id","title"],["chat-integration-edit-channel-modal","chat_integration.edit_channel_modal.title"]],{"statements":[[0,"  "],[7,"div",true],[8],[0,"\\n    "],[7,"form",false],[3,"action",[[23,0,[]],"save"],[["on"],["submit"]]],[8],[0,"\\n      "],[7,"table",true],[8],[0,"\\n        "],[7,"tbody",true],[8],[0,"\\n          "],[7,"tr",true],[10,"class","input"],[8],[0,"\\n            "],[7,"td",true],[10,"class","label"],[8],[7,"label",true],[10,"for","provider"],[8],[1,[28,"i18n",["chat_integration.edit_channel_modal.provider"],null],false],[9],[9],[0,"\\n            "],[7,"td",true],[8],[0,"\\n              "],[1,[28,"i18n",[[28,"concat",["chat_integration.provider.",[24,["model","channel","provider"]],".title"],null]],null],false],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n\\n          "],[7,"tr",true],[10,"class","chat-instructions"],[8],[0,"\\n            "],[7,"td",true],[8],[9],[0,"\\n            "],[7,"td",true],[8],[9],[0,"\\n          "],[9],[0,"\\n\\n"],[4,"each",[[24,["model","provider","channel_parameters"]]],null,{"statements":[[0,"            "],[7,"tr",true],[10,"class","input"],[8],[0,"\\n              "],[7,"td",true],[10,"class","label"],[8],[7,"label",true],[11,"for",[29,["param-",[23,1,["key"]]]]],[8],[1,[28,"i18n",[[28,"concat",["chat_integration.provider.",[24,["model","channel","provider"]],".param.",[23,1,["key"]],".title"],null]],null],false],[9],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n                "],[1,[28,"text-field",null,[["name","value"],[[28,"concat",["param-",[23,1,["key"]]],null],[28,"mut",[[28,"get",[[24,["model","channel","data"]],[23,1,["key"]]],null]],null]]]],false],[0,"\\n\\n                 \\n"],[4,"if",[[28,"get",[[24,["model","channel","data"]],[23,1,["key"]]],null]],null,{"statements":[[0,"                  "],[1,[28,"input-tip",null,[["validation"],[[28,"get",[[24,["paramValidation"]],[23,1,["key"]]],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"              "],[9],[0,"\\n            "],[9],[0,"\\n\\n            "],[7,"tr",true],[10,"class","chat-instructions"],[8],[0,"\\n              "],[7,"td",true],[8],[9],[0,"\\n              "],[7,"td",true],[8],[7,"label",true],[8],[1,[28,"i18n",[[28,"concat",["chat_integration.provider.",[24,["model","channel","provider"]],".param.",[23,1,["key"]],".help"],null]],null],false],[9],[9],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[1]},null],[0,"        "],[9],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[7,"div",true],[10,"class","modal-footer"],[8],[0,"\\n  "],[1,[28,"d-button",null,[["id","class","action","title","label","disabled"],["save-channel","btn-primary btn-large",[28,"action",[[23,0,[]],"save"],null],"chat_integration.edit_channel_modal.save","chat_integration.edit_channel_modal.save",[24,["saveDisabled"]]]]],false],[0,"\\n\\n  "],[1,[28,"d-button",null,[["class","action","title","label"],["btn-large",[28,"action",[[23,0,[]],"cancel"],null],"chat_integration.edit_channel_modal.cancel","chat_integration.edit_channel_modal.cancel"]]],false],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/admin/templates/modal/admin-plugins-chat-integration-edit-channel"}}),Ember.TEMPLATES["javascripts/admin/templates/modal/admin-plugins-chat-integration-edit-rule"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"d-modal-body",null,[["id","title"],["chat-integration-edit-rule_modal","chat_integration.edit_rule_modal.title"]],{"statements":[[0,"  "],[7,"div",true],[8],[0,"\\n    "],[7,"form",false],[3,"action",[[23,0,[]],"save"],[["on"],["submit"]]],[8],[0,"\\n      "],[7,"table",true],[8],[0,"\\n        "],[7,"tbody",true],[8],[0,"\\n          "],[7,"tr",true],[10,"class","input"],[8],[0,"\\n            "],[7,"td",true],[10,"class","label"],[8],[7,"label",true],[10,"for","provider"],[8],[1,[28,"i18n",["chat_integration.edit_rule_modal.provider"],null],false],[9],[9],[0,"\\n            "],[7,"td",true],[8],[0,"\\n              "],[1,[28,"i18n",[[28,"concat",["chat_integration.provider.",[24,["model","channel","provider"]],".title"],null]],null],false],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n\\n          "],[7,"tr",true],[10,"class","chat-instructions"],[8],[0,"\\n            "],[7,"td",true],[8],[9],[0,"\\n            "],[7,"td",true],[8],[9],[0,"\\n          "],[9],[0,"\\n\\n          "],[7,"tr",true],[10,"class","input"],[8],[0,"\\n            "],[7,"td",true],[10,"class","label"],[8],[7,"label",true],[10,"for","channel"],[8],[1,[28,"i18n",["chat_integration.edit_rule_modal.channel"],null],false],[9],[9],[0,"\\n            "],[7,"td",true],[8],[0,"\\n              "],[1,[28,"channel-data",null,[["provider","channel"],[[24,["model","provider"]],[24,["model","channel"]]]]],false],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n\\n          "],[7,"tr",true],[10,"class","chat-instructions"],[8],[0,"\\n            "],[7,"td",true],[8],[9],[0,"\\n            "],[7,"td",true],[8],[9],[0,"\\n          "],[9],[0,"\\n\\n          "],[7,"tr",true],[10,"class","input"],[8],[0,"\\n            "],[7,"td",true],[10,"class","label"],[8],[7,"label",true],[10,"for","filter"],[8],[1,[28,"i18n",["chat_integration.edit_rule_modal.type"],null],false],[9],[9],[0,"\\n            "],[7,"td",true],[8],[0,"\\n              "],[1,[28,"combo-box",null,[["name","content","value"],["type",[24,["model","rule","available_types"]],[24,["model","rule","type"]]]]],false],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n\\n          "],[7,"tr",true],[10,"class","chat-instructions"],[8],[0,"\\n            "],[7,"td",true],[8],[9],[0,"\\n            "],[7,"td",true],[8],[7,"label",true],[8],[1,[28,"i18n",["chat_integration.edit_rule_modal.instructions.type"],null],false],[9],[9],[0,"\\n          "],[9],[0,"\\n\\n          "],[7,"tr",true],[10,"class","input"],[8],[0,"\\n            "],[7,"td",true],[10,"class","label"],[8],[7,"label",true],[10,"for","filter"],[8],[1,[28,"i18n",["chat_integration.edit_rule_modal.filter"],null],false],[9],[9],[0,"\\n            "],[7,"td",true],[8],[0,"\\n              "],[1,[28,"combo-box",null,[["name","content","value"],["filter",[24,["model","rule","available_filters"]],[24,["model","rule","filter"]]]]],false],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n\\n          "],[7,"tr",true],[10,"class","chat-instructions"],[8],[0,"\\n            "],[7,"td",true],[8],[9],[0,"\\n            "],[7,"td",true],[8],[7,"label",true],[8],[1,[28,"i18n",["chat_integration.edit_rule_modal.instructions.filter"],null],false],[9],[9],[0,"\\n          "],[9],[0,"\\n\\n"],[4,"if",[[24,["showCategory"]]],null,{"statements":[[0,"            "],[7,"tr",true],[10,"class","input"],[8],[0,"\\n              "],[7,"td",true],[10,"class","label"],[8],[7,"label",true],[10,"for","category"],[8],[1,[28,"i18n",["chat_integration.edit_rule_modal.category"],null],false],[9],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n                "],[1,[28,"category-chooser",null,[["name","value","rootNoneLabel","rootNone","overrideWidths"],["category",[24,["model","rule","category_id"]],"chat_integration.all_categories",true,false]]],false],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n\\n            "],[7,"tr",true],[10,"class","chat-instructions"],[8],[0,"\\n              "],[7,"td",true],[8],[9],[0,"\\n              "],[7,"td",true],[8],[7,"label",true],[8],[1,[28,"i18n",["chat_integration.edit_rule_modal.instructions.category"],null],false],[9],[9],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[7,"tr",true],[10,"class","input"],[8],[0,"\\n              "],[7,"td",true],[10,"class","label"],[8],[7,"label",true],[10,"for","group"],[8],[1,[28,"i18n",["chat_integration.edit_rule_modal.group"],null],false],[9],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n                "],[1,[28,"combo-box",null,[["content","valueAttribute","value","none"],[[24,["model","groups"]],"id",[24,["model","rule","group_id"]],"chat_integration.choose_group"]]],false],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n\\n            "],[7,"tr",true],[10,"class","chat-instructions"],[8],[0,"\\n              "],[7,"td",true],[8],[9],[0,"\\n              "],[7,"td",true],[8],[7,"label",true],[8],[1,[28,"i18n",["chat_integration.edit_rule_modal.instructions.group"],null],false],[9],[9],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[]}],[0,"\\n"],[4,"if",[[24,["siteSettings","tagging_enabled"]]],null,{"statements":[[0,"            "],[7,"tr",true],[10,"class","input"],[8],[0,"\\n              "],[7,"td",true],[10,"class","label"],[8],[7,"label",true],[10,"for","tags"],[8],[1,[28,"i18n",["chat_integration.edit_rule_modal.tags"],null],false],[9],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n                "],[1,[28,"tag-chooser",null,[["placeholderKey","name","tags","everyTag"],["chat_integration.all_tags","tags",[24,["model","rule","tags"]],true]]],false],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n\\n            "],[7,"tr",true],[10,"class","chat-instructions"],[8],[0,"\\n              "],[7,"td",true],[8],[9],[0,"\\n              "],[7,"td",true],[8],[7,"label",true],[8],[1,[28,"i18n",["chat_integration.edit_rule_modal.instructions.tags"],null],false],[9],[9],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[]},null],[0,"        "],[9],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[7,"div",true],[10,"class","modal-footer"],[8],[0,"\\n  "],[1,[28,"d-button",null,[["id","class","action","actionParam","title","label","disabled"],["save-rule","btn-primary btn-large",[28,"action",[[23,0,[]],"save"],null],[24,["model","rule"]],"chat_integration.edit_rule_modal.save","chat_integration.edit_rule_modal.save",[24,["saveDisabled"]]]]],false],[0,"\\n\\n  "],[1,[28,"d-button",null,[["class","action","title","label"],["btn-large",[28,"route-action",["closeModal"],null],"chat_integration.edit_rule_modal.cancel","chat_integration.edit_rule_modal.cancel"]]],false],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/admin/templates/modal/admin-plugins-chat-integration-edit-rule"}}),Ember.TEMPLATES["javascripts/admin/templates/modal/admin-plugins-chat-integration-test"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"d-modal-body",null,[["id","title"],["chat_integration_test_modal","chat_integration.test_modal.title"]],{"statements":[[0,"  "],[7,"div",true],[8],[0,"\\n    "],[7,"form",false],[3,"action",[[23,0,[]],"send"],[["on"],["submit"]]],[8],[0,"\\n      "],[7,"table",true],[8],[0,"\\n        "],[7,"tbody",true],[8],[0,"\\n          "],[7,"tr",true],[10,"class","input"],[8],[0,"\\n            "],[7,"td",true],[10,"class","label"],[8],[7,"label",true],[10,"for","channel"],[8],[1,[28,"i18n",["chat_integration.test_modal.topic"],null],false],[9],[9],[0,"\\n            "],[7,"td",true],[8],[0,"\\n              "],[1,[28,"choose-topic",null,[["selectedTopicId"],[[24,["model","topic_id"]]]]],false],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[7,"div",true],[10,"class","modal-footer"],[8],[0,"\\n"],[4,"conditional-loading-spinner",null,[["condition"],[[24,["loading"]]]],{"statements":[[0,"    "],[1,[28,"d-button",null,[["id","class","action","title","label","disabled"],["send-test","btn-primary btn-large",[28,"action",[[23,0,[]],"send"],null],"chat_integration.test_modal.send","chat_integration.test_modal.send",[24,["sendDisabled"]]]]],false],[0,"\\n\\n    "],[1,[28,"d-button",null,[["class","action","title","label"],["btn-large",[28,"route-action",["closeModal"],null],"chat_integration.test_modal.close","chat_integration.test_modal.close"]]],false],[0,"\\n"]],"parameters":[]},null],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/admin/templates/modal/admin-plugins-chat-integration-test"}}),define("discourse/plugins/discourse-chat-integration/discourse/public-route-map",["exports"],(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){this.route("transcript",{path:"/chat-transcript/:secret"})}})),define("discourse/plugins/discourse-chat-integration/discourse/routes/transcript",["exports","discourse/lib/ajax","discourse/lib/ajax-error","discourse/routes/discourse"],(function(e,t,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a.default.extend({model:function(e){var a=this;if(this.currentUser){var i=e.secret;this.replaceWith("discovery.latest").then((function(e){a.controllerFor("navigation/default").get("canCreateTopic")&&Ember.run.next((function(){(0,t.ajax)("chat-transcript/".concat(i)).then((function(t){e.send("createNewTopicViaParams",null,t.content,null,null,null)}),n.popupAjaxError)}))}))}else this.session.set("shouldRedirectToUrl",window.location.href),this.replaceWith("login")}});e.default=i})),Ember.TEMPLATES["javascripts/admin/plugins-chat-integration-provider"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["channel"],"statements":[[4,"if",[[24,["anyErrors"]]],null,{"statements":[[0,"  "],[7,"div",true],[10,"class","error"],[8],[0,"\\n    "],[1,[28,"d-icon",["exclamation-triangle"],null],false],[0,"\\n    "],[7,"span",true],[10,"class","error-message"],[8],[1,[28,"i18n",["chat_integration.channels_with_errors"],null],false],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"each",[[24,["model","channels"]]],null,{"statements":[[0,"  "],[1,[28,"channel-details",null,[["channel","provider","refresh","editChannel","test","createRule","editRuleWithChannel","showError"],[[23,1,[]],[24,["model","provider"]],[28,"route-action",["refreshProvider"],null],[28,"action",[[23,0,[]],"editChannel"],null],[28,"action",[[23,0,[]],"testChannel"],null],[28,"action",[[23,0,[]],"createRule"],null],[28,"action",[[23,0,[]],"editRuleWithChannel"],null],[28,"action",[[23,0,[]],"showError"],null]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"\\n"],[7,"div",true],[10,"class","table-footer"],[8],[0,"\\n  "],[7,"div",true],[10,"class","pull-right"],[8],[0,"\\n    "],[1,[28,"d-button",null,[["id","action","actionParam","icon","title","label"],["create-channel",[28,"action",[[23,0,[]],"createChannel"],null],[24,["model","provider"]],"plus","chat_integration.create_channel","chat_integration.create_channel"]]],false],[0,"\\n  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/admin/plugins-chat-integration-provider"}}),Ember.TEMPLATES["javascripts/admin/plugins-chat-integration"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["provider"],"statements":[[7,"div",true],[10,"id","admin-plugin-chat"],[8],[0,"\\n  "],[7,"div",true],[10,"class","admin-controls"],[8],[0,"\\n    "],[7,"div",true],[10,"class","span15"],[8],[0,"\\n      "],[7,"ul",true],[10,"class","nav nav-pills"],[8],[0,"\\n"],[4,"each",[[24,["model"]]],null,{"statements":[[0,"          "],[1,[28,"nav-item",null,[["route","routeParam","label"],["adminPlugins.chat-integration.provider",[23,1,["name"]],[28,"concat",["chat_integration.provider.",[23,1,["name"]],".title"],null]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[9],[0,"\\n    "],[9],[0,"\\n\\n    "],[7,"div",true],[10,"class","pull-right"],[8],[0,"\\n      "],[1,[28,"d-button",null,[["action","icon","title","label"],[[28,"route-action",["showSettings"],null],"cog","chat_integration.settings","chat_integration.settings"]]],false],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n\\n"],[4,"unless",[[24,["model","totalRows"]]],null,{"statements":[[0,"    "],[1,[28,"i18n",["chat_integration.no_providers"],null],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n  "],[1,[22,"outlet"],false],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/admin/plugins-chat-integration"}}),Ember.TEMPLATES["javascripts/components/channel-data"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["param"],"statements":[[4,"each",[[24,["provider","channel_parameters"]]],null,{"statements":[[4,"unless",[[23,1,["hidden"]]],null,{"statements":[[0,"    "],[7,"span",true],[10,"class","field-name"],[8],[0,"\\n      "],[1,[28,"i18n",[[28,"concat",["chat_integration.provider.",[24,["channel","provider"]],".param.",[23,1,["key"]],".title"],null]],null],false],[0,":\\n    "],[9],[0,"\\n    "],[7,"span",true],[10,"class","field-value"],[8],[1,[28,"get",[[24,["channel","data"]],[23,1,["key"]]],null],false],[9],[0,"\\n    "],[7,"br",true],[8],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/channel-data"}}),Ember.TEMPLATES["javascripts/components/channel-details"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["rule"],"statements":[[7,"div",true],[10,"class","channel-header"],[8],[0,"\\n  "],[7,"div",true],[10,"class","pull-right"],[8],[0,"\\n    "],[1,[28,"d-button",null,[["action","actionParam","icon","title","label"],[[24,["editChannel"]],[24,["channel"]],"pencil-alt","chat_integration.edit_channel","chat_integration.edit_channel"]]],false],[0,"\\n\\n    "],[1,[28,"d-button",null,[["action","actionParam","icon","title","label","class"],[[24,["test"]],[24,["channel"]],"rocket","chat_integration.test_channel","chat_integration.test_channel","btn-chat-test"]]],false],[0,"\\n\\n    "],[1,[28,"d-button",null,[["class","action","actionParam","icon","title","label"],["cancel delete-channel",[28,"action",[[23,0,[]],"deleteChannel"],null],[24,["channel"]],"trash-alt","chat_integration.delete_channel","chat_integration.delete_channel"]]],false],[0,"\\n  "],[9],[0,"\\n\\n  "],[7,"span",true],[10,"class","channel-title"],[8],[0,"\\n"],[4,"if",[[24,["channel","error_key"]]],null,{"statements":[[0,"      "],[1,[28,"d-button",null,[["action","actionParam","class","icon"],[[24,["showError"]],[24,["channel"]],"delete btn-danger","exclamation-triangle"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n    "],[1,[28,"channel-data",null,[["provider","channel"],[[24,["provider"]],[24,["channel"]]]]],false],[0,"\\n  "],[9],[0,"\\n"],[9],[0,"\\n\\n"],[7,"div",true],[10,"class","channel-body"],[8],[0,"\\n  "],[7,"table",true],[8],[0,"\\n    "],[7,"thead",true],[8],[0,"\\n      "],[7,"tr",true],[8],[0,"\\n        "],[7,"th",true],[8],[1,[28,"i18n",["chat_integration.rule_table.filter"],null],false],[9],[0,"\\n        "],[7,"th",true],[8],[1,[28,"i18n",["chat_integration.rule_table.category"],null],false],[9],[0,"\\n\\n"],[4,"if",[[24,["siteSettings","tagging_enabled"]]],null,{"statements":[[0,"          "],[7,"th",true],[8],[1,[28,"i18n",["chat_integration.rule_table.tags"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n        "],[7,"th",true],[8],[9],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n\\n    "],[7,"tbody",true],[8],[0,"\\n"],[4,"each",[[24,["channel","rules"]]],null,{"statements":[[0,"        "],[1,[28,"rule-row",null,[["rule","edit","refresh"],[[23,1,[]],[28,"action",[[23,0,[]],"editRule"],null],[24,["refresh"]]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"    "],[9],[0,"\\n  "],[9],[0,"\\n"],[9],[0,"\\n\\n"],[7,"div",true],[10,"class","channel-footer"],[8],[0,"\\n  "],[7,"div",true],[10,"class","pull-right"],[8],[0,"\\n    "],[1,[28,"d-button",null,[["action","actionParam","icon","title","label"],[[24,["createRule"]],[24,["channel"]],"plus","chat_integration.create_rule","chat_integration.create_rule"]]],false],[0,"\\n  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/channel-details"}}),Ember.TEMPLATES["javascripts/components/rule-row"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"td",true],[8],[0,"\\n  "],[1,[24,["rule","filterName"]],false],[0,"\\n"],[9],[0,"\\n\\n"],[7,"td",true],[8],[0,"\\n"],[4,"if",[[24,["isCategory"]]],null,{"statements":[[4,"if",[[24,["rule","category"]]],null,{"statements":[[0,"      "],[1,[28,"category-link",[[24,["rule","category"]]],[["allowUncategorized","link"],["true","false"]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[28,"i18n",["chat_integration.all_categories"],null],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[24,["isMention"]]],null,{"statements":[[0,"    "],[1,[28,"i18n",["chat_integration.group_mention_template"],[["name"],[[24,["rule","group_name"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[24,["isMessage"]]],null,{"statements":[[0,"    "],[1,[28,"i18n",["chat_integration.group_message_template"],[["name"],[[24,["rule","group_name"]]]]],false],[0,"\\n  "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}],[9],[0,"\\n\\n"],[4,"if",[[24,["siteSettings","tagging_enabled"]]],null,{"statements":[[0,"  "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[24,["rule","tags"]]],null,{"statements":[[0,"      "],[1,[24,["rule","tags"]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[28,"i18n",["chat_integration.all_tags"],null],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[7,"td",true],[8],[0,"\\n  "],[1,[28,"d-button",null,[["action","actionParam","icon","class","title"],[[24,["edit"]],[24,["rule"]],"pencil-alt","edit","chat_integration.rule_table.edit_rule"]]],false],[0,"\\n\\n  "],[1,[28,"d-button",null,[["action","actionParam","icon","class","title"],[[28,"action",[[23,0,[]],"delete"],null],[24,["rule"]],"far-trash-alt","delete","chat_integration.rule_table.delete_rule"]]],false],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/rule-row"}});
//# sourceMappingURL=https://dub2.discourse-cdn.com/arduino/assets/plugins/discourse-chat-integration-1e370e72673cc748b58474d7e8a230b6ce85c9c79f8cadebd5d4f5b488796f09.js.map